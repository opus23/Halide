; ModuleID = 'simple_ex'
source_filename = "/workdir/Halide/src/runtime/posix_allocator.cpp"
target datalayout = "e-m:e-p270:32:32-p271:32:32-p272:64:64-i64:64-f80:128-n8:16:32:64-S128"
target triple = "x86_64--linux-gnu"

%struct.timespec = type { i64, i64 }
%"struct.Halide::Runtime::Internal::Synchronization::hash_table" = type { [1024 x %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"] }
%"struct.Halide::Runtime::Internal::Synchronization::hash_bucket" = type { %"class.Halide::Runtime::Internal::Synchronization::word_lock", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* }
%"class.Halide::Runtime::Internal::Synchronization::word_lock" = type { i64 }
%"struct.Halide::Runtime::Internal::Synchronization::queue_data" = type { %"struct.Halide::Runtime::Internal::Synchronization::thread_parker", i64, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, i64 }
%"struct.Halide::Runtime::Internal::Synchronization::thread_parker" = type <{ %struct.pthread_mutex_t, %struct.pthread_mutex_t, i8, [7 x i8] }>
%struct.pthread_mutex_t = type { [8 x i64] }
%"struct.Halide::Runtime::Internal::work_queue_t" = type { %struct.halide_mutex, i32, i32, %"struct.Halide::Runtime::Internal::work"*, i32, i32, i32, [4 x i8], %struct.halide_mutex, %struct.halide_mutex, %struct.halide_mutex, i32, i32, [256 x %struct.halide_thread*], i8, i8, i32 }
%"struct.Halide::Runtime::Internal::work" = type { %struct.halide_parallel_task_t, i32 (i8*, i32, i8*)*, %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"*, i32, %"struct.Halide::Runtime::Internal::work"*, i32, i8*, i32, i32, i32, i8 }
%struct.halide_parallel_task_t = type { i32 (i8*, i32, i32, i8*, i8*)*, i8*, i8*, %struct.halide_semaphore_acquire_t*, i32, i32, i32, i32, i8, [7 x i8] }
%struct.halide_semaphore_acquire_t = type { %struct.halide_semaphore_t*, i32, [4 x i8] }
%struct.halide_semaphore_t = type { [2 x i64] }
%struct.halide_mutex = type { [1 x i64] }
%struct.halide_thread = type opaque
%"class.Halide::Runtime::Internal::TraceBuffer" = type { %"class.Halide::Runtime::Internal::SharedExclusiveSpinLock", i32, i32, [1048576 x i8] }
%"class.Halide::Runtime::Internal::SharedExclusiveSpinLock" = type { i32 }
%struct.halide_trace_event_t = type <{ i8*, i8*, i32*, i8*, %struct.halide_type_t, i32, i32, i32, i32, [4 x i8] }>
%struct.halide_type_t = type { i8, i8, i16 }
%"struct.Halide::Runtime::Internal::CacheEntry" = type { %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"*, i8*, i64, i8*, i32, i32, i32, i32, %struct.halide_dimension_t*, %struct.halide_buffer_t*, i64, i8, [7 x i8] }
%struct.halide_dimension_t = type { i32, i32, i32, i32 }
%struct.halide_buffer_t = type { i64, %struct.halide_device_interface_t*, i8*, i64, %struct.halide_type_t, i32, %struct.halide_dimension_t*, i8* }
%struct.halide_device_interface_t = type { i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*)*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)*, void (i8*, %struct.halide_device_interface_t*)*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*)*, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*)*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, i32, i32, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, i64, %struct.halide_device_interface_t*)*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, i32*, i32*)*, %struct.halide_device_interface_impl_t* }
%struct.halide_device_interface_impl_t = type { void ()*, void ()*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*)*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, i32, i32, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, i64)*, i32 (i8*, %struct.halide_buffer_t*)* }
%struct.halide_device_allocation_pool = type { i32 (i8*)*, %struct.halide_device_allocation_pool* }
%struct.halide_profiler_state = type { %struct.halide_mutex, i32, i32, i32, i32, %struct.halide_profiler_pipeline_stats*, void (i32*, i32*)*, %struct.halide_thread* }
%struct.halide_profiler_pipeline_stats = type { i64, i64, i64, i64, i64, i64, i8*, %struct.halide_profiler_func_stats*, i8*, i32, i32, i32, i32, i32, [4 x i8] }
%struct.halide_profiler_func_stats = type { i64, i64, i64, i64, i64, i64, i64, i8*, i32, [4 x i8] }
%struct._cl_platform_id = type opaque
%struct._cl_device_id = type opaque
%struct._cl_context = type opaque
%struct._cl_command_queue = type opaque
%struct._cl_mem = type opaque
%struct._cl_image_format = type { i32, i32 }
%struct._cl_image_desc = type { i32, [4 x i8], i64, i64, i64, i64, i64, i64, i32, i32, %struct._cl_mem* }
%struct._cl_program = type opaque
%struct._cl_kernel = type opaque
%struct._cl_event = type opaque
%"class.Halide::Internal::GPUCompilationCache" = type { %struct.halide_mutex, i32, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"*, i32, i32 }
%"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation" = type { %struct._cl_context*, %struct._cl_program*, i32, i32 }
%struct.halide_filter_argument_t = type { i8*, i32, i32, %struct.halide_type_t, %struct.halide_scalar_value_t*, %struct.halide_scalar_value_t*, %struct.halide_scalar_value_t*, %struct.halide_scalar_value_t*, i64** }
%struct.halide_scalar_value_t = type { %union.anon.28 }
%union.anon.28 = type { double }
%struct.halide_filter_metadata_t = type { i32, i32, %struct.halide_filter_argument_t*, i8*, i8* }
%"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control" = type { %"struct.Halide::Runtime::Internal::Synchronization::parking_control", i64* }
%"struct.Halide::Runtime::Internal::Synchronization::parking_control" = type { i32 (...)** }
%"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data" = type { %"struct.Halide::Runtime::Internal::Synchronization::thread_parker", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* }
%"struct.Halide::Runtime::Internal::Synchronization::validate_action" = type { i8, [7 x i8], i64 }
%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control" = type { %"struct.Halide::Runtime::Internal::Synchronization::parking_control", i64*, %"class.Halide::Runtime::Internal::Synchronization::word_lock"* }
%"struct.Halide::Runtime::Internal::Synchronization::bucket_pair" = type { %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"*, %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* }
%"struct.Halide::Runtime::Internal::spawned_thread" = type { void (i8*)*, i8*, i64 }
%struct.halide_mutex_array = type { %struct.halide_mutex* }
%"struct.Halide::Runtime::Internal::halide_tiff_header" = type <{ i16, i16, i32, i16, [15 x %"struct.Halide::Runtime::Internal::tiff_tag"], i32, [2 x i32], [2 x i32] }>
%"struct.Halide::Runtime::Internal::tiff_tag" = type { i16, i16, i32, %"class.Halide::Runtime::Internal::SharedExclusiveSpinLock" }
%"struct.Halide::Runtime::Internal::CacheBlockHeader" = type { %"struct.Halide::Runtime::Internal::CacheEntry"*, i32, [4 x i8] }
%"struct.Halide::Runtime::Internal::device_copy" = type { i64, i64, i64, [16 x i64], [16 x i64], [16 x i64], i64 }
%"struct.Halide::Runtime::Internal::CpuFeatures" = type { [2 x i64], [2 x i64] }
%"class.Halide::Runtime::Internal::OpenCL::ClContext" = type <{ i8*, %struct._cl_context*, %struct._cl_command_queue*, i32, [4 x i8] }>
%"struct.Halide::Runtime::Internal::OpenCL::device_handle" = type { i64, %struct._cl_mem* }
%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer" = type <{ i8*, i8*, i8*, i8*, i8, [7 x i8] }>

$_ZN6Halide7Runtime8Internal15Synchronization21mutex_parking_control8validateERNS2_15validate_actionE = comdat any

$_ZN6Halide7Runtime8Internal15Synchronization15parking_control12before_sleepEv = comdat any

$_ZN6Halide7Runtime8Internal15Synchronization21mutex_parking_control6unparkEib = comdat any

$_ZN6Halide7Runtime8Internal15Synchronization15parking_control16requeue_callbackERKNS2_15validate_actionEbb = comdat any

$_ZN6Halide7Runtime8Internal15Synchronization20wait_parking_control8validateERNS2_15validate_actionE = comdat any

$_ZN6Halide7Runtime8Internal15Synchronization20wait_parking_control12before_sleepEv = comdat any

$_ZN6Halide7Runtime8Internal15Synchronization20wait_parking_control6unparkEib = comdat any

$_ZN6Halide7Runtime8Internal15Synchronization25broadcast_parking_control8validateERNS2_15validate_actionE = comdat any

$_ZN6Halide7Runtime8Internal15Synchronization15parking_control6unparkEib = comdat any

$_ZN6Halide7Runtime8Internal15Synchronization25broadcast_parking_control16requeue_callbackERKNS2_15validate_actionEbb = comdat any

$_ZN6Halide7Runtime8Internal15Synchronization15parking_control8validateERNS2_15validate_actionE = comdat any

$_ZN6Halide7Runtime8Internal15Synchronization22signal_parking_control6unparkEib = comdat any

$_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE11release_allIPFiS5_EEEvPvRT_ = comdat any

$_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE18kernel_state_setupIPFS5_PvS3_PKciEJS8_S3_SA_iEEEbS8_PS8_S3_RS5_T_DpT0_ = comdat any

$_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE6insertERKNS6_17CachedCompilationE = comdat any

$_ZTVN6Halide7Runtime8Internal15Synchronization21mutex_parking_controlE = comdat any

$_ZTVN6Halide7Runtime8Internal15Synchronization25broadcast_parking_controlE = comdat any

$_ZTVN6Halide7Runtime8Internal15Synchronization22signal_parking_controlE = comdat any

$_ZTVN6Halide7Runtime8Internal15Synchronization20wait_parking_controlE = comdat any

$_ZGVN6Halide7Runtime8Internal6OpenCL17compilation_cacheE = comdat any

@_ZN6Halide7Runtime8Internal13custom_mallocE = linkonce local_unnamed_addr global i8* (i8*, i64)* @halide_default_malloc, align 8
@_ZN6Halide7Runtime8Internal11custom_freeE = linkonce local_unnamed_addr global void (i8*, i8*)* @halide_default_free, align 8
@.str = private unnamed_addr constant [8 x i8] c"Error: \00", align 1
@_ZN6Halide7Runtime8Internal13error_handlerE = linkonce local_unnamed_addr global void (i8*, i8*)* @halide_default_error, align 8
@_ZN6Halide7Runtime8Internal12custom_printE = linkonce local_unnamed_addr global void (i8*, i8*)* @halide_default_print, align 8
@halide_reference_clock_inited = linkonce local_unnamed_addr global i8 0, align 1
@halide_reference_clock = linkonce global %struct.timespec zeroinitializer, align 8
@llvm.global_dtors = appending global [5 x { i32, void ()*, i8* }] [{ i32, void ()*, i8* } { i32 65535, void ()* @halide_thread_pool_cleanup, i8* null }, { i32, void ()*, i8* } { i32 65535, void ()* @halide_trace_cleanup, i8* null }, { i32, void ()*, i8* } { i32 65535, void ()* @halide_cache_cleanup, i8* null }, { i32, void ()*, i8* } { i32 65535, void ()* @halide_profiler_shutdown, i8* null }, { i32, void ()*, i8* } { i32 65535, void ()* @halide_opencl_cleanup, i8* null }]
@.str.5 = private unnamed_addr constant [106 x i8] c"/workdir/Halide/src/runtime/synchronization_common.h:386 halide_abort_if_false() failed: next != nullptr\0A\00", align 1
@_ZN6Halide7Runtime8Internal15Synchronization5tableE = linkonce global %"struct.Halide::Runtime::Internal::Synchronization::hash_table" zeroinitializer, align 8
@.str.1 = private unnamed_addr constant [15 x i8] c"HL_NUM_THREADS\00", align 1
@.str.2 = private unnamed_addr constant [14 x i8] c"HL_NUMTHREADS\00", align 1
@_ZN6Halide7Runtime8Internal10work_queueE = linkonce global %"struct.Halide::Runtime::Internal::work_queue_t" { %struct.halide_mutex zeroinitializer, i32 0, i32 0, %"struct.Halide::Runtime::Internal::work"* null, i32 0, i32 0, i32 0, [4 x i8] undef, %struct.halide_mutex zeroinitializer, %struct.halide_mutex zeroinitializer, %struct.halide_mutex zeroinitializer, i32 0, i32 0, [256 x %struct.halide_thread*] zeroinitializer, i8 0, i8 0, i32 0 }, align 8
@.str.3 = private unnamed_addr constant [239 x i8] c"/workdir/Halide/src/runtime/thread_pool_common.h:527 halide_abort_if_false() failed: (min_threads <= ((task_parent->task.min_threads * task_parent->active_workers) - task_parent->threads_reserved)) && \22Logic error: thread over commit.\\n\22\0A\00", align 1
@_ZN6Halide7Runtime8Internal14custom_do_taskE = linkonce local_unnamed_addr global i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)* @halide_default_do_task, align 8
@_ZN6Halide7Runtime8Internal19custom_do_loop_taskE = linkonce local_unnamed_addr global i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)* @halide_default_do_loop_task, align 8
@_ZN6Halide7Runtime8Internal17custom_do_par_forE = linkonce local_unnamed_addr global i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)* @halide_default_do_par_for, align 8
@_ZN6Halide7Runtime8Internal24custom_do_parallel_tasksE = linkonce local_unnamed_addr global i32 (i8*, i32, %struct.halide_parallel_task_t*, i8*)* @halide_default_do_parallel_tasks, align 8
@_ZN6Halide7Runtime8Internal21custom_semaphore_initE = linkonce local_unnamed_addr global i32 (%struct.halide_semaphore_t*, i32)* @halide_default_semaphore_init, align 8
@_ZN6Halide7Runtime8Internal28custom_semaphore_try_acquireE = linkonce local_unnamed_addr global i1 (%struct.halide_semaphore_t*, i32)* @halide_default_semaphore_try_acquire, align 8
@_ZN6Halide7Runtime8Internal24custom_semaphore_releaseE = linkonce local_unnamed_addr global i32 (%struct.halide_semaphore_t*, i32)* @halide_default_semaphore_release, align 8
@.str.4 = private unnamed_addr constant [38 x i8] c"halide_set_num_threads: must be >= 0.\00", align 1
@_ZTVN6Halide7Runtime8Internal15Synchronization21mutex_parking_controlE = linkonce_odr unnamed_addr constant { [6 x i8*] } { [6 x i8*] [i8* null, i8* null, i8* bitcast (i1 (%"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)* @_ZN6Halide7Runtime8Internal15Synchronization21mutex_parking_control8validateERNS2_15validate_actionE to i8*), i8* bitcast (void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*)* @_ZN6Halide7Runtime8Internal15Synchronization15parking_control12before_sleepEv to i8*), i8* bitcast (i64 (%"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"*, i32, i1)* @_ZN6Halide7Runtime8Internal15Synchronization21mutex_parking_control6unparkEib to i8*), i8* bitcast (void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*, i1, i1)* @_ZN6Halide7Runtime8Internal15Synchronization15parking_control16requeue_callbackERKNS2_15validate_actionEbb to i8*)] }, comdat, align 8
@_ZTVN6Halide7Runtime8Internal15Synchronization25broadcast_parking_controlE = linkonce_odr unnamed_addr constant { [6 x i8*] } { [6 x i8*] [i8* null, i8* null, i8* bitcast (i1 (%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)* @_ZN6Halide7Runtime8Internal15Synchronization25broadcast_parking_control8validateERNS2_15validate_actionE to i8*), i8* bitcast (void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*)* @_ZN6Halide7Runtime8Internal15Synchronization15parking_control12before_sleepEv to i8*), i8* bitcast (i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)* @_ZN6Halide7Runtime8Internal15Synchronization15parking_control6unparkEib to i8*), i8* bitcast (void (%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*, i1, i1)* @_ZN6Halide7Runtime8Internal15Synchronization25broadcast_parking_control16requeue_callbackERKNS2_15validate_actionEbb to i8*)] }, comdat, align 8
@_ZTVN6Halide7Runtime8Internal15Synchronization22signal_parking_controlE = linkonce_odr unnamed_addr constant { [6 x i8*] } { [6 x i8*] [i8* null, i8* null, i8* bitcast (i1 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)* @_ZN6Halide7Runtime8Internal15Synchronization15parking_control8validateERNS2_15validate_actionE to i8*), i8* bitcast (void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*)* @_ZN6Halide7Runtime8Internal15Synchronization15parking_control12before_sleepEv to i8*), i8* bitcast (i64 (%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"*, i32, i1)* @_ZN6Halide7Runtime8Internal15Synchronization22signal_parking_control6unparkEib to i8*), i8* bitcast (void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*, i1, i1)* @_ZN6Halide7Runtime8Internal15Synchronization15parking_control16requeue_callbackERKNS2_15validate_actionEbb to i8*)] }, comdat, align 8
@.str.5.6 = private unnamed_addr constant [100 x i8] c"/workdir/Halide/src/runtime/synchronization_common.h:994 halide_abort_if_false() failed: val & 0x1\0A\00", align 1
@_ZTVN6Halide7Runtime8Internal15Synchronization20wait_parking_controlE = linkonce_odr unnamed_addr constant { [6 x i8*] } { [6 x i8*] [i8* null, i8* null, i8* bitcast (i1 (%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)* @_ZN6Halide7Runtime8Internal15Synchronization20wait_parking_control8validateERNS2_15validate_actionE to i8*), i8* bitcast (void (%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"*)* @_ZN6Halide7Runtime8Internal15Synchronization20wait_parking_control12before_sleepEv to i8*), i8* bitcast (i64 (%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"*, i32, i1)* @_ZN6Halide7Runtime8Internal15Synchronization20wait_parking_control6unparkEib to i8*), i8* bitcast (void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*, i1, i1)* @_ZN6Halide7Runtime8Internal15Synchronization15parking_control16requeue_callbackERKNS2_15validate_actionEbb to i8*)] }, comdat, align 8
@.str.6 = private unnamed_addr constant [162 x i8] c"/workdir/Halide/src/runtime/thread_pool_common.h:155 halide_abort_if_false() failed: bytes == limit && \22Logic error in thread pool work queue initialization.\\n\22\0A\00", align 1
@_ZN6Halide7Runtime8Internal17custom_get_symbolE = linkonce local_unnamed_addr global i8* (i8*)* @halide_default_get_symbol, align 8
@_ZN6Halide7Runtime8Internal19custom_load_libraryE = linkonce local_unnamed_addr global i8* (i8*)* @halide_default_load_library, align 8
@_ZN6Halide7Runtime8Internal25custom_get_library_symbolE = linkonce local_unnamed_addr global i8* (i8*, i8*)* @halide_default_get_library_symbol, align 8
@_ZN6Halide7Runtime8Internal17halide_gpu_deviceE = linkonce local_unnamed_addr global i32 0, align 4
@_ZN6Halide7Runtime8Internal22halide_gpu_device_lockE = linkonce global i8 0, align 1
@_ZN6Halide7Runtime8Internal29halide_gpu_device_initializedE = linkonce local_unnamed_addr global i8 0, align 1
@.str.8 = private unnamed_addr constant [14 x i8] c"HL_GPU_DEVICE\00", align 1
@_ZN6Halide7Runtime8Internal19halide_trace_bufferE = linkonce local_unnamed_addr global %"class.Halide::Runtime::Internal::TraceBuffer"* null, align 8
@_ZN6Halide7Runtime8Internal17halide_trace_fileE = linkonce local_unnamed_addr global i32 -1, align 4
@_ZN6Halide7Runtime8Internal22halide_trace_file_lockE = linkonce global i8 0, align 1
@_ZN6Halide7Runtime8Internal29halide_trace_file_initializedE = linkonce local_unnamed_addr global i8 0, align 1
@_ZN6Halide7Runtime8Internal35halide_trace_file_internally_openedE = linkonce local_unnamed_addr global i8* null, align 8
@_ZZ20halide_default_traceE3ids = internal global i32 1, align 4
@.str.1.10 = private unnamed_addr constant [1 x i8] zeroinitializer, align 1
@.str.2.11 = private unnamed_addr constant [116 x i8] c"/workdir/Halide/src/runtime/tracing.cpp:218 halide_abort_if_false() failed: print_bits <= 64 && \22Tracing bad type\22\0A\00", align 1
@.str.3.12 = private unnamed_addr constant [5 x i8] c"Load\00", align 1
@.str.4.13 = private unnamed_addr constant [6 x i8] c"Store\00", align 1
@.str.5.14 = private unnamed_addr constant [18 x i8] c"Begin realization\00", align 1
@.str.6.15 = private unnamed_addr constant [16 x i8] c"End realization\00", align 1
@.str.7 = private unnamed_addr constant [8 x i8] c"Produce\00", align 1
@.str.8.16 = private unnamed_addr constant [12 x i8] c"End produce\00", align 1
@.str.9.17 = private unnamed_addr constant [8 x i8] c"Consume\00", align 1
@.str.10 = private unnamed_addr constant [12 x i8] c"End consume\00", align 1
@.str.11 = private unnamed_addr constant [15 x i8] c"Begin pipeline\00", align 1
@.str.12 = private unnamed_addr constant [13 x i8] c"End pipeline\00", align 1
@.str.13 = private unnamed_addr constant [4 x i8] c"Tag\00", align 1
@reltable.halide_default_trace = private unnamed_addr constant [11 x i32] [i32 trunc (i64 sub (i64 ptrtoint ([5 x i8]* @.str.3.12 to i64), i64 ptrtoint ([11 x i32]* @reltable.halide_default_trace to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([6 x i8]* @.str.4.13 to i64), i64 ptrtoint ([11 x i32]* @reltable.halide_default_trace to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([18 x i8]* @.str.5.14 to i64), i64 ptrtoint ([11 x i32]* @reltable.halide_default_trace to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([16 x i8]* @.str.6.15 to i64), i64 ptrtoint ([11 x i32]* @reltable.halide_default_trace to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([8 x i8]* @.str.7 to i64), i64 ptrtoint ([11 x i32]* @reltable.halide_default_trace to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([12 x i8]* @.str.8.16 to i64), i64 ptrtoint ([11 x i32]* @reltable.halide_default_trace to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([8 x i8]* @.str.9.17 to i64), i64 ptrtoint ([11 x i32]* @reltable.halide_default_trace to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([12 x i8]* @.str.10 to i64), i64 ptrtoint ([11 x i32]* @reltable.halide_default_trace to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([15 x i8]* @.str.11 to i64), i64 ptrtoint ([11 x i32]* @reltable.halide_default_trace to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([13 x i8]* @.str.12 to i64), i64 ptrtoint ([11 x i32]* @reltable.halide_default_trace to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([4 x i8]* @.str.13 to i64), i64 ptrtoint ([11 x i32]* @reltable.halide_default_trace to i64)) to i32)], align 4
@.str.17 = private unnamed_addr constant [2 x i8] c"<\00", align 1
@.str.18 = private unnamed_addr constant [5 x i8] c">, <\00", align 1
@.str.20 = private unnamed_addr constant [3 x i8] c">)\00", align 1
@.str.22 = private unnamed_addr constant [5 x i8] c" = <\00", align 1
@.str.23 = private unnamed_addr constant [4 x i8] c" = \00", align 1
@.str.24 = private unnamed_addr constant [118 x i8] c"/workdir/Halide/src/runtime/tracing.cpp:287 halide_abort_if_false() failed: print_bits >= 16 && \22Tracing a bad type\22\0A\00", align 1
@.str.25 = private unnamed_addr constant [2 x i8] c">\00", align 1
@.str.26 = private unnamed_addr constant [9 x i8] c" tag = \22\00", align 1
@.str.27 = private unnamed_addr constant [2 x i8] c"\22\00", align 1
@_ZN6Halide7Runtime8Internal19halide_custom_traceE = linkonce local_unnamed_addr global i32 (i8*, %struct.halide_trace_event_t*)* @halide_default_trace, align 8
@.str.28 = private unnamed_addr constant [14 x i8] c"HL_TRACE_FILE\00", align 1
@.str.29 = private unnamed_addr constant [3 x i8] c"ab\00", align 1
@.str.30 = private unnamed_addr constant [115 x i8] c"/workdir/Halide/src/runtime/tracing.cpp:351 halide_abort_if_false() failed: file && \22Failed to open trace file\\n\22\0A\00", align 1
@.str.31 = private unnamed_addr constant [96 x i8] c"/workdir/Halide/src/runtime/tracing.cpp:87 halide_abort_if_false() failed: size <= buffer_size\0A\00", align 1
@.str.32 = private unnamed_addr constant [120 x i8] c"/workdir/Halide/src/runtime/tracing.cpp:115 halide_abort_if_false() failed: success && \22Could not write to trace file\22\0A\00", align 1
@_ZN6Halide7Runtime8Internal30pixel_type_to_tiff_sample_typeE = linkonce local_unnamed_addr global [10 x i16] [i16 3, i16 3, i16 1, i16 2, i16 1, i16 2, i16 1, i16 2, i16 1, i16 2], align 2
@_ZN6Halide7Runtime8Internal31pixel_type_to_matlab_class_codeE = linkonce local_unnamed_addr global [10 x i8] c"\07\06\09\08\0B\0A\0D\0C\0F\0E", align 1
@_ZN6Halide7Runtime8Internal30pixel_type_to_matlab_type_codeE = linkonce local_unnamed_addr global [10 x i8] c"\07\09\02\01\04\03\06\05\0D\0C", align 1
@.str.34 = private unnamed_addr constant [51 x i8] c"Bounds query buffer passed to halide_debug_to_file\00", align 1
@.str.1.35 = private unnamed_addr constant [59 x i8] c"Can't debug_to_file a Func with more than four dimensions\0A\00", align 1
@.str.2.36 = private unnamed_addr constant [3 x i8] c"wb\00", align 1
@.str.3.37 = private unnamed_addr constant [6 x i8] c".tiff\00", align 1
@.str.4.38 = private unnamed_addr constant [5 x i8] c".tif\00", align 1
@.str.5.39 = private unnamed_addr constant [5 x i8] c".mat\00", align 1
@__const.halide_debug_to_file.header = private unnamed_addr constant [129 x i8] c"MATLAB 5.0 MAT-file, produced by Halide                                                                                     \00\01IM\00", align 1
@.str.6.40 = private unnamed_addr constant [53 x i8] c"Can't debug_to_file to a .mat file greater than 4GB\0A\00", align 1
@_ZN6Halide7Runtime8Internal16memoization_lockE = linkonce global %struct.halide_mutex zeroinitializer, align 8
@_ZN6Halide7Runtime8Internal13cache_entriesE = linkonce global [256 x %"struct.Halide::Runtime::Internal::CacheEntry"*] zeroinitializer, align 8
@_ZN6Halide7Runtime8Internal18most_recently_usedE = linkonce local_unnamed_addr global %"struct.Halide::Runtime::Internal::CacheEntry"* null, align 8
@_ZN6Halide7Runtime8Internal19least_recently_usedE = linkonce local_unnamed_addr global %"struct.Halide::Runtime::Internal::CacheEntry"* null, align 8
@_ZN6Halide7Runtime8Internal14max_cache_sizeE = linkonce local_unnamed_addr global i64 1048576, align 8
@_ZN6Halide7Runtime8Internal18current_cache_sizeE = linkonce local_unnamed_addr global i64 0, align 8
@.str.2.42 = private unnamed_addr constant [102 x i8] c"/workdir/Halide/src/runtime/cache.cpp:284 halide_abort_if_false() failed: prev_hash_entry != nullptr\0A\00", align 1
@.str.3.43 = private unnamed_addr constant [105 x i8] c"/workdir/Halide/src/runtime/cache.cpp:373 halide_abort_if_false() failed: entry->more_recent != nullptr\0A\00", align 1
@.str.4.44 = private unnamed_addr constant [104 x i8] c"/workdir/Halide/src/runtime/cache.cpp:377 halide_abort_if_false() failed: least_recently_used == entry\0A\00", align 1
@.str.5.45 = private unnamed_addr constant [105 x i8] c"/workdir/Halide/src/runtime/cache.cpp:380 halide_abort_if_false() failed: entry->more_recent != nullptr\0A\00", align 1
@.str.9.46 = private unnamed_addr constant [98 x i8] c"/workdir/Halide/src/runtime/cache.cpp:472 halide_abort_if_false() failed: no_host_pointers_equal\0A\00", align 1
@.str.12.47 = private unnamed_addr constant [99 x i8] c"/workdir/Halide/src/runtime/cache.cpp:550 halide_abort_if_false() failed: entry->in_use_count > 0\0A\00", align 1
@.str.50 = private unnamed_addr constant [10 x i8] c"<nullptr>\00", align 1
@.str.1.57 = private unnamed_addr constant [5 x i8] c"-nan\00", align 1
@.str.2.58 = private unnamed_addr constant [4 x i8] c"nan\00", align 1
@.str.3.59 = private unnamed_addr constant [5 x i8] c"-inf\00", align 1
@.str.4.60 = private unnamed_addr constant [4 x i8] c"inf\00", align 1
@.str.5.61 = private unnamed_addr constant [14 x i8] c"-0.000000e+00\00", align 1
@.str.6.62 = private unnamed_addr constant [13 x i8] c"0.000000e+00\00", align 1
@.str.7.63 = private unnamed_addr constant [10 x i8] c"-0.000000\00", align 1
@.str.8.64 = private unnamed_addr constant [9 x i8] c"0.000000\00", align 1
@.str.9.65 = private unnamed_addr constant [2 x i8] c"-\00", align 1
@.str.11.67 = private unnamed_addr constant [3 x i8] c"e+\00", align 1
@.str.12.68 = private unnamed_addr constant [3 x i8] c"e-\00", align 1
@.str.13.71 = private unnamed_addr constant [17 x i8] c"0123456789abcdef\00", align 1
@.str.14.76 = private unnamed_addr constant [4 x i8] c"int\00", align 1
@.str.15.75 = private unnamed_addr constant [5 x i8] c"uint\00", align 1
@.str.16.74 = private unnamed_addr constant [6 x i8] c"float\00", align 1
@.str.17.73 = private unnamed_addr constant [7 x i8] c"handle\00", align 1
@.str.18.72 = private unnamed_addr constant [14 x i8] c"bad_type_code\00", align 1
@.str.19.77 = private unnamed_addr constant [2 x i8] c"x\00", align 1
@.str.20.78 = private unnamed_addr constant [8 x i8] c"nullptr\00", align 1
@.str.21.79 = private unnamed_addr constant [8 x i8] c"buffer(\00", align 1
@.str.23.82 = private unnamed_addr constant [4 x i8] c", {\00", align 1
@.str.24.83 = private unnamed_addr constant [2 x i8] c"}\00", align 1
@_ZN6Halide7Runtime8Internal36halide_reuse_device_allocations_flagE = linkonce local_unnamed_addr global i8 1, align 1
@_ZN6Halide7Runtime8Internal21allocation_pools_lockE = linkonce global %struct.halide_mutex zeroinitializer, align 8
@_ZN6Halide7Runtime8Internal23device_allocation_poolsE = linkonce local_unnamed_addr global %struct.halide_device_allocation_pool* null, align 8
@_ZN6Halide7Runtime8Internal17device_copy_mutexE = linkonce global %struct.halide_mutex zeroinitializer, align 8
@.str.6.88 = private unnamed_addr constant [20 x i8] c"halide_copy_to_host\00", align 1
@.str.7.89 = private unnamed_addr constant [22 x i8] c"halide_copy_to_device\00", align 1
@.str.9.90 = private unnamed_addr constant [61 x i8] c"halide_copy_to_device does not support switching interfaces\0A\00", align 1
@.str.16.93 = private unnamed_addr constant [19 x i8] c"halide_device_sync\00", align 1
@.str.17.91 = private unnamed_addr constant [21 x i8] c"halide_device_malloc\00", align 1
@.str.20.92 = private unnamed_addr constant [59 x i8] c"halide_device_malloc doesn't support switching interfaces\0A\00", align 1
@.str.21.96 = private unnamed_addr constant [19 x i8] c"halide_device_free\00", align 1
@.str.22.97 = private unnamed_addr constant [103 x i8] c"/workdir/Halide/src/runtime/device_interface.cpp:252 halide_abort_if_false() failed: buf->device == 0\0A\00", align 1
@.str.23.98 = private unnamed_addr constant [30 x i8] c"halide_device_and_host_malloc\00", align 1
@.str.25.99 = private unnamed_addr constant [68 x i8] c"halide_device_and_host_malloc doesn't support switching interfaces\0A\00", align 1
@.str.26.100 = private unnamed_addr constant [42 x i8] c"allocating host and device memory failed\0A\00", align 1
@.str.27.101 = private unnamed_addr constant [28 x i8] c"halide_device_and_host_free\00", align 1
@.str.28.102 = private unnamed_addr constant [103 x i8] c"/workdir/Halide/src/runtime/device_interface.cpp:317 halide_abort_if_false() failed: buf->device == 0\0A\00", align 1
@.str.29.103 = private unnamed_addr constant [38 x i8] c"halide_default_device_and_host_malloc\00", align 1
@.str.30.104 = private unnamed_addr constant [36 x i8] c"halide_default_device_and_host_free\00", align 1
@.str.31.105 = private unnamed_addr constant [26 x i8] c"halide_device_wrap_native\00", align 1
@.str.32.106 = private unnamed_addr constant [64 x i8] c"halide_device_wrap_native doesn't support switching interfaces\0A\00", align 1
@.str.33.107 = private unnamed_addr constant [28 x i8] c"halide_device_detach_native\00", align 1
@.str.34.108 = private unnamed_addr constant [103 x i8] c"/workdir/Halide/src/runtime/device_interface.cpp:403 halide_abort_if_false() failed: buf->device == 0\0A\00", align 1
@.str.35 = private unnamed_addr constant [36 x i8] c"halide_default_device_detach_native\00", align 1
@.str.41 = private unnamed_addr constant [64 x i8] c"halide_buffer_copy does not support switching device interfaces\00", align 1
@.str.58 = private unnamed_addr constant [44 x i8] c"device_interface does not support cropping\0A\00", align 1
@.str.59 = private unnamed_addr constant [43 x i8] c"device_interface does not support slicing\0A\00", align 1
@.str.60 = private unnamed_addr constant [52 x i8] c"destination buffer already has a device allocation\0A\00", align 1
@.str.61 = private unnamed_addr constant [48 x i8] c"src and dst must have identical dimensionality\0A\00", align 1
@.str.64 = private unnamed_addr constant [52 x i8] c"dst must have exactly one fewer dimension than src\0A\00", align 1
@.str.111 = private unnamed_addr constant [41 x i8] c"Bounds inference call to external stage \00", align 1
@.str.1.112 = private unnamed_addr constant [27 x i8] c" returned non-zero value: \00", align 1
@.str.2.113 = private unnamed_addr constant [24 x i8] c"Call to external stage \00", align 1
@.str.3.114 = private unnamed_addr constant [18 x i8] c"Bounds given for \00", align 1
@.str.4.115 = private unnamed_addr constant [5 x i8] c" in \00", align 1
@.str.5.116 = private unnamed_addr constant [8 x i8] c" (from \00", align 1
@.str.6.117 = private unnamed_addr constant [5 x i8] c" to \00", align 1
@.str.7.118 = private unnamed_addr constant [38 x i8] c") do not cover required region (from \00", align 1
@.str.8.119 = private unnamed_addr constant [2 x i8] c")\00", align 1
@.str.9.120 = private unnamed_addr constant [11 x i8] c" has type \00", align 1
@.str.10.121 = private unnamed_addr constant [38 x i8] c" but type of the buffer passed in is \00", align 1
@.str.11.122 = private unnamed_addr constant [31 x i8] c" requires a buffer of exactly \00", align 1
@.str.12.123 = private unnamed_addr constant [43 x i8] c" dimensions, but the buffer passed in has \00", align 1
@.str.13.124 = private unnamed_addr constant [12 x i8] c" dimensions\00", align 1
@.str.14.125 = private unnamed_addr constant [17 x i8] c" is accessed at \00", align 1
@.str.15.126 = private unnamed_addr constant [28 x i8] c", which is before the min (\00", align 1
@.str.16.127 = private unnamed_addr constant [16 x i8] c") in dimension \00", align 1
@.str.17.128 = private unnamed_addr constant [28 x i8] c", which is beyond the max (\00", align 1
@.str.18.129 = private unnamed_addr constant [29 x i8] c"Total allocation for buffer \00", align 1
@.str.19.130 = private unnamed_addr constant [5 x i8] c" is \00", align 1
@.str.20.131 = private unnamed_addr constant [37 x i8] c", which exceeds the maximum size of \00", align 1
@.str.21.132 = private unnamed_addr constant [24 x i8] c"The extents for buffer \00", align 1
@.str.22.133 = private unnamed_addr constant [12 x i8] c" dimension \00", align 1
@.str.23.134 = private unnamed_addr constant [15 x i8] c" is negative (\00", align 1
@.str.24.135 = private unnamed_addr constant [31 x i8] c"Product of extents for buffer \00", align 1
@.str.25.136 = private unnamed_addr constant [29 x i8] c"Applying the constraints on \00", align 1
@.str.26.137 = private unnamed_addr constant [54 x i8] c" to the required region made it smaller in dimension \00", align 1
@.str.27.138 = private unnamed_addr constant [3 x i8] c". \00", align 1
@.str.28.139 = private unnamed_addr constant [16 x i8] c"Required size: \00", align 1
@.str.29.140 = private unnamed_addr constant [19 x i8] c"Constrained size: \00", align 1
@.str.30.141 = private unnamed_addr constant [2 x i8] c".\00", align 1
@.str.31.142 = private unnamed_addr constant [22 x i8] c"Constraint violated: \00", align 1
@.str.32.143 = private unnamed_addr constant [3 x i8] c" (\00", align 1
@.str.33.144 = private unnamed_addr constant [6 x i8] c") == \00", align 1
@.str.34.145 = private unnamed_addr constant [11 x i8] c"Parameter \00", align 1
@.str.35.146 = private unnamed_addr constant [23 x i8] c" but must be at least \00", align 1
@.str.36 = private unnamed_addr constant [22 x i8] c" but must be at most \00", align 1
@.str.37 = private unnamed_addr constant [47 x i8] c"Out of memory (halide_malloc returned nullptr)\00", align 1
@.str.38 = private unnamed_addr constant [17 x i8] c"Buffer argument \00", align 1
@.str.39 = private unnamed_addr constant [12 x i8] c" is nullptr\00", align 1
@.str.40 = private unnamed_addr constant [25 x i8] c"Failed to dump function \00", align 1
@.str.41.147 = private unnamed_addr constant [10 x i8] c" to file \00", align 1
@.str.42 = private unnamed_addr constant [13 x i8] c" with error \00", align 1
@.str.43 = private unnamed_addr constant [21 x i8] c"The host pointer of \00", align 1
@.str.44 = private unnamed_addr constant [22 x i8] c" is not aligned to a \00", align 1
@.str.45 = private unnamed_addr constant [17 x i8] c" bytes boundary.\00", align 1
@.str.46 = private unnamed_addr constant [12 x i8] c"The buffer \00", align 1
@.str.47 = private unnamed_addr constant [53 x i8] c" is dirty on device, but this pipeline was compiled \00", align 1
@.str.48 = private unnamed_addr constant [43 x i8] c"with no support for device to host copies.\00", align 1
@.str.49 = private unnamed_addr constant [55 x i8] c" is null, but the pipeline will access it on the host.\00", align 1
@.str.50.148 = private unnamed_addr constant [30 x i8] c"The folded storage dimension \00", align 1
@.str.51 = private unnamed_addr constant [5 x i8] c" of \00", align 1
@.str.52 = private unnamed_addr constant [36 x i8] c" was accessed out of order by loop \00", align 1
@.str.53 = private unnamed_addr constant [23 x i8] c"Cannot fold dimension \00", align 1
@.str.54 = private unnamed_addr constant [36 x i8] c" because an extern stage accesses [\00", align 1
@.str.55 = private unnamed_addr constant [3 x i8] c", \00", align 1
@.str.56 = private unnamed_addr constant [3 x i8] c"],\00", align 1
@.str.57 = private unnamed_addr constant [47 x i8] c" which is outside the range currently valid: [\00", align 1
@.str.58.149 = private unnamed_addr constant [3 x i8] c"].\00", align 1
@.str.59.150 = private unnamed_addr constant [47 x i8] c" which wraps around the boundary of the fold, \00", align 1
@.str.60.151 = private unnamed_addr constant [30 x i8] c"which occurs at multiples of \00", align 1
@.str.61.152 = private unnamed_addr constant [18 x i8] c"The fold factor (\00", align 1
@.str.62 = private unnamed_addr constant [16 x i8] c") of dimension \00", align 1
@.str.63 = private unnamed_addr constant [61 x i8] c" is too small to store the required region accessed by loop \00", align 1
@.str.64.153 = private unnamed_addr constant [3 x i8] c").\00", align 1
@.str.65 = private unnamed_addr constant [22 x i8] c"Requirement Failed: (\00", align 1
@.str.66 = private unnamed_addr constant [3 x i8] c") \00", align 1
@.str.67 = private unnamed_addr constant [59 x i8] c"A schedule specialized with specialize_fail() was chosen: \00", align 1
@.str.68 = private unnamed_addr constant [55 x i8] c"Buffer has a non-zero device but no device interface.\0A\00", align 1
@.str.69 = private unnamed_addr constant [57 x i8] c"Buffer has a non-null device_interface but device is 0.\0A\00", align 1
@.str.70 = private unnamed_addr constant [49 x i8] c"Buffer has both host and device dirty bits set.\0A\00", align 1
@.str.71 = private unnamed_addr constant [26 x i8] c"Buffer pointer passed to \00", align 1
@.str.72 = private unnamed_addr constant [11 x i8] c" is null.\0A\00", align 1
@.str.73 = private unnamed_addr constant [32 x i8] c"The explicit allocation bound (\00", align 1
@.str.74 = private unnamed_addr constant [45 x i8] c" is too small to store the required region (\00", align 1
@.str.75 = private unnamed_addr constant [77 x i8] c"Buffer could not be cropped (runtime error or unimplemented device option).\0A\00", align 1
@_ZZ25halide_profiler_get_stateE1s = internal global %struct.halide_profiler_state { %struct.halide_mutex zeroinitializer, i32 1, i32 0, i32 0, i32 0, %struct.halide_profiler_pipeline_stats* null, void (i32*, i32*)* null, %struct.halide_thread* null }, align 8
@.str.186 = private unnamed_addr constant [104 x i8] c"/workdir/Halide/src/runtime/profiler_common.cpp:246 halide_abort_if_false() failed: p_stats != nullptr\0A\00", align 1
@.str.1.187 = private unnamed_addr constant [104 x i8] c"/workdir/Halide/src/runtime/profiler_common.cpp:273 halide_abort_if_false() failed: p_stats != nullptr\0A\00", align 1
@.str.2.188 = private unnamed_addr constant [98 x i8] c"/workdir/Halide/src/runtime/profiler_common.cpp:274 halide_abort_if_false() failed: func_id >= 0\0A\00", align 1
@.str.3.189 = private unnamed_addr constant [114 x i8] c"/workdir/Halide/src/runtime/profiler_common.cpp:275 halide_abort_if_false() failed: func_id < p_stats->num_funcs\0A\00", align 1
@.str.4.190 = private unnamed_addr constant [104 x i8] c"/workdir/Halide/src/runtime/profiler_common.cpp:309 halide_abort_if_false() failed: p_stats != nullptr\0A\00", align 1
@.str.5.191 = private unnamed_addr constant [98 x i8] c"/workdir/Halide/src/runtime/profiler_common.cpp:310 halide_abort_if_false() failed: func_id >= 0\0A\00", align 1
@.str.6.192 = private unnamed_addr constant [114 x i8] c"/workdir/Halide/src/runtime/profiler_common.cpp:311 halide_abort_if_false() failed: func_id < p_stats->num_funcs\0A\00", align 1
@.str.8.165 = private unnamed_addr constant [14 x i8] c" total time: \00", align 1
@.str.9.166 = private unnamed_addr constant [4 x i8] c" ms\00", align 1
@.str.10.167 = private unnamed_addr constant [12 x i8] c"  samples: \00", align 1
@.str.11.168 = private unnamed_addr constant [9 x i8] c"  runs: \00", align 1
@.str.12.169 = private unnamed_addr constant [13 x i8] c"  time/run: \00", align 1
@.str.13.170 = private unnamed_addr constant [5 x i8] c" ms\0A\00", align 1
@.str.14.171 = private unnamed_addr constant [24 x i8] c" average threads used: \00", align 1
@.str.15.172 = private unnamed_addr constant [20 x i8] c" heap allocations: \00", align 1
@.str.16.173 = private unnamed_addr constant [20 x i8] c"  peak heap usage: \00", align 1
@.str.17.174 = private unnamed_addr constant [8 x i8] c" bytes\0A\00", align 1
@.str.18.175 = private unnamed_addr constant [3 x i8] c"  \00", align 1
@.str.19.176 = private unnamed_addr constant [3 x i8] c": \00", align 1
@.str.21.178 = private unnamed_addr constant [3 x i8] c"ms\00", align 1
@.str.22.179 = private unnamed_addr constant [2 x i8] c"(\00", align 1
@.str.23.180 = private unnamed_addr constant [3 x i8] c"%)\00", align 1
@.str.24.181 = private unnamed_addr constant [10 x i8] c"threads: \00", align 1
@.str.25.182 = private unnamed_addr constant [8 x i8] c" peak: \00", align 1
@.str.26.183 = private unnamed_addr constant [7 x i8] c" num: \00", align 1
@.str.27.184 = private unnamed_addr constant [7 x i8] c" avg: \00", align 1
@.str.28.185 = private unnamed_addr constant [9 x i8] c" stack: \00", align 1
@_ZN6Halide7Runtime8Internal30custom_can_use_target_featuresE = linkonce local_unnamed_addr global i32 (i32, i64*)* @halide_default_can_use_target_features, align 8
@_ZN6Halide7Runtime8Internal27halide_cpu_features_storageE = linkonce global [4 x i64] zeroinitializer, align 8
@_ZN6Halide7Runtime8Internal31halide_cpu_features_initializedE = linkonce local_unnamed_addr global i8 0, align 1
@_ZN6Halide7Runtime8Internal36halide_cpu_features_initialized_lockE = linkonce global %struct.halide_mutex zeroinitializer, align 8
@.str.197 = private unnamed_addr constant [81 x i8] c"Internal error: wrong structure size passed to halide_can_use_target_features()\0A\00", align 1
@llvm.global_ctors = appending global [1 x { i32, void ()*, i8* }] [{ i32, void ()*, i8* } { i32 65535, void ()* @_GLOBAL__sub_I_opencl.cpp, i8* null }]
@_ZN6Halide7Runtime8Internal6OpenCL16clGetPlatformIDsE = linkonce local_unnamed_addr global i32 (i32, %struct._cl_platform_id**, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL17clGetPlatformInfoE = linkonce local_unnamed_addr global i32 (%struct._cl_platform_id*, i32, i64, i8*, i64*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL14clGetDeviceIDsE = linkonce local_unnamed_addr global i32 (%struct._cl_platform_id*, i64, i32, %struct._cl_device_id**, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL15clGetDeviceInfoE = linkonce local_unnamed_addr global i32 (%struct._cl_device_id*, i32, i64, i8*, i64*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL18clCreateSubDevicesE = linkonce local_unnamed_addr global i32 (%struct._cl_device_id*, i64*, i32, %struct._cl_device_id**, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL14clRetainDeviceE = linkonce local_unnamed_addr global i32 (%struct._cl_device_id*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL15clReleaseDeviceE = linkonce local_unnamed_addr global i32 (%struct._cl_device_id*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE = linkonce local_unnamed_addr global %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL23clCreateContextFromTypeE = linkonce local_unnamed_addr global %struct._cl_context* (i64*, i64, void (i8*, i8*, i64, i8*)*, i8*, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL15clRetainContextE = linkonce local_unnamed_addr global i32 (%struct._cl_context*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL16clReleaseContextE = linkonce local_unnamed_addr global i32 (%struct._cl_context*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL16clGetContextInfoE = linkonce local_unnamed_addr global i32 (%struct._cl_context*, i32, i64, i8*, i64*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL20clCreateCommandQueueE = linkonce local_unnamed_addr global %struct._cl_command_queue* (%struct._cl_context*, %struct._cl_device_id*, i64, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL20clRetainCommandQueueE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL21clReleaseCommandQueueE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL21clGetCommandQueueInfoE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*, i32, i64, i8*, i64*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL14clCreateBufferE = linkonce local_unnamed_addr global %struct._cl_mem* (%struct._cl_context*, i64, i64, i8*, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL17clCreateSubBufferE = linkonce local_unnamed_addr global %struct._cl_mem* (%struct._cl_mem*, i64, i32, i8*, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL13clCreateImageE = linkonce local_unnamed_addr global %struct._cl_mem* (%struct._cl_context*, i64, %struct._cl_image_format*, %struct._cl_image_desc*, i8*, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL17clRetainMemObjectE = linkonce local_unnamed_addr global i32 (%struct._cl_mem*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL18clReleaseMemObjectE = linkonce local_unnamed_addr global i32 (%struct._cl_mem*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL26clGetSupportedImageFormatsE = linkonce local_unnamed_addr global i32 (%struct._cl_context*, i64, i32, i32, %struct._cl_image_format*, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL18clGetMemObjectInfoE = linkonce local_unnamed_addr global i32 (%struct._cl_mem*, i32, i64, i8*, i64*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL14clGetImageInfoE = linkonce local_unnamed_addr global i32 (%struct._cl_mem*, i32, i64, i8*, i64*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL32clSetMemObjectDestructorCallbackE = linkonce local_unnamed_addr global i32 (%struct._cl_mem*, void (%struct._cl_mem*, i8*)*, i8*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL25clCreateProgramWithSourceE = linkonce local_unnamed_addr global %struct._cl_program* (%struct._cl_context*, i32, i8**, i64*, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL15clRetainProgramE = linkonce local_unnamed_addr global i32 (%struct._cl_program*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL16clReleaseProgramE = linkonce global i32 (%struct._cl_program*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL14clBuildProgramE = linkonce local_unnamed_addr global i32 (%struct._cl_program*, i32, %struct._cl_device_id**, i8*, void (%struct._cl_program*, i8*)*, i8*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL21clGetProgramBuildInfoE = linkonce local_unnamed_addr global i32 (%struct._cl_program*, %struct._cl_device_id*, i32, i64, i8*, i64*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL14clCreateKernelE = linkonce local_unnamed_addr global %struct._cl_kernel* (%struct._cl_program*, i8*, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL14clRetainKernelE = linkonce local_unnamed_addr global i32 (%struct._cl_kernel*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL15clReleaseKernelE = linkonce local_unnamed_addr global i32 (%struct._cl_kernel*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL14clSetKernelArgE = linkonce local_unnamed_addr global i32 (%struct._cl_kernel*, i32, i64, i8*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL7clFlushE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL8clFinishE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL19clEnqueueReadBufferE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL23clEnqueueReadBufferRectE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64*, i64*, i64*, i64, i64, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL20clEnqueueWriteBufferE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL24clEnqueueWriteBufferRectE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64*, i64*, i64*, i64, i64, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL19clEnqueueCopyBufferE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*, %struct._cl_mem*, %struct._cl_mem*, i64, i64, i64, i32, %struct._cl_event**, %struct._cl_event**)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL18clEnqueueReadImageE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64*, i64*, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL19clEnqueueWriteImageE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64*, i64*, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL18clEnqueueMapBufferE = linkonce local_unnamed_addr global i8* (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64, i64, i64, i32, %struct._cl_event**, %struct._cl_event**, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL17clEnqueueMapImageE = linkonce local_unnamed_addr global i8* (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64, i64*, i64*, i64*, i64*, i32, %struct._cl_event**, %struct._cl_event**, i32*)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL23clEnqueueUnmapMemObjectE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*, %struct._cl_mem*, i8*, i32, %struct._cl_event**, %struct._cl_event**)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL22clEnqueueNDRangeKernelE = linkonce local_unnamed_addr global i32 (%struct._cl_command_queue*, %struct._cl_kernel*, i32, i64*, i64*, i64*, i32, %struct._cl_event**, %struct._cl_event**)* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL10lib_openclE = linkonce local_unnamed_addr global i8* null, align 8
@.str.1.262 = private unnamed_addr constant [13 x i8] c"libOpenCL.so\00", align 1
@.str.2.263 = private unnamed_addr constant [51 x i8] c"/System/Library/Frameworks/OpenCL.framework/OpenCL\00", align 1
@.str.4.215 = private unnamed_addr constant [2 x i8] c"\0A\00", align 1
@.str.7.213 = private unnamed_addr constant [102 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:67 halide_abort_if_false() failed: clCreateContext == nullptr\0A\00", align 1
@.str.8.214 = private unnamed_addr constant [17 x i8] c"clGetPlatformIDs\00", align 1
@.str.9.216 = private unnamed_addr constant [18 x i8] c"clGetPlatformInfo\00", align 1
@.str.10.217 = private unnamed_addr constant [15 x i8] c"clGetDeviceIDs\00", align 1
@.str.11.218 = private unnamed_addr constant [16 x i8] c"clGetDeviceInfo\00", align 1
@.str.12.219 = private unnamed_addr constant [19 x i8] c"clCreateSubDevices\00", align 1
@.str.13.220 = private unnamed_addr constant [15 x i8] c"clRetainDevice\00", align 1
@.str.14.221 = private unnamed_addr constant [16 x i8] c"clReleaseDevice\00", align 1
@.str.15.222 = private unnamed_addr constant [16 x i8] c"clCreateContext\00", align 1
@.str.16.223 = private unnamed_addr constant [24 x i8] c"clCreateContextFromType\00", align 1
@.str.17.224 = private unnamed_addr constant [16 x i8] c"clRetainContext\00", align 1
@.str.18.225 = private unnamed_addr constant [17 x i8] c"clReleaseContext\00", align 1
@.str.19.226 = private unnamed_addr constant [17 x i8] c"clGetContextInfo\00", align 1
@.str.20.227 = private unnamed_addr constant [21 x i8] c"clCreateCommandQueue\00", align 1
@.str.21.228 = private unnamed_addr constant [21 x i8] c"clRetainCommandQueue\00", align 1
@.str.22.229 = private unnamed_addr constant [22 x i8] c"clReleaseCommandQueue\00", align 1
@.str.23.230 = private unnamed_addr constant [22 x i8] c"clGetCommandQueueInfo\00", align 1
@.str.24.231 = private unnamed_addr constant [15 x i8] c"clCreateBuffer\00", align 1
@.str.25.232 = private unnamed_addr constant [18 x i8] c"clCreateSubBuffer\00", align 1
@.str.26.233 = private unnamed_addr constant [14 x i8] c"clCreateImage\00", align 1
@.str.27.234 = private unnamed_addr constant [18 x i8] c"clRetainMemObject\00", align 1
@.str.28.235 = private unnamed_addr constant [19 x i8] c"clReleaseMemObject\00", align 1
@.str.29.236 = private unnamed_addr constant [27 x i8] c"clGetSupportedImageFormats\00", align 1
@.str.30.237 = private unnamed_addr constant [19 x i8] c"clGetMemObjectInfo\00", align 1
@.str.31.238 = private unnamed_addr constant [15 x i8] c"clGetImageInfo\00", align 1
@.str.32.239 = private unnamed_addr constant [33 x i8] c"clSetMemObjectDestructorCallback\00", align 1
@.str.33.240 = private unnamed_addr constant [26 x i8] c"clCreateProgramWithSource\00", align 1
@.str.34.241 = private unnamed_addr constant [16 x i8] c"clRetainProgram\00", align 1
@.str.35.242 = private unnamed_addr constant [17 x i8] c"clReleaseProgram\00", align 1
@.str.36.243 = private unnamed_addr constant [15 x i8] c"clBuildProgram\00", align 1
@.str.37.244 = private unnamed_addr constant [22 x i8] c"clGetProgramBuildInfo\00", align 1
@.str.38.245 = private unnamed_addr constant [15 x i8] c"clCreateKernel\00", align 1
@.str.39.246 = private unnamed_addr constant [15 x i8] c"clRetainKernel\00", align 1
@.str.40.247 = private unnamed_addr constant [16 x i8] c"clReleaseKernel\00", align 1
@.str.41.248 = private unnamed_addr constant [15 x i8] c"clSetKernelArg\00", align 1
@.str.42.249 = private unnamed_addr constant [8 x i8] c"clFlush\00", align 1
@.str.43.250 = private unnamed_addr constant [9 x i8] c"clFinish\00", align 1
@.str.44.251 = private unnamed_addr constant [20 x i8] c"clEnqueueReadBuffer\00", align 1
@.str.45.252 = private unnamed_addr constant [24 x i8] c"clEnqueueReadBufferRect\00", align 1
@.str.46.253 = private unnamed_addr constant [21 x i8] c"clEnqueueWriteBuffer\00", align 1
@.str.47.254 = private unnamed_addr constant [25 x i8] c"clEnqueueWriteBufferRect\00", align 1
@.str.48.255 = private unnamed_addr constant [20 x i8] c"clEnqueueCopyBuffer\00", align 1
@.str.49.256 = private unnamed_addr constant [19 x i8] c"clEnqueueReadImage\00", align 1
@.str.50.257 = private unnamed_addr constant [20 x i8] c"clEnqueueWriteImage\00", align 1
@.str.51.258 = private unnamed_addr constant [19 x i8] c"clEnqueueMapBuffer\00", align 1
@.str.52.259 = private unnamed_addr constant [18 x i8] c"clEnqueueMapImage\00", align 1
@.str.53.260 = private unnamed_addr constant [24 x i8] c"clEnqueueUnmapMemObject\00", align 1
@.str.54.261 = private unnamed_addr constant [23 x i8] c"clEnqueueNDRangeKernel\00", align 1
@_ZN6Halide7Runtime8Internal6OpenCL7contextE = linkonce global %struct._cl_context* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL13command_queueE = linkonce global %struct._cl_command_queue* null, align 8
@_ZN6Halide7Runtime8Internal6OpenCL11thread_lockE = linkonce global i8 0, align 1
@_ZN6Halide7Runtime8Internal6OpenCL13platform_nameE = linkonce global [256 x i8] zeroinitializer, align 1
@_ZN6Halide7Runtime8Internal6OpenCL18platform_name_lockE = linkonce global i8 0, align 1
@_ZN6Halide7Runtime8Internal6OpenCL25platform_name_initializedE = linkonce local_unnamed_addr global i8 0, align 1
@_ZN6Halide7Runtime8Internal6OpenCL11device_typeE = linkonce global [256 x i8] zeroinitializer, align 1
@_ZN6Halide7Runtime8Internal6OpenCL16device_type_lockE = linkonce global i8 0, align 1
@_ZN6Halide7Runtime8Internal6OpenCL23device_type_initializedE = linkonce local_unnamed_addr global i8 0, align 1
@_ZN6Halide7Runtime8Internal6OpenCL13build_optionsE = linkonce global [1024 x i8] zeroinitializer, align 1
@_ZN6Halide7Runtime8Internal6OpenCL18build_options_lockE = linkonce global i8 0, align 1
@_ZN6Halide7Runtime8Internal6OpenCL25build_options_initializedE = linkonce local_unnamed_addr global i8 0, align 1
@.str.55.203 = private unnamed_addr constant [91 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:215 halide_abort_if_false() failed: ctx != nullptr\0A\00", align 1
@.str.56.204 = private unnamed_addr constant [89 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:216 halide_abort_if_false() failed: q != nullptr\0A\00", align 1
@_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE = linkonce global %"class.Halide::Internal::GPUCompilationCache" zeroinitializer, align 8
@_ZGVN6Halide7Runtime8Internal6OpenCL17compilation_cacheE = linkonce local_unnamed_addr global i64 0, comdat, align 4
@.str.60.264 = private unnamed_addr constant [24 x i8] c"CL: Bad device pointer \00", align 1
@.str.61.200 = private unnamed_addr constant [31 x i8] c": clGetMemObjectInfo returned \00", align 1
@.str.66.265 = private unnamed_addr constant [152 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:328 halide_abort_if_false() failed: real_size >= (size + offset) && \22Validating pointer with insufficient size\22\0A\00", align 1
@.str.68.205 = private unnamed_addr constant [110 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:339 halide_abort_if_false() failed: ctx != nullptr && *ctx == nullptr\0A\00", align 1
@.str.69.206 = private unnamed_addr constant [106 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:340 halide_abort_if_false() failed: q != nullptr && *q == nullptr\0A\00", align 1
@.str.70.207 = private unnamed_addr constant [32 x i8] c"CL: clGetPlatformIDs not found\0A\00", align 1
@.str.71.208 = private unnamed_addr constant [30 x i8] c"CL: clGetPlatformIDs failed: \00", align 1
@.str.72.209 = private unnamed_addr constant [2 x i8] c" \00", align 1
@.str.74.210 = private unnamed_addr constant [29 x i8] c"CL: Failed to find platform\0A\00", align 1
@.str.75.211 = private unnamed_addr constant [4 x i8] c"cpu\00", align 1
@.str.76.212 = private unnamed_addr constant [4 x i8] c"gpu\00", align 1
@.str.77 = private unnamed_addr constant [4 x i8] c"acc\00", align 1
@.str.78 = private unnamed_addr constant [28 x i8] c"CL: clGetDeviceIDs failed: \00", align 1
@.str.85 = private unnamed_addr constant [27 x i8] c"CL: Failed to get device: \00", align 1
@.str.87 = private unnamed_addr constant [29 x i8] c"CL: clCreateContext failed: \00", align 1
@.str.88 = private unnamed_addr constant [2 x i8] c":\00", align 1
@.str.90 = private unnamed_addr constant [34 x i8] c"CL: clCreateCommandQueue failed: \00", align 1
@.str.91 = private unnamed_addr constant [50 x i8] c"CL: clGetContextInfo(CL_CONTEXT_DEVICES) failed: \00", align 1
@.str.92 = private unnamed_addr constant [66 x i8] c"CL: clGetDeviceInfo (CL_DEVICE_MAX_CONSTANT_BUFFER_SIZE) failed: \00", align 1
@.str.93 = private unnamed_addr constant [59 x i8] c"CL: clGetDeviceInfo (CL_DEVICE_MAX_CONSTANT_ARGS) failed: \00", align 1
@.str.94 = private unnamed_addr constant [29 x i8] c"-D MAX_CONSTANT_BUFFER_SIZE=\00", align 1
@.str.95 = private unnamed_addr constant [23 x i8] c" -D MAX_CONSTANT_ARGS=\00", align 1
@.str.97 = private unnamed_addr constant [39 x i8] c"CL: clCreateProgramWithSource failed: \00", align 1
@.str.99 = private unnamed_addr constant [26 x i8] c"(Unable to get build log)\00", align 1
@.str.100 = private unnamed_addr constant [28 x i8] c"CL: clBuildProgram failed: \00", align 1
@.str.101 = private unnamed_addr constant [13 x i8] c"\0ABuild Log:\0A\00", align 1
@.str.102 = private unnamed_addr constant [196 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:664 halide_abort_if_false() failed: (((device_handle *)buf->device)->offset == 0) && \22halide_opencl_device_free on buffer obtained from halide_device_crop\22\0A\00", align 1
@.str.106 = private unnamed_addr constant [119 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:679 halide_abort_if_false() failed: validate_device_pointer(user_context, buf)\0A\00", align 1
@.str.108 = private unnamed_addr constant [30 x i8] c"CL: clGetContextInfo failed: \00", align 1
@.str.109 = private unnamed_addr constant [29 x i8] c"CL: clGetDeviceInfo failed: \00", align 1
@.str.115 = private unnamed_addr constant [95 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:773 halide_abort_if_false() failed: program != nullptr\0A\00", align 1
@.str.118 = private unnamed_addr constant [22 x i8] c"CL: clFinish failed: \00", align 1
@.str.120 = private unnamed_addr constant [94 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:836 halide_abort_if_false() failed: err == CL_SUCCESS\0A\00", align 1
@.str.122 = private unnamed_addr constant [94 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:844 halide_abort_if_false() failed: err == CL_SUCCESS\0A\00", align 1
@.str.124 = private unnamed_addr constant [94 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:849 halide_abort_if_false() failed: err == CL_SUCCESS\0A\00", align 1
@.str.126 = private unnamed_addr constant [86 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:870 halide_abort_if_false() failed: size != 0\0A\00", align 1
@.str.127 = private unnamed_addr constant [125 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:872 halide_abort_if_false() failed: validate_device_pointer(user_context, buf, size)\0A\00", align 1
@.str.128 = private unnamed_addr constant [100 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:877 halide_abort_if_false() failed: buf->dim[i].stride >= 0\0A\00", align 1
@.str.131 = private unnamed_addr constant [28 x i8] c"CL: clCreateBuffer failed: \00", align 1
@_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE = linkonce global %struct.halide_device_interface_t { i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*)* @halide_device_malloc, i32 (i8*, %struct.halide_buffer_t*)* @halide_device_free, i32 (i8*, %struct.halide_buffer_t*)* @halide_device_sync, void (i8*, %struct.halide_device_interface_t*)* @halide_device_release, i32 (i8*, %struct.halide_buffer_t*)* @halide_copy_to_host, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*)* @halide_copy_to_device, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*)* @halide_device_and_host_malloc, i32 (i8*, %struct.halide_buffer_t*)* @halide_device_and_host_free, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)* @halide_buffer_copy, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_buffer_t*)* @halide_device_crop, i32 (i8*, %struct.halide_buffer_t*, i32, i32, %struct.halide_buffer_t*)* @halide_device_slice, i32 (i8*, %struct.halide_buffer_t*)* @halide_device_release_crop, i32 (i8*, %struct.halide_buffer_t*, i64, %struct.halide_device_interface_t*)* @halide_device_wrap_native, i32 (i8*, %struct.halide_buffer_t*)* @halide_device_detach_native, i32 (i8*, i32*, i32*)* @halide_opencl_compute_capability, %struct.halide_device_interface_impl_t* @_ZN6Halide7Runtime8Internal6OpenCL28opencl_device_interface_implE }, align 8
@.str.135 = private unnamed_addr constant [125 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:914 halide_abort_if_false() failed: validate_device_pointer(user_context, buf, size)\0A\00", align 1
@.str.136 = private unnamed_addr constant [52 x i8] c"Buffer has too many dimensions to copy to/from GPU\0A\00", align 1
@.str.145 = private unnamed_addr constant [25 x i8] c"CL: buffer copy failed: \00", align 1
@.str.146 = private unnamed_addr constant [160 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:985 halide_abort_if_false() failed: dst_device_interface == nullptr || dst_device_interface == &opencl_device_interface\0A\00", align 1
@.str.147 = private unnamed_addr constant [125 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:989 halide_abort_if_false() failed: dst_device_interface == &opencl_device_interface\0A\00", align 1
@.str.149 = private unnamed_addr constant [100 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1000 halide_abort_if_false() failed: to_host || dst->device\0A\00", align 1
@.str.159 = private unnamed_addr constant [87 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1076 halide_abort_if_false() failed: state_ptr\0A\00", align 1
@.str.160 = private unnamed_addr constant [105 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1080 halide_abort_if_false() failed: found && program != nullptr\0A\00", align 1
@.str.162 = private unnamed_addr constant [20 x i8] c"CL: clCreateKernel \00", align 1
@.str.163 = private unnamed_addr constant [10 x i8] c" failed: \00", align 1
@.str.167 = private unnamed_addr constant [110 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1132 halide_abort_if_false() failed: arg_sizes[i] == sizeof(uint64_t)\0A\00", align 1
@.str.169 = private unnamed_addr constant [28 x i8] c"CL: clSetKernelArg failed: \00", align 1
@.str.171 = private unnamed_addr constant [27 x i8] c"CL: clSetKernelArg failed \00", align 1
@.str.173 = private unnamed_addr constant [36 x i8] c"CL: clEnqueueNDRangeKernel failed: \00", align 1
@.str.176 = private unnamed_addr constant [94 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1223 halide_abort_if_false() failed: buf->device == 0\0A\00", align 1
@_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE = linkonce global %struct.halide_device_interface_t { i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*)* @halide_device_malloc, i32 (i8*, %struct.halide_buffer_t*)* @halide_device_free, i32 (i8*, %struct.halide_buffer_t*)* @halide_device_sync, void (i8*, %struct.halide_device_interface_t*)* @halide_device_release, i32 (i8*, %struct.halide_buffer_t*)* @halide_copy_to_host, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*)* @halide_copy_to_device, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*)* @halide_device_and_host_malloc, i32 (i8*, %struct.halide_buffer_t*)* @halide_device_and_host_free, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)* @halide_buffer_copy, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_buffer_t*)* @halide_device_crop, i32 (i8*, %struct.halide_buffer_t*, i32, i32, %struct.halide_buffer_t*)* @halide_device_slice, i32 (i8*, %struct.halide_buffer_t*)* @halide_device_release_crop, i32 (i8*, %struct.halide_buffer_t*, i64, %struct.halide_device_interface_t*)* @halide_device_wrap_native, i32 (i8*, %struct.halide_buffer_t*)* @halide_device_detach_native, i32 (i8*, i32*, i32*)* @halide_opencl_compute_capability, %struct.halide_device_interface_impl_t* @_ZN6Halide7Runtime8Internal6OpenCL34opencl_image_device_interface_implE }, align 8
@.str.177 = private unnamed_addr constant [186 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1253 halide_abort_if_false() failed: buf->device_interface == &opencl_device_interface || buf->device_interface == &opencl_image_device_interface\0A\00", align 1
@.str.178 = private unnamed_addr constant [186 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1266 halide_abort_if_false() failed: buf->device_interface == &opencl_device_interface || buf->device_interface == &opencl_image_device_interface\0A\00", align 1
@.str.179 = private unnamed_addr constant [127 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1274 halide_abort_if_false() failed: buf->device_interface == &opencl_device_interface\0A\00", align 1
@.str.180 = private unnamed_addr constant [50 x i8] c"CL: malloc failed making device handle for crop.\0A\00", align 1
@.str.182 = private unnamed_addr constant [120 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1343 halide_abort_if_false() failed: validate_device_pointer(user_context, buf)\0A\00", align 1
@.str.183 = private unnamed_addr constant [11 x i8] c"CL_SUCCESS\00", align 1
@.str.184 = private unnamed_addr constant [20 x i8] c"CL_DEVICE_NOT_FOUND\00", align 1
@.str.185 = private unnamed_addr constant [24 x i8] c"CL_DEVICE_NOT_AVAILABLE\00", align 1
@.str.186.202 = private unnamed_addr constant [26 x i8] c"CL_COMPILER_NOT_AVAILABLE\00", align 1
@.str.187 = private unnamed_addr constant [33 x i8] c"CL_MEM_OBJECT_ALLOCATION_FAILURE\00", align 1
@.str.188 = private unnamed_addr constant [20 x i8] c"CL_OUT_OF_RESOURCES\00", align 1
@.str.189 = private unnamed_addr constant [22 x i8] c"CL_OUT_OF_HOST_MEMORY\00", align 1
@.str.190 = private unnamed_addr constant [32 x i8] c"CL_PROFILING_INFO_NOT_AVAILABLE\00", align 1
@.str.191 = private unnamed_addr constant [20 x i8] c"CL_MEM_COPY_OVERLAP\00", align 1
@.str.192 = private unnamed_addr constant [25 x i8] c"CL_IMAGE_FORMAT_MISMATCH\00", align 1
@.str.193 = private unnamed_addr constant [30 x i8] c"CL_IMAGE_FORMAT_NOT_SUPPORTED\00", align 1
@.str.194 = private unnamed_addr constant [25 x i8] c"CL_BUILD_PROGRAM_FAILURE\00", align 1
@.str.195 = private unnamed_addr constant [15 x i8] c"CL_MAP_FAILURE\00", align 1
@.str.196 = private unnamed_addr constant [32 x i8] c"CL_MISALIGNED_SUB_BUFFER_OFFSET\00", align 1
@.str.197.201 = private unnamed_addr constant [45 x i8] c"CL_EXEC_STATUS_ERROR_FOR_EVENTS_IN_WAIT_LIST\00", align 1
@.str.198 = private unnamed_addr constant [27 x i8] c"CL_COMPILE_PROGRAM_FAILURE\00", align 1
@.str.199 = private unnamed_addr constant [24 x i8] c"CL_LINKER_NOT_AVAILABLE\00", align 1
@.str.200 = private unnamed_addr constant [24 x i8] c"CL_LINK_PROGRAM_FAILURE\00", align 1
@.str.201 = private unnamed_addr constant [27 x i8] c"CL_DEVICE_PARTITION_FAILED\00", align 1
@.str.202 = private unnamed_addr constant [33 x i8] c"CL_KERNEL_ARG_INFO_NOT_AVAILABLE\00", align 1
@.str.203 = private unnamed_addr constant [17 x i8] c"CL_INVALID_VALUE\00", align 1
@.str.204 = private unnamed_addr constant [23 x i8] c"CL_INVALID_DEVICE_TYPE\00", align 1
@.str.205 = private unnamed_addr constant [20 x i8] c"CL_INVALID_PLATFORM\00", align 1
@.str.206 = private unnamed_addr constant [18 x i8] c"CL_INVALID_DEVICE\00", align 1
@.str.207 = private unnamed_addr constant [19 x i8] c"CL_INVALID_CONTEXT\00", align 1
@.str.208 = private unnamed_addr constant [28 x i8] c"CL_INVALID_QUEUE_PROPERTIES\00", align 1
@.str.209 = private unnamed_addr constant [25 x i8] c"CL_INVALID_COMMAND_QUEUE\00", align 1
@.str.210 = private unnamed_addr constant [20 x i8] c"CL_INVALID_HOST_PTR\00", align 1
@.str.211 = private unnamed_addr constant [22 x i8] c"CL_INVALID_MEM_OBJECT\00", align 1
@.str.212 = private unnamed_addr constant [35 x i8] c"CL_INVALID_IMAGE_FORMAT_DESCRIPTOR\00", align 1
@.str.213 = private unnamed_addr constant [22 x i8] c"CL_INVALID_IMAGE_SIZE\00", align 1
@.str.214 = private unnamed_addr constant [19 x i8] c"CL_INVALID_SAMPLER\00", align 1
@.str.215 = private unnamed_addr constant [18 x i8] c"CL_INVALID_BINARY\00", align 1
@.str.216 = private unnamed_addr constant [25 x i8] c"CL_INVALID_BUILD_OPTIONS\00", align 1
@.str.217 = private unnamed_addr constant [19 x i8] c"CL_INVALID_PROGRAM\00", align 1
@.str.218 = private unnamed_addr constant [30 x i8] c"CL_INVALID_PROGRAM_EXECUTABLE\00", align 1
@.str.219 = private unnamed_addr constant [23 x i8] c"CL_INVALID_KERNEL_NAME\00", align 1
@.str.220 = private unnamed_addr constant [29 x i8] c"CL_INVALID_KERNEL_DEFINITION\00", align 1
@.str.221 = private unnamed_addr constant [18 x i8] c"CL_INVALID_KERNEL\00", align 1
@.str.222 = private unnamed_addr constant [21 x i8] c"CL_INVALID_ARG_INDEX\00", align 1
@.str.223 = private unnamed_addr constant [21 x i8] c"CL_INVALID_ARG_VALUE\00", align 1
@.str.224 = private unnamed_addr constant [20 x i8] c"CL_INVALID_ARG_SIZE\00", align 1
@.str.225 = private unnamed_addr constant [23 x i8] c"CL_INVALID_KERNEL_ARGS\00", align 1
@.str.226 = private unnamed_addr constant [26 x i8] c"CL_INVALID_WORK_DIMENSION\00", align 1
@.str.227 = private unnamed_addr constant [27 x i8] c"CL_INVALID_WORK_GROUP_SIZE\00", align 1
@.str.228 = private unnamed_addr constant [26 x i8] c"CL_INVALID_WORK_ITEM_SIZE\00", align 1
@.str.229 = private unnamed_addr constant [25 x i8] c"CL_INVALID_GLOBAL_OFFSET\00", align 1
@.str.230 = private unnamed_addr constant [27 x i8] c"CL_INVALID_EVENT_WAIT_LIST\00", align 1
@.str.231 = private unnamed_addr constant [17 x i8] c"CL_INVALID_EVENT\00", align 1
@.str.232 = private unnamed_addr constant [21 x i8] c"CL_INVALID_OPERATION\00", align 1
@.str.233 = private unnamed_addr constant [21 x i8] c"CL_INVALID_GL_OBJECT\00", align 1
@.str.234 = private unnamed_addr constant [23 x i8] c"CL_INVALID_BUFFER_SIZE\00", align 1
@.str.235 = private unnamed_addr constant [21 x i8] c"CL_INVALID_MIP_LEVEL\00", align 1
@.str.236 = private unnamed_addr constant [28 x i8] c"CL_INVALID_GLOBAL_WORK_SIZE\00", align 1
@.str.237 = private unnamed_addr constant [20 x i8] c"CL_INVALID_PROPERTY\00", align 1
@.str.238 = private unnamed_addr constant [28 x i8] c"CL_INVALID_IMAGE_DESCRIPTOR\00", align 1
@.str.239 = private unnamed_addr constant [28 x i8] c"CL_INVALID_COMPILER_OPTIONS\00", align 1
@.str.240 = private unnamed_addr constant [26 x i8] c"CL_INVALID_LINKER_OPTIONS\00", align 1
@.str.241 = private unnamed_addr constant [34 x i8] c"CL_INVALID_DEVICE_PARTITION_COUNT\00", align 1
@.str.242 = private unnamed_addr constant [16 x i8] c"<Unknown error>\00", align 1
@_ZN6Halide7Runtime8Internal6OpenCL28opencl_device_interface_implE = linkonce global %struct.halide_device_interface_impl_t { void ()* @halide_use_jit_module, void ()* @halide_release_jit_module, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_device_malloc, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_device_free, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_device_sync, i32 (i8*)* @halide_opencl_device_release, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_copy_to_host, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_copy_to_device, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_device_and_host_malloc, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_device_and_host_free, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)* @halide_opencl_buffer_copy, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_buffer_t*)* @halide_opencl_device_crop, i32 (i8*, %struct.halide_buffer_t*, i32, i32, %struct.halide_buffer_t*)* @halide_opencl_device_slice, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_device_release_crop, i32 (i8*, %struct.halide_buffer_t*, i64)* @halide_opencl_wrap_cl_mem, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_detach_cl_mem }, align 8
@.str.244 = private unnamed_addr constant [87 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1559 halide_abort_if_false() failed: size != 0\0A\00", align 1
@.str.245 = private unnamed_addr constant [126 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1561 halide_abort_if_false() failed: validate_device_pointer(user_context, buf, size)\0A\00", align 1
@.str.246 = private unnamed_addr constant [101 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1566 halide_abort_if_false() failed: buf->dim[i].stride >= 0\0A\00", align 1
@.str.247 = private unnamed_addr constant [47 x i8] c"Unhandled datatype for opencl texture object: \00", align 1
@.str.249 = private unnamed_addr constant [46 x i8] c"image buffer must be dense on inner dimension\00", align 1
@.str.250 = private unnamed_addr constant [38 x i8] c"image buffer must have 1-3 dimensions\00", align 1
@.str.253 = private unnamed_addr constant [27 x i8] c"CL: clCreateImage failed: \00", align 1
@.str.254 = private unnamed_addr constant [126 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1678 halide_abort_if_false() failed: validate_device_pointer(user_context, buf, size)\0A\00", align 1
@.str.256 = private unnamed_addr constant [167 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1697 halide_abort_if_false() failed: dst_device_interface == nullptr || dst_device_interface == &opencl_image_device_interface\0A\00", align 1
@.str.257 = private unnamed_addr constant [132 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1701 halide_abort_if_false() failed: dst_device_interface == &opencl_image_device_interface\0A\00", align 1
@.str.259 = private unnamed_addr constant [100 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1712 halide_abort_if_false() failed: to_host || dst->device\0A\00", align 1
@.str.260 = private unnamed_addr constant [45 x i8] c"image buffer copies must be for whole buffer\00", align 1
@.str.261 = private unnamed_addr constant [53 x i8] c"image buffer copies must be dense on inner dimension\00", align 1
@.str.262 = private unnamed_addr constant [38 x i8] c"image to image copies not implemented\00", align 1
@.str.263 = private unnamed_addr constant [29 x i8] c"CL: buffer transfer failed: \00", align 1
@.str.264 = private unnamed_addr constant [94 x i8] c"/workdir/Halide/src/runtime/opencl.cpp:1825 halide_abort_if_false() failed: buf->device == 0\0A\00", align 1
@.str.265 = private unnamed_addr constant [67 x i8] c"CL: Bad device pointer passed to halide_opencl_image_wrap_cl_mem: \00", align 1
@.str.266 = private unnamed_addr constant [12 x i8] c" with type \00", align 1
@.str.267 = private unnamed_addr constant [43 x i8] c"crop not supported on opencl image objects\00", align 1
@.str.268 = private unnamed_addr constant [44 x i8] c"slice not supported on opencl image objects\00", align 1
@_ZN6Halide7Runtime8Internal6OpenCL34opencl_image_device_interface_implE = linkonce global %struct.halide_device_interface_impl_t { void ()* @halide_use_jit_module, void ()* @halide_release_jit_module, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_image_device_malloc, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_device_free, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_device_sync, i32 (i8*)* @halide_opencl_device_release, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_image_copy_to_host, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_image_copy_to_device, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_image_device_and_host_malloc, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_image_device_and_host_free, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)* @halide_opencl_image_buffer_copy, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_buffer_t*)* @halide_opencl_image_device_crop, i32 (i8*, %struct.halide_buffer_t*, i32, i32, %struct.halide_buffer_t*)* @halide_opencl_image_device_slice, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_image_device_release_crop, i32 (i8*, %struct.halide_buffer_t*, i64)* @halide_opencl_image_wrap_cl_mem, i32 (i8*, %struct.halide_buffer_t*)* @halide_opencl_detach_cl_mem }, align 8
@.str.269 = private unnamed_addr constant [21 x i8] c"HL_OCL_PLATFORM_NAME\00", align 1
@.str.270 = private unnamed_addr constant [19 x i8] c"HL_OCL_DEVICE_TYPE\00", align 1
@.str.271 = private unnamed_addr constant [21 x i8] c"HL_OCL_BUILD_OPTIONS\00", align 1
@.str.272 = private unnamed_addr constant [34 x i8] c"OpenCL: null context or cmd_queue\00", align 1
@.str.273 = private unnamed_addr constant [23 x i8] c"OpenCL API not found: \00", align 1
@.str.274 = private unnamed_addr constant [35 x i8] c"Printer buffer allocation failed.\0A\00", align 1
@opencl_buf.data = private global [8 x i8] zeroinitializer, align 32
@opencl_gpu_source_kernels.data = private constant [23235 x i8] c"/*OpenCL C x86-64-linux-avx-avx2-f16c-fma-opencl-sse41*/\0A#pragma OPENCL FP_CONTRACT ON\0Ainline float float_from_bits(unsigned int x) {return as_float(x);}\0Ainline float nan_f32() { return NAN; }\0Ainline float neg_inf_f32() { return -INFINITY; }\0Ainline float inf_f32() { return INFINITY; }\0Ainline bool is_nan_f32(float x) {return isnan(x); }\0Ainline bool is_inf_f32(float x) {return isinf(x); }\0Ainline bool is_finite_f32(float x) {return isfinite(x); }\0A#define sqrt_f32 sqrt \0A#define sin_f32 sin \0A#define cos_f32 cos \0A#define exp_f32 exp \0A#define log_f32 log \0A#define abs_f32 fabs \0A#define floor_f32 floor \0A#define ceil_f32 ceil \0A#define round_f32 round \0A#define trunc_f32 trunc \0A#define pow_f32 pow\0A#define asin_f32 asin \0A#define acos_f32 acos \0A#define tan_f32 tan \0A#define atan_f32 atan \0A#define atan2_f32 atan2\0A#define sinh_f32 sinh \0A#define asinh_f32 asinh \0A#define cosh_f32 cosh \0A#define acosh_f32 acosh \0A#define tanh_f32 tanh \0A#define atanh_f32 atanh \0A#define fast_inverse_f32 native_recip \0A#define fast_inverse_sqrt_f32 native_rsqrt \0A#define halide_unused(x)\0A\0A__kernel void _at_least_one_kernel(int x) { }\0A// Address spaces for _kernel_conv1_s0_y_yo___block_id_y\0A#define __address_space__bias __global\0A#define __address_space__conv1 __global\0A__kernel void _kernel_conv1_s0_y_yo___block_id_y(\0A __address_space__bias const float *restrict _bias,\0A __address_space__conv1 float *restrict _conv1,\0A const int _output_extent_0,\0A const int _output_extent_1,\0A const int _output_extent_2,\0A const int _t153,\0A const int _t154,\0A const int _t155,\0A __local int16* __shared)\0A{\0A int _conv1_s0_y_yo___block_id_y = get_group_id(1);\0A int _conv1_s0_x_xo___block_id_x = get_group_id(0);\0A int ___thread_id_y = get_local_id(1);\0A int ___thread_id_x = get_local_id(0);\0A int _1 = _conv1_s0_y_yo___block_id_y * 8;\0A int _2 = _output_extent_2 + -6;\0A int _3 = min(_1, _2);\0A int _4 = _conv1_s0_x_xo___block_id_x * 16;\0A int _5 = _output_extent_1 + -14;\0A int _6 = min(_4, _5);\0A int _7 = ___thread_id_x + _6;\0A int _8 = _7 * _output_extent_0;\0A int _9 = ___thread_id_y + _3;\0A int _10 = _9 * _t153;\0A int _11 = _10 + _t155;\0A int _12 = _8 + _11;\0A for (int _conv1_s0_c_rebased = 0; _conv1_s0_c_rebased < 0 + _output_extent_0; _conv1_s0_c_rebased++)\0A {\0A  float _13 = _bias[_t154];\0A  int _14 = _conv1_s0_c_rebased + _12;\0A  _conv1[_14] = _13;\0A } // for _conv1_s0_c_rebased\0A} // kernel _kernel_conv1_s0_y_yo___block_id_y\0A#undef __address_space__bias\0A#undef __address_space__conv1\0A// Address spaces for _kernel_conv1_s1_y_yo___block_id_y\0A#define __address_space__weight_1 __global\0A#define __address_space__input __global\0A#define __address_space__conv1 __global\0A__kernel void _kernel_conv1_s1_y_yo___block_id_y(\0A __address_space__weight_1 const float *restrict _weight_1,\0A __address_space__input const float *restrict _input,\0A __address_space__conv1 float *restrict _conv1,\0A const int _t191,\0A const int _t190,\0A const int _t192,\0A const int _t194,\0A const int _t198,\0A const int _t199,\0A const int _t202,\0A const int _t203,\0A const int _t205,\0A const int _t206,\0A const int _t207,\0A const int _t209,\0A const int _t210,\0A const int _t211,\0A const int _t212,\0A const int _t213,\0A const int _weight_1_min_0,\0A const int _weight_1_stride_1,\0A const int _weight_1_stride_2,\0A const int _t158,\0A const int _input_min_1,\0A const int _input_min_2,\0A const int _input_min_3,\0A const int _input_stride_1,\0A const int _input_stride_2,\0A const int _input_stride_3,\0A const int _output_extent_0,\0A const int _output_min_0,\0A const int _output_min_1,\0A const int _output_min_2,\0A const int _input_min_0,\0A const int _t160,\0A const int _t162,\0A const int _t165,\0A const int _t167,\0A const int _t174,\0A const int _t178,\0A const int _t182,\0A const int _t183,\0A const int _t184,\0A const int _t185,\0A __local int16* __shared)\0A{\0A int _conv1_s1_y_yo___block_id_y = get_group_id(1);\0A int _conv1_s1_x_xo___block_id_x = get_group_id(0);\0A int ___thread_id_y = get_local_id(1);\0A int ___thread_id_x = get_local_id(0);\0A bool _15 = _t199 <= _conv1_s1_y_yo___block_id_y;\0A bool _16 = _conv1_s1_y_yo___block_id_y < _t158;\0A bool _17 = _15 && _16;\0A if (_17)\0A {\0A  bool _18 = _t198 <= _conv1_s1_x_xo___block_id_x;\0A  bool _19 = _conv1_s1_x_xo___block_id_x < _t160;\0A  bool _20 = _18 && _19;\0A  if (_20)\0A  {\0A   int _21 = _conv1_s1_x_xo___block_id_x * 16;\0A   int _22 = _conv1_s1_y_yo___block_id_y * 8;\0A   int _23 = ___thread_id_x + _21;\0A   int _24 = _23 * _output_extent_0;\0A   int _25 = ___thread_id_y + _22;\0A   int _26 = _25 * _t165;\0A   int _27 = _26 + _t211;\0A   int _28 = _24 + _27;\0A   int _29 = _output_min_2 + _22;\0A   int _30 = _29 + ___thread_id_y;\0A   int _31 = _output_min_1 + _21;\0A   int _32 = _31 + ___thread_id_x;\0A   for (int _conv1_s1_c_rebased = 0; _conv1_s1_c_rebased < 0 + _t212; _conv1_s1_c_rebased++)\0A   {\0A    int _33 = _t182 + -1;\0A    int _34 = _conv1_s1_c_rebased + _output_min_0;\0A    int _35 = min(_33, _34);\0A    int _36 = max(_35, _input_min_0);\0A    int _37 = _36 - _t167;\0A    int _38 = _conv1_s1_c_rebased + _28;\0A    for (int _conv1_s1_r__z = 0; _conv1_s1_r__z < 0 + 3; _conv1_s1_r__z++)\0A    {\0A     int _39 = _t185 + -1;\0A     int _40 = min(_39, _conv1_s1_r__z);\0A     int _41 = max(_40, _input_min_3);\0A     int _42 = _41 * _input_stride_3;\0A     int _43 = _42 + _37;\0A     int _44 = _conv1_s1_r__z + _t202;\0A     for (int _conv1_s1_r__y = 0; _conv1_s1_r__y < 0 + 7; _conv1_s1_r__y++)\0A     {\0A      int _45 = _conv1_s1_r__y + _30;\0A      int _46 = _45 * _input_stride_2;\0A      int _47 = _46 + _43;\0A      int _48 = _conv1_s1_r__y * _weight_1_stride_2;\0A      int _49 = _48 + _44;\0A      for (int _conv1_s1_r__x = 0; _conv1_s1_r__x < 0 + 7; _conv1_s1_r__x++)\0A      {\0A       float _50 = _conv1[_38];\0A       int _51 = _conv1_s1_r__x + _32;\0A       int _52 = _51 * _input_stride_1;\0A       int _53 = _52 + _47;\0A       float _54 = _input[_53];\0A       int _55 = _conv1_s1_r__x * _weight_1_stride_1;\0A       int _56 = _55 + _49;\0A       float _57 = _weight_1[_56];\0A       float _58 = _54 * _57;\0A       float _59 = float_from_bits(1004464476 /* 0.00680272 */);\0A       float _60 = _58 * _59;\0A       float _61 = _50 + _60;\0A       _conv1[_38] = _61;\0A      } // for _conv1_s1_r__x\0A     } // for _conv1_s1_r__y\0A    } // for _conv1_s1_r__z\0A   } // for _conv1_s1_c_rebased\0A   int _62 = _conv1_s1_x_xo___block_id_x * 16;\0A   int _63 = _conv1_s1_y_yo___block_id_y * 8;\0A   int _64 = ___thread_id_x + _62;\0A   int _65 = _64 * _output_extent_0;\0A   int _66 = ___thread_id_y + _63;\0A   int _67 = _66 * _t165;\0A   int _68 = _t211 + _t212;\0A   int _69 = _67 + _68;\0A   int _70 = _65 + _69;\0A   int _71 = _t207 - _t191;\0A   int _72 = _71 - _t192;\0A   int _73 = _72 - _t190;\0A   int _74 = _73 - _weight_1_min_0;\0A   int _75 = _74 + _t213;\0A   int _76 = _output_min_2 + _63;\0A   int _77 = _76 + ___thread_id_y;\0A   int _78 = _output_min_1 + _62;\0A   int _79 = _78 + ___thread_id_x;\0A   for (int _conv1_s1_c_rebased = 0; _conv1_s1_c_rebased < 0 + _t203; _conv1_s1_c_rebased++)\0A   {\0A    int _80 = _conv1_s1_c_rebased + _70;\0A    int _81 = _conv1_s1_c_rebased + _t205;\0A    for (int _conv1_s1_r__z = 0; _conv1_s1_r__z < 0 + _t194; _conv1_s1_r__z++)\0A    {\0A     int _82 = _t185 + -1;\0A     int _83 = min(_82, _conv1_s1_r__z);\0A     int _84 = max(_83, _input_min_3);\0A     int _85 = _84 * _input_stride_3;\0A     int _86 = _85 + _81;\0A     int _87 = _conv1_s1_r__z + _t202;\0A     for (int _conv1_s1_r__y = 0; _conv1_s1_r__y < 0 + 7; _conv1_s1_r__y++)\0A     {\0A      int _88 = _conv1_s1_r__y + _77;\0A      int _89 = _88 * _input_stride_2;\0A      int _90 = _89 + _86;\0A      int _91 = _conv1_s1_r__y * _weight_1_stride_2;\0A      int _92 = _91 + _87;\0A      for (int _conv1_s1_r__x = 0; _conv1_s1_r__x < 0 + 7; _conv1_s1_r__x++)\0A      {\0A       float _93 = _conv1[_80];\0A       int _94 = _conv1_s1_r__x + _79;\0A       int _95 = _94 * _input_stride_1;\0A       int _96 = _95 + _90;\0A       float _97 = _input[_96];\0A       int _98 = _conv1_s1_r__x * _weight_1_stride_1;\0A       int _99 = _98 + _92;\0A       float _100 = _weight_1[_99];\0A       float _101 = _97 * _100;\0A       float _102 = float_from_bits(1004464476 /* 0.00680272 */);\0A       float _103 = _101 * _102;\0A       float _104 = _93 + _103;\0A       _conv1[_80] = _104;\0A      } // for _conv1_s1_r__x\0A     } // for _conv1_s1_r__y\0A    } // for _conv1_s1_r__z\0A    int _105 = _conv1_s1_c_rebased + _70;\0A    int _106 = _conv1_s1_c_rebased + _t205;\0A    for (int _conv1_s1_r__z_rebased = 0; _conv1_s1_r__z_rebased < 0 + _t174; _conv1_s1_r__z_rebased++)\0A    {\0A     int _107 = _conv1_s1_r__z_rebased + _t194;\0A     int _108 = _107 * _input_stride_3;\0A     int _109 = _108 + _106;\0A     int _110 = _conv1_s1_r__z_rebased + _t206;\0A     for (int _conv1_s1_r__y = 0; _conv1_s1_r__y < 0 + 7; _conv1_s1_r__y++)\0A     {\0A      int _111 = _conv1_s1_r__y + _77;\0A      int _112 = _111 * _input_stride_2;\0A      int _113 = _112 + _109;\0A      int _114 = _conv1_s1_r__y * _weight_1_stride_2;\0A      int _115 = _114 + _110;\0A      for (int _conv1_s1_r__x = 0; _conv1_s1_r__x < 0 + 7; _conv1_s1_r__x++)\0A      {\0A       float _116 = _conv1[_105];\0A       int _117 = _conv1_s1_r__x + _79;\0A       int _118 = _117 * _input_stride_1;\0A       int _119 = _118 + _113;\0A       float _120 = _input[_119];\0A       int _121 = _conv1_s1_r__x * _weight_1_stride_1;\0A       int _122 = _121 + _115;\0A       float _123 = _weight_1[_122];\0A       float _124 = _120 * _123;\0A       float _125 = float_from_bits(1004464476 /* 0.00680272 */);\0A       float _126 = _124 * _125;\0A       float _127 = _116 + _126;\0A       _conv1[_105] = _127;\0A      } // for _conv1_s1_r__x\0A     } // for _conv1_s1_r__y\0A    } // for _conv1_s1_r__z_rebased\0A    int _128 = _conv1_s1_c_rebased + _70;\0A    int _129 = _conv1_s1_c_rebased + _t205;\0A    for (int _conv1_s1_r__z_rebased = 0; _conv1_s1_r__z_rebased < 0 + _t178; _conv1_s1_r__z_rebased++)\0A    {\0A     int _130 = _t185 + -1;\0A     int _131 = _conv1_s1_r__z_rebased + _t207;\0A     int _132 = min(_130, _131);\0A     int _133 = max(_132, _input_min_3);\0A     int _134 = _133 * _input_stride_3;\0A     int _135 = _134 + _129;\0A     int _136 = _conv1_s1_r__z_rebased + _75;\0A     for (int _conv1_s1_r__y = 0; _conv1_s1_r__y < 0 + 7; _conv1_s1_r__y++)\0A     {\0A      int _137 = _conv1_s1_r__y + _77;\0A      int _138 = _137 * _input_stride_2;\0A      int _139 = _138 + _135;\0A      int _140 = _conv1_s1_r__y * _weight_1_stride_2;\0A      int _141 = _140 + _136;\0A      for (int _conv1_s1_r__x = 0; _conv1_s1_r__x < 0 + 7; _conv1_s1_r__x++)\0A      {\0A       float _142 = _conv1[_128];\0A       int _143 = _conv1_s1_r__x + _79;\0A       int _144 = _143 * _input_stride_1;\0A       int _145 = _144 + _139;\0A       float _146 = _input[_145];\0A       int _147 = _conv1_s1_r__x * _weight_1_stride_1;\0A       int _148 = _147 + _141;\0A       float _149 = _weight_1[_148];\0A       float _150 = _146 * _149;\0A       float _151 = float_from_bits(1004464476 /* 0.00680272 */);\0A       float _152 = _150 * _151;\0A       float _153 = _142 + _152;\0A       _conv1[_128] = _153;\0A      } // for _conv1_s1_r__x\0A     } // for _conv1_s1_r__y\0A    } // for _conv1_s1_r__z_rebased\0A   } // for _conv1_s1_c_rebased\0A   int _154 = _conv1_s1_x_xo___block_id_x * 16;\0A   int _155 = _conv1_s1_y_yo___block_id_y * 8;\0A   int _156 = ___thread_id_x + _154;\0A   int _157 = _156 * _output_extent_0;\0A   int _158 = ___thread_id_y + _155;\0A   int _159 = _158 * _t165;\0A   int _160 = _159 + _t210;\0A   int _161 = _157 + _160;\0A   int _162 = _output_min_2 + _155;\0A   int _163 = _162 + ___thread_id_y;\0A   int _164 = _output_min_1 + _154;\0A   int _165 = _164 + ___thread_id_x;\0A   for (int _conv1_s1_c_rebased = 0; _conv1_s1_c_rebased < 0 + _t209; _conv1_s1_c_rebased++)\0A   {\0A    int _166 = _t182 + -1;\0A    int _167 = _conv1_s1_c_rebased + _t162;\0A    int _168 = min(_166, _167);\0A    int _169 = max(_168, _input_min_0);\0A    int _170 = _169 - _t167;\0A    int _171 = _conv1_s1_c_rebased + _161;\0A    for (int _conv1_s1_r__z = 0; _conv1_s1_r__z < 0 + 3; _conv1_s1_r__z++)\0A    {\0A     int _172 = _t185 + -1;\0A     int _173 = min(_172, _conv1_s1_r__z);\0A     int _174 = max(_173, _input_min_3);\0A     int _175 = _174 * _input_stride_3;\0A     int _176 = _175 + _170;\0A     int _177 = _conv1_s1_r__z + _t202;\0A     for (int _conv1_s1_r__y = 0; _conv1_s1_r__y < 0 + 7; _conv1_s1_r__y++)\0A     {\0A      int _178 = _conv1_s1_r__y + _163;\0A      int _179 = _178 * _input_stride_2;\0A      int _180 = _179 + _176;\0A      int _181 = _conv1_s1_r__y * _weight_1_stride_2;\0A      int _182 = _181 + _177;\0A      for (int _conv1_s1_r__x = 0; _conv1_s1_r__x < 0 + 7; _conv1_s1_r__x++)\0A      {\0A       float _183 = _conv1[_171];\0A       int _184 = _conv1_s1_r__x + _165;\0A       int _185 = _184 * _input_stride_1;\0A       int _186 = _185 + _180;\0A       float _187 = _input[_186];\0A       int _188 = _conv1_s1_r__x * _weight_1_stride_1;\0A       int _189 = _188 + _182;\0A       float _190 = _weight_1[_189];\0A       float _191 = _187 * _190;\0A       float _192 = float_from_bits(1004464476 /* 0.00680272 */);\0A       float _193 = _191 * _192;\0A       float _194 = _183 + _193;\0A       _conv1[_171] = _194;\0A      } // for _conv1_s1_r__x\0A     } // for _conv1_s1_r__y\0A    } // for _conv1_s1_r__z\0A   } // for _conv1_s1_c_rebased\0A  } // if _20\0A  else\0A  {\0A   int _195 = _conv1_s1_x_xo___block_id_x * 16;\0A   int _196 = _conv1_s1_y_yo___block_id_y * 8;\0A   int _197 = ___thread_id_x + _195;\0A   int _198 = _197 * _output_extent_0;\0A   int _199 = ___thread_id_y + _196;\0A   int _200 = _199 * _t165;\0A   int _201 = _200 + _t211;\0A   int _202 = _198 + _201;\0A   int _203 = _output_min_2 + _196;\0A   int _204 = _203 + ___thread_id_y;\0A   int _205 = _output_min_1 + _195;\0A   int _206 = _205 + ___thread_id_x;\0A   for (int _conv1_s1_c_rebased = 0; _conv1_s1_c_rebased < 0 + _output_extent_0; _conv1_s1_c_rebased++)\0A   {\0A    int _207 = _t182 + -1;\0A    int _208 = _conv1_s1_c_rebased + _output_min_0;\0A    int _209 = min(_207, _208);\0A    int _210 = max(_209, _input_min_0);\0A    int _211 = _210 - _t167;\0A    int _212 = _conv1_s1_c_rebased + _202;\0A    for (int _conv1_s1_r__z = 0; _conv1_s1_r__z < 0 + 3; _conv1_s1_r__z++)\0A    {\0A     int _213 = _t185 + -1;\0A     int _214 = min(_213, _conv1_s1_r__z);\0A     int _215 = max(_214, _input_min_3);\0A     int _216 = _215 * _input_stride_3;\0A     int _217 = _216 + _211;\0A     int _218 = _conv1_s1_r__z + _t202;\0A     for (int _conv1_s1_r__y = 0; _conv1_s1_r__y < 0 + 7; _conv1_s1_r__y++)\0A     {\0A      int _219 = _conv1_s1_r__y + _204;\0A      int _220 = _219 * _input_stride_2;\0A      int _221 = _220 + _217;\0A      int _222 = _conv1_s1_r__y * _weight_1_stride_2;\0A      int _223 = _222 + _218;\0A      for (int _conv1_s1_r__x = 0; _conv1_s1_r__x < 0 + 7; _conv1_s1_r__x++)\0A      {\0A       float _224 = _conv1[_212];\0A       int _225 = _conv1_s1_r__x + _206;\0A       int _226 = _t183 + -1;\0A       int _227 = min(_225, _226);\0A       int _228 = max(_227, _input_min_1);\0A       int _229 = _228 * _input_stride_1;\0A       int _230 = _229 + _221;\0A       float _231 = _input[_230];\0A       int _232 = _conv1_s1_r__x * _weight_1_stride_1;\0A       int _233 = _232 + _223;\0A       float _234 = _weight_1[_233];\0A       float _235 = _231 * _234;\0A       float _236 = float_from_bits(1004464476 /* 0.00680272 */);\0A       float _237 = _235 * _236;\0A       float _238 = _224 + _237;\0A       _conv1[_212] = _238;\0A      } // for _conv1_s1_r__x\0A     } // for _conv1_s1_r__y\0A    } // for _conv1_s1_r__z\0A   } // for _conv1_s1_c_rebased\0A  } // if _20 else\0A } // if _17\0A else\0A {\0A  int _239 = _conv1_s1_x_xo___block_id_x * 16;\0A  int _240 = _conv1_s1_y_yo___block_id_y * 8;\0A  int _241 = ___thread_id_x + _239;\0A  int _242 = _241 * _output_extent_0;\0A  int _243 = ___thread_id_y + _240;\0A  int _244 = _243 * _t165;\0A  int _245 = _244 + _t211;\0A  int _246 = _242 + _245;\0A  int _247 = _output_min_2 + _240;\0A  int _248 = _247 + ___thread_id_y;\0A  int _249 = _output_min_1 + _239;\0A  int _250 = _249 + ___thread_id_x;\0A  for (int _conv1_s1_c_rebased = 0; _conv1_s1_c_rebased < 0 + _output_extent_0; _conv1_s1_c_rebased++)\0A  {\0A   int _251 = _t182 + -1;\0A   int _252 = _conv1_s1_c_rebased + _output_min_0;\0A   int _253 = min(_251, _252);\0A   int _254 = max(_253, _input_min_0);\0A   int _255 = _254 - _t167;\0A   int _256 = _conv1_s1_c_rebased + _246;\0A   for (int _conv1_s1_r__z = 0; _conv1_s1_r__z < 0 + 3; _conv1_s1_r__z++)\0A   {\0A    int _257 = _t185 + -1;\0A    int _258 = min(_257, _conv1_s1_r__z);\0A    int _259 = max(_258, _input_min_3);\0A    int _260 = _259 * _input_stride_3;\0A    int _261 = _260 + _255;\0A    int _262 = _conv1_s1_r__z + _t202;\0A    for (int _conv1_s1_r__y = 0; _conv1_s1_r__y < 0 + 7; _conv1_s1_r__y++)\0A    {\0A     int _263 = _conv1_s1_r__y + _248;\0A     int _264 = _t184 + -1;\0A     int _265 = min(_263, _264);\0A     int _266 = max(_265, _input_min_2);\0A     int _267 = _266 * _input_stride_2;\0A     int _268 = _267 + _261;\0A     int _269 = _conv1_s1_r__y * _weight_1_stride_2;\0A     int _270 = _269 + _262;\0A     for (int _conv1_s1_r__x = 0; _conv1_s1_r__x < 0 + 7; _conv1_s1_r__x++)\0A     {\0A      float _271 = _conv1[_256];\0A      int _272 = _conv1_s1_r__x + _250;\0A      int _273 = _t183 + -1;\0A      int _274 = min(_272, _273);\0A      int _275 = max(_274, _input_min_1);\0A      int _276 = _275 * _input_stride_1;\0A      int _277 = _276 + _268;\0A      float _278 = _input[_277];\0A      int _279 = _conv1_s1_r__x * _weight_1_stride_1;\0A      int _280 = _279 + _270;\0A      float _281 = _weight_1[_280];\0A      float _282 = _278 * _281;\0A      float _283 = float_from_bits(1004464476 /* 0.00680272 */);\0A      float _284 = _282 * _283;\0A      float _285 = _271 + _284;\0A      _conv1[_256] = _285;\0A     } // for _conv1_s1_r__x\0A    } // for _conv1_s1_r__y\0A   } // for _conv1_s1_r__z\0A  } // for _conv1_s1_c_rebased\0A } // if _17 else\0A} // kernel _kernel_conv1_s1_y_yo___block_id_y\0A#undef __address_space__weight_1\0A#undef __address_space__input\0A#undef __address_space__conv1\0A// Address spaces for _kernel_conv2_s0_y_yo___block_id_y\0A#define __address_space__bias __global\0A#define __address_space__conv2 __global\0A__kernel void _kernel_conv2_s0_y_yo___block_id_y(\0A __address_space__bias const float *restrict _bias,\0A __address_space__conv2 float *restrict _conv2,\0A const int _output_extent_0,\0A const int _output_extent_1,\0A const int _output_extent_2,\0A const int _t285,\0A const int _t286,\0A const int _t287,\0A __local int16* __shared)\0A{\0A int _conv2_s0_y_yo___block_id_y = get_group_id(1);\0A int _conv2_s0_x_xo___block_id_x = get_group_id(0);\0A int ___thread_id_y = get_local_id(1);\0A int ___thread_id_x = get_local_id(0);\0A int _286 = _conv2_s0_y_yo___block_id_y * 8;\0A int _287 = _output_extent_2 + -8;\0A int _288 = min(_286, _287);\0A int _289 = _conv2_s0_x_xo___block_id_x * 16;\0A int _290 = _output_extent_1 + -16;\0A int _291 = min(_289, _290);\0A int _292 = ___thread_id_x + _291;\0A int _293 = _292 * _output_extent_0;\0A int _294 = ___thread_id_y + _288;\0A int _295 = _294 * _t285;\0A int _296 = _295 + _t287;\0A int _297 = _293 + _296;\0A for (int _conv2_s0_c_rebased = 0; _conv2_s0_c_rebased < 0 + _output_extent_0; _conv2_s0_c_rebased++)\0A {\0A  float _298 = _bias[_t286];\0A  int _299 = _conv2_s0_c_rebased + _297;\0A  _conv2[_299] = _298;\0A } // for _conv2_s0_c_rebased\0A} // kernel _kernel_conv2_s0_y_yo___block_id_y\0A#undef __address_space__bias\0A#undef __address_space__conv2\0A// Address spaces for _kernel_conv2_s1_y_yo___block_id_y\0A#define __address_space__conv1 __global\0A#define __address_space__conv2 __global\0A#define __address_space__weight_2 __global\0A__kernel void _kernel_conv2_s1_y_yo___block_id_y(\0A __address_space__conv1 const float *restrict _conv1,\0A __address_space__conv2 float *restrict _conv2,\0A __address_space__weight_2 const float *restrict _weight_2,\0A const int _conv1_stride_3,\0A const int _output_extent_0,\0A const int _t291,\0A const int _t292,\0A const int _t295,\0A const int _t296,\0A const int _weight_2_stride_1,\0A const int _weight_2_stride_2,\0A __local int16* __shared)\0A{\0A int _conv2_s1_y_yo___block_id_y = get_group_id(1);\0A int _conv2_s1_x_xo___block_id_x = get_group_id(0);\0A int ___thread_id_y = get_local_id(1);\0A int ___thread_id_x = get_local_id(0);\0A int _300 = _conv2_s1_x_xo___block_id_x * 16;\0A int _301 = _300 + ___thread_id_x;\0A int _302 = _conv2_s1_y_yo___block_id_y * 8;\0A int _303 = _302 + ___thread_id_y;\0A int _304 = _output_extent_0 * _301;\0A int _305 = _t291 * _303;\0A int _306 = _305 + _t295;\0A int _307 = _304 + _306;\0A for (int _conv2_s1_c_rebased = 0; _conv2_s1_c_rebased < 0 + _output_extent_0; _conv2_s1_c_rebased++)\0A {\0A  int _308 = _conv2_s1_c_rebased + _307;\0A  for (int _conv2_s1_R__z = 0; _conv2_s1_R__z < 0 + 64; _conv2_s1_R__z++)\0A  {\0A   int _309 = _conv1_stride_3 * _conv2_s1_R__z;\0A   int _310 = _309 + _conv2_s1_c_rebased;\0A   int _311 = _conv2_s1_R__z + _t296;\0A   for (int _conv2_s1_R__y = 0; _conv2_s1_R__y < 0 + 3; _conv2_s1_R__y++)\0A   {\0A    int _312 = _conv2_s1_R__y + _303;\0A    int _313 = _312 * _t292;\0A    int _314 = _313 + _310;\0A    int _315 = _conv2_s1_R__y * _weight_2_stride_2;\0A    int _316 = _315 + _311;\0A    for (int _conv2_s1_R__x = 0; _conv2_s1_R__x < 0 + 3; _conv2_s1_R__x++)\0A    {\0A     float _317 = _conv2[_308];\0A     int _318 = _conv2_s1_R__x + _301;\0A     int _319 = _318 * _output_extent_0;\0A     int _320 = _319 + _314;\0A     float _321 = _conv1[_320];\0A     int _322 = _conv2_s1_R__x * _weight_2_stride_1;\0A     int _323 = _322 + _316;\0A     float _324 = _weight_2[_323];\0A     float _325 = _321 * _324;\0A     float _326 = float_from_bits(967257861 /* 0.000318878 */);\0A     float _327 = _325 * _326;\0A     float _328 = _317 + _327;\0A     _conv2[_308] = _328;\0A    } // for _conv2_s1_R__x\0A   } // for _conv2_s1_R__y\0A  } // for _conv2_s1_R__z\0A } // for _conv2_s1_c_rebased\0A} // kernel _kernel_conv2_s1_y_yo___block_id_y\0A#undef __address_space__conv1\0A#undef __address_space__conv2\0A#undef __address_space__weight_2\0A// Address spaces for _kernel_output_s0_y_yo___block_id_y\0A#define __address_space__conv2 __global\0A#define __address_space__output __global\0A__kernel void _kernel_output_s0_y_yo___block_id_y(\0A __address_space__conv2 const float *restrict _conv2,\0A __address_space__output float *restrict _output,\0A const int _output_extent_0,\0A const int _output_extent_1,\0A const int _output_extent_2,\0A const int _output_min_1,\0A const int _output_min_2,\0A const int _output_stride_1,\0A const int _output_stride_2,\0A const int _t309,\0A const int _t311,\0A const int _t312,\0A __local int16* __shared)\0A{\0A int _output_s0_y_yo___block_id_y = get_group_id(1);\0A int _output_s0_x_xo___block_id_x = get_group_id(0);\0A int ___thread_id_y = get_local_id(1);\0A int ___thread_id_x = get_local_id(0);\0A int _329 = _output_s0_y_yo___block_id_y * 8;\0A int _330 = _output_extent_2 + -8;\0A int _331 = min(_329, _330);\0A int _332 = _output_s0_x_xo___block_id_x * 16;\0A int _333 = _output_extent_1 + -16;\0A int _334 = min(_332, _333);\0A int _335 = _output_min_1 + _334;\0A int _336 = _335 + ___thread_id_x;\0A int _337 = _336 * _output_stride_1;\0A int _338 = _output_min_2 + _331;\0A int _339 = _338 + ___thread_id_y;\0A int _340 = _339 * _output_stride_2;\0A int _341 = _340 + _t312;\0A int _342 = _337 + _341;\0A int _343 = ___thread_id_x + _334;\0A int _344 = _343 * _output_extent_0;\0A int _345 = ___thread_id_y + _331;\0A int _346 = _345 * _t309;\0A int _347 = _346 + _t311;\0A int _348 = _344 + _347;\0A for (int _output_s0_c_rebased = 0; _output_s0_c_rebased < 0 + _output_extent_0; _output_s0_c_rebased++)\0A {\0A  int _349 = _output_s0_c_rebased + _348;\0A  float _350 = _conv2[_349];\0A  float _351 = float_from_bits(0 /* 0 */);\0A  float _352 = max(_350, _351);\0A  int _353 = _output_s0_c_rebased + _342;\0A  _output[_353] = _352;\0A } // for _output_s0_c_rebased\0A} // kernel _kernel_output_s0_y_yo___block_id_y\0A#undef __address_space__conv2\0A#undef __address_space__output\0A\00", align 32
@0 = private constant [8 x i64*] zeroinitializer
@str = private constant [6 x i8] c"input\00", align 32
@1 = private constant [2 x i64*] zeroinitializer
@str.267 = private constant [5 x i8] c"bias\00", align 32
@2 = private constant [8 x i64*] zeroinitializer
@str.268 = private constant [9 x i8] c"weight_1\00", align 32
@3 = private constant [8 x i64*] zeroinitializer
@str.269 = private constant [9 x i8] c"weight_2\00", align 32
@4 = private constant [8 x i64*] zeroinitializer
@str.270 = private constant [7 x i8] c"output\00", align 32
@5 = private constant [5 x %struct.halide_filter_argument_t] [%struct.halide_filter_argument_t { i8* getelementptr inbounds ([6 x i8], [6 x i8]* @str, i32 0, i32 0), i32 1, i32 4, %struct.halide_type_t { i8 2, i8 32, i16 1 }, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, i64** getelementptr inbounds ([8 x i64*], [8 x i64*]* @0, i32 0, i32 0) }, %struct.halide_filter_argument_t { i8* getelementptr inbounds ([5 x i8], [5 x i8]* @str.267, i32 0, i32 0), i32 1, i32 1, %struct.halide_type_t { i8 2, i8 32, i16 1 }, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, i64** getelementptr inbounds ([2 x i64*], [2 x i64*]* @1, i32 0, i32 0) }, %struct.halide_filter_argument_t { i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.268, i32 0, i32 0), i32 1, i32 4, %struct.halide_type_t { i8 2, i8 32, i16 1 }, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, i64** getelementptr inbounds ([8 x i64*], [8 x i64*]* @2, i32 0, i32 0) }, %struct.halide_filter_argument_t { i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.269, i32 0, i32 0), i32 1, i32 4, %struct.halide_type_t { i8 2, i8 32, i16 1 }, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, i64** getelementptr inbounds ([8 x i64*], [8 x i64*]* @3, i32 0, i32 0) }, %struct.halide_filter_argument_t { i8* getelementptr inbounds ([7 x i8], [7 x i8]* @str.270, i32 0, i32 0), i32 2, i32 4, %struct.halide_type_t { i8 2, i8 32, i16 1 }, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, %struct.halide_scalar_value_t* null, i64** getelementptr inbounds ([8 x i64*], [8 x i64*]* @4, i32 0, i32 0) }]
@str.271 = private constant [44 x i8] c"x86-64-linux-avx-avx2-f16c-fma-opencl-sse41\00", align 32
@str.272 = private constant [10 x i8] c"simple_ex\00", align 32
@simple_ex_metadata_storage = private constant %struct.halide_filter_metadata_t { i32 1, i32 5, %struct.halide_filter_argument_t* getelementptr inbounds ([5 x %struct.halide_filter_argument_t], [5 x %struct.halide_filter_argument_t]* @5, i32 0, i32 0), i8* getelementptr inbounds ([44 x i8], [44 x i8]* @str.271, i32 0, i32 0), i8* getelementptr inbounds ([10 x i8], [10 x i8]* @str.272, i32 0, i32 0) }
@str.273 = private constant [18 x i8] c"Input buffer bias\00", align 32
@str.274 = private constant [19 x i8] c"Input buffer input\00", align 32
@str.275 = private constant [21 x i8] c"Output buffer output\00", align 32
@str.276 = private constant [22 x i8] c"Input buffer weight_1\00", align 32
@str.277 = private constant [22 x i8] c"Input buffer weight_2\00", align 32
@str.278 = private constant [14 x i8] c"bias.stride.0\00", align 32
@str.279 = private constant [2 x i8] c"1\00", align 32
@str.280 = private constant [15 x i8] c"input.stride.0\00", align 32
@str.281 = private constant [16 x i8] c"output.stride.0\00", align 32
@str.282 = private constant [18 x i8] c"weight_1.stride.0\00", align 32
@str.283 = private constant [18 x i8] c"weight_2.stride.0\00", align 32
@str.284 = private constant [35 x i8] c"_kernel_conv1_s0_y_yo___block_id_y\00", align 32
@str.285 = private constant [35 x i8] c"_kernel_conv1_s1_y_yo___block_id_y\00", align 32
@str.286 = private constant [35 x i8] c"_kernel_conv2_s0_y_yo___block_id_y\00", align 32
@str.287 = private constant [35 x i8] c"_kernel_conv2_s1_y_yo___block_id_y\00", align 32
@str.288 = private constant [36 x i8] c"_kernel_output_s0_y_yo___block_id_y\00", align 32
@reltable.halide_type_to_string = private unnamed_addr constant [4 x i32] [i32 trunc (i64 sub (i64 ptrtoint ([4 x i8]* @.str.14.76 to i64), i64 ptrtoint ([4 x i32]* @reltable.halide_type_to_string to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([5 x i8]* @.str.15.75 to i64), i64 ptrtoint ([4 x i32]* @reltable.halide_type_to_string to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([6 x i8]* @.str.16.74 to i64), i64 ptrtoint ([4 x i32]* @reltable.halide_type_to_string to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([7 x i8]* @.str.17.73 to i64), i64 ptrtoint ([4 x i32]* @reltable.halide_type_to_string to i64)) to i32)], align 4
@reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi = private unnamed_addr constant [69 x i32] [i32 trunc (i64 sub (i64 ptrtoint ([34 x i8]* @.str.241 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([26 x i8]* @.str.240 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([28 x i8]* @.str.239 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([28 x i8]* @.str.238 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([20 x i8]* @.str.237 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([28 x i8]* @.str.236 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([21 x i8]* @.str.235 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([23 x i8]* @.str.234 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([21 x i8]* @.str.233 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([21 x i8]* @.str.232 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([17 x i8]* @.str.231 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([27 x i8]* @.str.230 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([25 x i8]* @.str.229 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([26 x i8]* @.str.228 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([27 x i8]* @.str.227 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([26 x i8]* @.str.226 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([23 x i8]* @.str.225 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([20 x i8]* @.str.224 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([21 x i8]* @.str.223 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([21 x i8]* @.str.222 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([18 x i8]* @.str.221 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([29 x i8]* @.str.220 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([23 x i8]* @.str.219 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([30 x i8]* @.str.218 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([19 x i8]* @.str.217 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([25 x i8]* @.str.216 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([18 x i8]* @.str.215 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([19 x i8]* @.str.214 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([22 x i8]* @.str.213 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([35 x i8]* @.str.212 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([22 x i8]* @.str.211 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([20 x i8]* @.str.210 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([25 x i8]* @.str.209 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([28 x i8]* @.str.208 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([19 x i8]* @.str.207 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([18 x i8]* @.str.206 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([20 x i8]* @.str.205 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([23 x i8]* @.str.204 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([17 x i8]* @.str.203 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([16 x i8]* @.str.242 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([16 x i8]* @.str.242 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([16 x i8]* @.str.242 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([16 x i8]* @.str.242 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([16 x i8]* @.str.242 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([16 x i8]* @.str.242 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([16 x i8]* @.str.242 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([16 x i8]* @.str.242 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([16 x i8]* @.str.242 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([16 x i8]* @.str.242 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([33 x i8]* @.str.202 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([27 x i8]* @.str.201 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([24 x i8]* @.str.200 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([24 x i8]* @.str.199 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([27 x i8]* @.str.198 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([45 x i8]* @.str.197.201 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([32 x i8]* @.str.196 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([15 x i8]* @.str.195 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([25 x i8]* @.str.194 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([30 x i8]* @.str.193 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([25 x i8]* @.str.192 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([20 x i8]* @.str.191 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([32 x i8]* @.str.190 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([22 x i8]* @.str.189 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([20 x i8]* @.str.188 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([33 x i8]* @.str.187 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([26 x i8]* @.str.186.202 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([24 x i8]* @.str.185 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([20 x i8]* @.str.184 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32), i32 trunc (i64 sub (i64 ptrtoint ([11 x i8]* @.str.183 to i64), i64 ptrtoint ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i64)) to i32)], align 4

; Function Attrs: mustprogress nounwind
define weak i8* @halide_default_malloc(i8* %user_context, i64 %x) #0 {
entry:
  %add = add i64 %x, 64
  %call1 = tail call i8* @malloc(i64 %add) #16
  %cmp = icmp eq i8* %call1, null
  br i1 %cmp, label %cleanup, label %if.end

if.end:                                           ; preds = %entry
  %0 = ptrtoint i8* %call1 to i64
  %sub = add i64 %0, 71
  %and = and i64 %sub, -64
  %1 = inttoptr i64 %and to i8*
  %2 = inttoptr i64 %and to i8**
  %arrayidx = getelementptr inbounds i8*, i8** %2, i64 -1
  store i8* %call1, i8** %arrayidx, align 8, !tbaa !11
  br label %cleanup

cleanup:                                          ; preds = %if.end, %entry
  %retval.0 = phi i8* [ %1, %if.end ], [ null, %entry ]
  ret i8* %retval.0
}

declare i8* @malloc(i64) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak void @halide_default_free(i8* %user_context, i8* %ptr) #0 {
entry:
  %arrayidx = getelementptr inbounds i8, i8* %ptr, i64 -8
  %0 = bitcast i8* %arrayidx to i8**
  %1 = load i8*, i8** %0, align 8, !tbaa !11
  tail call void @free(i8* %1) #16
  ret void
}

declare void @free(i8*) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak i8* (i8*, i64)* @halide_set_custom_malloc(i8* (i8*, i64)* %user_malloc) local_unnamed_addr #0 {
entry:
  %0 = load i8* (i8*, i64)*, i8* (i8*, i64)** @_ZN6Halide7Runtime8Internal13custom_mallocE, align 8, !tbaa !11
  store i8* (i8*, i64)* %user_malloc, i8* (i8*, i64)** @_ZN6Halide7Runtime8Internal13custom_mallocE, align 8, !tbaa !11
  ret i8* (i8*, i64)* %0
}

; Function Attrs: mustprogress nounwind
define weak void (i8*, i8*)* @halide_set_custom_free(void (i8*, i8*)* %user_free) local_unnamed_addr #0 {
entry:
  %0 = load void (i8*, i8*)*, void (i8*, i8*)** @_ZN6Halide7Runtime8Internal11custom_freeE, align 8, !tbaa !11
  store void (i8*, i8*)* %user_free, void (i8*, i8*)** @_ZN6Halide7Runtime8Internal11custom_freeE, align 8, !tbaa !11
  ret void (i8*, i8*)* %0
}

; Function Attrs: mustprogress nounwind
define weak noalias i8* @halide_malloc(i8* %user_context, i64 %x) local_unnamed_addr #0 {
entry:
  %0 = load i8* (i8*, i64)*, i8* (i8*, i64)** @_ZN6Halide7Runtime8Internal13custom_mallocE, align 8, !tbaa !11
  %call = tail call i8* %0(i8* %user_context, i64 %x) #16
  ret i8* %call
}

; Function Attrs: mustprogress nounwind
define weak void @halide_free(i8* %user_context, i8* %ptr) local_unnamed_addr #0 {
entry:
  %0 = load void (i8*, i8*)*, void (i8*, i8*)** @_ZN6Halide7Runtime8Internal11custom_freeE, align 8, !tbaa !11
  tail call void %0(i8* %user_context, i8* %ptr) #16
  ret void
}

; Function Attrs: mustprogress nounwind
define weak void @halide_default_error(i8* %user_context, i8* %msg) #0 {
entry:
  %buf = alloca [4096 x i8], align 1
  %0 = getelementptr inbounds [4096 x i8], [4096 x i8]* %buf, i64 0, i64 0
  call void @llvm.lifetime.start.p0i8(i64 4096, i8* nonnull %0) #11
  %add.ptr = getelementptr inbounds [4096 x i8], [4096 x i8]* %buf, i64 0, i64 4094
  %call = call i8* @halide_string_to_string(i8* nonnull %0, i8* nonnull %add.ptr, i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str, i64 0, i64 0)) #16
  %add.ptr2 = getelementptr inbounds i8, i8* %call, i64 4094
  %call3 = call i8* @halide_string_to_string(i8* %call, i8* nonnull %add.ptr2, i8* %msg) #16
  %arrayidx = getelementptr inbounds i8, i8* %call3, i64 -1
  %1 = load i8, i8* %arrayidx, align 1, !tbaa !15
  %cmp.not = icmp eq i8 %1, 10
  br i1 %cmp.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  store i8 10, i8* %call3, align 1, !tbaa !15
  %arrayidx5 = getelementptr inbounds i8, i8* %call3, i64 1
  store i8 0, i8* %arrayidx5, align 1, !tbaa !15
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  %dst.0 = phi i8* [ %arrayidx5, %if.then ], [ %call3, %entry ]
  %sub.ptr.lhs.cast = ptrtoint i8* %dst.0 to i64
  %sub.ptr.rhs.cast = ptrtoint [4096 x i8]* %buf to i64
  %sub.ptr.sub = sub i64 1, %sub.ptr.rhs.cast
  %add = add i64 %sub.ptr.sub, %sub.ptr.lhs.cast
  %call9 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %0, i64 %add) #16
  call void @halide_print(i8* %user_context, i8* nonnull %0) #16
  call void @abort() #16
  call void @llvm.lifetime.end.p0i8(i64 4096, i8* nonnull %0) #11
  ret void
}

; Function Attrs: argmemonly mustprogress nofree nosync nounwind willreturn
declare void @llvm.lifetime.start.p0i8(i64 immarg, i8* nocapture) #2

declare void @abort() local_unnamed_addr #1

; Function Attrs: argmemonly mustprogress nofree nosync nounwind willreturn
declare void @llvm.lifetime.end.p0i8(i64 immarg, i8* nocapture) #2

; Function Attrs: mustprogress nounwind
define weak void @halide_error(i8* %user_context, i8* %msg) local_unnamed_addr #0 {
entry:
  %0 = load void (i8*, i8*)*, void (i8*, i8*)** @_ZN6Halide7Runtime8Internal13error_handlerE, align 8, !tbaa !11
  tail call void %0(i8* %user_context, i8* %msg) #16
  ret void
}

; Function Attrs: mustprogress nounwind
define weak void (i8*, i8*)* @halide_set_error_handler(void (i8*, i8*)* %handler) local_unnamed_addr #0 {
entry:
  %0 = load void (i8*, i8*)*, void (i8*, i8*)** @_ZN6Halide7Runtime8Internal13error_handlerE, align 8, !tbaa !11
  store void (i8*, i8*)* %handler, void (i8*, i8*)** @_ZN6Halide7Runtime8Internal13error_handlerE, align 8, !tbaa !11
  ret void (i8*, i8*)* %0
}

; Function Attrs: mustprogress nounwind
define weak void @halide_print(i8* %user_context, i8* %msg) local_unnamed_addr #0 {
entry:
  %0 = load void (i8*, i8*)*, void (i8*, i8*)** @_ZN6Halide7Runtime8Internal12custom_printE, align 8, !tbaa !11
  tail call void %0(i8* %user_context, i8* %msg) #16
  ret void
}

; Function Attrs: mustprogress nounwind
define weak void (i8*, i8*)* @halide_set_custom_print(void (i8*, i8*)* %print) local_unnamed_addr #0 {
entry:
  %0 = load void (i8*, i8*)*, void (i8*, i8*)** @_ZN6Halide7Runtime8Internal12custom_printE, align 8, !tbaa !11
  store void (i8*, i8*)* %print, void (i8*, i8*)** @_ZN6Halide7Runtime8Internal12custom_printE, align 8, !tbaa !11
  ret void (i8*, i8*)* %0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_start_clock(i8* %user_context) local_unnamed_addr #0 {
entry:
  %0 = load i8, i8* @halide_reference_clock_inited, align 1, !tbaa !16, !range !18
  %tobool.not = icmp eq i8 %0, 0
  br i1 %tobool.not, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  %call = tail call i32 (i32, ...) @syscall(i32 228, i32 0, %struct.timespec* nonnull @halide_reference_clock) #16
  store i8 1, i8* @halide_reference_clock_inited, align 1, !tbaa !16
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  ret i32 0
}

declare i32 @syscall(i32, ...) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak i64 @halide_current_time_ns(i8* %user_context) local_unnamed_addr #0 {
entry:
  %now = alloca <2 x i64>, align 16
  %0 = bitcast <2 x i64>* %now to i8*
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %0) #11
  %call = call i32 (i32, ...) @syscall(i32 228, i32 0, <2 x i64>* nonnull %now) #16
  %1 = load <2 x i64>, <2 x i64>* %now, align 16, !tbaa !19
  %2 = load <2 x i64>, <2 x i64>* bitcast (%struct.timespec* @halide_reference_clock to <2 x i64>*), align 8, !tbaa !19
  %3 = sub <2 x i64> %1, %2
  %4 = extractelement <2 x i64> %3, i32 0
  %mul = mul nsw i64 %4, 1000000000
  %5 = extractelement <2 x i64> %3, i32 1
  %add = add nsw i64 %mul, %5
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %0) #11
  ret i64 %add
}

; Function Attrs: mustprogress nounwind
define weak void @halide_sleep_ms(i8* %user_context, i32 %ms) local_unnamed_addr #0 {
entry:
  %mul = mul nsw i32 %ms, 1000
  %call = tail call i32 @usleep(i32 %mul) #16
  ret void
}

declare i32 @usleep(i32) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak void @halide_default_print(i8* %user_context, i8* %str) #0 {
entry:
  %call = tail call i64 @strlen(i8* %str) #16
  %call1 = tail call i64 @write(i32 1, i8* %str, i64 %call) #16
  ret void
}

declare i64 @strlen(i8*) local_unnamed_addr #1

declare i64 @write(i32, i8*, i64) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak i32 @halide_host_cpu_count() local_unnamed_addr #0 {
entry:
  %call = tail call i64 @sysconf(i32 84) #16
  %conv = trunc i64 %call to i32
  ret i32 %conv
}

declare i64 @sysconf(i32) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak void @halide_thread_yield() local_unnamed_addr #0 {
entry:
  %call = tail call i32 @sched_yield() #16
  ret void
}

declare i32 @sched_yield() local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_do_task(i8* %user_context, i32 (i8*, i32, i8*)* %f, i32 %idx, i8* %closure) #0 {
entry:
  %call = tail call i32 %f(i8* %user_context, i32 %idx, i8* %closure) #16
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_do_loop_task(i8* %user_context, i32 (i8*, i32, i32, i8*, i8*)* %f, i32 %min, i32 %extent, i8* %closure, i8* %task_parent) #0 {
entry:
  %call = tail call i32 %f(i8* %user_context, i32 %min, i32 %extent, i8* %closure, i8* %task_parent) #16
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_do_par_for(i8* %user_context, i32 (i8*, i32, i8*)* %f, i32 %min, i32 %size, i8* %closure) #0 {
entry:
  %job = alloca %"struct.Halide::Runtime::Internal::work", align 8
  %cmp = icmp slt i32 %size, 1
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %entry
  %0 = bitcast %"struct.Halide::Runtime::Internal::work"* %job to i8*
  call void @llvm.lifetime.start.p0i8(i64 128, i8* nonnull %0) #11
  %fn = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 0, i32 0
  store i32 (i8*, i32, i32, i8*, i8*)* null, i32 (i8*, i32, i32, i8*, i8*)** %fn, align 8, !tbaa !21
  %min2 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 0, i32 5
  store i32 %min, i32* %min2, align 4, !tbaa !25
  %extent = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 0, i32 6
  store i32 %size, i32* %extent, align 8, !tbaa !26
  %serial = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 0, i32 8
  store i8 0, i8* %serial, align 8, !tbaa !27
  %semaphores = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 0, i32 3
  store %struct.halide_semaphore_acquire_t* null, %struct.halide_semaphore_acquire_t** %semaphores, align 8, !tbaa !28
  %num_semaphores = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 0, i32 4
  store i32 0, i32* %num_semaphores, align 8, !tbaa !29
  %closure8 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 0, i32 1
  store i8* %closure, i8** %closure8, align 8, !tbaa !30
  %min_threads = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 0, i32 7
  store i32 0, i32* %min_threads, align 4, !tbaa !31
  %name = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 0, i32 2
  store i8* null, i8** %name, align 8, !tbaa !32
  %task_fn = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 1
  store i32 (i8*, i32, i8*)* %f, i32 (i8*, i32, i8*)** %task_fn, align 8, !tbaa !33
  %user_context11 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 7
  store i8* %user_context, i8** %user_context11, align 8, !tbaa !34
  %exit_status = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 9
  store i32 0, i32* %exit_status, align 4, !tbaa !35
  %active_workers = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 8
  store i32 0, i32* %active_workers, align 8, !tbaa !36
  %next_semaphore = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 10
  store i32 0, i32* %next_semaphore, align 8, !tbaa !37
  %owner_is_sleeping = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 11
  store i8 0, i8* %owner_is_sleeping, align 4, !tbaa !38
  %siblings = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 3
  store %"struct.Halide::Runtime::Internal::work"* %job, %"struct.Halide::Runtime::Internal::work"** %siblings, align 8, !tbaa !39
  %sibling_count = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 4
  store i32 0, i32* %sibling_count, align 8, !tbaa !40
  %parent_job = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job, i64 0, i32 5
  store %"struct.Halide::Runtime::Internal::work"* null, %"struct.Halide::Runtime::Internal::work"** %parent_job, align 8, !tbaa !41
  call void @halide_mutex_lock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  call void @_ZN6Halide7Runtime8Internal27enqueue_work_already_lockedEiPNS1_4workES3_(i32 1, %"struct.Halide::Runtime::Internal::work"* nonnull %job, %"struct.Halide::Runtime::Internal::work"* null) #17
  call void @_ZN6Halide7Runtime8Internal28worker_thread_already_lockedEPNS1_4workE(%"struct.Halide::Runtime::Internal::work"* nonnull %job) #17
  call void @halide_mutex_unlock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  %1 = load i32, i32* %exit_status, align 4, !tbaa !35
  call void @llvm.lifetime.end.p0i8(i64 128, i8* nonnull %0) #11
  br label %return

return:                                           ; preds = %if.end, %entry
  %retval.0 = phi i32 [ %1, %if.end ], [ 0, %entry ]
  ret i32 %retval.0
}

; Function Attrs: nounwind
define weak void @halide_mutex_lock(%struct.halide_mutex* %mutex) local_unnamed_addr #3 {
entry:
  %control.i.i = alloca %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", align 8
  %state.i = getelementptr %struct.halide_mutex, %struct.halide_mutex* %mutex, i64 0, i32 0, i64 0
  %0 = cmpxchg weak i64* %state.i, i64 0, i64 1 acquire monotonic, align 8
  %1 = extractvalue { i64, i1 } %0, 1
  br i1 %1, label %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex4lockEv.exit, label %if.then.i

if.then.i:                                        ; preds = %entry
  %2 = load atomic i64, i64* %state.i monotonic, align 8
  %3 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i to i8*
  %4 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i, i64 0, i32 0, i32 0
  %lock_state2.i.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i, i64 0, i32 1
  %5 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i, i64 0, i32 0
  %6 = ptrtoint %struct.halide_mutex* %mutex to i64
  br label %while.cond.outer.i.i

while.cond.outer.i.i:                             ; preds = %while.cond.outer.i.i.backedge, %if.then.i
  %expected.0.ph.i.i = phi i64 [ %2, %if.then.i ], [ %expected.0.ph.i.i.be, %while.cond.outer.i.i.backedge ]
  %spinner.sroa.0.0.ph.i.i = phi i32 [ 40, %if.then.i ], [ %spinner.sroa.0.0.ph.i.i.be, %while.cond.outer.i.i.backedge ]
  %and55.i.i = and i64 %expected.0.ph.i.i, 1
  %tobool.not56.i.i = icmp eq i64 %and55.i.i, 0
  br i1 %tobool.not56.i.i, label %if.then.i.i, label %if.end4.i.i

if.then.i.i:                                      ; preds = %while.cond.outer.i.i, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit.i.i
  %expected.057.i.i = phi i64 [ %9, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit.i.i ], [ %expected.0.ph.i.i, %while.cond.outer.i.i ]
  %or.i.i = or i64 %expected.057.i.i, 1
  %7 = cmpxchg weak i64* %state.i, i64 %expected.057.i.i, i64 %or.i.i acquire monotonic, align 8
  %8 = extractvalue { i64, i1 } %7, 1
  br i1 %8, label %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex4lockEv.exit, label %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit.i.i

_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit.i.i: ; preds = %if.then.i.i
  %9 = extractvalue { i64, i1 } %7, 0
  %and.i.i = and i64 %9, 1
  %tobool.not.i.i = icmp eq i64 %and.i.i, 0
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.end4.i.i.loopexit

if.end4.i.i.loopexit:                             ; preds = %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit.i.i
  %10 = extractvalue { i64, i1 } %7, 0
  br label %if.end4.i.i

if.end4.i.i:                                      ; preds = %if.end4.i.i.loopexit, %while.cond.outer.i.i
  %expected.0.lcssa.i.i = phi i64 [ %expected.0.ph.i.i, %while.cond.outer.i.i ], [ %10, %if.end4.i.i.loopexit ]
  %cmp.i.i.i = icmp sgt i32 %spinner.sroa.0.0.ph.i.i, 0
  br i1 %cmp.i.i.i, label %_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit.i.i, label %if.end8.i.i

_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit.i.i: ; preds = %if.end4.i.i
  %cmp4.i.not.i.i = icmp eq i32 %spinner.sroa.0.0.ph.i.i, 1
  br i1 %cmp4.i.not.i.i, label %if.end8.i.i, label %if.then6.i.i

if.then6.i.i:                                     ; preds = %_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit.i.i
  %dec.i.i.i = add nsw i32 %spinner.sroa.0.0.ph.i.i, -1
  call void @halide_thread_yield() #16
  %11 = load atomic i64, i64* %state.i monotonic, align 8
  br label %while.cond.outer.i.i.backedge

if.end8.i.i:                                      ; preds = %_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit.i.i, %if.end4.i.i
  %spinner.sroa.0.152.i.i = phi i32 [ 0, %_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit.i.i ], [ %spinner.sroa.0.0.ph.i.i, %if.end4.i.i ]
  %and9.i.i = and i64 %expected.0.lcssa.i.i, 2
  %cmp.i.i = icmp eq i64 %and9.i.i, 0
  br i1 %cmp.i.i, label %if.then10.i.i, label %if.end19.i.i

if.then10.i.i:                                    ; preds = %if.end8.i.i
  %or12.i.i = or i64 %expected.0.lcssa.i.i, 2
  %12 = cmpxchg weak i64* %state.i, i64 %expected.0.lcssa.i.i, i64 %or12.i.i monotonic monotonic, align 8
  %13 = extractvalue { i64, i1 } %12, 1
  br i1 %13, label %if.end19.i.i, label %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i.i

_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i.i: ; preds = %if.then10.i.i
  %14 = extractvalue { i64, i1 } %12, 0
  br label %while.cond.outer.i.i.backedge

if.end19.i.i:                                     ; preds = %if.then10.i.i, %if.end8.i.i
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %3) #11
  store i32 (...)** bitcast (i8** getelementptr inbounds ({ [6 x i8*] }, { [6 x i8*] }* @_ZTVN6Halide7Runtime8Internal15Synchronization21mutex_parking_controlE, i64 0, inrange i32 0, i64 2) to i32 (...)**), i32 (...)*** %4, align 8, !tbaa !42
  store i64* %state.i, i64** %lock_state2.i.i.i, align 8, !tbaa !44
  %call21.i.i = call i64 @_ZN6Halide7Runtime8Internal15Synchronization15parking_control4parkEy(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %5, i64 %6) #16
  %cmp22.i.i = icmp eq i64 %call21.i.i, %6
  br i1 %cmp22.i.i, label %cleanup30.critedge.i.i, label %if.end24.i.i

if.end24.i.i:                                     ; preds = %if.end19.i.i
  %15 = load atomic i64, i64* %state.i monotonic, align 8
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %3) #11
  br label %while.cond.outer.i.i.backedge

while.cond.outer.i.i.backedge:                    ; preds = %if.end24.i.i, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i.i, %if.then6.i.i
  %expected.0.ph.i.i.be = phi i64 [ %14, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i.i ], [ %15, %if.end24.i.i ], [ %11, %if.then6.i.i ]
  %spinner.sroa.0.0.ph.i.i.be = phi i32 [ %spinner.sroa.0.152.i.i, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i.i ], [ 40, %if.end24.i.i ], [ %dec.i.i.i, %if.then6.i.i ]
  br label %while.cond.outer.i.i, !llvm.loop !46

cleanup30.critedge.i.i:                           ; preds = %if.end19.i.i
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %3) #11
  br label %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex4lockEv.exit

_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex4lockEv.exit: ; preds = %if.then.i.i, %cleanup30.critedge.i.i, %entry
  ret void
}

; Function Attrs: mustprogress nounwind
define linkonce void @_ZN6Halide7Runtime8Internal27enqueue_work_already_lockedEiPNS1_4workES3_(i32 %num_jobs, %"struct.Halide::Runtime::Internal::work"* %jobs, %"struct.Halide::Runtime::Internal::work"* %task_parent) local_unnamed_addr #0 {
entry:
  %0 = load i8, i8* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 15), align 1, !tbaa !48, !range !18
  %tobool.not = icmp eq i8 %0, 0
  br i1 %tobool.not, label %land.rhs.i, label %if.end4

land.rhs.i:                                       ; preds = %entry, %while.body.i.3
  %bytes.011.i = phi i8* [ %incdec.ptr.i.3, %while.body.i.3 ], [ bitcast (i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 2) to i8*), %entry ]
  %1 = load i8, i8* %bytes.011.i, align 1, !tbaa !15
  %cmp2.i = icmp eq i8 %1, 0
  br i1 %cmp2.i, label %while.body.i, label %do.body.i

while.body.i:                                     ; preds = %land.rhs.i
  %incdec.ptr.i = getelementptr inbounds i8, i8* %bytes.011.i, i64 1
  %2 = load i8, i8* %incdec.ptr.i, align 1, !tbaa !15
  %cmp2.i.1 = icmp eq i8 %2, 0
  br i1 %cmp2.i.1, label %while.body.i.1, label %do.body.i.split.loop.exit11

do.body.i.split.loop.exit:                        ; preds = %while.body.i.2
  %incdec.ptr.i.2.le = getelementptr inbounds i8, i8* %bytes.011.i, i64 3
  br label %do.body.i

do.body.i.split.loop.exit9:                       ; preds = %while.body.i.1
  %incdec.ptr.i.1.le = getelementptr inbounds i8, i8* %bytes.011.i, i64 2
  br label %do.body.i

do.body.i.split.loop.exit11:                      ; preds = %while.body.i
  %incdec.ptr.i.le = getelementptr inbounds i8, i8* %bytes.011.i, i64 1
  br label %do.body.i

do.body.i:                                        ; preds = %land.rhs.i, %do.body.i.split.loop.exit11, %do.body.i.split.loop.exit9, %do.body.i.split.loop.exit
  %bytes.011.i.lcssa = phi i8* [ %incdec.ptr.i.2.le, %do.body.i.split.loop.exit ], [ %incdec.ptr.i.1.le, %do.body.i.split.loop.exit9 ], [ %incdec.ptr.i.le, %do.body.i.split.loop.exit11 ], [ %bytes.011.i, %land.rhs.i ]
  %cmp3.i = icmp eq i8* %bytes.011.i.lcssa, bitcast (%"struct.Halide::Runtime::Internal::work_queue_t"* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 1) to i8*)
  br i1 %cmp3.i, label %_ZNK6Halide7Runtime8Internal12work_queue_t13assert_zeroedEv.exit, label %if.then.i

if.then.i:                                        ; preds = %do.body.i
  tail call void @halide_print(i8* null, i8* getelementptr inbounds ([162 x i8], [162 x i8]* @.str.6, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %_ZNK6Halide7Runtime8Internal12work_queue_t13assert_zeroedEv.exit

_ZNK6Halide7Runtime8Internal12work_queue_t13assert_zeroedEv.exit: ; preds = %while.body.i.3, %if.then.i, %do.body.i
  %3 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 1), align 8, !tbaa !52
  %tobool1.not = icmp eq i32 %3, 0
  br i1 %tobool1.not, label %if.then2, label %if.end

if.then2:                                         ; preds = %_ZNK6Halide7Runtime8Internal12work_queue_t13assert_zeroedEv.exit
  %call = tail call i32 @_ZN6Halide7Runtime8Internal27default_desired_num_threadsEv() #17
  br label %if.end

if.end:                                           ; preds = %if.then2, %_ZNK6Halide7Runtime8Internal12work_queue_t13assert_zeroedEv.exit
  %4 = phi i32 [ %call, %if.then2 ], [ %3, %_ZNK6Halide7Runtime8Internal12work_queue_t13assert_zeroedEv.exit ]
  %5 = icmp sgt i32 %4, 1
  %.threads.i = select i1 %5, i32 %4, i32 1
  %6 = icmp slt i32 %.threads.i, 256
  %retval.0.i = select i1 %6, i32 %.threads.i, i32 256
  store i32 %retval.0.i, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 1), align 8, !tbaa !52
  store i8 1, i8* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 15), align 1, !tbaa !48
  br label %if.end4

if.end4:                                          ; preds = %if.end, %entry
  %cmp178 = icmp sgt i32 %num_jobs, 0
  br i1 %cmp178, label %for.body.preheader, label %for.cond.cleanup

for.body.preheader:                               ; preds = %if.end4
  %wide.trip.count = zext i32 %num_jobs to i64
  %xtraiter = and i64 %wide.trip.count, 1
  %7 = icmp eq i32 %num_jobs, 1
  br i1 %7, label %for.cond.cleanup.loopexit.unr-lcssa, label %for.body.preheader.new

for.body.preheader.new:                           ; preds = %for.body.preheader
  %unroll_iter = and i64 %wide.trip.count, 4294967294
  br label %for.body

for.cond.cleanup.loopexit.unr-lcssa:              ; preds = %for.inc.1, %for.body.preheader
  %workers_to_wake.1.lcssa.ph = phi i32 [ undef, %for.body.preheader ], [ %workers_to_wake.1.1, %for.inc.1 ]
  %add.lcssa.ph = phi i32 [ undef, %for.body.preheader ], [ %add.1, %for.inc.1 ]
  %stealable_jobs.1.lcssa.ph = phi i8 [ undef, %for.body.preheader ], [ %stealable_jobs.1.1, %for.inc.1 ]
  %job_may_block.1.lcssa.ph = phi i8 [ undef, %for.body.preheader ], [ %job_may_block.1.1, %for.inc.1 ]
  %spec.select.lcssa.ph = phi i8 [ undef, %for.body.preheader ], [ %spec.select.1, %for.inc.1 ]
  %indvars.iv.unr = phi i64 [ 0, %for.body.preheader ], [ %indvars.iv.next.1, %for.inc.1 ]
  %min_threads.0184.unr = phi i32 [ 0, %for.body.preheader ], [ %add.1, %for.inc.1 ]
  %job_may_block.0182.unr = phi i8 [ 0, %for.body.preheader ], [ %job_may_block.1.1, %for.inc.1 ]
  %job_has_acquires.0181.unr = phi i8 [ 0, %for.body.preheader ], [ %spec.select.1, %for.inc.1 ]
  %stealable_jobs.0180.unr = phi i8 [ 0, %for.body.preheader ], [ %stealable_jobs.1.1, %for.inc.1 ]
  %workers_to_wake.0179.unr = phi i32 [ -1, %for.body.preheader ], [ %workers_to_wake.1.1, %for.inc.1 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.cond.cleanup.loopexit, label %for.body.epil

for.body.epil:                                    ; preds = %for.cond.cleanup.loopexit.unr-lcssa
  %min_threads5.epil = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %indvars.iv.unr, i32 0, i32 7
  %8 = load i32, i32* %min_threads5.epil, align 4, !tbaa !31
  %cmp6.epil = icmp eq i32 %8, 0
  %add.epil = add nsw i32 %8, %min_threads.0184.unr
  %stealable_jobs.1.epil = select i1 %cmp6.epil, i8 1, i8 %stealable_jobs.0180.unr
  %job_may_block.1.epil = select i1 %cmp6.epil, i8 %job_may_block.0182.unr, i8 1
  %num_semaphores.epil = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %indvars.iv.unr, i32 0, i32 4
  %9 = load i32, i32* %num_semaphores.epil, align 8, !tbaa !29
  %cmp16.not.epil = icmp eq i32 %9, 0
  %spec.select.epil = select i1 %cmp16.not.epil, i8 %job_has_acquires.0181.unr, i8 1
  %serial.epil = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %indvars.iv.unr, i32 0, i32 8
  %10 = load i8, i8* %serial.epil, align 8, !tbaa !27, !range !18
  %tobool22.not.epil = icmp eq i8 %10, 0
  br i1 %tobool22.not.epil, label %if.else24.epil, label %if.then23.epil

if.then23.epil:                                   ; preds = %for.body.epil
  %inc.epil = add nsw i32 %workers_to_wake.0179.unr, 1
  br label %for.cond.cleanup.loopexit

if.else24.epil:                                   ; preds = %for.body.epil
  %extent.epil = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %indvars.iv.unr, i32 0, i32 6
  %11 = load i32, i32* %extent.epil, align 8, !tbaa !26
  %add28.epil = add nsw i32 %11, %workers_to_wake.0179.unr
  br label %for.cond.cleanup.loopexit

for.cond.cleanup.loopexit:                        ; preds = %if.else24.epil, %if.then23.epil, %for.cond.cleanup.loopexit.unr-lcssa
  %workers_to_wake.1.lcssa = phi i32 [ %workers_to_wake.1.lcssa.ph, %for.cond.cleanup.loopexit.unr-lcssa ], [ %inc.epil, %if.then23.epil ], [ %add28.epil, %if.else24.epil ]
  %add.lcssa = phi i32 [ %add.lcssa.ph, %for.cond.cleanup.loopexit.unr-lcssa ], [ %add.epil, %if.then23.epil ], [ %add.epil, %if.else24.epil ]
  %stealable_jobs.1.lcssa = phi i8 [ %stealable_jobs.1.lcssa.ph, %for.cond.cleanup.loopexit.unr-lcssa ], [ %stealable_jobs.1.epil, %if.then23.epil ], [ %stealable_jobs.1.epil, %if.else24.epil ]
  %job_may_block.1.lcssa = phi i8 [ %job_may_block.1.lcssa.ph, %for.cond.cleanup.loopexit.unr-lcssa ], [ %job_may_block.1.epil, %if.then23.epil ], [ %job_may_block.1.epil, %if.else24.epil ]
  %spec.select.lcssa = phi i8 [ %spec.select.lcssa.ph, %for.cond.cleanup.loopexit.unr-lcssa ], [ %spec.select.epil, %if.then23.epil ], [ %spec.select.epil, %if.else24.epil ]
  %phi.bo = and i8 %spec.select.lcssa, 1
  %phi.bo197 = and i8 %job_may_block.1.lcssa, 1
  %phi.bo198 = and i8 %stealable_jobs.1.lcssa, 1
  br label %for.cond.cleanup

for.cond.cleanup:                                 ; preds = %for.cond.cleanup.loopexit, %if.end4
  %workers_to_wake.0.lcssa = phi i32 [ -1, %if.end4 ], [ %workers_to_wake.1.lcssa, %for.cond.cleanup.loopexit ]
  %stealable_jobs.0.lcssa = phi i8 [ 0, %if.end4 ], [ %phi.bo198, %for.cond.cleanup.loopexit ]
  %job_has_acquires.0.lcssa = phi i8 [ 0, %if.end4 ], [ %phi.bo, %for.cond.cleanup.loopexit ]
  %job_may_block.0.lcssa = phi i8 [ 0, %if.end4 ], [ %phi.bo197, %for.cond.cleanup.loopexit ]
  %min_threads.0.lcssa = phi i32 [ 0, %if.end4 ], [ %add.lcssa, %for.cond.cleanup.loopexit ]
  %cmp31 = icmp eq %"struct.Halide::Runtime::Internal::work"* %task_parent, null
  br i1 %cmp31, label %if.then32, label %do.body61

for.body:                                         ; preds = %for.inc.1, %for.body.preheader.new
  %indvars.iv = phi i64 [ 0, %for.body.preheader.new ], [ %indvars.iv.next.1, %for.inc.1 ]
  %min_threads.0184 = phi i32 [ 0, %for.body.preheader.new ], [ %add.1, %for.inc.1 ]
  %job_may_block.0182 = phi i8 [ 0, %for.body.preheader.new ], [ %job_may_block.1.1, %for.inc.1 ]
  %job_has_acquires.0181 = phi i8 [ 0, %for.body.preheader.new ], [ %spec.select.1, %for.inc.1 ]
  %stealable_jobs.0180 = phi i8 [ 0, %for.body.preheader.new ], [ %stealable_jobs.1.1, %for.inc.1 ]
  %workers_to_wake.0179 = phi i32 [ -1, %for.body.preheader.new ], [ %workers_to_wake.1.1, %for.inc.1 ]
  %niter = phi i64 [ %unroll_iter, %for.body.preheader.new ], [ %niter.nsub.1, %for.inc.1 ]
  %min_threads5 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %indvars.iv, i32 0, i32 7
  %12 = load i32, i32* %min_threads5, align 4, !tbaa !31
  %cmp6 = icmp eq i32 %12, 0
  %add = add nsw i32 %12, %min_threads.0184
  %num_semaphores = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %indvars.iv, i32 0, i32 4
  %13 = load i32, i32* %num_semaphores, align 8, !tbaa !29
  %cmp16.not = icmp eq i32 %13, 0
  %serial = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %indvars.iv, i32 0, i32 8
  %14 = load i8, i8* %serial, align 8, !tbaa !27, !range !18
  %tobool22.not = icmp eq i8 %14, 0
  br i1 %tobool22.not, label %if.else24, label %if.then23

if.then23:                                        ; preds = %for.body
  %inc = add nsw i32 %workers_to_wake.0179, 1
  br label %for.inc

if.else24:                                        ; preds = %for.body
  %extent = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %indvars.iv, i32 0, i32 6
  %15 = load i32, i32* %extent, align 8, !tbaa !26
  %add28 = add nsw i32 %15, %workers_to_wake.0179
  br label %for.inc

for.inc:                                          ; preds = %if.else24, %if.then23
  %workers_to_wake.1 = phi i32 [ %inc, %if.then23 ], [ %add28, %if.else24 ]
  %indvars.iv.next = or i64 %indvars.iv, 1
  %min_threads5.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %indvars.iv.next, i32 0, i32 7
  %16 = load i32, i32* %min_threads5.1, align 4, !tbaa !31
  %cmp6.1 = icmp eq i32 %16, 0
  %add.1 = add nsw i32 %16, %add
  %17 = select i1 %cmp6.1, i1 true, i1 %cmp6
  %stealable_jobs.1.1 = select i1 %17, i8 1, i8 %stealable_jobs.0180
  %18 = select i1 %cmp6.1, i1 %cmp6, i1 false
  %job_may_block.1.1 = select i1 %18, i8 %job_may_block.0182, i8 1
  %num_semaphores.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %indvars.iv.next, i32 0, i32 4
  %19 = load i32, i32* %num_semaphores.1, align 8, !tbaa !29
  %cmp16.not.1 = icmp eq i32 %19, 0
  %20 = select i1 %cmp16.not.1, i1 %cmp16.not, i1 false
  %spec.select.1 = select i1 %20, i8 %job_has_acquires.0181, i8 1
  %serial.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %indvars.iv.next, i32 0, i32 8
  %21 = load i8, i8* %serial.1, align 8, !tbaa !27, !range !18
  %tobool22.not.1 = icmp eq i8 %21, 0
  br i1 %tobool22.not.1, label %if.else24.1, label %if.then23.1

if.then32:                                        ; preds = %for.cond.cleanup
  %tobool33.not = icmp eq i8 %job_has_acquires.0.lcssa, 0
  %tobool34.not = icmp eq i8 %job_may_block.0.lcssa, 0
  %or.cond = select i1 %tobool33.not, i1 %tobool34.not, i1 false
  %not.or.cond = xor i1 %or.cond, true
  %add36 = zext i1 %not.or.cond to i32
  %min_threads.2 = add nsw i32 %min_threads.0.lcssa, %add36
  %.pr = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 4), align 8, !tbaa !53
  %cmp38189 = icmp slt i32 %.pr, 256
  br i1 %cmp38189, label %land.rhs, label %do.end50

land.rhs:                                         ; preds = %if.then32, %while.body
  %22 = phi i32 [ %inc45, %while.body ], [ %.pr, %if.then32 ]
  %23 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 1), align 8, !tbaa !52
  %sub = add nsw i32 %23, -1
  %cmp39 = icmp slt i32 %22, %sub
  br i1 %cmp39, label %while.body, label %lor.rhs

lor.rhs:                                          ; preds = %land.rhs
  %add40 = add nsw i32 %22, 1
  %24 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 16), align 4, !tbaa !54
  %sub41 = sub i32 %add40, %24
  %cmp42 = icmp slt i32 %sub41, %min_threads.2
  br i1 %cmp42, label %while.body, label %do.end50

while.body:                                       ; preds = %lor.rhs, %land.rhs
  %25 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 5), align 4, !tbaa !55
  %inc43 = add nsw i32 %25, 1
  store i32 %inc43, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 5), align 4, !tbaa !55
  %call44 = tail call %struct.halide_thread* @halide_spawn_thread(void (i8*)* nonnull @_ZN6Halide7Runtime8Internal13worker_threadEPv, i8* null) #17
  %26 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 4), align 8, !tbaa !53
  %inc45 = add nsw i32 %26, 1
  store i32 %inc45, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 4), align 8, !tbaa !53
  %idxprom46 = sext i32 %26 to i64
  %arrayidx47 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 13, i64 %idxprom46
  store %struct.halide_thread* %call44, %struct.halide_thread** %arrayidx47, align 8, !tbaa !11
  %cmp38 = icmp slt i32 %26, 255
  br i1 %cmp38, label %land.rhs, label %do.end50, !llvm.loop !56

do.end50:                                         ; preds = %while.body, %lor.rhs, %if.then32
  br i1 %or.cond, label %if.end77, label %if.then54

if.then54:                                        ; preds = %do.end50
  %27 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 16), align 4, !tbaa !54
  %inc55 = add nsw i32 %27, 1
  store i32 %inc55, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 16), align 4, !tbaa !54
  br label %if.end77

do.body61:                                        ; preds = %for.cond.cleanup
  %min_threads63 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %task_parent, i64 0, i32 0, i32 7
  %28 = load i32, i32* %min_threads63, align 4, !tbaa !31
  %active_workers = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %task_parent, i64 0, i32 8
  %29 = load i32, i32* %active_workers, align 8, !tbaa !36
  %mul = mul nsw i32 %29, %28
  %threads_reserved = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %task_parent, i64 0, i32 6
  %30 = load i32, i32* %threads_reserved, align 8, !tbaa !57
  %sub64 = sub nsw i32 %mul, %30
  %cmp65.not = icmp sgt i32 %min_threads.0.lcssa, %sub64
  br i1 %cmp65.not, label %if.then66, label %do.end69

if.then66:                                        ; preds = %do.body61
  tail call void @halide_print(i8* null, i8* getelementptr inbounds ([239 x i8], [239 x i8]* @.str.3, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end69

do.end69:                                         ; preds = %if.then66, %do.body61
  %tobool70.not = icmp eq i8 %job_has_acquires.0.lcssa, 0
  %tobool72.not = icmp eq i8 %job_may_block.0.lcssa, 0
  %or.cond173 = select i1 %tobool70.not, i1 %tobool72.not, i1 false
  br i1 %or.cond173, label %if.end77, label %if.then73

if.then73:                                        ; preds = %do.end69
  %31 = load i32, i32* %threads_reserved, align 8, !tbaa !57
  %inc75 = add nsw i32 %31, 1
  store i32 %inc75, i32* %threads_reserved, align 8, !tbaa !57
  br label %if.end77

if.end77:                                         ; preds = %if.then73, %do.end69, %if.then54, %do.end50
  br i1 %cmp178, label %for.body83.lr.ph, label %for.cond.cleanup82

for.body83.lr.ph:                                 ; preds = %if.end77
  %.promoted = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 3), align 8, !tbaa !58
  %32 = zext i32 %num_jobs to i64
  %xtraiter7 = and i64 %32, 1
  %lcmp.mod8.not = icmp eq i64 %xtraiter7, 0
  br i1 %lcmp.mod8.not, label %for.body83.prol.loopexit, label %for.body83.prol

for.body83.prol:                                  ; preds = %for.body83.lr.ph
  %i78.0192.prol = add nsw i32 %num_jobs, -1
  %idxprom84176.prol = zext i32 %i78.0192.prol to i64
  %arrayidx85.prol = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176.prol
  %next_job.prol = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176.prol, i32 2
  store %"struct.Halide::Runtime::Internal::work"* %.promoted, %"struct.Halide::Runtime::Internal::work"** %next_job.prol, align 8, !tbaa !59
  %siblings.prol = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176.prol, i32 3
  store %"struct.Halide::Runtime::Internal::work"* %jobs, %"struct.Halide::Runtime::Internal::work"** %siblings.prol, align 8, !tbaa !39
  %sibling_count.prol = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176.prol, i32 4
  store i32 %num_jobs, i32* %sibling_count.prol, align 8, !tbaa !40
  %threads_reserved93.prol = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176.prol, i32 6
  store i32 0, i32* %threads_reserved93.prol, align 8, !tbaa !57
  %indvars.iv.next196.prol = add nsw i64 %32, -1
  br label %for.body83.prol.loopexit

for.body83.prol.loopexit:                         ; preds = %for.body83.prol, %for.body83.lr.ph
  %indvars.iv195.unr = phi i64 [ %32, %for.body83.lr.ph ], [ %indvars.iv.next196.prol, %for.body83.prol ]
  %arrayidx85193.unr = phi %"struct.Halide::Runtime::Internal::work"* [ %.promoted, %for.body83.lr.ph ], [ %arrayidx85.prol, %for.body83.prol ]
  %i78.0192.in.unr = phi i32 [ %num_jobs, %for.body83.lr.ph ], [ %i78.0192.prol, %for.body83.prol ]
  %33 = icmp eq i32 %num_jobs, 1
  br i1 %33, label %for.cond80.for.cond.cleanup82_crit_edge, label %for.body83

for.cond80.for.cond.cleanup82_crit_edge:          ; preds = %for.body83, %for.body83.prol.loopexit
  store %"struct.Halide::Runtime::Internal::work"* %jobs, %"struct.Halide::Runtime::Internal::work"** getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 3), align 8, !tbaa !58
  br label %for.cond.cleanup82

for.cond.cleanup82:                               ; preds = %for.cond80.for.cond.cleanup82_crit_edge, %if.end77
  %34 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 12), align 4, !tbaa !60
  %tobool96 = icmp ne i32 %34, 0
  %35 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 11), align 8
  %36 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 4), align 8
  %cmp98 = icmp slt i32 %35, %36
  %37 = select i1 %tobool96, i1 true, i1 %cmp98
  %cmp102 = icmp sgt i32 %workers_to_wake.0.lcssa, %35
  %or.cond174 = select i1 %37, i1 true, i1 %cmp102
  %storemerge = select i1 %or.cond174, i32 %36, i32 %workers_to_wake.0.lcssa
  store i32 %storemerge, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 6), align 8, !tbaa !61
  tail call void @halide_cond_broadcast(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 8)) #17
  %38 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 6), align 8, !tbaa !61
  %39 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 5), align 4, !tbaa !55
  %cmp106 = icmp sgt i32 %38, %39
  br i1 %cmp106, label %if.then107, label %if.end111

for.body83:                                       ; preds = %for.body83.prol.loopexit, %for.body83
  %indvars.iv195 = phi i64 [ %indvars.iv.next196.1, %for.body83 ], [ %indvars.iv195.unr, %for.body83.prol.loopexit ]
  %arrayidx85193 = phi %"struct.Halide::Runtime::Internal::work"* [ %arrayidx85.1, %for.body83 ], [ %arrayidx85193.unr, %for.body83.prol.loopexit ]
  %i78.0192.in = phi i32 [ %i78.0192.1, %for.body83 ], [ %i78.0192.in.unr, %for.body83.prol.loopexit ]
  %i78.0192 = add nsw i32 %i78.0192.in, -1
  %idxprom84176 = zext i32 %i78.0192 to i64
  %arrayidx85 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176
  %next_job = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176, i32 2
  store %"struct.Halide::Runtime::Internal::work"* %arrayidx85193, %"struct.Halide::Runtime::Internal::work"** %next_job, align 8, !tbaa !59
  %siblings = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176, i32 3
  store %"struct.Halide::Runtime::Internal::work"* %jobs, %"struct.Halide::Runtime::Internal::work"** %siblings, align 8, !tbaa !39
  %sibling_count = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176, i32 4
  store i32 %num_jobs, i32* %sibling_count, align 8, !tbaa !40
  %threads_reserved93 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176, i32 6
  store i32 0, i32* %threads_reserved93, align 8, !tbaa !57
  %i78.0192.1 = add nsw i32 %i78.0192.in, -2
  %idxprom84176.1 = zext i32 %i78.0192.1 to i64
  %arrayidx85.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176.1
  %next_job.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176.1, i32 2
  store %"struct.Halide::Runtime::Internal::work"* %arrayidx85, %"struct.Halide::Runtime::Internal::work"** %next_job.1, align 8, !tbaa !59
  %siblings.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176.1, i32 3
  store %"struct.Halide::Runtime::Internal::work"* %jobs, %"struct.Halide::Runtime::Internal::work"** %siblings.1, align 8, !tbaa !39
  %sibling_count.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176.1, i32 4
  store i32 %num_jobs, i32* %sibling_count.1, align 8, !tbaa !40
  %threads_reserved93.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %idxprom84176.1, i32 6
  store i32 0, i32* %threads_reserved93.1, align 8, !tbaa !57
  %cmp81.1 = icmp sgt i64 %indvars.iv195, 2
  %indvars.iv.next196.1 = add nsw i64 %indvars.iv195, -2
  br i1 %cmp81.1, label %for.body83, label %for.cond80.for.cond.cleanup82_crit_edge, !llvm.loop !62

if.then107:                                       ; preds = %for.cond.cleanup82
  tail call void @halide_cond_broadcast(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 9)) #17
  %tobool108.not = icmp eq i8 %stealable_jobs.0.lcssa, 0
  br i1 %tobool108.not, label %if.end111, label %if.then109

if.then109:                                       ; preds = %if.then107
  tail call void @halide_cond_broadcast(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 10)) #17
  br label %if.end111

if.end111:                                        ; preds = %if.then109, %if.then107, %for.cond.cleanup82
  %tobool112.not = icmp eq i8 %job_has_acquires.0.lcssa, 0
  %tobool114.not = icmp eq i8 %job_may_block.0.lcssa, 0
  %or.cond175 = select i1 %tobool112.not, i1 %tobool114.not, i1 false
  br i1 %or.cond175, label %if.end123, label %if.then115

if.then115:                                       ; preds = %if.end111
  br i1 %cmp31, label %if.else120, label %if.then117

if.then117:                                       ; preds = %if.then115
  %threads_reserved118 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %task_parent, i64 0, i32 6
  %40 = load i32, i32* %threads_reserved118, align 8, !tbaa !57
  %dec119 = add nsw i32 %40, -1
  store i32 %dec119, i32* %threads_reserved118, align 8, !tbaa !57
  br label %if.end123

if.else120:                                       ; preds = %if.then115
  %41 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 16), align 4, !tbaa !54
  %dec121 = add nsw i32 %41, -1
  store i32 %dec121, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 16), align 4, !tbaa !54
  br label %if.end123

if.end123:                                        ; preds = %if.else120, %if.then117, %if.end111
  ret void

while.body.i.1:                                   ; preds = %while.body.i
  %incdec.ptr.i.1 = getelementptr inbounds i8, i8* %bytes.011.i, i64 2
  %42 = load i8, i8* %incdec.ptr.i.1, align 1, !tbaa !15
  %cmp2.i.2 = icmp eq i8 %42, 0
  br i1 %cmp2.i.2, label %while.body.i.2, label %do.body.i.split.loop.exit9

while.body.i.2:                                   ; preds = %while.body.i.1
  %incdec.ptr.i.2 = getelementptr inbounds i8, i8* %bytes.011.i, i64 3
  %43 = load i8, i8* %incdec.ptr.i.2, align 1, !tbaa !15
  %cmp2.i.3 = icmp eq i8 %43, 0
  br i1 %cmp2.i.3, label %while.body.i.3, label %do.body.i.split.loop.exit

while.body.i.3:                                   ; preds = %while.body.i.2
  %incdec.ptr.i.3 = getelementptr inbounds i8, i8* %bytes.011.i, i64 4
  %exitcond.not.i.3 = icmp eq i8* %incdec.ptr.i.3, bitcast (%"struct.Halide::Runtime::Internal::work_queue_t"* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 1) to i8*)
  br i1 %exitcond.not.i.3, label %_ZNK6Halide7Runtime8Internal12work_queue_t13assert_zeroedEv.exit, label %land.rhs.i, !llvm.loop !63

if.then23.1:                                      ; preds = %for.inc
  %inc.1 = add nsw i32 %workers_to_wake.1, 1
  br label %for.inc.1

if.else24.1:                                      ; preds = %for.inc
  %extent.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %jobs, i64 %indvars.iv.next, i32 0, i32 6
  %44 = load i32, i32* %extent.1, align 8, !tbaa !26
  %add28.1 = add nsw i32 %44, %workers_to_wake.1
  br label %for.inc.1

for.inc.1:                                        ; preds = %if.else24.1, %if.then23.1
  %workers_to_wake.1.1 = phi i32 [ %inc.1, %if.then23.1 ], [ %add28.1, %if.else24.1 ]
  %indvars.iv.next.1 = add nuw nsw i64 %indvars.iv, 2
  %niter.nsub.1 = add i64 %niter, -2
  %niter.ncmp.1 = icmp eq i64 %niter.nsub.1, 0
  br i1 %niter.ncmp.1, label %for.cond.cleanup.loopexit.unr-lcssa, label %for.body, !llvm.loop !64
}

; Function Attrs: mustprogress nounwind
define linkonce void @_ZN6Halide7Runtime8Internal28worker_thread_already_lockedEPNS1_4workE(%"struct.Halide::Runtime::Internal::work"* %owned_job) local_unnamed_addr #0 {
entry:
  %tobool.not = icmp eq %"struct.Halide::Runtime::Internal::work"* %owned_job, null
  %extent.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %owned_job, i64 0, i32 0, i32 6
  %active_workers.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %owned_job, i64 0, i32 8
  %exit_status = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %owned_job, i64 0, i32 9
  %parent_job = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %owned_job, i64 0, i32 5
  %siblings56 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %owned_job, i64 0, i32 3
  %owner_is_sleeping = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %owned_job, i64 0, i32 11
  %next_job10 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %owned_job, i64 0, i32 2
  br label %while.cond

while.cond:                                       ; preds = %while.cond.backedge, %entry
  %spin_count.0 = phi i32 [ 0, %entry ], [ %spin_count.0.be, %while.cond.backedge ]
  br i1 %tobool.not, label %cond.end, label %cond.true

cond.true:                                        ; preds = %while.cond
  %0 = load i32, i32* %extent.i, align 8, !tbaa !26
  %tobool.not.i = icmp ne i32 %0, 0
  %1 = load i32, i32* %active_workers.i, align 8
  %tobool2.i = icmp ne i32 %1, 0
  %2 = select i1 %tobool.not.i, i1 true, i1 %tobool2.i
  br i1 %2, label %if.then, label %while.end316

cond.end:                                         ; preds = %while.cond
  %3 = load i8, i8* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 14), align 8, !tbaa !65, !range !18
  %tobool1.not = icmp eq i8 %3, 0
  br i1 %tobool1.not, label %while.body.thread, label %while.end316

while.body.thread:                                ; preds = %cond.end
  %4 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 3), align 8, !tbaa !58
  br label %do.end

if.then:                                          ; preds = %cond.true
  %5 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 3), align 8, !tbaa !58
  %6 = load i32, i32* %exit_status, align 4, !tbaa !35
  %cmp.not = icmp eq i32 %6, 0
  br i1 %cmp.not, label %if.else, label %if.then3

if.then3:                                         ; preds = %if.then
  %cmp4 = icmp eq i32 %1, 0
  br i1 %cmp4, label %while.cond6.preheader, label %do.end

while.cond6.preheader:                            ; preds = %if.then3
  %cmp7.not534 = icmp eq %"struct.Halide::Runtime::Internal::work"* %5, %owned_job
  br i1 %cmp7.not534, label %while.end, label %while.body8

while.body8:                                      ; preds = %while.cond6.preheader, %while.body8
  %job.0535 = phi %"struct.Halide::Runtime::Internal::work"* [ %7, %while.body8 ], [ %5, %while.cond6.preheader ]
  %next_job = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.0535, i64 0, i32 2
  %7 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** %next_job, align 8, !tbaa !59
  %cmp7.not = icmp eq %"struct.Halide::Runtime::Internal::work"* %7, %owned_job
  br i1 %cmp7.not, label %while.end.loopexit, label %while.body8, !llvm.loop !66

while.end.loopexit:                               ; preds = %while.body8
  %next_job.le = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.0535, i64 0, i32 2
  br label %while.end

while.end:                                        ; preds = %while.end.loopexit, %while.cond6.preheader
  %prev_ptr.0.lcssa = phi %"struct.Halide::Runtime::Internal::work"** [ getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 3), %while.cond6.preheader ], [ %next_job.le, %while.end.loopexit ]
  %8 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** %next_job10, align 8, !tbaa !59
  store %"struct.Halide::Runtime::Internal::work"* %8, %"struct.Halide::Runtime::Internal::work"** %prev_ptr.0.lcssa, align 8, !tbaa !11
  store i32 0, i32* %extent.i, align 8, !tbaa !26
  br label %while.cond.backedge

if.else:                                          ; preds = %if.then
  %9 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** %parent_job, align 8, !tbaa !41
  %tobool11.not = icmp eq %"struct.Halide::Runtime::Internal::work"* %9, null
  br i1 %tobool11.not, label %do.end, label %land.lhs.true

land.lhs.true:                                    ; preds = %if.else
  %exit_status13 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %9, i64 0, i32 9
  %10 = load i32, i32* %exit_status13, align 4, !tbaa !35
  %cmp14.not = icmp eq i32 %10, 0
  br i1 %cmp14.not, label %do.end, label %if.then15

if.then15:                                        ; preds = %land.lhs.true
  store i32 %10, i32* %exit_status, align 4, !tbaa !35
  tail call void @halide_cond_broadcast(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 10)) #17
  br label %while.cond.backedge

do.end:                                           ; preds = %land.lhs.true, %if.else, %if.then3, %while.body.thread
  %11 = phi %"struct.Halide::Runtime::Internal::work"* [ %4, %while.body.thread ], [ %5, %if.else ], [ %5, %land.lhs.true ], [ %5, %if.then3 ]
  %tobool23.old.not = icmp eq %"struct.Halide::Runtime::Internal::work"* %11, null
  br i1 %tobool23.old.not, label %if.then103, label %do.end27

do.end27:                                         ; preds = %do.end, %cleanup
  %prev_ptr.1 = phi %"struct.Halide::Runtime::Internal::work"** [ %next_job95, %cleanup ], [ getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 3), %do.end ]
  %job.1 = phi %"struct.Halide::Runtime::Internal::work"* [ %37, %cleanup ], [ %11, %do.end ]
  %parent_job29 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 5
  %12 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** %parent_job29, align 8, !tbaa !41
  %cmp30 = icmp eq %"struct.Halide::Runtime::Internal::work"* %12, null
  br i1 %cmp30, label %if.then31, label %if.else32

if.then31:                                        ; preds = %do.end27
  %13 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 4), align 8, !tbaa !53
  %add = add nsw i32 %13, 1
  %14 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 16), align 4, !tbaa !54
  %sub = sub i32 %add, %14
  br label %if.end45

if.else32:                                        ; preds = %do.end27
  %active_workers33 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %12, i64 0, i32 8
  %15 = load i32, i32* %active_workers33, align 8, !tbaa !36
  %cmp34 = icmp eq i32 %15, 0
  %min_threads = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %12, i64 0, i32 0, i32 7
  %16 = load i32, i32* %min_threads, align 4, !tbaa !31
  br i1 %cmp34, label %if.then35, label %if.else38

if.then35:                                        ; preds = %if.else32
  %threads_reserved = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %12, i64 0, i32 6
  %17 = load i32, i32* %threads_reserved, align 8, !tbaa !57
  %sub37 = sub nsw i32 %16, %17
  br label %if.end45

if.else38:                                        ; preds = %if.else32
  %mul = mul nsw i32 %16, %15
  %threads_reserved42 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %12, i64 0, i32 6
  %18 = load i32, i32* %threads_reserved42, align 8, !tbaa !57
  %sub43 = sub nsw i32 %mul, %18
  br label %if.end45

if.end45:                                         ; preds = %if.else38, %if.then35, %if.then31
  %threads_available.0 = phi i32 [ %sub, %if.then31 ], [ %sub37, %if.then35 ], [ %sub43, %if.else38 ]
  %min_threads47 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 7
  %19 = load i32, i32* %min_threads47, align 4, !tbaa !31
  %cmp48.not = icmp slt i32 %threads_available.0, %19
  br i1 %tobool.not, label %lor.end, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %if.end45
  %siblings = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 3
  %20 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** %siblings, align 8, !tbaa !39
  %21 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** %siblings56, align 8, !tbaa !39
  %cmp57 = icmp eq %"struct.Halide::Runtime::Internal::work"* %20, %21
  %cmp60 = icmp eq i32 %19, 0
  %spec.select = select i1 %cmp57, i1 true, i1 %cmp60
  br label %lor.end

lor.end:                                          ; preds = %lor.lhs.false, %if.end45
  %22 = phi i1 [ true, %if.end45 ], [ %spec.select, %lor.lhs.false ]
  %serial = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 8
  %23 = load i8, i8* %serial, align 8, !tbaa !27, !range !18
  %tobool69.not = icmp eq i8 %23, 0
  br i1 %tobool69.not, label %lor.end73, label %lor.rhs70

lor.rhs70:                                        ; preds = %lor.end
  %active_workers71 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 8
  %24 = load i32, i32* %active_workers71, align 8, !tbaa !36
  %cmp72 = icmp eq i32 %24, 0
  br label %lor.end73

lor.end73:                                        ; preds = %lor.rhs70, %lor.end
  %25 = phi i1 [ true, %lor.end ], [ %cmp72, %lor.rhs70 ]
  %.not = xor i1 %22, true
  %brmerge = select i1 %cmp48.not, i1 true, i1 %.not
  %.not473 = xor i1 %25, true
  %brmerge474 = select i1 %brmerge, i1 true, i1 %.not473
  br i1 %brmerge474, label %cleanup, label %if.then86

if.then86:                                        ; preds = %lor.end73
  %next_semaphore.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 10
  %num_semaphores.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 4
  %semaphores.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 3
  %26 = load i32, i32* %next_semaphore.i, align 8, !tbaa !37
  %27 = load i32, i32* %num_semaphores.i, align 8, !tbaa !29
  %cmp14.i = icmp slt i32 %26, %27
  br i1 %cmp14.i, label %for.body.i, label %while.end101.thread502.loopexit67

for.body.i:                                       ; preds = %if.then86, %for.inc.i
  %28 = phi i32 [ %inc.i, %for.inc.i ], [ %26, %if.then86 ]
  %29 = load %struct.halide_semaphore_acquire_t*, %struct.halide_semaphore_acquire_t** %semaphores.i, align 8, !tbaa !28
  %idxprom.i = sext i32 %28 to i64
  %semaphore.i = getelementptr inbounds %struct.halide_semaphore_acquire_t, %struct.halide_semaphore_acquire_t* %29, i64 %idxprom.i, i32 0
  %30 = load %struct.halide_semaphore_t*, %struct.halide_semaphore_t** %semaphore.i, align 8, !tbaa !67
  %count.i = getelementptr inbounds %struct.halide_semaphore_acquire_t, %struct.halide_semaphore_acquire_t* %29, i64 %idxprom.i, i32 1
  %31 = load i32, i32* %count.i, align 8, !tbaa !69
  %call.i = tail call zeroext i1 @halide_default_semaphore_try_acquire(%struct.halide_semaphore_t* %30, i32 %31) #16
  br i1 %call.i, label %for.inc.i, label %cleanup

for.inc.i:                                        ; preds = %for.body.i
  %32 = load i32, i32* %next_semaphore.i, align 8, !tbaa !37
  %inc.i = add nsw i32 %32, 1
  store i32 %inc.i, i32* %next_semaphore.i, align 8, !tbaa !37
  %33 = load i32, i32* %num_semaphores.i, align 8, !tbaa !29
  %cmp.i = icmp slt i32 %inc.i, %33
  br i1 %cmp.i, label %for.body.i, label %while.end101.thread502.loopexit, !llvm.loop !70

while.end101.thread502.loopexit:                  ; preds = %for.inc.i
  %parent_job29.le = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 5
  %min_threads47.le = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 7
  %.pre = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** %parent_job29.le, align 8, !tbaa !41
  %.pre66 = load i32, i32* %min_threads47.le, align 4, !tbaa !31
  br label %while.end101.thread502

while.end101.thread502.loopexit67:                ; preds = %if.then86
  %parent_job29.le103 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 5
  %min_threads47.le100 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 7
  br label %while.end101.thread502

while.end101.thread502:                           ; preds = %while.end101.thread502.loopexit67, %while.end101.thread502.loopexit
  %min_threads4790 = phi i32* [ %min_threads47.le, %while.end101.thread502.loopexit ], [ %min_threads47.le100, %while.end101.thread502.loopexit67 ]
  %parent_job2978 = phi %"struct.Halide::Runtime::Internal::work"** [ %parent_job29.le, %while.end101.thread502.loopexit ], [ %parent_job29.le103, %while.end101.thread502.loopexit67 ]
  %34 = phi i32 [ %.pre66, %while.end101.thread502.loopexit ], [ %19, %while.end101.thread502.loopexit67 ]
  %35 = phi %"struct.Halide::Runtime::Internal::work"* [ %.pre, %while.end101.thread502.loopexit ], [ %12, %while.end101.thread502.loopexit67 ]
  %serial93 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 8
  store i32 0, i32* %next_semaphore.i, align 8, !tbaa !37
  %active_workers132 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 8
  %36 = load i32, i32* %active_workers132, align 8, !tbaa !36
  %inc133 = add nsw i32 %36, 1
  store i32 %inc133, i32* %active_workers132, align 8, !tbaa !36
  %cmp135 = icmp eq %"struct.Halide::Runtime::Internal::work"* %35, null
  br i1 %cmp135, label %if.then136, label %if.else143

cleanup:                                          ; preds = %for.body.i, %lor.end73
  %next_job95 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 2
  %37 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** %next_job95, align 8, !tbaa !59
  %tobool23.not = icmp eq %"struct.Halide::Runtime::Internal::work"* %37, null
  br i1 %tobool23.not, label %if.then103, label %do.end27, !llvm.loop !71

if.then103:                                       ; preds = %cleanup, %do.end
  br i1 %tobool.not, label %if.else112, label %if.then105

if.then105:                                       ; preds = %if.then103
  %inc = add nsw i32 %spin_count.0, 1
  %cmp106 = icmp slt i32 %spin_count.0, 40
  br i1 %cmp106, label %if.then107, label %if.else108

if.then107:                                       ; preds = %if.then105
  tail call void @halide_mutex_unlock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  tail call void @halide_thread_yield() #16
  tail call void @halide_mutex_lock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  br label %while.cond.backedge

if.else108:                                       ; preds = %if.then105
  %38 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 12), align 4, !tbaa !60
  %inc109 = add nsw i32 %38, 1
  store i32 %inc109, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 12), align 4, !tbaa !60
  store i8 1, i8* %owner_is_sleeping, align 4, !tbaa !38
  tail call void @halide_cond_wait(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 10), %struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  store i8 0, i8* %owner_is_sleeping, align 4, !tbaa !38
  %39 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 12), align 4, !tbaa !60
  %dec = add nsw i32 %39, -1
  store i32 %dec, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 12), align 4, !tbaa !60
  br label %while.cond.backedge

if.else112:                                       ; preds = %if.then103
  %40 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 11), align 8, !tbaa !72
  %inc113 = add nsw i32 %40, 1
  store i32 %inc113, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 11), align 8, !tbaa !72
  %41 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 5), align 4, !tbaa !55
  %42 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 6), align 8, !tbaa !61
  %cmp114 = icmp sgt i32 %41, %42
  br i1 %cmp114, label %if.then115, label %if.else118

if.then115:                                       ; preds = %if.else112
  %dec116 = add nsw i32 %41, -1
  store i32 %dec116, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 5), align 4, !tbaa !55
  tail call void @halide_cond_wait(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 9), %struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  %43 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 5), align 4, !tbaa !55
  %inc117 = add nsw i32 %43, 1
  store i32 %inc117, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 5), align 4, !tbaa !55
  br label %if.end124

if.else118:                                       ; preds = %if.else112
  %inc119 = add nsw i32 %spin_count.0, 1
  %cmp120 = icmp slt i32 %spin_count.0, 40
  br i1 %cmp120, label %if.then121, label %if.else122

if.then121:                                       ; preds = %if.else118
  tail call void @halide_mutex_unlock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  tail call void @halide_thread_yield() #16
  tail call void @halide_mutex_lock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  br label %if.end124

if.else122:                                       ; preds = %if.else118
  tail call void @halide_cond_wait(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 8), %struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  br label %if.end124

if.end124:                                        ; preds = %if.else122, %if.then121, %if.then115
  %spin_count.1 = phi i32 [ %spin_count.0, %if.then115 ], [ %inc119, %if.then121 ], [ %inc119, %if.else122 ]
  %44 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 11), align 8, !tbaa !72
  %dec125 = add nsw i32 %44, -1
  store i32 %dec125, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 11), align 8, !tbaa !72
  br label %while.cond.backedge

if.then136:                                       ; preds = %while.end101.thread502
  %45 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 16), align 4, !tbaa !54
  %add139 = add nsw i32 %45, %34
  store i32 %add139, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 16), align 4, !tbaa !54
  br label %if.end152

if.else143:                                       ; preds = %while.end101.thread502
  %threads_reserved147 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %35, i64 0, i32 6
  %46 = load i32, i32* %threads_reserved147, align 8, !tbaa !57
  %add148 = add nsw i32 %46, %34
  store i32 %add148, i32* %threads_reserved147, align 8, !tbaa !57
  br label %if.end152

if.end152:                                        ; preds = %if.else143, %if.then136
  %47 = load i8, i8* %serial93, align 8, !tbaa !27, !range !18
  %tobool155.not = icmp eq i8 %47, 0
  br i1 %tobool155.not, label %if.else198, label %if.then156

if.then156:                                       ; preds = %if.end152
  %next_job157 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 2
  %48 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** %next_job157, align 8, !tbaa !59
  store %"struct.Halide::Runtime::Internal::work"* %48, %"struct.Halide::Runtime::Internal::work"** %prev_ptr.1, align 8, !tbaa !11
  tail call void @halide_mutex_unlock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  %extent163 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 6
  %user_context = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 7
  %fn = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 0
  %min = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 5
  %closure = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 1
  %49 = bitcast %"struct.Halide::Runtime::Internal::work"* %job.1 to i8*
  br label %while.cond161.preheader

while.cond161.preheader:                          ; preds = %if.end172, %if.then156
  %iters.0544 = phi i32 [ 1, %if.then156 ], [ 0, %if.end172 ]
  %total_iters.0543 = phi i32 [ 0, %if.then156 ], [ %add178, %if.end172 ]
  %50 = load i32, i32* %extent163, align 8, !tbaa !26
  %sub164537 = sub nsw i32 %50, %total_iters.0543
  %cmp165538 = icmp sgt i32 %sub164537, %iters.0544
  br i1 %cmp165538, label %land.rhs.preheader, label %while.end169

land.rhs.preheader:                               ; preds = %while.cond161.preheader
  %.pre565 = load i32, i32* %next_semaphore.i, align 8, !tbaa !37
  %.pre566 = load i32, i32* %num_semaphores.i, align 8, !tbaa !29
  br label %land.rhs

land.rhs:                                         ; preds = %while.body167, %land.rhs.preheader
  %51 = phi i32 [ %60, %while.body167 ], [ %50, %land.rhs.preheader ]
  %52 = phi i32 [ %61, %while.body167 ], [ %.pre566, %land.rhs.preheader ]
  %53 = phi i32 [ 0, %while.body167 ], [ %.pre565, %land.rhs.preheader ]
  %iters.1539 = phi i32 [ %inc168, %while.body167 ], [ %iters.0544, %land.rhs.preheader ]
  %cmp14.i478 = icmp slt i32 %53, %52
  br i1 %cmp14.i478, label %for.body.i483, label %while.body167

for.body.i483:                                    ; preds = %land.rhs, %for.inc.i486
  %54 = phi i32 [ %inc.i484, %for.inc.i486 ], [ %53, %land.rhs ]
  %55 = load %struct.halide_semaphore_acquire_t*, %struct.halide_semaphore_acquire_t** %semaphores.i, align 8, !tbaa !28
  %idxprom.i479 = sext i32 %54 to i64
  %semaphore.i480 = getelementptr inbounds %struct.halide_semaphore_acquire_t, %struct.halide_semaphore_acquire_t* %55, i64 %idxprom.i479, i32 0
  %56 = load %struct.halide_semaphore_t*, %struct.halide_semaphore_t** %semaphore.i480, align 8, !tbaa !67
  %count.i481 = getelementptr inbounds %struct.halide_semaphore_acquire_t, %struct.halide_semaphore_acquire_t* %55, i64 %idxprom.i479, i32 1
  %57 = load i32, i32* %count.i481, align 8, !tbaa !69
  %call.i482 = tail call zeroext i1 @halide_default_semaphore_try_acquire(%struct.halide_semaphore_t* %56, i32 %57) #16
  br i1 %call.i482, label %for.inc.i486, label %while.end169

for.inc.i486:                                     ; preds = %for.body.i483
  %58 = load i32, i32* %next_semaphore.i, align 8, !tbaa !37
  %inc.i484 = add nsw i32 %58, 1
  store i32 %inc.i484, i32* %next_semaphore.i, align 8, !tbaa !37
  %59 = load i32, i32* %num_semaphores.i, align 8, !tbaa !29
  %cmp.i485 = icmp slt i32 %inc.i484, %59
  br i1 %cmp.i485, label %for.body.i483, label %while.body167.loopexit, !llvm.loop !70

while.body167.loopexit:                           ; preds = %for.inc.i486
  %.pre567 = load i32, i32* %extent163, align 8, !tbaa !26
  br label %while.body167

while.body167:                                    ; preds = %while.body167.loopexit, %land.rhs
  %60 = phi i32 [ %.pre567, %while.body167.loopexit ], [ %51, %land.rhs ]
  %61 = phi i32 [ %59, %while.body167.loopexit ], [ %52, %land.rhs ]
  store i32 0, i32* %next_semaphore.i, align 8, !tbaa !37
  %inc168 = add nuw nsw i32 %iters.1539, 1
  %sub164 = sub nsw i32 %60, %total_iters.0543
  %cmp165 = icmp sgt i32 %sub164, %inc168
  br i1 %cmp165, label %land.rhs, label %if.end172, !llvm.loop !73

while.end169:                                     ; preds = %for.body.i483, %while.cond161.preheader
  %iters.1533 = phi i32 [ %iters.0544, %while.cond161.preheader ], [ %iters.1539, %for.body.i483 ]
  %cmp170 = icmp eq i32 %iters.1533, 0
  br i1 %cmp170, label %while.end179, label %if.end172

if.end172:                                        ; preds = %while.body167, %while.end169
  %iters.1533570 = phi i32 [ %iters.1533, %while.end169 ], [ %inc168, %while.body167 ]
  %62 = load i8*, i8** %user_context, align 8, !tbaa !34
  %63 = load i32 (i8*, i32, i32, i8*, i8*)*, i32 (i8*, i32, i32, i8*, i8*)** %fn, align 8, !tbaa !21
  %64 = load i32, i32* %min, align 4, !tbaa !25
  %add175 = add nsw i32 %64, %total_iters.0543
  %65 = load i8*, i8** %closure, align 8, !tbaa !30
  %call177 = tail call i32 @halide_do_loop_task(i8* %62, i32 (i8*, i32, i32, i8*, i8*)* %63, i32 %add175, i32 %iters.1533570, i8* %65, i8* nonnull %49) #17
  %add178 = add nuw nsw i32 %iters.1533570, %total_iters.0543
  %cmp159 = icmp eq i32 %call177, 0
  br i1 %cmp159, label %while.cond161.preheader, label %while.end179, !llvm.loop !74

while.end179:                                     ; preds = %if.end172, %while.end169
  %cmp170572 = phi i1 [ true, %while.end169 ], [ false, %if.end172 ]
  %result.0.lcssa = phi i32 [ 0, %while.end169 ], [ %call177, %if.end172 ]
  %total_iters.0.lcssa = phi i32 [ %total_iters.0543, %while.end169 ], [ %add178, %if.end172 ]
  tail call void @halide_mutex_lock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  %66 = load i32, i32* %min, align 4, !tbaa !25
  %add182 = add nsw i32 %66, %total_iters.0.lcssa
  store i32 %add182, i32* %min, align 4, !tbaa !25
  %67 = load i32, i32* %extent163, align 8, !tbaa !26
  %sub185 = sub nsw i32 %67, %total_iters.0.lcssa
  store i32 %sub185, i32* %extent163, align 8, !tbaa !26
  br i1 %cmp170572, label %if.else190, label %if.end230.thread513

if.end230.thread513:                              ; preds = %while.end179
  store i32 0, i32* %extent163, align 8, !tbaa !26
  br label %if.then238

if.else190:                                       ; preds = %while.end179
  %cmp193 = icmp sgt i32 %sub185, 0
  br i1 %cmp193, label %if.then194, label %if.end271

if.then194:                                       ; preds = %if.else190
  %68 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 3), align 8, !tbaa !58
  store %"struct.Halide::Runtime::Internal::work"* %68, %"struct.Halide::Runtime::Internal::work"** %next_job157, align 8, !tbaa !59
  store %"struct.Halide::Runtime::Internal::work"* %job.1, %"struct.Halide::Runtime::Internal::work"** getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 3), align 8, !tbaa !58
  br label %if.end271

if.else198:                                       ; preds = %if.end152
  %myjob.sroa.0.0..sroa_idx = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 0
  %myjob.sroa.0.0.copyload = load i32 (i8*, i32, i32, i8*, i8*)*, i32 (i8*, i32, i32, i8*, i8*)** %myjob.sroa.0.0..sroa_idx, align 8, !tbaa.struct !75
  %myjob.sroa.4.0..sroa_idx327 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 1
  %myjob.sroa.4.0.copyload = load i8*, i8** %myjob.sroa.4.0..sroa_idx327, align 8, !tbaa.struct !77
  %myjob.sroa.6333.0..sroa_idx334 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 5
  %myjob.sroa.6333.0.copyload = load i32, i32* %myjob.sroa.6333.0..sroa_idx334, align 4
  %myjob.sroa.8340.0..sroa_idx341 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 1
  %myjob.sroa.8340.0.copyload = load i32 (i8*, i32, i8*)*, i32 (i8*, i32, i8*)** %myjob.sroa.8340.0..sroa_idx341, align 8, !tbaa.struct !78
  %myjob.sroa.10347.0..sroa_idx348 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 7
  %myjob.sroa.10347.0.copyload = load i8*, i8** %myjob.sroa.10347.0..sroa_idx348, align 8, !tbaa.struct !79
  %inc201 = add nsw i32 %myjob.sroa.6333.0.copyload, 1
  store i32 %inc201, i32* %myjob.sroa.6333.0..sroa_idx334, align 4, !tbaa !25
  %extent203 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 6
  %69 = load i32, i32* %extent203, align 8, !tbaa !26
  %dec204 = add nsw i32 %69, -1
  store i32 %dec204, i32* %extent203, align 8, !tbaa !26
  %cmp207 = icmp eq i32 %dec204, 0
  br i1 %cmp207, label %if.then208, label %if.end210

if.then208:                                       ; preds = %if.else198
  %next_job209 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 2
  %70 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** %next_job209, align 8, !tbaa !59
  store %"struct.Halide::Runtime::Internal::work"* %70, %"struct.Halide::Runtime::Internal::work"** %prev_ptr.1, align 8, !tbaa !11
  br label %if.end210

if.end210:                                        ; preds = %if.then208, %if.else198
  tail call void @halide_mutex_unlock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  %tobool211.not = icmp eq i32 (i8*, i32, i8*)* %myjob.sroa.8340.0.copyload, null
  br i1 %tobool211.not, label %if.else220, label %if.then212

if.then212:                                       ; preds = %if.end210
  %call219 = tail call i32 @halide_do_task(i8* %myjob.sroa.10347.0.copyload, i32 (i8*, i32, i8*)* nonnull %myjob.sroa.8340.0.copyload, i32 %myjob.sroa.6333.0.copyload, i8* %myjob.sroa.4.0.copyload) #17
  br label %if.end230

if.else220:                                       ; preds = %if.end210
  %71 = bitcast %"struct.Halide::Runtime::Internal::work"* %job.1 to i8*
  %call228 = tail call i32 @halide_do_loop_task(i8* %myjob.sroa.10347.0.copyload, i32 (i8*, i32, i32, i8*, i8*)* %myjob.sroa.0.0.copyload, i32 %myjob.sroa.6333.0.copyload, i32 1, i8* %myjob.sroa.4.0.copyload, i8* %71) #17
  br label %if.end230

if.end230:                                        ; preds = %if.else220, %if.then212
  %result.1 = phi i32 [ %call219, %if.then212 ], [ %call228, %if.else220 ]
  tail call void @halide_mutex_lock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  %cmp237.not = icmp eq i32 %result.1, 0
  br i1 %cmp237.not, label %if.end271, label %if.then238

if.then238:                                       ; preds = %if.end230, %if.end230.thread513
  %result.2518 = phi i32 [ %result.0.lcssa, %if.end230.thread513 ], [ %result.1, %if.end230 ]
  %exit_status239 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 9
  store i32 %result.2518, i32* %exit_status239, align 4, !tbaa !35
  %sibling_count = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 4
  %72 = load i32, i32* %sibling_count, align 8, !tbaa !40
  %cmp240546 = icmp sgt i32 %72, 0
  br i1 %cmp240546, label %do.end243.lr.ph, label %if.end271

do.end243.lr.ph:                                  ; preds = %if.then238
  %siblings244 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 3
  %73 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** %siblings244, align 8, !tbaa !39
  %wide.trip.count = zext i32 %72 to i64
  %xtraiter = and i64 %wide.trip.count, 1
  %74 = icmp eq i32 %72, 1
  br i1 %74, label %if.end271.loopexit.unr-lcssa, label %do.end243.lr.ph.new

do.end243.lr.ph.new:                              ; preds = %do.end243.lr.ph
  %unroll_iter = and i64 %wide.trip.count, 4294967294
  br label %do.end243

do.end243:                                        ; preds = %for.inc.1, %do.end243.lr.ph.new
  %indvars.iv = phi i64 [ 0, %do.end243.lr.ph.new ], [ %indvars.iv.next.1, %for.inc.1 ]
  %wake_owners.0547 = phi i8 [ 0, %do.end243.lr.ph.new ], [ %wake_owners.1.1, %for.inc.1 ]
  %niter = phi i64 [ %unroll_iter, %do.end243.lr.ph.new ], [ %niter.nsub.1, %for.inc.1 ]
  %exit_status245 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %73, i64 %indvars.iv, i32 9
  %75 = load i32, i32* %exit_status245, align 4, !tbaa !35
  %cmp246 = icmp eq i32 %75, 0
  br i1 %cmp246, label %if.then247, label %for.inc

if.then247:                                       ; preds = %do.end243
  store i32 %result.2518, i32* %exit_status245, align 4, !tbaa !35
  %76 = load i32, i32* %active_workers132, align 8, !tbaa !36
  %cmp253 = icmp eq i32 %76, 0
  br i1 %cmp253, label %land.rhs254, label %land.end260

land.rhs254:                                      ; preds = %if.then247
  %owner_is_sleeping258 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %73, i64 %indvars.iv, i32 11
  %77 = load i8, i8* %owner_is_sleeping258, align 4, !tbaa !38, !range !18
  br label %land.end260

land.end260:                                      ; preds = %land.rhs254, %if.then247
  %78 = phi i8 [ 0, %if.then247 ], [ %77, %land.rhs254 ]
  %79 = and i8 %wake_owners.0547, 1
  %or = or i8 %78, %79
  br label %for.inc

for.inc:                                          ; preds = %land.end260, %do.end243
  %wake_owners.1 = phi i8 [ %or, %land.end260 ], [ %wake_owners.0547, %do.end243 ]
  %indvars.iv.next = or i64 %indvars.iv, 1
  %exit_status245.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %73, i64 %indvars.iv.next, i32 9
  %80 = load i32, i32* %exit_status245.1, align 4, !tbaa !35
  %cmp246.1 = icmp eq i32 %80, 0
  br i1 %cmp246.1, label %if.then247.1, label %for.inc.1

if.end271.loopexit.unr-lcssa:                     ; preds = %for.inc.1, %do.end243.lr.ph
  %wake_owners.1.lcssa.ph = phi i8 [ undef, %do.end243.lr.ph ], [ %wake_owners.1.1, %for.inc.1 ]
  %indvars.iv.unr = phi i64 [ 0, %do.end243.lr.ph ], [ %indvars.iv.next.1, %for.inc.1 ]
  %wake_owners.0547.unr = phi i8 [ 0, %do.end243.lr.ph ], [ %wake_owners.1.1, %for.inc.1 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %if.end271, label %do.end243.epil

do.end243.epil:                                   ; preds = %if.end271.loopexit.unr-lcssa
  %exit_status245.epil = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %73, i64 %indvars.iv.unr, i32 9
  %81 = load i32, i32* %exit_status245.epil, align 4, !tbaa !35
  %cmp246.epil = icmp eq i32 %81, 0
  br i1 %cmp246.epil, label %if.then247.epil, label %if.end271

if.then247.epil:                                  ; preds = %do.end243.epil
  store i32 %result.2518, i32* %exit_status245.epil, align 4, !tbaa !35
  %82 = load i32, i32* %active_workers132, align 8, !tbaa !36
  %cmp253.epil = icmp eq i32 %82, 0
  br i1 %cmp253.epil, label %land.rhs254.epil, label %land.end260.epil

land.rhs254.epil:                                 ; preds = %if.then247.epil
  %owner_is_sleeping258.epil = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %73, i64 %indvars.iv.unr, i32 11
  %83 = load i8, i8* %owner_is_sleeping258.epil, align 4, !tbaa !38, !range !18
  br label %land.end260.epil

land.end260.epil:                                 ; preds = %land.rhs254.epil, %if.then247.epil
  %84 = phi i8 [ 0, %if.then247.epil ], [ %83, %land.rhs254.epil ]
  %85 = and i8 %wake_owners.0547.unr, 1
  %or.epil = or i8 %84, %85
  br label %if.end271

if.end271:                                        ; preds = %if.end271.loopexit.unr-lcssa, %do.end243.epil, %land.end260.epil, %if.then238, %if.end230, %if.then194, %if.else190
  %wake_owners.2 = phi i8 [ 0, %if.end230 ], [ 0, %if.else190 ], [ 0, %if.then194 ], [ 0, %if.then238 ], [ %wake_owners.1.lcssa.ph, %if.end271.loopexit.unr-lcssa ], [ %or.epil, %land.end260.epil ], [ %wake_owners.0547.unr, %do.end243.epil ]
  %86 = load %"struct.Halide::Runtime::Internal::work"*, %"struct.Halide::Runtime::Internal::work"** %parent_job2978, align 8, !tbaa !41
  %cmp273 = icmp eq %"struct.Halide::Runtime::Internal::work"* %86, null
  %87 = load i32, i32* %min_threads4790, align 4, !tbaa !31
  br i1 %cmp273, label %if.then274, label %if.else281

if.then274:                                       ; preds = %if.end271
  %88 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 16), align 4, !tbaa !54
  %sub277 = sub nsw i32 %88, %87
  store i32 %sub277, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 16), align 4, !tbaa !54
  br label %if.end290

if.else281:                                       ; preds = %if.end271
  %threads_reserved285 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %86, i64 0, i32 6
  %89 = load i32, i32* %threads_reserved285, align 8, !tbaa !57
  %sub286 = sub nsw i32 %89, %87
  store i32 %sub286, i32* %threads_reserved285, align 8, !tbaa !57
  br label %if.end290

if.end290:                                        ; preds = %if.else281, %if.then274
  %90 = load i32, i32* %active_workers132, align 8, !tbaa !36
  %dec292 = add nsw i32 %90, -1
  store i32 %dec292, i32* %active_workers132, align 8, !tbaa !36
  %91 = and i8 %wake_owners.2, 1
  %tobool296.not = icmp eq i8 %91, 0
  br i1 %tobool296.not, label %lor.lhs.false297, label %if.then310

lor.lhs.false297:                                 ; preds = %if.end290
  %cmp299 = icmp eq i32 %dec292, 0
  br i1 %cmp299, label %land.lhs.true300, label %while.cond.backedge

land.lhs.true300:                                 ; preds = %lor.lhs.false297
  %extent302 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 0, i32 6
  %92 = load i32, i32* %extent302, align 8, !tbaa !26
  %cmp303 = icmp eq i32 %92, 0
  br i1 %cmp303, label %land.lhs.true307, label %lor.lhs.false304

lor.lhs.false304:                                 ; preds = %land.lhs.true300
  %exit_status305 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 9
  %93 = load i32, i32* %exit_status305, align 4, !tbaa !35
  %cmp306.not = icmp eq i32 %93, 0
  br i1 %cmp306.not, label %while.cond.backedge, label %land.lhs.true307

land.lhs.true307:                                 ; preds = %lor.lhs.false304, %land.lhs.true300
  %owner_is_sleeping308 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %job.1, i64 0, i32 11
  %94 = load i8, i8* %owner_is_sleeping308, align 4, !tbaa !38, !range !18
  %tobool309.not = icmp eq i8 %94, 0
  br i1 %tobool309.not, label %while.cond.backedge, label %if.then310

if.then310:                                       ; preds = %land.lhs.true307, %if.end290
  tail call void @halide_cond_broadcast(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 10)) #17
  br label %while.cond.backedge

while.cond.backedge:                              ; preds = %if.then310, %land.lhs.true307, %lor.lhs.false304, %lor.lhs.false297, %if.end124, %if.else108, %if.then107, %if.then15, %while.end
  %spin_count.0.be = phi i32 [ %spin_count.0, %while.end ], [ %spin_count.0, %if.then15 ], [ %inc, %if.then107 ], [ %inc, %if.else108 ], [ %spin_count.1, %if.end124 ], [ 0, %if.then310 ], [ 0, %land.lhs.true307 ], [ 0, %lor.lhs.false304 ], [ 0, %lor.lhs.false297 ]
  br label %while.cond, !llvm.loop !80

while.end316:                                     ; preds = %cond.end, %cond.true
  ret void

if.then247.1:                                     ; preds = %for.inc
  store i32 %result.2518, i32* %exit_status245.1, align 4, !tbaa !35
  %95 = load i32, i32* %active_workers132, align 8, !tbaa !36
  %cmp253.1 = icmp eq i32 %95, 0
  br i1 %cmp253.1, label %land.rhs254.1, label %land.end260.1

land.rhs254.1:                                    ; preds = %if.then247.1
  %owner_is_sleeping258.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %73, i64 %indvars.iv.next, i32 11
  %96 = load i8, i8* %owner_is_sleeping258.1, align 4, !tbaa !38, !range !18
  br label %land.end260.1

land.end260.1:                                    ; preds = %land.rhs254.1, %if.then247.1
  %97 = phi i8 [ 0, %if.then247.1 ], [ %96, %land.rhs254.1 ]
  %98 = and i8 %wake_owners.1, 1
  %or.1 = or i8 %97, %98
  br label %for.inc.1

for.inc.1:                                        ; preds = %land.end260.1, %for.inc
  %wake_owners.1.1 = phi i8 [ %or.1, %land.end260.1 ], [ %wake_owners.1, %for.inc ]
  %indvars.iv.next.1 = add nuw nsw i64 %indvars.iv, 2
  %niter.nsub.1 = add i64 %niter, -2
  %niter.ncmp.1 = icmp eq i64 %niter.nsub.1, 0
  br i1 %niter.ncmp.1, label %if.end271.loopexit.unr-lcssa, label %do.end243, !llvm.loop !81
}

; Function Attrs: nounwind
define weak void @halide_mutex_unlock(%struct.halide_mutex* %mutex) local_unnamed_addr #3 {
entry:
  %control.i.i = alloca %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", align 8
  %state.i = getelementptr %struct.halide_mutex, %struct.halide_mutex* %mutex, i64 0, i32 0, i64 0
  %0 = cmpxchg weak i64* %state.i, i64 1, i64 0 release monotonic, align 8
  %1 = extractvalue { i64, i1 } %0, 1
  br i1 %1, label %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex6unlockEv.exit, label %if.then.i

if.then.i:                                        ; preds = %entry
  %2 = cmpxchg i64* %state.i, i64 1, i64 0 release monotonic, align 8
  %3 = extractvalue { i64, i1 } %2, 1
  br i1 %3, label %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex6unlockEv.exit, label %if.end.i.i

if.end.i.i:                                       ; preds = %if.then.i
  %4 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i to i8*
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %4) #11
  %5 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i, i64 0, i32 0, i32 0
  store i32 (...)** bitcast (i8** getelementptr inbounds ({ [6 x i8*] }, { [6 x i8*] }* @_ZTVN6Halide7Runtime8Internal15Synchronization21mutex_parking_controlE, i64 0, inrange i32 0, i64 2) to i32 (...)**), i32 (...)*** %5, align 8, !tbaa !42
  %lock_state2.i.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i, i64 0, i32 1
  store i64* %state.i, i64** %lock_state2.i.i.i, align 8, !tbaa !44
  %6 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i, i64 0, i32 0
  %7 = ptrtoint %struct.halide_mutex* %mutex to i64
  %call3.i.i = call i64 @_ZN6Halide7Runtime8Internal15Synchronization15parking_control10unpark_oneEy(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %6, i64 %7) #16
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %4) #11
  br label %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex6unlockEv.exit

_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex6unlockEv.exit: ; preds = %if.end.i.i, %if.then.i, %entry
  ret void
}

; Function Attrs: mustprogress nounwind
define linkonce i64 @_ZN6Halide7Runtime8Internal15Synchronization15parking_control10unpark_oneEy(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this, i64 %addr) local_unnamed_addr #0 align 2 {
entry:
  %call = tail call nonnull align 8 dereferenceable(24) %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* @_ZN6Halide7Runtime8Internal15Synchronization11lock_bucketEy(i64 %addr) #17
  %head = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %call, i64 0, i32 1
  %0 = load %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %head, align 8, !tbaa !11
  %tail = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %call, i64 0, i32 2
  %1 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::parking_control"* %this to i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)***
  %state.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %call, i64 0, i32 0, i32 0
  %mutex = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %call, i64 0, i32 0
  br label %while.cond

while.cond:                                       ; preds = %cleanup, %entry
  %data_location.0 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** [ %head, %entry ], [ %data_location.1, %cleanup ]
  %prev.0 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ null, %entry ], [ %prev.1, %cleanup ]
  %data.0 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %0, %entry ], [ %data.1, %cleanup ]
  %retval.0 = phi i64 [ undef, %entry ], [ %retval.1, %cleanup ]
  %cmp.not = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %data.0, null
  br i1 %cmp.not, label %while.end22, label %while.body

while.body:                                       ; preds = %while.cond
  %sleep_address = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %data.0, i64 0, i32 1
  %2 = load atomic i64, i64* %sleep_address monotonic, align 8
  %cmp2 = icmp eq i64 %2, %addr
  %next3 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %data.0, i64 0, i32 2
  %3 = load %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %next3, align 8, !tbaa !82
  br i1 %cmp2, label %if.then, label %cleanup

if.then:                                          ; preds = %while.body
  store %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %3, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %data_location.0, align 8, !tbaa !11
  %4 = load %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %tail, align 8, !tbaa !88
  %cmp4 = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %4, %data.0
  br i1 %cmp4, label %if.then5, label %while.cond7.preheader

while.cond7.preheader:                            ; preds = %if.then
  %cmp872.not = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %3, null
  br i1 %cmp872.not, label %if.end, label %while.body9

if.then5:                                         ; preds = %if.then
  store %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %prev.0, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %tail, align 8, !tbaa !88
  br label %if.end

while.body9:                                      ; preds = %while.cond7.preheader, %while.body9
  %data2.073 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %6, %while.body9 ], [ %3, %while.cond7.preheader ]
  %sleep_address10 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %data2.073, i64 0, i32 1
  %5 = load atomic i64, i64* %sleep_address10 monotonic, align 8
  %cmp11 = icmp eq i64 %5, %addr
  %next12 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %data2.073, i64 0, i32 2
  %6 = load %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %next12, align 8, !tbaa !82
  %cmp8 = icmp ne %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %6, null
  %tobool.not = xor i1 %cmp11, true
  %7 = select i1 %cmp8, i1 %tobool.not, i1 false
  br i1 %7, label %while.body9, label %if.end.loopexit, !llvm.loop !91

if.end.loopexit:                                  ; preds = %while.body9
  %frombool = zext i1 %cmp11 to i8
  br label %if.end

if.end:                                           ; preds = %if.end.loopexit, %if.then5, %while.cond7.preheader
  %more_waiters.1 = phi i8 [ 0, %if.then5 ], [ 0, %while.cond7.preheader ], [ %frombool, %if.end.loopexit ]
  %tobool13 = icmp ne i8 %more_waiters.1, 0
  %vtable = load i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)**, i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)*** %1, align 8, !tbaa !42
  %vfn = getelementptr inbounds i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)*, i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)** %vtable, i64 2
  %8 = load i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)*, i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)** %vfn, align 8
  %call14 = tail call i64 %8(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this, i32 1, i1 zeroext %tobool13) #16
  %unpark_info = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %data.0, i64 0, i32 3
  store i64 %call14, i64* %unpark_info, align 8, !tbaa !92
  %mutex.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %data.0, i64 0, i32 0, i32 0
  %call.i = tail call i32 @pthread_mutex_lock(%struct.pthread_mutex_t* nonnull %mutex.i) #16
  %9 = atomicrmw and i64* %state.i, i64 -2 release, align 8
  %and.i = and i64 %9, 2
  %cmp.i = icmp ne i64 %and.i, 0
  %cmp3.not.i = icmp ult i64 %9, 4
  %or.cond.i = or i1 %cmp3.not.i, %cmp.i
  br i1 %or.cond.i, label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit, label %if.then.i

if.then.i:                                        ; preds = %if.end
  tail call void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock11unlock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %mutex) #16
  br label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit

_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit: ; preds = %if.then.i, %if.end
  %should_park.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %data.0, i64 0, i32 0, i32 2
  store i8 0, i8* %should_park.i, align 8, !tbaa !93
  %condvar.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %data.0, i64 0, i32 0, i32 1
  %call.i60 = tail call i32 @pthread_cond_signal(%struct.pthread_mutex_t* nonnull %condvar.i) #16
  %call.i62 = tail call i32 @pthread_mutex_unlock(%struct.pthread_mutex_t* nonnull %mutex.i) #16
  %10 = zext i8 %more_waiters.1 to i64
  br label %cleanup

cleanup:                                          ; preds = %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit, %while.body
  %data_location.1 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** [ %data_location.0, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit ], [ %next3, %while.body ]
  %prev.1 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %prev.0, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit ], [ %data.0, %while.body ]
  %data.1 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %data.0, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit ], [ %3, %while.body ]
  %retval.1 = phi i64 [ %10, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit ], [ %retval.0, %while.body ]
  br i1 %cmp2, label %cleanup27, label %while.cond, !llvm.loop !94

while.end22:                                      ; preds = %while.cond
  %vtable23 = load i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)**, i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)*** %1, align 8, !tbaa !42
  %vfn24 = getelementptr inbounds i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)*, i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)** %vtable23, i64 2
  %11 = load i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)*, i64 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, i32, i1)** %vfn24, align 8
  %call25 = tail call i64 %11(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this, i32 0, i1 zeroext false) #16
  %12 = atomicrmw and i64* %state.i, i64 -2 release, align 8
  %and.i64 = and i64 %12, 2
  %cmp.i65 = icmp ne i64 %and.i64, 0
  %cmp3.not.i66 = icmp ult i64 %12, 4
  %or.cond.i67 = or i1 %cmp3.not.i66, %cmp.i65
  br i1 %or.cond.i67, label %cleanup27, label %if.then.i68

if.then.i68:                                      ; preds = %while.end22
  tail call void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock11unlock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %mutex) #16
  br label %cleanup27

cleanup27:                                        ; preds = %cleanup, %if.then.i68, %while.end22
  %retval.2 = phi i64 [ 0, %while.end22 ], [ 0, %if.then.i68 ], [ %retval.1, %cleanup ]
  ret i64 %retval.2
}

; Function Attrs: mustprogress nounwind
define linkonce nonnull align 8 dereferenceable(24) %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* @_ZN6Halide7Runtime8Internal15Synchronization11lock_bucketEy(i64 %addr) local_unnamed_addr #0 {
entry:
  %mul.i = mul i64 %addr, -7046029254386353131
  %shr.i = lshr i64 %mul.i, 54
  %arrayidx = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_table", %"struct.Halide::Runtime::Internal::Synchronization::hash_table"* @_ZN6Halide7Runtime8Internal15Synchronization5tableE, i64 0, i32 0, i64 %shr.i
  %state.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %arrayidx, i64 0, i32 0, i32 0
  %0 = cmpxchg weak i64* %state.i, i64 0, i64 1 acquire monotonic, align 8
  %1 = extractvalue { i64, i1 } %0, 1
  br i1 %1, label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit, label %if.then.i

if.then.i:                                        ; preds = %entry
  %mutex = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %arrayidx, i64 0, i32 0
  tail call void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock9lock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %mutex) #16
  br label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit

_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit: ; preds = %if.then.i, %entry
  ret %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %arrayidx
}

declare i32 @pthread_mutex_lock(%struct.pthread_mutex_t*) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define linkonce void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock11unlock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %this) local_unnamed_addr #0 align 2 {
entry:
  %state = getelementptr inbounds %"class.Halide::Runtime::Internal::Synchronization::word_lock", %"class.Halide::Runtime::Internal::Synchronization::word_lock"* %this, i64 0, i32 0
  %0 = load atomic i64, i64* %state monotonic, align 8
  br label %while.cond

while.cond:                                       ; preds = %if.end, %entry
  %expected.0 = phi i64 [ %0, %entry ], [ %3, %if.end ]
  %and = and i64 %expected.0, 2
  %tobool.not = icmp ne i64 %and, 0
  %cmp = icmp ult i64 %expected.0, 4
  %or.cond = or i1 %cmp, %tobool.not
  br i1 %or.cond, label %cleanup75, label %if.end

if.end:                                           ; preds = %while.cond
  %or = or i64 %expected.0, 2
  %1 = cmpxchg weak i64* %state, i64 %expected.0, i64 %or acquire monotonic, align 8
  %2 = extractvalue { i64, i1 } %1, 1
  %3 = extractvalue { i64, i1 } %1, 0
  br i1 %2, label %while.cond11, label %while.cond

while.cond11:                                     ; preds = %if.end, %cleanup70
  %.lcssa187.sink.pn = phi { i64, i1 } [ %.lcssa187.sink, %cleanup70 ], [ %1, %if.end ]
  %expected.3 = extractvalue { i64, i1 } %.lcssa187.sink.pn, 0
  %and13 = and i64 %expected.3, -4
  %4 = inttoptr i64 %and13 to %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"*
  %tail14 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %4, i64 0, i32 3
  %tail.0145 = load %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"** %tail14, align 8, !tbaa !95
  %cmp16146 = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %tail.0145, null
  br i1 %cmp16146, label %while.body17, label %while.end23

while.body17:                                     ; preds = %while.cond11, %do.end
  %current.0147 = phi %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* [ %5, %do.end ], [ %4, %while.cond11 ]
  %next18 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %current.0147, i64 0, i32 1
  %5 = load %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"** %next18, align 8, !tbaa !97
  %cmp19.not = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %5, null
  br i1 %cmp19.not, label %if.then20, label %do.end

if.then20:                                        ; preds = %while.body17
  tail call void @halide_print(i8* null, i8* getelementptr inbounds ([106 x i8], [106 x i8]* @.str.5, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then20, %while.body17
  %prev = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %5, i64 0, i32 2
  store %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %current.0147, %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"** %prev, align 8, !tbaa !98
  %tail22 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %5, i64 0, i32 3
  %tail.0 = load %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"** %tail22, align 8, !tbaa !95
  %cmp16 = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %tail.0, null
  br i1 %cmp16, label %while.body17, label %while.end23, !llvm.loop !99

while.end23:                                      ; preds = %do.end, %while.cond11
  %tail.0.lcssa = phi %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* [ %tail.0145, %while.cond11 ], [ %tail.0, %do.end ]
  store %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %tail.0.lcssa, %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"** %tail14, align 8, !tbaa !95
  %and25 = and i64 %expected.3, 1
  %tobool26.not = icmp eq i64 %and25, 0
  br i1 %tobool26.not, label %if.end35, label %if.then27

if.then27:                                        ; preds = %while.end23
  %and29 = and i64 %expected.3, -3
  %6 = cmpxchg weak i64* %state, i64 %expected.3, i64 %and29 acq_rel monotonic, align 8
  %7 = extractvalue { i64, i1 } %6, 1
  br i1 %7, label %cleanup75, label %cleanup70, !llvm.loop !100

if.end35:                                         ; preds = %while.end23
  %prev36 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %tail.0.lcssa, i64 0, i32 2
  %8 = load %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"** %prev36, align 8, !tbaa !98
  %cmp37 = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %8, null
  br i1 %cmp37, label %while.body41, label %if.else62

while.body41:                                     ; preds = %if.end35, %if.end47
  %expected.5148 = phi i64 [ %11, %if.end47 ], [ %expected.3, %if.end35 ]
  %and43 = and i64 %expected.5148, 1
  %9 = cmpxchg weak i64* %state, i64 %expected.5148, i64 %and43 acq_rel monotonic, align 8
  %10 = extractvalue { i64, i1 } %9, 1
  br i1 %10, label %if.end66, label %if.end47

if.end47:                                         ; preds = %while.body41
  %11 = extractvalue { i64, i1 } %9, 0
  %cmp49 = icmp ult i64 %11, 4
  br i1 %cmp49, label %while.body41, label %cleanup70, !llvm.loop !101

if.else62:                                        ; preds = %if.end35
  store %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %8, %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"** %tail14, align 8, !tbaa !95
  %12 = atomicrmw and i64* %state, i64 -3 release, align 8
  br label %if.end66

if.end66:                                         ; preds = %while.body41, %if.else62
  %mutex.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %tail.0.lcssa, i64 0, i32 0, i32 0
  %call.i = tail call i32 @pthread_mutex_lock(%struct.pthread_mutex_t* nonnull %mutex.i) #16
  %should_park.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %tail.0.lcssa, i64 0, i32 0, i32 2
  store i8 0, i8* %should_park.i, align 8, !tbaa !93
  %condvar.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %tail.0.lcssa, i64 0, i32 0, i32 1
  %call.i105 = tail call i32 @pthread_cond_signal(%struct.pthread_mutex_t* nonnull %condvar.i) #16
  %call.i107 = tail call i32 @pthread_mutex_unlock(%struct.pthread_mutex_t* nonnull %mutex.i) #16
  br label %cleanup75

cleanup70:                                        ; preds = %if.end47, %if.then27
  %.lcssa187.sink = phi { i64, i1 } [ %6, %if.then27 ], [ %9, %if.end47 ]
  fence acquire
  br label %while.cond11

cleanup75:                                        ; preds = %while.cond, %if.then27, %if.end66
  ret void
}

declare i32 @pthread_cond_signal(%struct.pthread_mutex_t*) local_unnamed_addr #1

declare i32 @pthread_mutex_unlock(%struct.pthread_mutex_t*) local_unnamed_addr #1

; Function Attrs: nounwind
define linkonce void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock9lock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %this) local_unnamed_addr #3 align 2 {
entry:
  %node = alloca %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", align 8
  %state = getelementptr inbounds %"class.Halide::Runtime::Internal::Synchronization::word_lock", %"class.Halide::Runtime::Internal::Synchronization::word_lock"* %this, i64 0, i32 0
  %0 = load atomic i64, i64* %state monotonic, align 8
  %1 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %node to i8*
  %should_park.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %node, i64 0, i32 0, i32 2
  %mutex2.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %node, i64 0, i32 0, i32 0
  %condvar3.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %node, i64 0, i32 0, i32 1
  %next.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %node, i64 0, i32 1
  %tail.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data", %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %node, i64 0, i32 3
  %2 = ptrtoint %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %node to i64
  %3 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"** %next.i to <2 x %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"*>*
  br label %while.cond.outer

while.cond.outer:                                 ; preds = %while.cond.outer.backedge, %entry
  %expected.0.ph = phi i64 [ %0, %entry ], [ %expected.0.ph.be, %while.cond.outer.backedge ]
  %spinner.sroa.0.0.ph = phi i32 [ 40, %entry ], [ %spinner.sroa.0.0.ph.be, %while.cond.outer.backedge ]
  %and46 = and i64 %expected.0.ph, 1
  %tobool.not47 = icmp eq i64 %and46, 0
  br i1 %tobool.not47, label %if.then, label %if.end4

if.then:                                          ; preds = %while.cond.outer, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit
  %expected.048 = phi i64 [ %6, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit ], [ %expected.0.ph, %while.cond.outer ]
  %or = or i64 %expected.048, 1
  %4 = cmpxchg weak i64* %state, i64 %expected.048, i64 %or acquire monotonic, align 8
  %5 = extractvalue { i64, i1 } %4, 1
  br i1 %5, label %cleanup23, label %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit

_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit: ; preds = %if.then
  %6 = extractvalue { i64, i1 } %4, 0
  %and = and i64 %6, 1
  %tobool.not = icmp eq i64 %and, 0
  br i1 %tobool.not, label %if.then, label %if.end4.loopexit

if.end4.loopexit:                                 ; preds = %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit
  %7 = extractvalue { i64, i1 } %4, 0
  br label %if.end4

if.end4:                                          ; preds = %if.end4.loopexit, %while.cond.outer
  %expected.0.lcssa = phi i64 [ %expected.0.ph, %while.cond.outer ], [ %7, %if.end4.loopexit ]
  %cmp.not = icmp ugt i64 %expected.0.lcssa, 3
  %cmp.i = icmp sgt i32 %spinner.sroa.0.0.ph, 0
  %or.cond = select i1 %cmp.not, i1 %cmp.i, i1 false
  br i1 %or.cond, label %_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit, label %if.end9

_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit: ; preds = %if.end4
  %cmp4.i = icmp sgt i32 %spinner.sroa.0.0.ph, 1
  br i1 %cmp4.i, label %if.then7, label %if.end9

if.then7:                                         ; preds = %_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit
  %dec.i = add nsw i32 %spinner.sroa.0.0.ph, -1
  call void @halide_thread_yield() #16
  %8 = load atomic i64, i64* %state monotonic, align 8
  br label %while.cond.outer.backedge

if.end9:                                          ; preds = %_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit, %if.end4
  %spinner.sroa.0.2 = phi i32 [ %spinner.sroa.0.0.ph, %if.end4 ], [ 0, %_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit ]
  call void @llvm.lifetime.start.p0i8(i64 160, i8* nonnull %1) #11
  store i8 0, i8* %should_park.i.i, align 8, !tbaa !93
  %call.i.i = call i32 @pthread_mutex_init(%struct.pthread_mutex_t* nonnull %mutex2.i.i, i8* null) #16
  %call4.i.i = call i32 @pthread_cond_init(%struct.pthread_mutex_t* nonnull %condvar3.i.i, i8* null) #16
  store <2 x %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"*> zeroinitializer, <2 x %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"*>* %3, align 8, !tbaa !11
  store %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* null, %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"** %tail.i, align 8, !tbaa !95
  store i8 1, i8* %should_park.i.i, align 8, !tbaa !93
  %and10 = and i64 %expected.0.lcssa, -4
  %cmp11 = icmp eq i64 %and10, 0
  br i1 %cmp11, label %if.then12, label %if.else

if.then12:                                        ; preds = %if.end9
  store %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %node, %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"** %tail.i, align 8, !tbaa !95
  br label %if.end13

if.else:                                          ; preds = %if.end9
  %9 = inttoptr i64 %and10 to %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"*
  store %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"* %9, %"struct.Halide::Runtime::Internal::Synchronization::word_lock_queue_data"** %next.i, align 8, !tbaa !97
  br label %if.end13

if.end13:                                         ; preds = %if.else, %if.then12
  %and15 = and i64 %expected.0.lcssa, 3
  %or16 = or i64 %and15, %2
  %10 = cmpxchg weak i64* %state, i64 %expected.0.lcssa, i64 %or16 release monotonic, align 8
  %11 = extractvalue { i64, i1 } %10, 1
  br i1 %11, label %if.then19, label %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_release_relaxedEPyS4_S4_.exit

_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_release_relaxedEPyS4_S4_.exit: ; preds = %if.end13
  %12 = extractvalue { i64, i1 } %10, 0
  br label %if.end22

if.then19:                                        ; preds = %if.end13
  %call.i = call i32 @pthread_mutex_lock(%struct.pthread_mutex_t* nonnull %mutex2.i.i) #16
  %13 = load i8, i8* %should_park.i.i, align 8, !tbaa !93, !range !18
  %tobool.not6.i = icmp eq i8 %13, 0
  br i1 %tobool.not6.i, label %_ZN6Halide7Runtime8Internal15Synchronization13thread_parker4parkEv.exit, label %while.body.i

while.body.i:                                     ; preds = %if.then19, %while.body.i
  %call3.i = call i32 @pthread_cond_wait(%struct.pthread_mutex_t* nonnull %condvar3.i.i, %struct.pthread_mutex_t* nonnull %mutex2.i.i) #16
  %14 = load i8, i8* %should_park.i.i, align 8, !tbaa !93, !range !18
  %tobool.not.i = icmp eq i8 %14, 0
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal15Synchronization13thread_parker4parkEv.exit, label %while.body.i, !llvm.loop !102

_ZN6Halide7Runtime8Internal15Synchronization13thread_parker4parkEv.exit: ; preds = %while.body.i, %if.then19
  %call5.i = call i32 @pthread_mutex_unlock(%struct.pthread_mutex_t* nonnull %mutex2.i.i) #16
  %15 = load atomic i64, i64* %state monotonic, align 8
  br label %if.end22

if.end22:                                         ; preds = %_ZN6Halide7Runtime8Internal15Synchronization13thread_parker4parkEv.exit, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_release_relaxedEPyS4_S4_.exit
  %expected.3 = phi i64 [ %15, %_ZN6Halide7Runtime8Internal15Synchronization13thread_parker4parkEv.exit ], [ %12, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_release_relaxedEPyS4_S4_.exit ]
  %spinner.sroa.0.3 = phi i32 [ 40, %_ZN6Halide7Runtime8Internal15Synchronization13thread_parker4parkEv.exit ], [ %spinner.sroa.0.2, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_release_relaxedEPyS4_S4_.exit ]
  %call.i.i31 = call i32 @pthread_cond_destroy(%struct.pthread_mutex_t* nonnull %condvar3.i.i) #16
  %call2.i.i = call i32 @pthread_mutex_destroy(%struct.pthread_mutex_t* nonnull %mutex2.i.i) #16
  call void @llvm.lifetime.end.p0i8(i64 160, i8* nonnull %1) #11
  br label %while.cond.outer.backedge

while.cond.outer.backedge:                        ; preds = %if.end22, %if.then7
  %expected.0.ph.be = phi i64 [ %8, %if.then7 ], [ %expected.3, %if.end22 ]
  %spinner.sroa.0.0.ph.be = phi i32 [ %dec.i, %if.then7 ], [ %spinner.sroa.0.3, %if.end22 ]
  br label %while.cond.outer, !llvm.loop !103

cleanup23:                                        ; preds = %if.then
  ret void
}

declare i32 @pthread_mutex_init(%struct.pthread_mutex_t*, i8*) local_unnamed_addr #1

declare i32 @pthread_cond_init(%struct.pthread_mutex_t*, i8*) local_unnamed_addr #1

declare i32 @pthread_cond_wait(%struct.pthread_mutex_t*, %struct.pthread_mutex_t*) local_unnamed_addr #1

declare i32 @pthread_cond_destroy(%struct.pthread_mutex_t*) local_unnamed_addr #1

declare i32 @pthread_mutex_destroy(%struct.pthread_mutex_t*) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define linkonce_odr zeroext i1 @_ZN6Halide7Runtime8Internal15Synchronization21mutex_parking_control8validateERNS2_15validate_actionE(%"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* nonnull align 8 dereferenceable(16) %this, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* nonnull align 8 dereferenceable(16) %action) unnamed_addr #0 comdat align 2 {
entry:
  %lock_state = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %this, i64 0, i32 1
  %0 = load i64*, i64** %lock_state, align 8, !tbaa !44
  %1 = load atomic i64, i64* %0 monotonic, align 8
  %cmp = icmp eq i64 %1, 3
  ret i1 %cmp
}

; Function Attrs: mustprogress nounwind
define linkonce_odr void @_ZN6Halide7Runtime8Internal15Synchronization15parking_control12before_sleepEv(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this) unnamed_addr #0 comdat align 2 {
entry:
  ret void
}

; Function Attrs: mustprogress nounwind
define linkonce_odr i64 @_ZN6Halide7Runtime8Internal15Synchronization21mutex_parking_control6unparkEib(%"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* nonnull align 8 dereferenceable(16) %this, i32 %unparked, i1 zeroext %more_waiters) unnamed_addr #0 comdat align 2 {
entry:
  %0 = select i1 %more_waiters, i64 2, i64 0
  %lock_state = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %this, i64 0, i32 1
  %1 = load i64*, i64** %lock_state, align 8, !tbaa !44
  store atomic i64 %0, i64* %1 release, align 8
  ret i64 0
}

; Function Attrs: mustprogress nounwind
define linkonce_odr void @_ZN6Halide7Runtime8Internal15Synchronization15parking_control16requeue_callbackERKNS2_15validate_actionEbb(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* nonnull align 8 dereferenceable(16) %action, i1 zeroext %one_to_wake, i1 zeroext %some_requeued) unnamed_addr #0 comdat align 2 {
entry:
  ret void
}

; Function Attrs: nounwind
define weak void @halide_cond_broadcast(%struct.halide_mutex* %cond) local_unnamed_addr #3 {
entry:
  %control.i = alloca %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", align 8
  %state.i = getelementptr %struct.halide_mutex, %struct.halide_mutex* %cond, i64 0, i32 0, i64 0
  %0 = load atomic i64, i64* %state.i monotonic, align 8
  %cmp.i = icmp eq i64 %0, 0
  br i1 %cmp.i, label %_ZN6Halide7Runtime8Internal15Synchronization9fast_cond9broadcastEv.exit, label %if.end.i

if.end.i:                                         ; preds = %entry
  %1 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i to i8*
  call void @llvm.lifetime.start.p0i8(i64 24, i8* nonnull %1) #11
  %2 = inttoptr i64 %0 to %"class.Halide::Runtime::Internal::Synchronization::word_lock"*
  %3 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i, i64 0, i32 0, i32 0
  store i32 (...)** bitcast (i8** getelementptr inbounds ({ [6 x i8*] }, { [6 x i8*] }* @_ZTVN6Halide7Runtime8Internal15Synchronization25broadcast_parking_controlE, i64 0, inrange i32 0, i64 2) to i32 (...)**), i32 (...)*** %3, align 8, !tbaa !42
  %cond_state2.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i, i64 0, i32 1
  store i64* %state.i, i64** %cond_state2.i.i, align 8, !tbaa !104
  %mutex3.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i, i64 0, i32 2
  store %"class.Halide::Runtime::Internal::Synchronization::word_lock"* %2, %"class.Halide::Runtime::Internal::Synchronization::word_lock"** %mutex3.i.i, align 8, !tbaa !106
  %4 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i, i64 0, i32 0
  %5 = ptrtoint %struct.halide_mutex* %cond to i64
  %call.i = call i32 @_ZN6Halide7Runtime8Internal15Synchronization15parking_control14unpark_requeueEyyy(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %4, i64 %5, i64 %0, i64 0) #16
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %1) #11
  br label %_ZN6Halide7Runtime8Internal15Synchronization9fast_cond9broadcastEv.exit

_ZN6Halide7Runtime8Internal15Synchronization9fast_cond9broadcastEv.exit: ; preds = %if.end.i, %entry
  ret void
}

; Function Attrs: mustprogress nounwind
define weak zeroext i1 @halide_default_semaphore_try_acquire(%struct.halide_semaphore_t* %s, i32 %n) #0 {
entry:
  %cmp = icmp eq i32 %n, 0
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %entry
  %value = bitcast %struct.halide_semaphore_t* %s to i32*
  %0 = load atomic i32, i32* %value acquire, align 4
  %sub12 = sub nsw i32 %0, %n
  %cmp113 = icmp sgt i32 %sub12, -1
  br i1 %cmp113, label %land.rhs, label %return

land.rhs:                                         ; preds = %if.end, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_130atomic_cas_weak_relacq_relaxedIiEEbPT_S6_S6_.exit
  %sub15 = phi i32 [ %sub, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_130atomic_cas_weak_relacq_relaxedIiEEbPT_S6_S6_.exit ], [ %sub12, %if.end ]
  %expected.014 = phi i32 [ %3, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_130atomic_cas_weak_relacq_relaxedIiEEbPT_S6_S6_.exit ], [ %0, %if.end ]
  %1 = cmpxchg weak i32* %value, i32 %expected.014, i32 %sub15 acq_rel monotonic, align 4
  %2 = extractvalue { i32, i1 } %1, 1
  br i1 %2, label %return.loopexit, label %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_130atomic_cas_weak_relacq_relaxedIiEEbPT_S6_S6_.exit

_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_130atomic_cas_weak_relacq_relaxedIiEEbPT_S6_S6_.exit: ; preds = %land.rhs
  %3 = extractvalue { i32, i1 } %1, 0
  %sub = sub nsw i32 %3, %n
  %cmp1 = icmp sgt i32 %sub, -1
  br i1 %cmp1, label %land.rhs, label %return.loopexit

return.loopexit:                                  ; preds = %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_130atomic_cas_weak_relacq_relaxedIiEEbPT_S6_S6_.exit, %land.rhs
  %4 = extractvalue { i32, i1 } %1, 1
  br label %return

return:                                           ; preds = %return.loopexit, %if.end, %entry
  %retval.0 = phi i1 [ true, %entry ], [ false, %if.end ], [ %4, %return.loopexit ]
  ret i1 %retval.0
}

; Function Attrs: nounwind
define weak void @halide_cond_wait(%struct.halide_mutex* %cond, %struct.halide_mutex* %mutex) local_unnamed_addr #3 {
entry:
  %control.i.i.i = alloca %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", align 8
  %control.i = alloca %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", align 8
  %0 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i to i8*
  call void @llvm.lifetime.start.p0i8(i64 24, i8* nonnull %0) #11
  %state.i = getelementptr %struct.halide_mutex, %struct.halide_mutex* %cond, i64 0, i32 0, i64 0
  %1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i, i64 0, i32 0, i32 0
  store i32 (...)** bitcast (i8** getelementptr inbounds ({ [6 x i8*] }, { [6 x i8*] }* @_ZTVN6Halide7Runtime8Internal15Synchronization20wait_parking_controlE, i64 0, inrange i32 0, i64 2) to i32 (...)**), i32 (...)*** %1, align 8, !tbaa !42
  %cond_state2.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i, i64 0, i32 1
  store i64* %state.i, i64** %cond_state2.i.i, align 8, !tbaa !107
  %mutex3.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i, i64 0, i32 2
  %2 = bitcast %"class.Halide::Runtime::Internal::Synchronization::word_lock"** %mutex3.i.i to %struct.halide_mutex**
  store %struct.halide_mutex* %mutex, %struct.halide_mutex** %2, align 8, !tbaa !109
  %3 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i, i64 0, i32 0
  %4 = ptrtoint %struct.halide_mutex* %cond to i64
  %call.i = call i64 @_ZN6Halide7Runtime8Internal15Synchronization15parking_control4parkEy(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %3, i64 %4) #16
  %5 = ptrtoint %struct.halide_mutex* %mutex to i64
  %cmp.not.i = icmp eq i64 %call.i, %5
  %6 = getelementptr %struct.halide_mutex, %struct.halide_mutex* %mutex, i64 0, i32 0, i64 0
  br i1 %cmp.not.i, label %if.else.i, label %if.then.i

if.then.i:                                        ; preds = %entry
  %7 = cmpxchg weak i64* %6, i64 0, i64 1 acquire monotonic, align 8
  %8 = extractvalue { i64, i1 } %7, 1
  br i1 %8, label %_ZN6Halide7Runtime8Internal15Synchronization9fast_cond4waitEPNS2_10fast_mutexE.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %if.then.i
  %9 = load atomic i64, i64* %6 monotonic, align 8
  %10 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i.i to i8*
  %11 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i.i, i64 0, i32 0, i32 0
  %lock_state2.i.i.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i.i, i64 0, i32 1
  %12 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i.i, i64 0, i32 0
  br label %while.cond.outer.i.i.i

while.cond.outer.i.i.i:                           ; preds = %while.cond.outer.i.i.i.backedge, %if.then.i.i
  %expected.0.ph.i.i.i = phi i64 [ %9, %if.then.i.i ], [ %expected.0.ph.i.i.i.be, %while.cond.outer.i.i.i.backedge ]
  %spinner.sroa.0.0.ph.i.i.i = phi i32 [ 40, %if.then.i.i ], [ %spinner.sroa.0.0.ph.i.i.i.be, %while.cond.outer.i.i.i.backedge ]
  %and55.i.i.i = and i64 %expected.0.ph.i.i.i, 1
  %tobool.not56.i.i.i = icmp eq i64 %and55.i.i.i, 0
  br i1 %tobool.not56.i.i.i, label %if.then.i.i.i, label %if.end4.i.i.i

if.then.i.i.i:                                    ; preds = %while.cond.outer.i.i.i, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit.i.i.i
  %expected.057.i.i.i = phi i64 [ %15, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit.i.i.i ], [ %expected.0.ph.i.i.i, %while.cond.outer.i.i.i ]
  %or.i.i.i = or i64 %expected.057.i.i.i, 1
  %13 = cmpxchg weak i64* %6, i64 %expected.057.i.i.i, i64 %or.i.i.i acquire monotonic, align 8
  %14 = extractvalue { i64, i1 } %13, 1
  br i1 %14, label %_ZN6Halide7Runtime8Internal15Synchronization9fast_cond4waitEPNS2_10fast_mutexE.exit, label %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit.i.i.i

_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit.i.i.i: ; preds = %if.then.i.i.i
  %15 = extractvalue { i64, i1 } %13, 0
  %and.i.i.i = and i64 %15, 1
  %tobool.not.i.i.i = icmp eq i64 %and.i.i.i, 0
  br i1 %tobool.not.i.i.i, label %if.then.i.i.i, label %if.end4.i.i.i.loopexit

if.end4.i.i.i.loopexit:                           ; preds = %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_acquire_relaxedEPyS4_S4_.exit.i.i.i
  %16 = extractvalue { i64, i1 } %13, 0
  br label %if.end4.i.i.i

if.end4.i.i.i:                                    ; preds = %if.end4.i.i.i.loopexit, %while.cond.outer.i.i.i
  %expected.0.lcssa.i.i.i = phi i64 [ %expected.0.ph.i.i.i, %while.cond.outer.i.i.i ], [ %16, %if.end4.i.i.i.loopexit ]
  %cmp.i.i.i.i = icmp sgt i32 %spinner.sroa.0.0.ph.i.i.i, 0
  br i1 %cmp.i.i.i.i, label %_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit.i.i.i, label %if.end8.i.i.i

_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit.i.i.i: ; preds = %if.end4.i.i.i
  %cmp4.i.not.i.i.i = icmp eq i32 %spinner.sroa.0.0.ph.i.i.i, 1
  br i1 %cmp4.i.not.i.i.i, label %if.end8.i.i.i, label %if.then6.i.i.i

if.then6.i.i.i:                                   ; preds = %_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit.i.i.i
  %dec.i.i.i.i = add nsw i32 %spinner.sroa.0.0.ph.i.i.i, -1
  call void @halide_thread_yield() #16
  %17 = load atomic i64, i64* %6 monotonic, align 8
  br label %while.cond.outer.i.i.i.backedge

if.end8.i.i.i:                                    ; preds = %_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit.i.i.i, %if.end4.i.i.i
  %spinner.sroa.0.152.i.i.i = phi i32 [ 0, %_ZN6Halide7Runtime8Internal15Synchronization12spin_control11should_spinEv.exit.i.i.i ], [ %spinner.sroa.0.0.ph.i.i.i, %if.end4.i.i.i ]
  %and9.i.i.i = and i64 %expected.0.lcssa.i.i.i, 2
  %cmp.i.i.i = icmp eq i64 %and9.i.i.i, 0
  br i1 %cmp.i.i.i, label %if.then10.i.i.i, label %if.end19.i.i.i

if.then10.i.i.i:                                  ; preds = %if.end8.i.i.i
  %or12.i.i.i = or i64 %expected.0.lcssa.i.i.i, 2
  %18 = cmpxchg weak i64* %6, i64 %expected.0.lcssa.i.i.i, i64 %or12.i.i.i monotonic monotonic, align 8
  %19 = extractvalue { i64, i1 } %18, 1
  br i1 %19, label %if.end19.i.i.i, label %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i.i.i

_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i.i.i: ; preds = %if.then10.i.i.i
  %20 = extractvalue { i64, i1 } %18, 0
  br label %while.cond.outer.i.i.i.backedge

if.end19.i.i.i:                                   ; preds = %if.then10.i.i.i, %if.end8.i.i.i
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %10) #11
  store i32 (...)** bitcast (i8** getelementptr inbounds ({ [6 x i8*] }, { [6 x i8*] }* @_ZTVN6Halide7Runtime8Internal15Synchronization21mutex_parking_controlE, i64 0, inrange i32 0, i64 2) to i32 (...)**), i32 (...)*** %11, align 8, !tbaa !42
  store i64* %6, i64** %lock_state2.i.i.i.i, align 8, !tbaa !44
  %call21.i.i.i = call i64 @_ZN6Halide7Runtime8Internal15Synchronization15parking_control4parkEy(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %12, i64 %5) #16
  %cmp22.i.i.i = icmp eq i64 %call21.i.i.i, %5
  br i1 %cmp22.i.i.i, label %cleanup30.critedge.i.i.i, label %if.end24.i.i.i

if.end24.i.i.i:                                   ; preds = %if.end19.i.i.i
  %21 = load atomic i64, i64* %6 monotonic, align 8
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %10) #11
  br label %while.cond.outer.i.i.i.backedge

while.cond.outer.i.i.i.backedge:                  ; preds = %if.end24.i.i.i, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i.i.i, %if.then6.i.i.i
  %expected.0.ph.i.i.i.be = phi i64 [ %20, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i.i.i ], [ %21, %if.end24.i.i.i ], [ %17, %if.then6.i.i.i ]
  %spinner.sroa.0.0.ph.i.i.i.be = phi i32 [ %spinner.sroa.0.152.i.i.i, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i.i.i ], [ 40, %if.end24.i.i.i ], [ %dec.i.i.i.i, %if.then6.i.i.i ]
  br label %while.cond.outer.i.i.i, !llvm.loop !46

cleanup30.critedge.i.i.i:                         ; preds = %if.end19.i.i.i
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %10) #11
  br label %_ZN6Halide7Runtime8Internal15Synchronization9fast_cond4waitEPNS2_10fast_mutexE.exit

if.else.i:                                        ; preds = %entry
  %22 = load atomic i64, i64* %6 monotonic, align 8
  %and.i = and i64 %22, 1
  %tobool.not.i = icmp eq i64 %and.i, 0
  br i1 %tobool.not.i, label %if.then2.i, label %_ZN6Halide7Runtime8Internal15Synchronization9fast_cond4waitEPNS2_10fast_mutexE.exit

if.then2.i:                                       ; preds = %if.else.i
  call void @halide_print(i8* null, i8* getelementptr inbounds ([100 x i8], [100 x i8]* @.str.5.6, i64 0, i64 0)) #16
  call void @abort() #16
  br label %_ZN6Halide7Runtime8Internal15Synchronization9fast_cond4waitEPNS2_10fast_mutexE.exit

_ZN6Halide7Runtime8Internal15Synchronization9fast_cond4waitEPNS2_10fast_mutexE.exit: ; preds = %if.then.i.i.i, %if.then2.i, %if.else.i, %cleanup30.critedge.i.i.i, %if.then.i
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %0) #11
  ret void
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_do_loop_task(i8* %user_context, i32 (i8*, i32, i32, i8*, i8*)* %f, i32 %min, i32 %size, i8* %closure, i8* %task_parent) local_unnamed_addr #0 {
entry:
  %0 = load i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)*, i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)** @_ZN6Halide7Runtime8Internal19custom_do_loop_taskE, align 8, !tbaa !11
  %call = tail call i32 %0(i8* %user_context, i32 (i8*, i32, i32, i8*, i8*)* %f, i32 %min, i32 %size, i8* %closure, i8* %task_parent) #16
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_do_task(i8* %user_context, i32 (i8*, i32, i8*)* %f, i32 %idx, i8* %closure) local_unnamed_addr #0 {
entry:
  %0 = load i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)*, i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)** @_ZN6Halide7Runtime8Internal14custom_do_taskE, align 8, !tbaa !11
  %call = tail call i32 %0(i8* %user_context, i32 (i8*, i32, i8*)* %f, i32 %idx, i8* %closure) #16
  ret i32 %call
}

; Function Attrs: nounwind
define linkonce i64 @_ZN6Halide7Runtime8Internal15Synchronization15parking_control4parkEy(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this, i64 %addr) local_unnamed_addr #3 align 2 {
entry:
  %queue_data = alloca %"struct.Halide::Runtime::Internal::Synchronization::queue_data", align 8
  %action = alloca %"struct.Halide::Runtime::Internal::Synchronization::validate_action", align 8
  %0 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %queue_data to i8*
  call void @llvm.lifetime.start.p0i8(i64 160, i8* nonnull %0) #11
  %should_park.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %queue_data, i64 0, i32 0, i32 2
  store i8 0, i8* %should_park.i.i, align 8, !tbaa !93
  %mutex2.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %queue_data, i64 0, i32 0, i32 0
  %call.i.i = call i32 @pthread_mutex_init(%struct.pthread_mutex_t* nonnull %mutex2.i.i, i8* null) #16
  %condvar3.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %queue_data, i64 0, i32 0, i32 1
  %call4.i.i = call i32 @pthread_cond_init(%struct.pthread_mutex_t* nonnull %condvar3.i.i, i8* null) #16
  %sleep_address.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %queue_data, i64 0, i32 1
  store i64 0, i64* %sleep_address.i, align 8, !tbaa !110
  %next.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %queue_data, i64 0, i32 2
  store %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* null, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %next.i, align 8, !tbaa !82
  %unpark_info.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %queue_data, i64 0, i32 3
  store i64 0, i64* %unpark_info.i, align 8, !tbaa !92
  %call = call nonnull align 8 dereferenceable(24) %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* @_ZN6Halide7Runtime8Internal15Synchronization11lock_bucketEy(i64 %addr) #17
  %1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::validate_action", %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* %action, i64 0, i32 0
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %1) #11
  store i8 0, i8* %1, align 8, !tbaa !111
  %invalid_unpark_info.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::validate_action", %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* %action, i64 0, i32 2
  store i64 0, i64* %invalid_unpark_info.i, align 8, !tbaa !113
  %2 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::parking_control"* %this to i1 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)***
  %vtable = load i1 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)**, i1 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)*** %2, align 8, !tbaa !42
  %3 = load i1 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)*, i1 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)** %vtable, align 8
  %call2 = call zeroext i1 %3(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* nonnull align 8 dereferenceable(16) %action) #16
  br i1 %call2, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %state.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %call, i64 0, i32 0, i32 0
  %4 = atomicrmw and i64* %state.i, i64 -2 release, align 8
  %and.i = and i64 %4, 2
  %cmp.i = icmp ne i64 %and.i, 0
  %cmp3.not.i = icmp ult i64 %4, 4
  %or.cond.i = or i1 %cmp3.not.i, %cmp.i
  br i1 %or.cond.i, label %cleanup, label %if.then.i

if.then.i:                                        ; preds = %if.then
  %mutex = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %call, i64 0, i32 0
  call void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock11unlock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %mutex) #16
  br label %cleanup

if.end:                                           ; preds = %entry
  store %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* null, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %next.i, align 8, !tbaa !82
  store i64 %addr, i64* %sleep_address.i, align 8, !tbaa !110
  store i8 1, i8* %should_park.i.i, align 8, !tbaa !93
  %head = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %call, i64 0, i32 1
  %5 = load %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %head, align 8, !tbaa !114
  %cmp.not = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %5, null
  %tail = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %call, i64 0, i32 2
  %6 = load %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %tail, align 8
  %next4 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %6, i64 0, i32 2
  %head.sink = select i1 %cmp.not, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %head, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %next4
  store %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %queue_data, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %head.sink, align 8, !tbaa !11
  store %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %queue_data, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %tail, align 8, !tbaa !88
  %state.i22 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %call, i64 0, i32 0, i32 0
  %7 = atomicrmw and i64* %state.i22, i64 -2 release, align 8
  %and.i23 = and i64 %7, 2
  %cmp.i24 = icmp ne i64 %and.i23, 0
  %cmp3.not.i25 = icmp ult i64 %7, 4
  %or.cond.i26 = or i1 %cmp3.not.i25, %cmp.i24
  br i1 %or.cond.i26, label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit28, label %if.then.i27

if.then.i27:                                      ; preds = %if.end
  %mutex8 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %call, i64 0, i32 0
  call void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock11unlock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %mutex8) #16
  br label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit28

_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit28: ; preds = %if.then.i27, %if.end
  %8 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::parking_control"* %this to void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*)***
  %vtable9 = load void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*)**, void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*)*** %8, align 8, !tbaa !42
  %vfn10 = getelementptr inbounds void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*)*, void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*)** %vtable9, i64 1
  %9 = load void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*)*, void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*)** %vfn10, align 8
  call void %9(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this) #16
  %call.i = call i32 @pthread_mutex_lock(%struct.pthread_mutex_t* nonnull %mutex2.i.i) #16
  %10 = load i8, i8* %should_park.i.i, align 8, !tbaa !93, !range !18
  %tobool.not6.i = icmp eq i8 %10, 0
  br i1 %tobool.not6.i, label %_ZN6Halide7Runtime8Internal15Synchronization13thread_parker4parkEv.exit, label %while.body.i

while.body.i:                                     ; preds = %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit28, %while.body.i
  %call3.i = call i32 @pthread_cond_wait(%struct.pthread_mutex_t* nonnull %condvar3.i.i, %struct.pthread_mutex_t* nonnull %mutex2.i.i) #16
  %11 = load i8, i8* %should_park.i.i, align 8, !tbaa !93, !range !18
  %tobool.not.i = icmp eq i8 %11, 0
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal15Synchronization13thread_parker4parkEv.exit, label %while.body.i, !llvm.loop !102

_ZN6Halide7Runtime8Internal15Synchronization13thread_parker4parkEv.exit: ; preds = %while.body.i, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit28
  %call5.i = call i32 @pthread_mutex_unlock(%struct.pthread_mutex_t* nonnull %mutex2.i.i) #16
  br label %cleanup

cleanup:                                          ; preds = %_ZN6Halide7Runtime8Internal15Synchronization13thread_parker4parkEv.exit, %if.then.i, %if.then
  %unpark_info.i.sink = phi i64* [ %unpark_info.i, %_ZN6Halide7Runtime8Internal15Synchronization13thread_parker4parkEv.exit ], [ %invalid_unpark_info.i, %if.then ], [ %invalid_unpark_info.i, %if.then.i ]
  %12 = load i64, i64* %unpark_info.i.sink, align 8, !tbaa !115
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %1) #11
  %call.i.i30 = call i32 @pthread_cond_destroy(%struct.pthread_mutex_t* nonnull %condvar3.i.i) #16
  %call2.i.i = call i32 @pthread_mutex_destroy(%struct.pthread_mutex_t* nonnull %mutex2.i.i) #16
  call void @llvm.lifetime.end.p0i8(i64 160, i8* nonnull %0) #11
  ret i64 %12
}

; Function Attrs: mustprogress nounwind
define linkonce_odr zeroext i1 @_ZN6Halide7Runtime8Internal15Synchronization20wait_parking_control8validateERNS2_15validate_actionE(%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* nonnull align 8 dereferenceable(24) %this, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* nonnull align 8 dereferenceable(16) %action) unnamed_addr #0 comdat align 2 {
entry:
  %cond_state = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %this, i64 0, i32 1
  %0 = load i64*, i64** %cond_state, align 8, !tbaa !107
  %1 = load atomic i64, i64* %0 monotonic, align 8
  %cmp = icmp eq i64 %1, 0
  %mutex = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %this, i64 0, i32 2
  %2 = load %"class.Halide::Runtime::Internal::Synchronization::word_lock"*, %"class.Halide::Runtime::Internal::Synchronization::word_lock"** %mutex, align 8, !tbaa !109
  %3 = ptrtoint %"class.Halide::Runtime::Internal::Synchronization::word_lock"* %2 to i64
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  store atomic i64 %3, i64* %0 monotonic, align 8
  br label %cleanup

if.else:                                          ; preds = %entry
  %cmp4.not = icmp eq i64 %1, %3
  br i1 %cmp4.not, label %cleanup, label %if.then5

if.then5:                                         ; preds = %if.else
  %invalid_unpark_info = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::validate_action", %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* %action, i64 0, i32 2
  store i64 %3, i64* %invalid_unpark_info, align 8, !tbaa !113
  br label %cleanup

cleanup:                                          ; preds = %if.then5, %if.else, %if.then
  %retval.0 = phi i1 [ false, %if.then5 ], [ true, %if.else ], [ true, %if.then ]
  ret i1 %retval.0
}

; Function Attrs: nounwind
define linkonce_odr void @_ZN6Halide7Runtime8Internal15Synchronization20wait_parking_control12before_sleepEv(%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* nonnull align 8 dereferenceable(24) %this) unnamed_addr #3 comdat align 2 {
entry:
  %control.i.i = alloca %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", align 8
  %mutex = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %this, i64 0, i32 2
  %0 = load %"class.Halide::Runtime::Internal::Synchronization::word_lock"*, %"class.Halide::Runtime::Internal::Synchronization::word_lock"** %mutex, align 8, !tbaa !109
  %state.i = getelementptr inbounds %"class.Halide::Runtime::Internal::Synchronization::word_lock", %"class.Halide::Runtime::Internal::Synchronization::word_lock"* %0, i64 0, i32 0
  %1 = cmpxchg weak i64* %state.i, i64 1, i64 0 release monotonic, align 8
  %2 = extractvalue { i64, i1 } %1, 1
  br i1 %2, label %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex6unlockEv.exit, label %if.then.i

if.then.i:                                        ; preds = %entry
  %3 = cmpxchg i64* %state.i, i64 1, i64 0 release monotonic, align 8
  %4 = extractvalue { i64, i1 } %3, 1
  br i1 %4, label %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex6unlockEv.exit, label %if.end.i.i

if.end.i.i:                                       ; preds = %if.then.i
  %5 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i to i8*
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %5) #11
  %6 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i, i64 0, i32 0, i32 0
  store i32 (...)** bitcast (i8** getelementptr inbounds ({ [6 x i8*] }, { [6 x i8*] }* @_ZTVN6Halide7Runtime8Internal15Synchronization21mutex_parking_controlE, i64 0, inrange i32 0, i64 2) to i32 (...)**), i32 (...)*** %6, align 8, !tbaa !42
  %lock_state2.i.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i, i64 0, i32 1
  store i64* %state.i, i64** %lock_state2.i.i.i, align 8, !tbaa !44
  %7 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::mutex_parking_control"* %control.i.i, i64 0, i32 0
  %8 = ptrtoint %"class.Halide::Runtime::Internal::Synchronization::word_lock"* %0 to i64
  %call3.i.i = call i64 @_ZN6Halide7Runtime8Internal15Synchronization15parking_control10unpark_oneEy(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %7, i64 %8) #16
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %5) #11
  br label %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex6unlockEv.exit

_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex6unlockEv.exit: ; preds = %if.end.i.i, %if.then.i, %entry
  ret void
}

; Function Attrs: mustprogress nounwind
define linkonce_odr i64 @_ZN6Halide7Runtime8Internal15Synchronization20wait_parking_control6unparkEib(%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* nonnull align 8 dereferenceable(24) %this, i32 %unparked, i1 zeroext %more_waiters) unnamed_addr #0 comdat align 2 {
entry:
  br i1 %more_waiters, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %cond_state = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %this, i64 0, i32 1
  %0 = load i64*, i64** %cond_state, align 8, !tbaa !107
  store atomic i64 0, i64* %0 monotonic, align 8
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  ret i64 0
}

; Function Attrs: nounwind
define linkonce i32 @_ZN6Halide7Runtime8Internal15Synchronization15parking_control14unpark_requeueEyyy(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this, i64 %addr_from, i64 %addr_to, i64 %unpark_info) local_unnamed_addr #3 align 2 {
entry:
  %buckets = alloca %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair", align 8
  %action = alloca %"struct.Halide::Runtime::Internal::Synchronization::validate_action", align 8
  %0 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* %buckets to i8*
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %0) #11
  call void @_ZN6Halide7Runtime8Internal15Synchronization16lock_bucket_pairEyy(%"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* nonnull sret(%"struct.Halide::Runtime::Internal::Synchronization::bucket_pair") align 8 %buckets, i64 %addr_from, i64 %addr_to) #17
  %1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::validate_action", %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* %action, i64 0, i32 0
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %1) #11
  store i8 0, i8* %1, align 8, !tbaa !111
  %invalid_unpark_info.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::validate_action", %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* %action, i64 0, i32 2
  store i64 0, i64* %invalid_unpark_info.i, align 8, !tbaa !113
  %2 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::parking_control"* %this to i1 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)***
  %vtable = load i1 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)**, i1 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)*** %2, align 8, !tbaa !42
  %3 = load i1 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)*, i1 (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*)** %vtable, align 8
  %call = call zeroext i1 %3(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* nonnull align 8 dereferenceable(16) %action) #16
  br i1 %call, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  call void @_ZN6Halide7Runtime8Internal15Synchronization18unlock_bucket_pairERNS2_11bucket_pairE(%"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* nonnull align 8 dereferenceable(16) %buckets) #17
  br label %cleanup

if.end:                                           ; preds = %entry
  %from = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair", %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* %buckets, i64 0, i32 0
  %4 = load %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"*, %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"** %from, align 8, !tbaa !116
  %head = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %4, i64 0, i32 1
  %5 = load %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %head, align 8, !tbaa !11
  %cmp.not92 = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %5, null
  br i1 %cmp.not92, label %if.end38, label %while.body

while.body:                                       ; preds = %if.end, %if.end22
  %wakeup.098 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %wakeup.2, %if.end22 ], [ null, %if.end ]
  %requeue_tail.097 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %requeue_tail.2, %if.end22 ], [ null, %if.end ]
  %requeue.096 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %requeue.3, %if.end22 ], [ null, %if.end ]
  %data.095 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %7, %if.end22 ], [ %5, %if.end ]
  %prev.094 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %prev.1, %if.end22 ], [ null, %if.end ]
  %data_location.093 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** [ %data_location.1, %if.end22 ], [ %head, %if.end ]
  %sleep_address = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %data.095, i64 0, i32 1
  %6 = load atomic i64, i64* %sleep_address monotonic, align 8
  %next2 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %data.095, i64 0, i32 2
  %7 = load %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %next2, align 8, !tbaa !82
  %cmp3 = icmp eq i64 %6, %addr_from
  br i1 %cmp3, label %if.then4, label %if.end22

if.then4:                                         ; preds = %while.body
  store %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %7, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %data_location.093, align 8, !tbaa !11
  %8 = load %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"*, %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"** %from, align 8, !tbaa !116
  %tail = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %8, i64 0, i32 2
  %9 = load %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %tail, align 8, !tbaa !88
  %cmp6 = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %9, %data.095
  br i1 %cmp6, label %if.then7, label %if.end10

if.then7:                                         ; preds = %if.then4
  store %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %prev.094, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %tail, align 8, !tbaa !88
  br label %if.end10

if.end10:                                         ; preds = %if.then7, %if.then4
  %10 = load i8, i8* %1, align 8, !tbaa !111, !range !18
  %tobool = icmp ne i8 %10, 0
  %cmp11 = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %wakeup.098, null
  %or.cond = select i1 %tobool, i1 %cmp11, i1 false
  br i1 %or.cond, label %if.end22, label %if.else

if.else:                                          ; preds = %if.end10
  %cmp13 = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %requeue.096, null
  br i1 %cmp13, label %if.end17, label %if.else15

if.else15:                                        ; preds = %if.else
  %next16 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %requeue_tail.097, i64 0, i32 2
  store %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %data.095, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %next16, align 8, !tbaa !82
  br label %if.end17

if.end17:                                         ; preds = %if.else15, %if.else
  %requeue.1 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %requeue.096, %if.else15 ], [ %data.095, %if.else ]
  store atomic i64 %addr_to, i64* %sleep_address monotonic, align 8
  br label %if.end22

if.end22:                                         ; preds = %if.end17, %if.end10, %while.body
  %data_location.1 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** [ %data_location.093, %if.end10 ], [ %data_location.093, %if.end17 ], [ %next2, %while.body ]
  %prev.1 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %prev.094, %if.end10 ], [ %prev.094, %if.end17 ], [ %data.095, %while.body ]
  %requeue.3 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %requeue.096, %if.end10 ], [ %requeue.1, %if.end17 ], [ %requeue.096, %while.body ]
  %requeue_tail.2 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %requeue_tail.097, %if.end10 ], [ %data.095, %if.end17 ], [ %requeue_tail.097, %while.body ]
  %wakeup.2 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %data.095, %if.end10 ], [ %wakeup.098, %if.end17 ], [ %wakeup.098, %while.body ]
  %cmp.not = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %7, null
  br i1 %cmp.not, label %while.end, label %while.body, !llvm.loop !118

while.end:                                        ; preds = %if.end22
  %cmp23.not = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %requeue.3, null
  br i1 %cmp23.not, label %if.end38, label %if.then24

if.then24:                                        ; preds = %while.end
  %next25 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %requeue_tail.2, i64 0, i32 2
  store %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* null, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %next25, align 8, !tbaa !82
  %to = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair", %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* %buckets, i64 0, i32 1
  %11 = load %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"*, %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"** %to, align 8, !tbaa !119
  %head26 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %11, i64 0, i32 1
  %12 = load %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %head26, align 8, !tbaa !114
  %cmp27 = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %12, null
  br i1 %cmp27, label %if.end35, label %if.else31

if.else31:                                        ; preds = %if.then24
  %tail33 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %11, i64 0, i32 2
  %13 = load %"struct.Halide::Runtime::Internal::Synchronization::queue_data"*, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %tail33, align 8, !tbaa !88
  %next34 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %13, i64 0, i32 2
  br label %if.end35

if.end35:                                         ; preds = %if.else31, %if.then24
  %next34.sink = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** [ %next34, %if.else31 ], [ %head26, %if.then24 ]
  store %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %requeue.3, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %next34.sink, align 8, !tbaa !11
  %tail37 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %11, i64 0, i32 2
  store %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %requeue_tail.2, %"struct.Halide::Runtime::Internal::Synchronization::queue_data"** %tail37, align 8, !tbaa !88
  br label %if.end38

if.end38:                                         ; preds = %if.end35, %while.end, %if.end
  %cmp23106 = phi i1 [ true, %if.end35 ], [ false, %while.end ], [ false, %if.end ]
  %wakeup.0.lcssa105 = phi %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* [ %wakeup.2, %if.end35 ], [ %wakeup.2, %while.end ], [ null, %if.end ]
  %cmp39 = icmp ne %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %wakeup.0.lcssa105, null
  %14 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::parking_control"* %this to void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*, i1, i1)***
  %vtable41 = load void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*, i1, i1)**, void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*, i1, i1)*** %14, align 8, !tbaa !42
  %vfn42 = getelementptr inbounds void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*, i1, i1)*, void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*, i1, i1)** %vtable41, i64 3
  %15 = load void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*, i1, i1)*, void (%"struct.Halide::Runtime::Internal::Synchronization::parking_control"*, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"*, i1, i1)** %vfn42, align 8
  call void %15(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* nonnull align 8 dereferenceable(16) %action, i1 zeroext %cmp39, i1 zeroext %cmp23106) #16
  br i1 %cmp39, label %if.then44, label %if.else48

if.then44:                                        ; preds = %if.end38
  %unpark_info45 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %wakeup.0.lcssa105, i64 0, i32 3
  store i64 %unpark_info, i64* %unpark_info45, align 8, !tbaa !92
  %mutex.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %wakeup.0.lcssa105, i64 0, i32 0, i32 0
  %call.i = call i32 @pthread_mutex_lock(%struct.pthread_mutex_t* nonnull %mutex.i) #16
  call void @_ZN6Halide7Runtime8Internal15Synchronization18unlock_bucket_pairERNS2_11bucket_pairE(%"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* nonnull align 8 dereferenceable(16) %buckets) #17
  %should_park.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %wakeup.0.lcssa105, i64 0, i32 0, i32 2
  store i8 0, i8* %should_park.i, align 8, !tbaa !93
  %condvar.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::queue_data", %"struct.Halide::Runtime::Internal::Synchronization::queue_data"* %wakeup.0.lcssa105, i64 0, i32 0, i32 1
  %call.i88 = call i32 @pthread_cond_signal(%struct.pthread_mutex_t* nonnull %condvar.i) #16
  %call.i90 = call i32 @pthread_mutex_unlock(%struct.pthread_mutex_t* nonnull %mutex.i) #16
  br label %if.end49

if.else48:                                        ; preds = %if.end38
  call void @_ZN6Halide7Runtime8Internal15Synchronization18unlock_bucket_pairERNS2_11bucket_pairE(%"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* nonnull align 8 dereferenceable(16) %buckets) #17
  br label %if.end49

if.end49:                                         ; preds = %if.else48, %if.then44
  %16 = load i8, i8* %1, align 8
  %17 = and i8 %16, 1
  %tobool52 = icmp ne i8 %17, 0
  %18 = select i1 %cmp39, i1 %tobool52, i1 false
  %conv = zext i1 %18 to i32
  br label %cleanup

cleanup:                                          ; preds = %if.end49, %if.then
  %retval.0 = phi i32 [ %conv, %if.end49 ], [ 0, %if.then ]
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %1) #11
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %0) #11
  ret i32 %retval.0
}

; Function Attrs: nounwind
define linkonce void @_ZN6Halide7Runtime8Internal15Synchronization16lock_bucket_pairEyy(%"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* noalias sret(%"struct.Halide::Runtime::Internal::Synchronization::bucket_pair") align 8 %agg.result, i64 %addr_from, i64 %addr_to) local_unnamed_addr #3 {
entry:
  %mul.i = mul i64 %addr_from, -7046029254386353131
  %shr.i = lshr i64 %mul.i, 54
  %mul.i37 = mul i64 %addr_to, -7046029254386353131
  %shr.i38 = lshr i64 %mul.i37, 54
  %cmp = icmp eq i64 %shr.i, %shr.i38
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %arrayidx = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_table", %"struct.Halide::Runtime::Internal::Synchronization::hash_table"* @_ZN6Halide7Runtime8Internal15Synchronization5tableE, i64 0, i32 0, i64 %shr.i
  %state.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %arrayidx, i64 0, i32 0, i32 0
  %0 = cmpxchg weak i64* %state.i, i64 0, i64 1 acquire monotonic, align 8
  %1 = extractvalue { i64, i1 } %0, 1
  br i1 %1, label %cleanup, label %cleanup.sink.split

if.else:                                          ; preds = %entry
  %cmp2 = icmp ult i64 %shr.i, %shr.i38
  br i1 %cmp2, label %if.then3, label %if.else9

if.then3:                                         ; preds = %if.else
  %arrayidx5 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_table", %"struct.Halide::Runtime::Internal::Synchronization::hash_table"* @_ZN6Halide7Runtime8Internal15Synchronization5tableE, i64 0, i32 0, i64 %shr.i
  %arrayidx6 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_table", %"struct.Halide::Runtime::Internal::Synchronization::hash_table"* @_ZN6Halide7Runtime8Internal15Synchronization5tableE, i64 0, i32 0, i64 %shr.i38
  %state.i39 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %arrayidx5, i64 0, i32 0, i32 0
  %2 = cmpxchg weak i64* %state.i39, i64 0, i64 1 acquire monotonic, align 8
  %3 = extractvalue { i64, i1 } %2, 1
  br i1 %3, label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit41, label %if.then.i40

if.then.i40:                                      ; preds = %if.then3
  %mutex7 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %arrayidx5, i64 0, i32 0
  tail call void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock9lock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %mutex7) #16
  br label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit41

_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit41: ; preds = %if.then.i40, %if.then3
  %state.i42 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %arrayidx6, i64 0, i32 0, i32 0
  %4 = cmpxchg weak i64* %state.i42, i64 0, i64 1 acquire monotonic, align 8
  %5 = extractvalue { i64, i1 } %4, 1
  br i1 %5, label %cleanup, label %cleanup.sink.split

if.else9:                                         ; preds = %if.else
  %arrayidx11 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_table", %"struct.Halide::Runtime::Internal::Synchronization::hash_table"* @_ZN6Halide7Runtime8Internal15Synchronization5tableE, i64 0, i32 0, i64 %shr.i38
  %arrayidx13 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_table", %"struct.Halide::Runtime::Internal::Synchronization::hash_table"* @_ZN6Halide7Runtime8Internal15Synchronization5tableE, i64 0, i32 0, i64 %shr.i
  %state.i47 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %arrayidx11, i64 0, i32 0, i32 0
  %6 = cmpxchg weak i64* %state.i47, i64 0, i64 1 acquire monotonic, align 8
  %7 = extractvalue { i64, i1 } %6, 1
  br i1 %7, label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit49, label %if.then.i48

if.then.i48:                                      ; preds = %if.else9
  %mutex14 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %arrayidx11, i64 0, i32 0
  tail call void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock9lock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %mutex14) #16
  br label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit49

_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit49: ; preds = %if.then.i48, %if.else9
  %state.i50 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %arrayidx13, i64 0, i32 0, i32 0
  %8 = cmpxchg weak i64* %state.i50, i64 0, i64 1 acquire monotonic, align 8
  %9 = extractvalue { i64, i1 } %8, 1
  br i1 %9, label %cleanup, label %cleanup.sink.split

cleanup.sink.split:                               ; preds = %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit49, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit41, %if.then
  %10 = phi i64 [ %shr.i, %if.then ], [ %shr.i38, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit41 ], [ %shr.i, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit49 ]
  %arrayidx13.sink.ph = phi %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* [ %arrayidx, %if.then ], [ %arrayidx5, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit41 ], [ %arrayidx13, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit49 ]
  %arrayidx11.sink.ph = phi %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* [ %arrayidx, %if.then ], [ %arrayidx6, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit41 ], [ %arrayidx11, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit49 ]
  %mutex15 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_table", %"struct.Halide::Runtime::Internal::Synchronization::hash_table"* @_ZN6Halide7Runtime8Internal15Synchronization5tableE, i64 0, i32 0, i64 %10, i32 0
  tail call void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock9lock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %mutex15) #16
  br label %cleanup

cleanup:                                          ; preds = %cleanup.sink.split, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit49, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit41, %if.then
  %arrayidx13.sink = phi %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* [ %arrayidx, %if.then ], [ %arrayidx5, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit41 ], [ %arrayidx13, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit49 ], [ %arrayidx13.sink.ph, %cleanup.sink.split ]
  %arrayidx11.sink = phi %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* [ %arrayidx, %if.then ], [ %arrayidx6, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit41 ], [ %arrayidx11, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock4lockEv.exit49 ], [ %arrayidx11.sink.ph, %cleanup.sink.split ]
  %from2.i53 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair", %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* %agg.result, i64 0, i32 0
  store %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %arrayidx13.sink, %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"** %from2.i53, align 8, !tbaa !11
  %to3.i54 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair", %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* %agg.result, i64 0, i32 1
  store %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %arrayidx11.sink, %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"** %to3.i54, align 8, !tbaa !11
  ret void
}

; Function Attrs: mustprogress nounwind
define linkonce void @_ZN6Halide7Runtime8Internal15Synchronization18unlock_bucket_pairERNS2_11bucket_pairE(%"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* nonnull align 8 dereferenceable(16) %buckets) local_unnamed_addr #0 {
entry:
  %from = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair", %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* %buckets, i64 0, i32 0
  %0 = load %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"*, %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"** %from, align 8, !tbaa !116
  %to = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair", %"struct.Halide::Runtime::Internal::Synchronization::bucket_pair"* %buckets, i64 0, i32 1
  %1 = load %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"*, %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"** %to, align 8, !tbaa !119
  %cmp = icmp eq %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %0, %1
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %state.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %0, i64 0, i32 0, i32 0
  %2 = atomicrmw and i64* %state.i, i64 -2 release, align 8
  %and.i = and i64 %2, 2
  %cmp.i = icmp ne i64 %and.i, 0
  %cmp3.not.i = icmp ult i64 %2, 4
  %or.cond.i = or i1 %cmp3.not.i, %cmp.i
  br i1 %or.cond.i, label %if.end15, label %if.end15.sink.split

if.else:                                          ; preds = %entry
  %cmp4 = icmp ugt %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %0, %1
  br i1 %cmp4, label %if.then5, label %if.else10

if.then5:                                         ; preds = %if.else
  %state.i25 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %0, i64 0, i32 0, i32 0
  %3 = atomicrmw and i64* %state.i25, i64 -2 release, align 8
  %and.i26 = and i64 %3, 2
  %cmp.i27 = icmp ne i64 %and.i26, 0
  %cmp3.not.i28 = icmp ult i64 %3, 4
  %or.cond.i29 = or i1 %cmp3.not.i28, %cmp.i27
  br i1 %or.cond.i29, label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit31, label %if.then.i30

if.then.i30:                                      ; preds = %if.then5
  %mutex7 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %0, i64 0, i32 0
  tail call void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock11unlock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %mutex7) #16
  br label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit31

_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit31: ; preds = %if.then.i30, %if.then5
  %4 = load %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"*, %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"** %to, align 8, !tbaa !119
  %state.i32 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %4, i64 0, i32 0, i32 0
  %5 = atomicrmw and i64* %state.i32, i64 -2 release, align 8
  %and.i33 = and i64 %5, 2
  %cmp.i34 = icmp ne i64 %and.i33, 0
  %cmp3.not.i35 = icmp ult i64 %5, 4
  %or.cond.i36 = or i1 %cmp3.not.i35, %cmp.i34
  br i1 %or.cond.i36, label %if.end15, label %if.end15.sink.split

if.else10:                                        ; preds = %if.else
  %state.i39 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %1, i64 0, i32 0, i32 0
  %6 = atomicrmw and i64* %state.i39, i64 -2 release, align 8
  %and.i40 = and i64 %6, 2
  %cmp.i41 = icmp ne i64 %and.i40, 0
  %cmp3.not.i42 = icmp ult i64 %6, 4
  %or.cond.i43 = or i1 %cmp3.not.i42, %cmp.i41
  br i1 %or.cond.i43, label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit45, label %if.then.i44

if.then.i44:                                      ; preds = %if.else10
  %mutex12 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %1, i64 0, i32 0
  tail call void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock11unlock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %mutex12) #16
  br label %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit45

_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit45: ; preds = %if.then.i44, %if.else10
  %7 = load %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"*, %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"** %from, align 8, !tbaa !116
  %state.i46 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %7, i64 0, i32 0, i32 0
  %8 = atomicrmw and i64* %state.i46, i64 -2 release, align 8
  %and.i47 = and i64 %8, 2
  %cmp.i48 = icmp ne i64 %and.i47, 0
  %cmp3.not.i49 = icmp ult i64 %8, 4
  %or.cond.i50 = or i1 %cmp3.not.i49, %cmp.i48
  br i1 %or.cond.i50, label %if.end15, label %if.end15.sink.split

if.end15.sink.split:                              ; preds = %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit45, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit31, %if.then
  %.sink = phi %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* [ %0, %if.then ], [ %4, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit31 ], [ %7, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit45 ]
  %mutex14 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket", %"struct.Halide::Runtime::Internal::Synchronization::hash_bucket"* %.sink, i64 0, i32 0
  tail call void @_ZN6Halide7Runtime8Internal15Synchronization9word_lock11unlock_fullEv(%"class.Halide::Runtime::Internal::Synchronization::word_lock"* nonnull align 8 dereferenceable(8) %mutex14) #16
  br label %if.end15

if.end15:                                         ; preds = %if.end15.sink.split, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit45, %_ZN6Halide7Runtime8Internal15Synchronization9word_lock6unlockEv.exit31, %if.then
  ret void
}

; Function Attrs: mustprogress nounwind
define linkonce_odr zeroext i1 @_ZN6Halide7Runtime8Internal15Synchronization25broadcast_parking_control8validateERNS2_15validate_actionE(%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* nonnull align 8 dereferenceable(24) %this, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* nonnull align 8 dereferenceable(16) %action) unnamed_addr #0 comdat align 2 {
entry:
  %cond_state = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %this, i64 0, i32 1
  %0 = load i64*, i64** %cond_state, align 8, !tbaa !104
  %1 = load atomic i64, i64* %0 monotonic, align 8
  %mutex = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %this, i64 0, i32 2
  %2 = load %"class.Halide::Runtime::Internal::Synchronization::word_lock"*, %"class.Halide::Runtime::Internal::Synchronization::word_lock"** %mutex, align 8, !tbaa !106
  %3 = ptrtoint %"class.Halide::Runtime::Internal::Synchronization::word_lock"* %2 to i64
  %cmp.not = icmp eq i64 %1, %3
  br i1 %cmp.not, label %if.end, label %cleanup

if.end:                                           ; preds = %entry
  store atomic i64 0, i64* %0 monotonic, align 8
  %4 = load %"class.Halide::Runtime::Internal::Synchronization::word_lock"*, %"class.Halide::Runtime::Internal::Synchronization::word_lock"** %mutex, align 8, !tbaa !106
  %state.i = getelementptr inbounds %"class.Halide::Runtime::Internal::Synchronization::word_lock", %"class.Halide::Runtime::Internal::Synchronization::word_lock"* %4, i64 0, i32 0
  %5 = load atomic i64, i64* %state.i monotonic, align 8
  %and11.i = and i64 %5, 1
  %tobool.not12.i = icmp eq i64 %and11.i, 0
  br i1 %tobool.not12.i, label %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex21make_parked_if_lockedEv.exit, label %if.end.i

if.end.i:                                         ; preds = %if.end, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i
  %val.013.i = phi i64 [ %8, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i ], [ %5, %if.end ]
  %or.i = or i64 %val.013.i, 2
  %6 = cmpxchg weak i64* %state.i, i64 %val.013.i, i64 %or.i monotonic monotonic, align 8
  %7 = extractvalue { i64, i1 } %6, 1
  br i1 %7, label %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex21make_parked_if_lockedEv.exit, label %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i

_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i: ; preds = %if.end.i
  %8 = extractvalue { i64, i1 } %6, 0
  %and.i = and i64 %8, 1
  %tobool.not.i = icmp eq i64 %and.i, 0
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex21make_parked_if_lockedEv.exit, label %if.end.i

_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex21make_parked_if_lockedEv.exit: ; preds = %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i, %if.end.i, %if.end
  %tobool.not.lcssa.i = phi i8 [ 1, %if.end ], [ 1, %_ZN6Halide7Runtime8Internal15Synchronization12_GLOBAL__N_131atomic_cas_weak_relaxed_relaxedEPyS4_S4_.exit.i ], [ 0, %if.end.i ]
  %unpark_one = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::validate_action", %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* %action, i64 0, i32 0
  store i8 %tobool.not.lcssa.i, i8* %unpark_one, align 8, !tbaa !111
  br label %cleanup

cleanup:                                          ; preds = %_ZN6Halide7Runtime8Internal15Synchronization10fast_mutex21make_parked_if_lockedEv.exit, %entry
  ret i1 %cmp.not
}

; Function Attrs: mustprogress nounwind
define linkonce_odr i64 @_ZN6Halide7Runtime8Internal15Synchronization15parking_control6unparkEib(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this, i32 %unparked, i1 zeroext %more_waiters) unnamed_addr #0 comdat align 2 {
entry:
  ret i64 0
}

; Function Attrs: mustprogress nounwind
define linkonce_odr void @_ZN6Halide7Runtime8Internal15Synchronization25broadcast_parking_control16requeue_callbackERKNS2_15validate_actionEbb(%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* nonnull align 8 dereferenceable(24) %this, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* nonnull align 8 dereferenceable(16) %action, i1 zeroext %one_to_wake, i1 zeroext %some_requeued) unnamed_addr #0 comdat align 2 {
entry:
  %unpark_one = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::validate_action", %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* %action, i64 0, i32 0
  %0 = load i8, i8* %unpark_one, align 8, !tbaa !111, !range !18
  %tobool.not = icmp eq i8 %0, 0
  %some_requeued.not = xor i1 %some_requeued, true
  %brmerge = select i1 %tobool.not, i1 true, i1 %some_requeued.not
  br i1 %brmerge, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %mutex = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %this, i64 0, i32 2
  %1 = load %"class.Halide::Runtime::Internal::Synchronization::word_lock"*, %"class.Halide::Runtime::Internal::Synchronization::word_lock"** %mutex, align 8, !tbaa !106
  %state.i = getelementptr inbounds %"class.Halide::Runtime::Internal::Synchronization::word_lock", %"class.Halide::Runtime::Internal::Synchronization::word_lock"* %1, i64 0, i32 0
  %2 = atomicrmw or i64* %state.i, i64 2 monotonic, align 8
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  ret void
}

; Function Attrs: mustprogress nounwind
define linkonce i32 @_ZN6Halide7Runtime8Internal27default_desired_num_threadsEv() local_unnamed_addr #0 {
entry:
  %call = tail call i8* @getenv(i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.1, i64 0, i64 0)) #16
  %tobool.not = icmp eq i8* %call, null
  br i1 %tobool.not, label %if.end, label %cond.true

if.end:                                           ; preds = %entry
  %call1 = tail call i8* @getenv(i8* getelementptr inbounds ([14 x i8], [14 x i8]* @.str.2, i64 0, i64 0)) #16
  %tobool2.not = icmp eq i8* %call1, null
  br i1 %tobool2.not, label %cond.false, label %cond.true

cond.true:                                        ; preds = %if.end, %entry
  %threads_str.010 = phi i8* [ %call1, %if.end ], [ %call, %entry ]
  %call3 = tail call i32 @atoi(i8* nonnull %threads_str.010) #16
  br label %cond.end

cond.false:                                       ; preds = %if.end
  %call4 = tail call i32 @halide_host_cpu_count() #16
  br label %cond.end

cond.end:                                         ; preds = %cond.false, %cond.true
  %cond = phi i32 [ %call3, %cond.true ], [ %call4, %cond.false ]
  ret i32 %cond
}

; Function Attrs: mustprogress nounwind
define linkonce void @_ZN6Halide7Runtime8Internal13worker_threadEPv(i8* %arg) #0 {
entry:
  tail call void @halide_mutex_lock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  %0 = bitcast i8* %arg to %"struct.Halide::Runtime::Internal::work"*
  tail call void @_ZN6Halide7Runtime8Internal28worker_thread_already_lockedEPNS1_4workE(%"struct.Halide::Runtime::Internal::work"* %0) #17
  tail call void @halide_mutex_unlock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  ret void
}

; Function Attrs: mustprogress nounwind
define weak %struct.halide_thread* @halide_spawn_thread(void (i8*)* %f, i8* %closure) local_unnamed_addr #0 {
entry:
  %call = tail call i8* @malloc(i64 24) #16
  %f1 = bitcast i8* %call to void (i8*)**
  store void (i8*)* %f, void (i8*)** %f1, align 8, !tbaa !120
  %closure2 = getelementptr inbounds i8, i8* %call, i64 8
  %0 = bitcast i8* %closure2 to i8**
  store i8* %closure, i8** %0, align 8, !tbaa !122
  %handle = getelementptr inbounds i8, i8* %call, i64 16
  %1 = bitcast i8* %handle to i64*
  store i64 0, i64* %1, align 8, !tbaa !123
  %call4 = tail call i32 @pthread_create(i64* nonnull %1, i8* null, i8* (i8*)* nonnull @_ZN6Halide7Runtime8Internal19spawn_thread_helperEPv, i8* %call) #16
  %2 = bitcast i8* %call to %struct.halide_thread*
  ret %struct.halide_thread* %2
}

; Function Attrs: mustprogress nounwind
define linkonce i8* @_ZN6Halide7Runtime8Internal19spawn_thread_helperEPv(i8* %arg) #0 {
entry:
  %f = bitcast i8* %arg to void (i8*)**
  %0 = load void (i8*)*, void (i8*)** %f, align 8, !tbaa !120
  %closure = getelementptr inbounds i8, i8* %arg, i64 8
  %1 = bitcast i8* %closure to i8**
  %2 = load i8*, i8** %1, align 8, !tbaa !122
  tail call void %0(i8* %2) #16
  ret i8* null
}

declare i32 @pthread_create(i64*, i8*, i8* (i8*)*, i8*) local_unnamed_addr #1

declare i8* @getenv(i8*) local_unnamed_addr #1

declare i32 @atoi(i8*) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_do_parallel_tasks(i8* %user_context, i32 %num_tasks, %struct.halide_parallel_task_t* %tasks, i8* %task_parent) #0 {
entry:
  %conv = sext i32 %num_tasks to i64
  %0 = alloca %"struct.Halide::Runtime::Internal::work", i64 %conv, align 8
  %cmp73 = icmp sgt i32 %num_tasks, 0
  br i1 %cmp73, label %for.body, label %for.cond.cleanup

for.cond.cleanup:                                 ; preds = %for.inc, %entry
  %num_tasks.addr.0.lcssa = phi i32 [ %num_tasks, %entry ], [ %num_tasks.addr.1, %for.inc ]
  %cmp17 = icmp eq i32 %num_tasks.addr.0.lcssa, 0
  br i1 %cmp17, label %cleanup, label %if.end19

for.body:                                         ; preds = %entry, %for.inc
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc ], [ 0, %entry ]
  %num_tasks.addr.075 = phi i32 [ %num_tasks.addr.1, %for.inc ], [ %num_tasks, %entry ]
  %tasks.addr.074 = phi %struct.halide_parallel_task_t* [ %tasks.addr.1, %for.inc ], [ %tasks, %entry ]
  %extent = getelementptr inbounds %struct.halide_parallel_task_t, %struct.halide_parallel_task_t* %tasks.addr.074, i64 0, i32 6
  %1 = load i32, i32* %extent, align 8, !tbaa !124
  %cmp1 = icmp slt i32 %1, 1
  br i1 %cmp1, label %if.then, label %if.end

if.then:                                          ; preds = %for.body
  %dec = add nsw i32 %num_tasks.addr.075, -1
  br label %for.inc

if.end:                                           ; preds = %for.body
  %incdec.ptr = getelementptr inbounds %struct.halide_parallel_task_t, %struct.halide_parallel_task_t* %tasks.addr.074, i64 1
  %arrayidx = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %0, i64 %indvars.iv
  %2 = bitcast %"struct.Halide::Runtime::Internal::work"* %arrayidx to i8*
  %3 = bitcast %struct.halide_parallel_task_t* %tasks.addr.074 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(56) %2, i8* noundef nonnull align 8 dereferenceable(56) %3, i64 56, i1 false), !tbaa.struct !125
  %task_fn = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %0, i64 %indvars.iv, i32 1
  store i32 (i8*, i32, i8*)* null, i32 (i8*, i32, i8*)** %task_fn, align 8, !tbaa !33
  %user_context6 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %0, i64 %indvars.iv, i32 7
  store i8* %user_context, i8** %user_context6, align 8, !tbaa !34
  %exit_status = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %0, i64 %indvars.iv, i32 9
  store i32 0, i32* %exit_status, align 4, !tbaa !35
  %active_workers = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %0, i64 %indvars.iv, i32 8
  store i32 0, i32* %active_workers, align 8, !tbaa !36
  %next_semaphore = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %0, i64 %indvars.iv, i32 10
  store i32 0, i32* %next_semaphore, align 8, !tbaa !37
  %owner_is_sleeping = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %0, i64 %indvars.iv, i32 11
  store i8 0, i8* %owner_is_sleeping, align 4, !tbaa !38
  %parent_job = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %0, i64 %indvars.iv, i32 5
  %4 = bitcast %"struct.Halide::Runtime::Internal::work"** %parent_job to i8**
  store i8* %task_parent, i8** %4, align 8, !tbaa !41
  br label %for.inc

for.inc:                                          ; preds = %if.end, %if.then
  %tasks.addr.1 = phi %struct.halide_parallel_task_t* [ %tasks.addr.074, %if.then ], [ %incdec.ptr, %if.end ]
  %num_tasks.addr.1 = phi i32 [ %dec, %if.then ], [ %num_tasks.addr.075, %if.end ]
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %5 = sext i32 %num_tasks.addr.1 to i64
  %cmp = icmp slt i64 %indvars.iv.next, %5
  br i1 %cmp, label %for.body, label %for.cond.cleanup, !llvm.loop !126

if.end19:                                         ; preds = %for.cond.cleanup
  tail call void @halide_mutex_lock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  %6 = bitcast i8* %task_parent to %"struct.Halide::Runtime::Internal::work"*
  call void @_ZN6Halide7Runtime8Internal27enqueue_work_already_lockedEiPNS1_4workES3_(i32 %num_tasks.addr.0.lcssa, %"struct.Halide::Runtime::Internal::work"* nonnull %0, %"struct.Halide::Runtime::Internal::work"* %6) #17
  %cmp2378 = icmp sgt i32 %num_tasks.addr.0.lcssa, 0
  br i1 %cmp2378, label %for.body25.preheader, label %for.cond.cleanup24

for.body25.preheader:                             ; preds = %if.end19
  %wide.trip.count = zext i32 %num_tasks.addr.0.lcssa to i64
  br label %for.body25

for.cond.cleanup24:                               ; preds = %for.body25, %if.end19
  %exit_status20.0.lcssa = phi i32 [ 0, %if.end19 ], [ %spec.select, %for.body25 ]
  call void @halide_mutex_unlock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  br label %cleanup

for.body25:                                       ; preds = %for.body25, %for.body25.preheader
  %indvars.iv82 = phi i64 [ 0, %for.body25.preheader ], [ %indvars.iv.next83, %for.body25 ]
  %exit_status20.079 = phi i32 [ 0, %for.body25.preheader ], [ %spec.select, %for.body25 ]
  %add.ptr = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %0, i64 %indvars.iv82
  call void @_ZN6Halide7Runtime8Internal28worker_thread_already_lockedEPNS1_4workE(%"struct.Halide::Runtime::Internal::work"* nonnull %add.ptr) #17
  %exit_status28 = getelementptr inbounds %"struct.Halide::Runtime::Internal::work", %"struct.Halide::Runtime::Internal::work"* %0, i64 %indvars.iv82, i32 9
  %7 = load i32, i32* %exit_status28, align 4, !tbaa !35
  %cmp29.not = icmp eq i32 %7, 0
  %spec.select = select i1 %cmp29.not, i32 %exit_status20.079, i32 %7
  %indvars.iv.next83 = add nuw nsw i64 %indvars.iv82, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next83, %wide.trip.count
  br i1 %exitcond.not, label %for.cond.cleanup24, label %for.body25, !llvm.loop !127

cleanup:                                          ; preds = %for.cond.cleanup24, %for.cond.cleanup
  %retval.0 = phi i32 [ %exit_status20.0.lcssa, %for.cond.cleanup24 ], [ 0, %for.cond.cleanup ]
  ret i32 %retval.0
}

; Function Attrs: argmemonly mustprogress nofree nounwind willreturn
declare void @llvm.memcpy.p0i8.p0i8.i64(i8* noalias nocapture writeonly, i8* noalias nocapture readonly, i64, i1 immarg) #4

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_semaphore_init(%struct.halide_semaphore_t* %s, i32 %n) #0 {
entry:
  %value = bitcast %struct.halide_semaphore_t* %s to i32*
  store atomic i32 %n, i32* %value release, align 4
  ret i32 %n
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_semaphore_release(%struct.halide_semaphore_t* %s, i32 %n) #0 {
entry:
  %value = bitcast %struct.halide_semaphore_t* %s to i32*
  %0 = atomicrmw add i32* %value, i32 %n acq_rel, align 4
  %cmp = icmp eq i32 %0, 0
  %cmp1 = icmp ne i32 %n, 0
  %or.cond = select i1 %cmp, i1 %cmp1, i1 false
  br i1 %or.cond, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  tail call void @halide_mutex_lock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  tail call void @halide_cond_broadcast(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 8)) #17
  tail call void @halide_cond_broadcast(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 10)) #17
  tail call void @halide_mutex_unlock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  %add = add nsw i32 %0, %n
  ret i32 %add
}

; Function Attrs: mustprogress nounwind
define weak void @halide_thread_pool_cleanup() #0 {
entry:
  tail call void @halide_shutdown_thread_pool() #17
  ret void
}

; Function Attrs: mustprogress nounwind
define weak void @halide_shutdown_thread_pool() local_unnamed_addr #0 {
entry:
  %0 = load i8, i8* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 15), align 1, !tbaa !48, !range !18
  %tobool.not = icmp eq i8 %0, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  tail call void @halide_mutex_lock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  store i8 1, i8* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 14), align 8, !tbaa !65
  tail call void @halide_cond_broadcast(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 10)) #17
  tail call void @halide_cond_broadcast(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 8)) #17
  tail call void @halide_cond_broadcast(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 9)) #17
  tail call void @halide_mutex_unlock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  %1 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 4), align 8, !tbaa !53
  %cmp4 = icmp sgt i32 %1, 0
  br i1 %cmp4, label %for.body, label %for.cond.cleanup

for.cond.cleanup:                                 ; preds = %for.body, %if.then
  %call.i = tail call i8* @memset(i8* nonnull bitcast (i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 2) to i8*), i32 0, i64 2116) #16
  br label %if.end

for.body:                                         ; preds = %if.then, %for.body
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.body ], [ 0, %if.then ]
  %arrayidx = getelementptr inbounds %"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 13, i64 %indvars.iv
  %2 = load %struct.halide_thread*, %struct.halide_thread** %arrayidx, align 8, !tbaa !11
  tail call void @halide_join_thread(%struct.halide_thread* %2) #17
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %3 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 4), align 8, !tbaa !53
  %4 = sext i32 %3 to i64
  %cmp = icmp slt i64 %indvars.iv.next, %4
  br i1 %cmp, label %for.body, label %for.cond.cleanup, !llvm.loop !128

if.end:                                           ; preds = %for.cond.cleanup, %entry
  ret void
}

declare i8* @memset(i8*, i32, i64) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak void @halide_join_thread(%struct.halide_thread* %thread_arg) local_unnamed_addr #0 {
entry:
  %ret = alloca i8*, align 8
  %0 = bitcast %struct.halide_thread* %thread_arg to %"struct.Halide::Runtime::Internal::spawned_thread"*
  %1 = bitcast i8** %ret to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %1) #11
  store i8* null, i8** %ret, align 8, !tbaa !11
  %handle = getelementptr inbounds %"struct.Halide::Runtime::Internal::spawned_thread", %"struct.Halide::Runtime::Internal::spawned_thread"* %0, i64 0, i32 2
  %2 = load i64, i64* %handle, align 8, !tbaa !123
  %call = call i32 @pthread_join(i64 %2, i8** nonnull %ret) #16
  %3 = bitcast %struct.halide_thread* %thread_arg to i8*
  call void @free(i8* %3) #16
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %1) #11
  ret void
}

declare i32 @pthread_join(i64, i8**) local_unnamed_addr #1

; Function Attrs: nounwind
define weak void @halide_cond_signal(%struct.halide_mutex* %cond) local_unnamed_addr #3 {
entry:
  %control.i = alloca %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", align 8
  %state.i = getelementptr %struct.halide_mutex, %struct.halide_mutex* %cond, i64 0, i32 0, i64 0
  %0 = load atomic i64, i64* %state.i monotonic, align 8
  %cmp.i = icmp eq i64 %0, 0
  br i1 %cmp.i, label %_ZN6Halide7Runtime8Internal15Synchronization9fast_cond6signalEv.exit, label %if.end.i

if.end.i:                                         ; preds = %entry
  %1 = bitcast %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i to i8*
  call void @llvm.lifetime.start.p0i8(i64 24, i8* nonnull %1) #11
  %2 = inttoptr i64 %0 to %"class.Halide::Runtime::Internal::Synchronization::word_lock"*
  %3 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i, i64 0, i32 0, i32 0
  store i32 (...)** bitcast (i8** getelementptr inbounds ({ [6 x i8*] }, { [6 x i8*] }* @_ZTVN6Halide7Runtime8Internal15Synchronization22signal_parking_controlE, i64 0, inrange i32 0, i64 2) to i32 (...)**), i32 (...)*** %3, align 8, !tbaa !42
  %cond_state2.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i, i64 0, i32 1
  store i64* %state.i, i64** %cond_state2.i.i, align 8, !tbaa !129
  %mutex3.i.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i, i64 0, i32 2
  store %"class.Halide::Runtime::Internal::Synchronization::word_lock"* %2, %"class.Halide::Runtime::Internal::Synchronization::word_lock"** %mutex3.i.i, align 8, !tbaa !131
  %4 = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %control.i, i64 0, i32 0
  %5 = ptrtoint %struct.halide_mutex* %cond to i64
  %call.i = call i64 @_ZN6Halide7Runtime8Internal15Synchronization15parking_control10unpark_oneEy(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %4, i64 %5) #16
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %1) #11
  br label %_ZN6Halide7Runtime8Internal15Synchronization9fast_cond6signalEv.exit

_ZN6Halide7Runtime8Internal15Synchronization9fast_cond6signalEv.exit: ; preds = %if.end.i, %entry
  ret void
}

; Function Attrs: mustprogress nounwind
define linkonce_odr zeroext i1 @_ZN6Halide7Runtime8Internal15Synchronization15parking_control8validateERNS2_15validate_actionE(%"struct.Halide::Runtime::Internal::Synchronization::parking_control"* nonnull align 8 dereferenceable(8) %this, %"struct.Halide::Runtime::Internal::Synchronization::validate_action"* nonnull align 8 dereferenceable(16) %action) unnamed_addr #0 comdat align 2 {
entry:
  ret i1 true
}

; Function Attrs: mustprogress nounwind
define linkonce_odr i64 @_ZN6Halide7Runtime8Internal15Synchronization22signal_parking_control6unparkEib(%"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* nonnull align 8 dereferenceable(24) %this, i32 %unparked, i1 zeroext %more_waiters) unnamed_addr #0 comdat align 2 {
entry:
  br i1 %more_waiters, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %cond_state = getelementptr inbounds %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control", %"struct.Halide::Runtime::Internal::Synchronization::wait_parking_control"* %this, i64 0, i32 1
  %0 = load i64*, i64** %cond_state, align 8, !tbaa !129
  store atomic i64 0, i64* %0 monotonic, align 8
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  ret i64 0
}

; Function Attrs: mustprogress nounwind
define weak %struct.halide_mutex_array* @halide_mutex_array_create(i32 %sz) local_unnamed_addr #0 {
entry:
  %call = tail call i8* @halide_malloc(i8* null, i64 8) #16
  %0 = bitcast i8* %call to %struct.halide_mutex_array*
  %cmp = icmp eq i8* %call, null
  br i1 %cmp, label %cleanup, label %if.end

if.end:                                           ; preds = %entry
  %conv = sext i32 %sz to i64
  %mul = shl nsw i64 %conv, 3
  %call1 = tail call i8* @halide_malloc(i8* null, i64 %mul) #16
  %1 = bitcast i8* %call to i8**
  store i8* %call1, i8** %1, align 8, !tbaa !132
  %cmp4 = icmp eq i8* %call1, null
  br i1 %cmp4, label %if.then5, label %if.end6

if.then5:                                         ; preds = %if.end
  tail call void @halide_free(i8* null, i8* nonnull %call) #16
  br label %cleanup

if.end6:                                          ; preds = %if.end
  %call10 = tail call i8* @memset(i8* nonnull %call1, i32 0, i64 %mul) #16
  br label %cleanup

cleanup:                                          ; preds = %if.end6, %if.then5, %entry
  %retval.0 = phi %struct.halide_mutex_array* [ null, %if.then5 ], [ %0, %if.end6 ], [ null, %entry ]
  ret %struct.halide_mutex_array* %retval.0
}

; Function Attrs: mustprogress nounwind
define weak void @halide_mutex_array_destroy(i8* %user_context, i8* %array) local_unnamed_addr #0 {
entry:
  %0 = bitcast i8* %array to i8**
  %1 = load i8*, i8** %0, align 8, !tbaa !132
  tail call void @halide_free(i8* %user_context, i8* %1) #16
  tail call void @halide_free(i8* %user_context, i8* %array) #16
  ret void
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_mutex_array_lock(%struct.halide_mutex_array* %array, i32 %entry1) local_unnamed_addr #0 {
entry:
  %array2 = getelementptr inbounds %struct.halide_mutex_array, %struct.halide_mutex_array* %array, i64 0, i32 0
  %0 = load %struct.halide_mutex*, %struct.halide_mutex** %array2, align 8, !tbaa !132
  %idxprom = sext i32 %entry1 to i64
  %arrayidx = getelementptr inbounds %struct.halide_mutex, %struct.halide_mutex* %0, i64 %idxprom
  tail call void @halide_mutex_lock(%struct.halide_mutex* %arrayidx) #17
  ret i32 0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_mutex_array_unlock(%struct.halide_mutex_array* %array, i32 %entry1) local_unnamed_addr #0 {
entry:
  %array2 = getelementptr inbounds %struct.halide_mutex_array, %struct.halide_mutex_array* %array, i64 0, i32 0
  %0 = load %struct.halide_mutex*, %struct.halide_mutex** %array2, align 8, !tbaa !132
  %idxprom = sext i32 %entry1 to i64
  %arrayidx = getelementptr inbounds %struct.halide_mutex, %struct.halide_mutex* %0, i64 %idxprom
  tail call void @halide_mutex_unlock(%struct.halide_mutex* %arrayidx) #17
  ret i32 0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_set_num_threads(i32 %n) local_unnamed_addr #0 {
entry:
  %cmp = icmp slt i32 %n, 0
  br i1 %cmp, label %if.end.thread, label %if.end

if.end.thread:                                    ; preds = %entry
  tail call void @halide_error(i8* null, i8* getelementptr inbounds ([38 x i8], [38 x i8]* @.str.4, i64 0, i64 0)) #16
  tail call void @halide_mutex_lock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  br label %if.end3

if.end:                                           ; preds = %entry
  tail call void @halide_mutex_lock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  %cmp1 = icmp eq i32 %n, 0
  br i1 %cmp1, label %if.then2, label %if.end3

if.then2:                                         ; preds = %if.end
  %call = tail call i32 @_ZN6Halide7Runtime8Internal27default_desired_num_threadsEv() #17
  br label %if.end3

if.end3:                                          ; preds = %if.then2, %if.end, %if.end.thread
  %n.addr.0 = phi i32 [ %call, %if.then2 ], [ %n, %if.end ], [ %n, %if.end.thread ]
  %0 = load i32, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 1), align 8, !tbaa !52
  %1 = icmp sgt i32 %n.addr.0, 1
  %.threads.i = select i1 %1, i32 %n.addr.0, i32 1
  %2 = icmp slt i32 %.threads.i, 256
  %retval.0.i = select i1 %2, i32 %.threads.i, i32 256
  store i32 %retval.0.i, i32* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 1), align 8, !tbaa !52
  tail call void @halide_mutex_unlock(%struct.halide_mutex* getelementptr inbounds (%"struct.Halide::Runtime::Internal::work_queue_t", %"struct.Halide::Runtime::Internal::work_queue_t"* @_ZN6Halide7Runtime8Internal10work_queueE, i64 0, i32 0)) #17
  ret i32 %0
}

; Function Attrs: mustprogress nounwind
define weak i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)* @halide_set_custom_do_task(i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)* %f) local_unnamed_addr #0 {
entry:
  %0 = load i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)*, i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)** @_ZN6Halide7Runtime8Internal14custom_do_taskE, align 8, !tbaa !11
  store i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)* %f, i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)** @_ZN6Halide7Runtime8Internal14custom_do_taskE, align 8, !tbaa !11
  ret i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)* %0
}

; Function Attrs: mustprogress nounwind
define weak i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)* @halide_set_custom_do_loop_task(i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)* %f) local_unnamed_addr #0 {
entry:
  %0 = load i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)*, i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)** @_ZN6Halide7Runtime8Internal19custom_do_loop_taskE, align 8, !tbaa !11
  store i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)* %f, i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)** @_ZN6Halide7Runtime8Internal19custom_do_loop_taskE, align 8, !tbaa !11
  ret i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)* %0
}

; Function Attrs: mustprogress nounwind
define weak i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)* @halide_set_custom_do_par_for(i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)* %f) local_unnamed_addr #0 {
entry:
  %0 = load i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)*, i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)** @_ZN6Halide7Runtime8Internal17custom_do_par_forE, align 8, !tbaa !11
  store i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)* %f, i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)** @_ZN6Halide7Runtime8Internal17custom_do_par_forE, align 8, !tbaa !11
  ret i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)* %0
}

; Function Attrs: mustprogress nounwind
define weak void @halide_set_custom_parallel_runtime(i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)* %do_par_for, i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)* %do_task, i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)* %do_loop_task, i32 (i8*, i32, %struct.halide_parallel_task_t*, i8*)* %do_parallel_tasks, i32 (%struct.halide_semaphore_t*, i32)* %semaphore_init, i1 (%struct.halide_semaphore_t*, i32)* %semaphore_try_acquire, i32 (%struct.halide_semaphore_t*, i32)* %semaphore_release) local_unnamed_addr #0 {
entry:
  store i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)* %do_par_for, i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)** @_ZN6Halide7Runtime8Internal17custom_do_par_forE, align 8, !tbaa !11
  store i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)* %do_task, i32 (i8*, i32 (i8*, i32, i8*)*, i32, i8*)** @_ZN6Halide7Runtime8Internal14custom_do_taskE, align 8, !tbaa !11
  store i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)* %do_loop_task, i32 (i8*, i32 (i8*, i32, i32, i8*, i8*)*, i32, i32, i8*, i8*)** @_ZN6Halide7Runtime8Internal19custom_do_loop_taskE, align 8, !tbaa !11
  store i32 (i8*, i32, %struct.halide_parallel_task_t*, i8*)* %do_parallel_tasks, i32 (i8*, i32, %struct.halide_parallel_task_t*, i8*)** @_ZN6Halide7Runtime8Internal24custom_do_parallel_tasksE, align 8, !tbaa !11
  store i32 (%struct.halide_semaphore_t*, i32)* %semaphore_init, i32 (%struct.halide_semaphore_t*, i32)** @_ZN6Halide7Runtime8Internal21custom_semaphore_initE, align 8, !tbaa !11
  store i1 (%struct.halide_semaphore_t*, i32)* %semaphore_try_acquire, i1 (%struct.halide_semaphore_t*, i32)** @_ZN6Halide7Runtime8Internal28custom_semaphore_try_acquireE, align 8, !tbaa !11
  store i32 (%struct.halide_semaphore_t*, i32)* %semaphore_release, i32 (%struct.halide_semaphore_t*, i32)** @_ZN6Halide7Runtime8Internal24custom_semaphore_releaseE, align 8, !tbaa !11
  ret void
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_do_par_for(i8* %user_context, i32 (i8*, i32, i8*)* %f, i32 %min, i32 %size, i8* %closure) local_unnamed_addr #0 {
entry:
  %0 = load i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)*, i32 (i8*, i32 (i8*, i32, i8*)*, i32, i32, i8*)** @_ZN6Halide7Runtime8Internal17custom_do_par_forE, align 8, !tbaa !11
  %call = tail call i32 %0(i8* %user_context, i32 (i8*, i32, i8*)* %f, i32 %min, i32 %size, i8* %closure) #16
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_do_parallel_tasks(i8* %user_context, i32 %num_tasks, %struct.halide_parallel_task_t* %tasks, i8* %task_parent) local_unnamed_addr #0 {
entry:
  %0 = load i32 (i8*, i32, %struct.halide_parallel_task_t*, i8*)*, i32 (i8*, i32, %struct.halide_parallel_task_t*, i8*)** @_ZN6Halide7Runtime8Internal24custom_do_parallel_tasksE, align 8, !tbaa !11
  %call = tail call i32 %0(i8* %user_context, i32 %num_tasks, %struct.halide_parallel_task_t* %tasks, i8* %task_parent) #16
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_semaphore_init(%struct.halide_semaphore_t* %sema, i32 %count) local_unnamed_addr #0 {
entry:
  %0 = load i32 (%struct.halide_semaphore_t*, i32)*, i32 (%struct.halide_semaphore_t*, i32)** @_ZN6Halide7Runtime8Internal21custom_semaphore_initE, align 8, !tbaa !11
  %call = tail call i32 %0(%struct.halide_semaphore_t* %sema, i32 %count) #16
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_semaphore_release(%struct.halide_semaphore_t* %sema, i32 %count) local_unnamed_addr #0 {
entry:
  %0 = load i32 (%struct.halide_semaphore_t*, i32)*, i32 (%struct.halide_semaphore_t*, i32)** @_ZN6Halide7Runtime8Internal24custom_semaphore_releaseE, align 8, !tbaa !11
  %call = tail call i32 %0(%struct.halide_semaphore_t* %sema, i32 %count) #16
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak zeroext i1 @halide_semaphore_try_acquire(%struct.halide_semaphore_t* %sema, i32 %count) local_unnamed_addr #0 {
entry:
  %0 = load i1 (%struct.halide_semaphore_t*, i32)*, i1 (%struct.halide_semaphore_t*, i32)** @_ZN6Halide7Runtime8Internal28custom_semaphore_try_acquireE, align 8, !tbaa !11
  %call = tail call zeroext i1 %0(%struct.halide_semaphore_t* %sema, i32 %count) #16
  ret i1 %call
}

; Function Attrs: mustprogress nounwind
define weak i8* @halide_default_get_symbol(i8* %name) #0 {
entry:
  %call = tail call i8* @dlsym(i8* null, i8* %name) #16
  ret i8* %call
}

declare i8* @dlsym(i8*, i8*) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak i8* @halide_default_load_library(i8* %name) #0 {
entry:
  %call = tail call i8* @dlopen(i8* %name, i32 1) #16
  %tobool.not = icmp eq i8* %call, null
  br i1 %tobool.not, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  %call3 = tail call i8* @dlerror() #16
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  ret i8* %call
}

declare i8* @dlopen(i8*, i32) local_unnamed_addr #1

declare i8* @dlerror() local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak i8* @halide_default_get_library_symbol(i8* %lib, i8* %name) #0 {
entry:
  %call = tail call i8* @dlsym(i8* %lib, i8* %name) #16
  ret i8* %call
}

; Function Attrs: mustprogress nounwind
define weak i8* (i8*)* @halide_set_custom_get_symbol(i8* (i8*)* %f) local_unnamed_addr #0 {
entry:
  %0 = load i8* (i8*)*, i8* (i8*)** @_ZN6Halide7Runtime8Internal17custom_get_symbolE, align 8, !tbaa !11
  store i8* (i8*)* %f, i8* (i8*)** @_ZN6Halide7Runtime8Internal17custom_get_symbolE, align 8, !tbaa !11
  ret i8* (i8*)* %0
}

; Function Attrs: mustprogress nounwind
define weak i8* (i8*)* @halide_set_custom_load_library(i8* (i8*)* %f) local_unnamed_addr #0 {
entry:
  %0 = load i8* (i8*)*, i8* (i8*)** @_ZN6Halide7Runtime8Internal19custom_load_libraryE, align 8, !tbaa !11
  store i8* (i8*)* %f, i8* (i8*)** @_ZN6Halide7Runtime8Internal19custom_load_libraryE, align 8, !tbaa !11
  ret i8* (i8*)* %0
}

; Function Attrs: mustprogress nounwind
define weak i8* (i8*, i8*)* @halide_set_custom_get_library_symbol(i8* (i8*, i8*)* %f) local_unnamed_addr #0 {
entry:
  %0 = load i8* (i8*, i8*)*, i8* (i8*, i8*)** @_ZN6Halide7Runtime8Internal25custom_get_library_symbolE, align 8, !tbaa !11
  store i8* (i8*, i8*)* %f, i8* (i8*, i8*)** @_ZN6Halide7Runtime8Internal25custom_get_library_symbolE, align 8, !tbaa !11
  ret i8* (i8*, i8*)* %0
}

; Function Attrs: mustprogress nounwind
define weak i8* @halide_get_symbol(i8* %name) local_unnamed_addr #0 {
entry:
  %0 = load i8* (i8*)*, i8* (i8*)** @_ZN6Halide7Runtime8Internal17custom_get_symbolE, align 8, !tbaa !11
  %call = tail call i8* %0(i8* %name) #16
  ret i8* %call
}

; Function Attrs: mustprogress nounwind
define weak i8* @halide_load_library(i8* %name) local_unnamed_addr #0 {
entry:
  %0 = load i8* (i8*)*, i8* (i8*)** @_ZN6Halide7Runtime8Internal19custom_load_libraryE, align 8, !tbaa !11
  %call = tail call i8* %0(i8* %name) #16
  ret i8* %call
}

; Function Attrs: mustprogress nounwind
define weak i8* @halide_get_library_symbol(i8* %lib, i8* %name) local_unnamed_addr #0 {
entry:
  %0 = load i8* (i8*, i8*)*, i8* (i8*, i8*)** @_ZN6Halide7Runtime8Internal25custom_get_library_symbolE, align 8, !tbaa !11
  %call = tail call i8* %0(i8* %lib, i8* %name) #16
  ret i8* %call
}

; Function Attrs: mustprogress nounwind
define weak void @halide_set_gpu_device(i32 %d) local_unnamed_addr #0 {
entry:
  store i32 %d, i32* @_ZN6Halide7Runtime8Internal17halide_gpu_deviceE, align 4, !tbaa !76
  store i8 1, i8* @_ZN6Halide7Runtime8Internal29halide_gpu_device_initializedE, align 1, !tbaa !16
  ret void
}

; Function Attrs: nounwind
define weak i32 @halide_get_gpu_device(i8* %user_context) local_unnamed_addr #3 {
entry:
  br label %while.cond.i

while.cond.i:                                     ; preds = %while.cond.i, %entry
  %0 = atomicrmw volatile xchg i8* @_ZN6Halide7Runtime8Internal22halide_gpu_device_lockE, i8 1 acquire, align 1
  %tobool.not.i = icmp eq i8 %0, 0
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit, label %while.cond.i, !llvm.loop !134

_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit: ; preds = %while.cond.i
  %1 = load i8, i8* @_ZN6Halide7Runtime8Internal29halide_gpu_device_initializedE, align 1, !tbaa !16, !range !18
  %tobool.not = icmp eq i8 %1, 0
  br i1 %tobool.not, label %if.then, label %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit.if.end4_crit_edge

_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit.if.end4_crit_edge: ; preds = %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %.pre = load i32, i32* @_ZN6Halide7Runtime8Internal17halide_gpu_deviceE, align 4, !tbaa !76
  br label %if.end4

if.then:                                          ; preds = %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %call = tail call i8* @getenv(i8* getelementptr inbounds ([14 x i8], [14 x i8]* @.str.8, i64 0, i64 0)) #16
  %tobool1.not = icmp eq i8* %call, null
  br i1 %tobool1.not, label %if.end, label %if.then2

if.then2:                                         ; preds = %if.then
  %call3 = tail call i32 @atoi(i8* nonnull %call) #16
  br label %if.end

if.end:                                           ; preds = %if.then2, %if.then
  %storemerge = phi i32 [ %call3, %if.then2 ], [ -1, %if.then ]
  store i32 %storemerge, i32* @_ZN6Halide7Runtime8Internal17halide_gpu_deviceE, align 4, !tbaa !76
  store i8 1, i8* @_ZN6Halide7Runtime8Internal29halide_gpu_device_initializedE, align 1, !tbaa !16
  br label %if.end4

if.end4:                                          ; preds = %if.end, %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit.if.end4_crit_edge
  %2 = phi i32 [ %.pre, %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit.if.end4_crit_edge ], [ %storemerge, %if.end ]
  store atomic volatile i8 0, i8* @_ZN6Halide7Runtime8Internal22halide_gpu_device_lockE release, align 1
  ret i32 %2
}

; Function Attrs: nounwind
define weak i32 @halide_default_trace(i8* %user_context, %struct.halide_trace_event_t* %e) #3 {
entry:
  %0 = atomicrmw add i32* @_ZZ20halide_default_traceE3ids, i32 1 seq_cst, align 4
  %call = tail call i32 @halide_get_trace_file(i8* %user_context) #17
  %cmp = icmp sgt i32 %call, 0
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %type = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 4
  %lanes = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 4, i32 2
  %1 = load i16, i16* %lanes, align 2, !tbaa !135
  %conv = zext i16 %1 to i32
  %bits.i = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 4, i32 1
  %2 = load i8, i8* %bits.i, align 1, !tbaa !141
  %conv.i = zext i8 %2 to i32
  %add.i = add nuw nsw i32 %conv.i, 7
  %div.i = lshr i32 %add.i, 3
  %mul = mul nuw nsw i32 %div.i, %conv
  %dimensions = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 8
  %3 = load i32, i32* %dimensions, align 8, !tbaa !142
  %mul3 = shl i32 %3, 2
  %func = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 0
  %4 = load i8*, i8** %func, align 8, !tbaa !143
  %call4 = tail call i64 @strlen(i8* %4) #16
  %5 = trunc i64 %call4 to i32
  %conv5 = add i32 %5, 1
  %trace_tag = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 3
  %6 = load i8*, i8** %trace_tag, align 8, !tbaa !144
  %tobool.not = icmp eq i8* %6, null
  br i1 %tobool.not, label %cond.end, label %cond.true

cond.true:                                        ; preds = %if.then
  %call7 = tail call i64 @strlen(i8* nonnull %6) #16
  %7 = trunc i64 %call7 to i32
  %phi.cast = add i32 %7, 1
  br label %cond.end

cond.end:                                         ; preds = %cond.true, %if.then
  %cond = phi i32 [ %phi.cast, %cond.true ], [ 1, %if.then ]
  %add11 = add i32 %mul3, 31
  %add12 = add i32 %add11, %mul
  %add13 = add i32 %add12, %conv5
  %add14 = add i32 %add13, %cond
  %and = and i32 %add14, -4
  %8 = load %"class.Halide::Runtime::Internal::TraceBuffer"*, %"class.Halide::Runtime::Internal::TraceBuffer"** @_ZN6Halide7Runtime8Internal19halide_trace_bufferE, align 8, !tbaa !11
  %lock.i.i.i = getelementptr inbounds %"class.Halide::Runtime::Internal::TraceBuffer", %"class.Halide::Runtime::Internal::TraceBuffer"* %8, i64 0, i32 0, i32 0
  %cmp.i.i = icmp ult i32 %and, 1048577
  %cursor.i.i = getelementptr inbounds %"class.Halide::Runtime::Internal::TraceBuffer", %"class.Halide::Runtime::Internal::TraceBuffer"* %8, i64 0, i32 1
  %overage.i.i = getelementptr inbounds %"class.Halide::Runtime::Internal::TraceBuffer", %"class.Halide::Runtime::Internal::TraceBuffer"* %8, i64 0, i32 2
  %arraydecay.i.i = getelementptr inbounds %"class.Halide::Runtime::Internal::TraceBuffer", %"class.Halide::Runtime::Internal::TraceBuffer"* %8, i64 0, i32 3, i64 0
  br i1 %cmp.i.i, label %while.body.i.i.us.i, label %while.body.i.i.i

while.body.i.i.us.i:                              ; preds = %cond.end, %while.body.i.i.us.i.backedge
  %9 = load volatile i32, i32* %lock.i.i.i, align 4, !tbaa !145
  %and.i.i.us.i = and i32 %9, 1073741823
  %add.i.i.us.i = add nuw nsw i32 %and.i.i.us.i, 1
  %10 = cmpxchg i32* %lock.i.i.i, i32 %and.i.i.us.i, i32 %add.i.i.us.i seq_cst seq_cst, align 4
  %11 = extractvalue { i32, i1 } %10, 1
  br i1 %11, label %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock14acquire_sharedEv.exit.i.us.i, label %while.body.i.i.us.i.backedge

_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock14acquire_sharedEv.exit.i.us.i: ; preds = %while.body.i.i.us.i
  %12 = atomicrmw add i32* %cursor.i.i, i32 %and seq_cst, align 4
  %add.i.us.i = add i32 %12, %and
  %cmp2.i.us.i = icmp ugt i32 %add.i.us.i, 1048576
  br i1 %cmp2.i.us.i, label %while.body.us.i, label %_ZN6Halide7Runtime8Internal11TraceBuffer14acquire_packetEPvij.exit

while.body.us.i:                                  ; preds = %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock14acquire_sharedEv.exit.i.us.i
  %13 = atomicrmw add i32* %overage.i.i, i32 %and seq_cst, align 4
  %14 = atomicrmw sub i32* %lock.i.i.i, i32 1 seq_cst, align 4
  br label %while.body.i.i5.us.i

while.body.i.i5.us.i:                             ; preds = %while.body.i.i5.us.i, %while.body.us.i
  %15 = atomicrmw or i32* %lock.i.i.i, i32 1073741824 seq_cst, align 4
  %16 = cmpxchg i32* %lock.i.i.i, i32 1073741824, i32 -2147483648 seq_cst seq_cst, align 4
  %17 = extractvalue { i32, i1 } %16, 1
  br i1 %17, label %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock17acquire_exclusiveEv.exit.i.us.i, label %while.body.i.i5.us.i, !llvm.loop !147

_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock17acquire_exclusiveEv.exit.i.us.i: ; preds = %while.body.i.i5.us.i
  %18 = load i32, i32* %cursor.i.i, align 4, !tbaa !148
  %tobool.not.i.us.i = icmp eq i32 %18, 0
  br i1 %tobool.not.i.us.i, label %do.end.critedge.i.us.i, label %if.then.i9.us.i

if.then.i9.us.i:                                  ; preds = %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock17acquire_exclusiveEv.exit.i.us.i
  %19 = load i32, i32* %overage.i.i, align 4, !tbaa !150
  %sub.i.us.i = sub i32 %18, %19
  store i32 %sub.i.us.i, i32* %cursor.i.i, align 4, !tbaa !148
  %conv.i.us.i = zext i32 %sub.i.us.i to i64
  %call.i.us.i = tail call i64 @write(i32 %call, i8* nonnull %arraydecay.i.i, i64 %conv.i.us.i) #16
  %conv5.i.us.i = trunc i64 %call.i.us.i to i32
  %cmp.i8.us.i = icmp eq i32 %sub.i.us.i, %conv5.i.us.i
  store i32 0, i32* %cursor.i.i, align 4, !tbaa !148
  store i32 0, i32* %overage.i.i, align 4, !tbaa !150
  %20 = atomicrmw and i32* %lock.i.i.i, i32 2147483647 seq_cst, align 4
  br i1 %cmp.i8.us.i, label %while.body.i.i.us.i.backedge, label %if.then10.i.us.i

if.then10.i.us.i:                                 ; preds = %if.then.i9.us.i
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([120 x i8], [120 x i8]* @.str.32, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %while.body.i.i.us.i.backedge

do.end.critedge.i.us.i:                           ; preds = %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock17acquire_exclusiveEv.exit.i.us.i
  %21 = atomicrmw and i32* %lock.i.i.i, i32 2147483647 seq_cst, align 4
  br label %while.body.i.i.us.i.backedge

while.body.i.i.us.i.backedge:                     ; preds = %do.end.critedge.i.us.i, %if.then10.i.us.i, %if.then.i9.us.i, %while.body.i.i.us.i
  br label %while.body.i.i.us.i, !llvm.loop !151

while.body.i.i.i:                                 ; preds = %cond.end, %while.body.i.i.i.backedge
  %22 = load volatile i32, i32* %lock.i.i.i, align 4, !tbaa !145
  %and.i.i.i = and i32 %22, 1073741823
  %add.i.i.i = add nuw nsw i32 %and.i.i.i, 1
  %23 = cmpxchg i32* %lock.i.i.i, i32 %and.i.i.i, i32 %add.i.i.i seq_cst seq_cst, align 4
  %24 = extractvalue { i32, i1 } %23, 1
  br i1 %24, label %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock14acquire_sharedEv.exit.i.i, label %while.body.i.i.i.backedge

_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock14acquire_sharedEv.exit.i.i: ; preds = %while.body.i.i.i
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([96 x i8], [96 x i8]* @.str.31, i64 0, i64 0)) #16
  tail call void @abort() #16
  %25 = atomicrmw add i32* %cursor.i.i, i32 %and seq_cst, align 4
  %add.i.i = add i32 %25, %and
  %cmp2.i.i = icmp ugt i32 %add.i.i, 1048576
  br i1 %cmp2.i.i, label %while.body.i, label %_ZN6Halide7Runtime8Internal11TraceBuffer14acquire_packetEPvij.exit

while.body.i:                                     ; preds = %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock14acquire_sharedEv.exit.i.i
  %26 = atomicrmw add i32* %overage.i.i, i32 %and seq_cst, align 4
  %27 = atomicrmw sub i32* %lock.i.i.i, i32 1 seq_cst, align 4
  br label %while.body.i.i5.i

while.body.i.i5.i:                                ; preds = %while.body.i.i5.i, %while.body.i
  %28 = atomicrmw or i32* %lock.i.i.i, i32 1073741824 seq_cst, align 4
  %29 = cmpxchg i32* %lock.i.i.i, i32 1073741824, i32 -2147483648 seq_cst seq_cst, align 4
  %30 = extractvalue { i32, i1 } %29, 1
  br i1 %30, label %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock17acquire_exclusiveEv.exit.i.i, label %while.body.i.i5.i, !llvm.loop !147

_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock17acquire_exclusiveEv.exit.i.i: ; preds = %while.body.i.i5.i
  %31 = load i32, i32* %cursor.i.i, align 4, !tbaa !148
  %tobool.not.i.i = icmp eq i32 %31, 0
  br i1 %tobool.not.i.i, label %do.end.critedge.i.i, label %if.then.i9.i

if.then.i9.i:                                     ; preds = %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock17acquire_exclusiveEv.exit.i.i
  %32 = load i32, i32* %overage.i.i, align 4, !tbaa !150
  %sub.i.i = sub i32 %31, %32
  store i32 %sub.i.i, i32* %cursor.i.i, align 4, !tbaa !148
  %conv.i.i = zext i32 %sub.i.i to i64
  %call.i.i = tail call i64 @write(i32 %call, i8* nonnull %arraydecay.i.i, i64 %conv.i.i) #16
  %conv5.i.i = trunc i64 %call.i.i to i32
  %cmp.i8.i = icmp eq i32 %sub.i.i, %conv5.i.i
  store i32 0, i32* %cursor.i.i, align 4, !tbaa !148
  store i32 0, i32* %overage.i.i, align 4, !tbaa !150
  %33 = atomicrmw and i32* %lock.i.i.i, i32 2147483647 seq_cst, align 4
  br i1 %cmp.i8.i, label %while.body.i.i.i.backedge, label %if.then10.i.i

if.then10.i.i:                                    ; preds = %if.then.i9.i
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([120 x i8], [120 x i8]* @.str.32, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %while.body.i.i.i.backedge

do.end.critedge.i.i:                              ; preds = %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock17acquire_exclusiveEv.exit.i.i
  %34 = atomicrmw and i32* %lock.i.i.i, i32 2147483647 seq_cst, align 4
  br label %while.body.i.i.i.backedge

while.body.i.i.i.backedge:                        ; preds = %do.end.critedge.i.i, %if.then10.i.i, %if.then.i9.i, %while.body.i.i.i
  br label %while.body.i.i.i, !llvm.loop !151

_ZN6Halide7Runtime8Internal11TraceBuffer14acquire_packetEPvij.exit: ; preds = %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock14acquire_sharedEv.exit.i.i, %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock14acquire_sharedEv.exit.i.us.i
  %.us-phi.i = phi i32 [ %12, %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock14acquire_sharedEv.exit.i.us.i ], [ %25, %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock14acquire_sharedEv.exit.i.i ]
  %idx.ext.i.i = zext i32 %.us-phi.i to i64
  %add.ptr.i.i = getelementptr inbounds %"class.Halide::Runtime::Internal::TraceBuffer", %"class.Halide::Runtime::Internal::TraceBuffer"* %8, i64 0, i32 3, i64 %idx.ext.i.i
  %cmp16 = icmp ugt i32 %and, 4096
  br i1 %cmp16, label %if.then17, label %if.end

if.then17:                                        ; preds = %_ZN6Halide7Runtime8Internal11TraceBuffer14acquire_packetEPvij.exit
  %call.i415 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i416 = icmp eq i8* %call.i415, null
  br i1 %tobool.not.i416, label %if.then.i427, label %if.else.i

if.then.i427:                                     ; preds = %if.then17
  %conv.i4201 = zext i32 %and to i64
  %call.i4212 = tail call i8* @halide_uint64_to_string(i8* null, i8* null, i64 %conv.i4201, i32 1) #16
  %call.i42418 = tail call i8* @halide_string_to_string(i8* %call.i4212, i8* null, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  tail call void @halide_error(i8* null, i8* getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE0ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %if.then17
  %add.ptr.i417 = getelementptr inbounds i8, i8* %call.i415, i64 1023
  store i8 0, i8* %add.ptr.i417, align 1, !tbaa !15
  %conv.i4203 = zext i32 %and to i64
  %call.i4214 = tail call i8* @halide_uint64_to_string(i8* nonnull %call.i415, i8* nonnull %add.ptr.i417, i64 %conv.i4203, i32 1) #16
  %call.i424 = tail call i8* @halide_string_to_string(i8* %call.i4214, i8* nonnull %add.ptr.i417, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i424 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i415 to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i428 = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i429 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* null, i8* nonnull %call.i415, i64 %add.i.i428) #16
  tail call void @halide_print(i8* null, i8* nonnull %call.i415) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE0ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE0ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i427
  tail call void @free(i8* %call.i415) #16
  br label %if.end

if.end:                                           ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE0ELy1024EED2Ev.exit, %_ZN6Halide7Runtime8Internal11TraceBuffer14acquire_packetEPvij.exit
  %size = bitcast i8* %add.ptr.i.i to i32*
  store i32 %and, i32* %size, align 4, !tbaa !152
  %id = getelementptr inbounds i8, i8* %add.ptr.i.i, i64 4
  %35 = bitcast i8* %id to i32*
  store i32 %0, i32* %35, align 4, !tbaa !154
  %36 = getelementptr inbounds i8, i8* %add.ptr.i.i, i64 8
  %37 = bitcast %struct.halide_type_t* %type to i32*
  %38 = bitcast i8* %36 to i32*
  %39 = load i32, i32* %37, align 8
  store i32 %39, i32* %38, align 4
  %event = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 5
  %event22 = getelementptr inbounds i8, i8* %add.ptr.i.i, i64 12
  %40 = bitcast i32* %event to <4 x i32>*
  %41 = load <4 x i32>, <4 x i32>* %40, align 4, !tbaa !15
  %dimensions26 = getelementptr inbounds i8, i8* %add.ptr.i.i, i64 24
  %42 = bitcast i8* %dimensions26 to i32*
  %43 = bitcast i8* %event22 to <4 x i32>*
  store <4 x i32> %41, <4 x i32>* %43, align 4, !tbaa !15
  %coordinates = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 2
  %44 = load i32*, i32** %coordinates, align 8, !tbaa !155
  %tobool27.not = icmp eq i32* %44, null
  br i1 %tobool27.not, label %if.end33, label %if.then28

if.then28:                                        ; preds = %if.end
  %45 = bitcast i32* %44 to i8*
  %46 = getelementptr inbounds i8, i8* %add.ptr.i.i, i64 28
  %conv31 = zext i32 %mul3 to i64
  %call32 = tail call i8* @memcpy(i8* nonnull %46, i8* nonnull %45, i64 %conv31) #16
  br label %if.end33

if.end33:                                         ; preds = %if.then28, %if.end
  %value = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 1
  %47 = load i8*, i8** %value, align 8, !tbaa !156
  %tobool34.not = icmp eq i8* %47, null
  br i1 %tobool34.not, label %if.end40, label %if.then35

if.then35:                                        ; preds = %if.end33
  %48 = getelementptr inbounds i8, i8* %add.ptr.i.i, i64 28
  %49 = bitcast i8* %48 to i32*
  %50 = load i32, i32* %42, align 4, !tbaa !157
  %idx.ext.i = sext i32 %50 to i64
  %add.ptr.i = getelementptr inbounds i32, i32* %49, i64 %idx.ext.i
  %51 = bitcast i32* %add.ptr.i to i8*
  %conv38 = zext i32 %mul to i64
  %call39 = tail call i8* @memcpy(i8* nonnull %51, i8* nonnull %47, i64 %conv38) #16
  br label %if.end40

if.end40:                                         ; preds = %if.end33, %if.then35
  %52 = getelementptr inbounds i8, i8* %add.ptr.i.i, i64 28
  %53 = bitcast i8* %52 to i32*
  %54 = load i32, i32* %42, align 4, !tbaa !157
  %idx.ext.i.i400 = sext i32 %54 to i64
  %add.ptr.i.i401 = getelementptr inbounds i32, i32* %53, i64 %idx.ext.i.i400
  %55 = bitcast i32* %add.ptr.i.i401 to i8*
  %lanes.i = getelementptr inbounds i8, i8* %add.ptr.i.i, i64 10
  %56 = bitcast i8* %lanes.i to i16*
  %57 = load i16, i16* %56, align 2, !tbaa !158
  %conv.i402 = zext i16 %57 to i32
  %58 = getelementptr inbounds i8, i8* %add.ptr.i.i, i64 9
  %59 = load i8, i8* %58, align 1, !tbaa !141
  %conv.i.i403 = zext i8 %59 to i32
  %add.i.i404 = add nuw nsw i32 %conv.i.i403, 7
  %div.i.i = lshr i32 %add.i.i404, 3
  %mul.i = mul nuw nsw i32 %div.i.i, %conv.i402
  %idx.ext4.i = zext i32 %mul.i to i64
  %add.ptr.i405 = getelementptr inbounds i8, i8* %55, i64 %idx.ext4.i
  %60 = load i8*, i8** %func, align 8, !tbaa !143
  %conv43 = zext i32 %conv5 to i64
  %call44 = tail call i8* @memcpy(i8* nonnull %add.ptr.i405, i8* %60, i64 %conv43) #16
  %61 = load i32, i32* %42, align 4, !tbaa !157
  %idx.ext.i.i.i = sext i32 %61 to i64
  %add.ptr.i.i.i = getelementptr inbounds i32, i32* %53, i64 %idx.ext.i.i.i
  %62 = bitcast i32* %add.ptr.i.i.i to i8*
  %63 = load i16, i16* %56, align 2, !tbaa !158
  %conv.i.i406 = zext i16 %63 to i32
  %64 = load i8, i8* %58, align 1, !tbaa !141
  %conv.i.i.i = zext i8 %64 to i32
  %add.i.i.i407 = add nuw nsw i32 %conv.i.i.i, 7
  %div.i.i.i = lshr i32 %add.i.i.i407, 3
  %mul.i.i = mul nuw nsw i32 %div.i.i.i, %conv.i.i406
  %idx.ext4.i.i = zext i32 %mul.i.i to i64
  %add.ptr.i.i408 = getelementptr inbounds i8, i8* %62, i64 %idx.ext4.i.i
  br label %while.cond.i409

while.cond.i409:                                  ; preds = %while.cond.i409, %if.end40
  %f.0.i = phi i8* [ %add.ptr.i.i408, %if.end40 ], [ %incdec.ptr.i, %while.cond.i409 ]
  %incdec.ptr.i = getelementptr inbounds i8, i8* %f.0.i, i64 1
  %65 = load i8, i8* %f.0.i, align 1, !tbaa !15
  %tobool.not.i = icmp eq i8 %65, 0
  br i1 %tobool.not.i, label %_ZN21halide_trace_packet_t9trace_tagEv.exit, label %while.cond.i409, !llvm.loop !159

_ZN21halide_trace_packet_t9trace_tagEv.exit:      ; preds = %while.cond.i409
  %66 = load i8*, i8** %trace_tag, align 8, !tbaa !144
  %tobool47.not = icmp eq i8* %66, null
  %spec.select = select i1 %tobool47.not, i8* getelementptr inbounds ([1 x i8], [1 x i8]* @.str.1.10, i64 0, i64 0), i8* %66
  %conv53 = zext i32 %cond to i64
  %call54 = tail call i8* @memcpy(i8* nonnull %incdec.ptr.i, i8* %spec.select, i64 %conv53) #16
  %67 = load %"class.Halide::Runtime::Internal::TraceBuffer"*, %"class.Halide::Runtime::Internal::TraceBuffer"** @_ZN6Halide7Runtime8Internal19halide_trace_bufferE, align 8, !tbaa !11
  fence seq_cst
  %lock.i.i = getelementptr inbounds %"class.Halide::Runtime::Internal::TraceBuffer", %"class.Halide::Runtime::Internal::TraceBuffer"* %67, i64 0, i32 0, i32 0
  %68 = atomicrmw sub i32* %lock.i.i, i32 1 seq_cst, align 4
  %69 = load i32, i32* %event, align 4, !tbaa !160
  %cmp56 = icmp eq i32 %69, 9
  br i1 %cmp56, label %if.then57, label %if.end277

if.then57:                                        ; preds = %_ZN21halide_trace_packet_t9trace_tagEv.exit
  %70 = load %"class.Halide::Runtime::Internal::TraceBuffer"*, %"class.Halide::Runtime::Internal::TraceBuffer"** @_ZN6Halide7Runtime8Internal19halide_trace_bufferE, align 8, !tbaa !11
  %lock.i.i410 = getelementptr inbounds %"class.Halide::Runtime::Internal::TraceBuffer", %"class.Halide::Runtime::Internal::TraceBuffer"* %70, i64 0, i32 0, i32 0
  br label %while.body.i.i

while.body.i.i:                                   ; preds = %while.body.i.i, %if.then57
  %71 = atomicrmw or i32* %lock.i.i410, i32 1073741824 seq_cst, align 4
  %72 = cmpxchg i32* %lock.i.i410, i32 1073741824, i32 -2147483648 seq_cst seq_cst, align 4
  %73 = extractvalue { i32, i1 } %72, 1
  br i1 %73, label %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock17acquire_exclusiveEv.exit.i, label %while.body.i.i, !llvm.loop !147

_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock17acquire_exclusiveEv.exit.i: ; preds = %while.body.i.i
  %cursor.i = getelementptr inbounds %"class.Halide::Runtime::Internal::TraceBuffer", %"class.Halide::Runtime::Internal::TraceBuffer"* %70, i64 0, i32 1
  %74 = load i32, i32* %cursor.i, align 4, !tbaa !148
  %tobool.not.i411 = icmp eq i32 %74, 0
  br i1 %tobool.not.i411, label %do.end.critedge.i, label %if.then.i

if.then.i:                                        ; preds = %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock17acquire_exclusiveEv.exit.i
  %overage.i = getelementptr inbounds %"class.Halide::Runtime::Internal::TraceBuffer", %"class.Halide::Runtime::Internal::TraceBuffer"* %70, i64 0, i32 2
  %75 = load i32, i32* %overage.i, align 4, !tbaa !150
  %sub.i = sub i32 %74, %75
  store i32 %sub.i, i32* %cursor.i, align 4, !tbaa !148
  %arraydecay.i = getelementptr inbounds %"class.Halide::Runtime::Internal::TraceBuffer", %"class.Halide::Runtime::Internal::TraceBuffer"* %70, i64 0, i32 3, i64 0
  %conv.i412 = zext i32 %sub.i to i64
  %call.i = tail call i64 @write(i32 %call, i8* nonnull %arraydecay.i, i64 %conv.i412) #16
  %conv5.i = trunc i64 %call.i to i32
  %cmp.i = icmp eq i32 %sub.i, %conv5.i
  store i32 0, i32* %cursor.i, align 4, !tbaa !148
  store i32 0, i32* %overage.i, align 4, !tbaa !150
  %76 = atomicrmw and i32* %lock.i.i410, i32 2147483647 seq_cst, align 4
  br i1 %cmp.i, label %if.end277, label %if.then10.i

if.then10.i:                                      ; preds = %if.then.i
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([120 x i8], [120 x i8]* @.str.32, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %if.end277

do.end.critedge.i:                                ; preds = %_ZN6Halide7Runtime8Internal23SharedExclusiveSpinLock17acquire_exclusiveEv.exit.i
  %77 = atomicrmw and i32* %lock.i.i410, i32 2147483647 seq_cst, align 4
  br label %if.end277

if.else:                                          ; preds = %entry
  %call.i433 = tail call i8* @malloc(i64 4096) #16
  %tobool.not.i436 = icmp eq i8* %call.i433, null
  br i1 %tobool.not.i436, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy4096EEC2EPvPc.exit, label %if.then6.i439

if.then6.i439:                                    ; preds = %if.else
  %add.ptr.i437 = getelementptr inbounds i8, i8* %call.i433, i64 4095
  store i8 0, i8* %add.ptr.i437, align 1, !tbaa !15
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy4096EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy4096EEC2EPvPc.exit: ; preds = %if.then6.i439, %if.else
  %ss.sroa.74.0 = phi i8* [ %add.ptr.i437, %if.then6.i439 ], [ null, %if.else ]
  %bits = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 4, i32 1
  %78 = load i8, i8* %bits, align 1, !tbaa !161
  %conv60 = zext i8 %78 to i32
  br label %while.cond

while.cond:                                       ; preds = %while.cond, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy4096EEC2EPvPc.exit
  %print_bits.0 = phi i32 [ 8, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy4096EEC2EPvPc.exit ], [ %shl, %while.cond ]
  %cmp61 = icmp slt i32 %print_bits.0, %conv60
  %shl = shl i32 %print_bits.0, 1
  br i1 %cmp61, label %while.cond, label %do.body, !llvm.loop !162

do.body:                                          ; preds = %while.cond
  %cmp62 = icmp slt i32 %print_bits.0, 65
  br i1 %cmp62, label %do.end, label %if.then63

if.then63:                                        ; preds = %do.body
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([116 x i8], [116 x i8]* @.str.2.11, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then63, %do.body
  %event65 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 5
  %79 = load i32, i32* %event65, align 4, !tbaa !160
  %cmp66 = icmp slt i32 %79, 2
  %idxprom = zext i32 %79 to i64
  %reltable.shift = shl i64 %idxprom, 2
  %reltable.intrinsic = call i8* @llvm.load.relative.i64(i8* bitcast ([11 x i32]* @reltable.halide_default_trace to i8*), i64 %reltable.shift)
  %call.i444 = tail call i8* @halide_string_to_string(i8* %call.i433, i8* %ss.sroa.74.0, i8* %reltable.intrinsic) #16
  %call.i447 = tail call i8* @halide_string_to_string(i8* %call.i444, i8* %ss.sroa.74.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.72.209, i64 0, i64 0)) #16
  %func70 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 0
  %80 = load i8*, i8** %func70, align 8, !tbaa !143
  %call.i450 = tail call i8* @halide_string_to_string(i8* %call.i447, i8* %ss.sroa.74.0, i8* %80) #16
  %call.i453 = tail call i8* @halide_string_to_string(i8* %call.i450, i8* %ss.sroa.74.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.30.141, i64 0, i64 0)) #16
  %value_index73 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 7
  %81 = load i32, i32* %value_index73, align 4, !tbaa !163
  %conv.i456 = sext i32 %81 to i64
  %call.i457 = tail call i8* @halide_int64_to_string(i8* %call.i453, i8* %ss.sroa.74.0, i64 %conv.i456, i32 1) #16
  %call.i460 = tail call i8* @halide_string_to_string(i8* %call.i457, i8* %ss.sroa.74.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.22.179, i64 0, i64 0)) #16
  %lanes77 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 4, i32 2
  %82 = load i16, i16* %lanes77, align 2, !tbaa !135
  %cmp79 = icmp ugt i16 %82, 1
  br i1 %cmp79, label %if.then80, label %if.end82

if.then80:                                        ; preds = %do.end
  %call.i463 = tail call i8* @halide_string_to_string(i8* %call.i460, i8* %ss.sroa.74.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.17, i64 0, i64 0)) #16
  br label %if.end82

if.end82:                                         ; preds = %if.then80, %do.end
  %ss.sroa.7.0 = phi i8* [ %call.i463, %if.then80 ], [ %call.i460, %do.end ]
  %dimensions83 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 8
  %coordinates101 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 2
  %83 = load i32, i32* %dimensions83, align 8, !tbaa !142
  %cmp84654 = icmp sgt i32 %83, 0
  br i1 %cmp84654, label %if.end100.peel, label %for.cond.cleanup

if.end100.peel:                                   ; preds = %if.end82
  %.pre = load i32*, i32** %coordinates101, align 8, !tbaa !155
  %.pre673 = load i32, i32* %.pre, align 4, !tbaa !76
  %conv.i472.peel = sext i32 %.pre673 to i64
  %call.i473.peel = tail call i8* @halide_int64_to_string(i8* %ss.sroa.7.0, i8* %ss.sroa.74.0, i64 %conv.i472.peel, i32 1) #16
  %84 = load i32, i32* %dimensions83, align 8, !tbaa !142
  %cmp84.peel = icmp sgt i32 %84, 1
  br i1 %cmp84.peel, label %if.then86, label %for.cond.cleanup

for.cond.cleanup:                                 ; preds = %if.end100, %if.end100.peel, %if.end82
  %ss.sroa.7.1.lcssa = phi i8* [ %ss.sroa.7.0, %if.end82 ], [ %call.i473.peel, %if.end100.peel ], [ %call.i473, %if.end100 ]
  %85 = load i16, i16* %lanes77, align 2, !tbaa !135
  %cmp108 = icmp ugt i16 %85, 1
  %. = select i1 %cmp108, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.20, i64 0, i64 0), i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.8.119, i64 0, i64 0)
  %call.i479 = tail call i8* @halide_string_to_string(i8* %ss.sroa.7.1.lcssa, i8* %ss.sroa.74.0, i8* %.) #16
  br i1 %cmp66, label %if.then115, label %if.end263

if.then86:                                        ; preds = %if.end100.peel, %if.end100
  %indvars.iv = phi i64 [ %indvars.iv.next, %if.end100 ], [ 1, %if.end100.peel ]
  %ss.sroa.7.1655 = phi i8* [ %call.i473, %if.end100 ], [ %call.i473.peel, %if.end100.peel ]
  %86 = load i16, i16* %lanes77, align 2, !tbaa !135
  %cmp90 = icmp ugt i16 %86, 1
  br i1 %cmp90, label %land.lhs.true, label %if.else97.split

land.lhs.true:                                    ; preds = %if.then86
  %conv89 = zext i16 %86 to i32
  %87 = trunc i64 %indvars.iv to i32
  %rem = urem i32 %87, %conv89
  %cmp94 = icmp eq i32 %rem, 0
  br i1 %cmp94, label %if.end100, label %if.else97.split

if.else97.split:                                  ; preds = %if.then86, %land.lhs.true
  br label %if.end100

if.end100:                                        ; preds = %land.lhs.true, %if.else97.split
  %.sink = phi i8* [ getelementptr inbounds ([3 x i8], [3 x i8]* @.str.55, i64 0, i64 0), %if.else97.split ], [ getelementptr inbounds ([5 x i8], [5 x i8]* @.str.18, i64 0, i64 0), %land.lhs.true ]
  %call.i4666 = tail call i8* @halide_string_to_string(i8* %ss.sroa.7.1655, i8* %ss.sroa.74.0, i8* %.sink) #16
  %88 = load i32*, i32** %coordinates101, align 8, !tbaa !155
  %arrayidx103 = getelementptr inbounds i32, i32* %88, i64 %indvars.iv
  %89 = load i32, i32* %arrayidx103, align 4, !tbaa !76
  %conv.i472 = sext i32 %89 to i64
  %call.i473 = tail call i8* @halide_int64_to_string(i8* %call.i4666, i8* %ss.sroa.74.0, i64 %conv.i472, i32 1) #16
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %90 = load i32, i32* %dimensions83, align 8, !tbaa !142
  %91 = sext i32 %90 to i64
  %cmp84 = icmp slt i64 %indvars.iv.next, %91
  br i1 %cmp84, label %if.then86, label %for.cond.cleanup, !llvm.loop !164

if.then115:                                       ; preds = %for.cond.cleanup
  %92 = load i16, i16* %lanes77, align 2, !tbaa !135
  %cmp119 = icmp ugt i16 %92, 1
  %.683 = select i1 %cmp119, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.22, i64 0, i64 0), i8* getelementptr inbounds ([4 x i8], [4 x i8]* @.str.23, i64 0, i64 0)
  %call.i485 = tail call i8* @halide_string_to_string(i8* %call.i479, i8* %ss.sroa.74.0, i8* %.683) #16
  %code = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 4, i32 0
  %value245 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 1
  %93 = bitcast i8** %value245 to i8***
  %cmp214 = icmp sgt i32 %print_bits.0, 15
  %94 = bitcast i8** %value245 to i16**
  %95 = bitcast i8** %value245 to float**
  %96 = bitcast i8** %value245 to double**
  %97 = bitcast i8** %value245 to i32**
  %98 = bitcast i8** %value245 to i64**
  %99 = load i16, i16* %lanes77, align 2, !tbaa !135
  %cmp130660.not = icmp eq i16 %99, 0
  br i1 %cmp130660.not, label %if.end263, label %if.end136.peel

if.end136.peel:                                   ; preds = %if.then115
  %.pre674 = load i8, i8* %code, align 8, !tbaa !166
  switch i8 %.pre674, label %for.inc253.peel [
    i8 0, label %if.then140.peel
    i8 1, label %if.then176.peel
    i8 2, label %do.body213.peel
    i8 3, label %if.then244.peel
  ]

if.then244.peel:                                  ; preds = %if.end136.peel
  %100 = load i8**, i8*** %93, align 8, !tbaa !156
  %101 = load i8*, i8** %100, align 8, !tbaa !11
  %call.i531.peel = tail call i8* @halide_pointer_to_string(i8* %call.i485, i8* %ss.sroa.74.0, i8* %101) #16
  br label %for.inc253.peelthread-pre-split

do.body213.peel:                                  ; preds = %if.end136.peel
  br i1 %cmp214, label %do.end218.peel, label %if.then215.peel

if.then215.peel:                                  ; preds = %do.body213.peel
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([118 x i8], [118 x i8]* @.str.24, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end218.peel

do.end218.peel:                                   ; preds = %if.then215.peel, %do.body213.peel
  switch i32 %print_bits.0, label %if.else232.peel [
    i32 32, label %if.then220.peel
    i32 16, label %if.then227.peel
  ]

if.then227.peel:                                  ; preds = %do.end218.peel
  %102 = load i16*, i16** %94, align 8, !tbaa !156
  %103 = load i16, i16* %102, align 2, !tbaa !167
  %call.i523.peel = tail call double @halide_float16_bits_to_double(i16 zeroext %103) #16
  %call2.i.peel = tail call i8* @halide_double_to_string(i8* %call.i485, i8* %ss.sroa.74.0, double %call.i523.peel, i32 1) #16
  br label %for.inc253.peelthread-pre-split

if.then220.peel:                                  ; preds = %do.end218.peel
  %104 = load float*, float** %95, align 8, !tbaa !156
  %105 = load float, float* %104, align 4, !tbaa !168
  %conv.i521.peel = fpext float %105 to double
  %call.i522.peel = tail call i8* @halide_double_to_string(i8* %call.i485, i8* %ss.sroa.74.0, double %conv.i521.peel, i32 0) #16
  br label %for.inc253.peelthread-pre-split

if.else232.peel:                                  ; preds = %do.end218.peel
  %106 = load double*, double** %96, align 8, !tbaa !156
  %107 = load double, double* %106, align 8, !tbaa !170
  %call.i528.peel = tail call i8* @halide_double_to_string(i8* %call.i485, i8* %ss.sroa.74.0, double %107, i32 1) #16
  br label %for.inc253.peelthread-pre-split

if.then176.peel:                                  ; preds = %if.end136.peel
  switch i32 %print_bits.0, label %if.else199.peel [
    i32 8, label %if.then178.peel
    i32 16, label %if.then186.peel
    i32 32, label %if.then194.peel
  ]

if.then194.peel:                                  ; preds = %if.then176.peel
  %108 = load i32*, i32** %97, align 8, !tbaa !156
  %109 = load i32, i32* %108, align 4, !tbaa !76
  %conv.i514.peel = zext i32 %109 to i64
  %call.i515.peel = tail call i8* @halide_uint64_to_string(i8* %call.i485, i8* %ss.sroa.74.0, i64 %conv.i514.peel, i32 1) #16
  br label %for.inc253.peelthread-pre-split

if.then186.peel:                                  ; preds = %if.then176.peel
  %110 = load i16*, i16** %94, align 8, !tbaa !156
  %111 = load i16, i16* %110, align 2, !tbaa !167
  %conv.i510650.peel = zext i16 %111 to i64
  %call.i511.peel = tail call i8* @halide_int64_to_string(i8* %call.i485, i8* %ss.sroa.74.0, i64 %conv.i510650.peel, i32 1) #16
  br label %for.inc253.peelthread-pre-split

if.then178.peel:                                  ; preds = %if.then176.peel
  %112 = load i8*, i8** %value245, align 8, !tbaa !156
  %113 = load i8, i8* %112, align 1, !tbaa !15
  %conv.i506649.peel = zext i8 %113 to i64
  %call.i507.peel = tail call i8* @halide_int64_to_string(i8* %call.i485, i8* %ss.sroa.74.0, i64 %conv.i506649.peel, i32 1) #16
  br label %for.inc253.peelthread-pre-split

if.else199.peel:                                  ; preds = %if.then176.peel
  %114 = load i64*, i64** %98, align 8, !tbaa !156
  %115 = load i64, i64* %114, align 8, !tbaa !115
  %call.i518.peel = tail call i8* @halide_uint64_to_string(i8* %call.i485, i8* %ss.sroa.74.0, i64 %115, i32 1) #16
  br label %for.inc253.peelthread-pre-split

if.then140.peel:                                  ; preds = %if.end136.peel
  switch i32 %print_bits.0, label %if.else163.peel [
    i32 8, label %if.then142.peel
    i32 16, label %if.then150.peel
    i32 32, label %if.then158.peel
  ]

if.then158.peel:                                  ; preds = %if.then140.peel
  %116 = load i32*, i32** %97, align 8, !tbaa !156
  %117 = load i32, i32* %116, align 4, !tbaa !76
  %conv.i499.peel = sext i32 %117 to i64
  %call.i500.peel = tail call i8* @halide_int64_to_string(i8* %call.i485, i8* %ss.sroa.74.0, i64 %conv.i499.peel, i32 1) #16
  br label %for.inc253.peelthread-pre-split

if.then150.peel:                                  ; preds = %if.then140.peel
  %118 = load i16*, i16** %94, align 8, !tbaa !156
  %119 = load i16, i16* %118, align 2, !tbaa !167
  %conv.i495.peel = sext i16 %119 to i64
  %call.i496.peel = tail call i8* @halide_int64_to_string(i8* %call.i485, i8* %ss.sroa.74.0, i64 %conv.i495.peel, i32 1) #16
  br label %for.inc253.peelthread-pre-split

if.then142.peel:                                  ; preds = %if.then140.peel
  %120 = load i8*, i8** %value245, align 8, !tbaa !156
  %121 = load i8, i8* %120, align 1, !tbaa !15
  %conv.i491.peel = sext i8 %121 to i64
  %call.i492.peel = tail call i8* @halide_int64_to_string(i8* %call.i485, i8* %ss.sroa.74.0, i64 %conv.i491.peel, i32 1) #16
  br label %for.inc253.peelthread-pre-split

if.else163.peel:                                  ; preds = %if.then140.peel
  %122 = load i64*, i64** %98, align 8, !tbaa !156
  %123 = load i64, i64* %122, align 8, !tbaa !115
  %call.i503.peel = tail call i8* @halide_int64_to_string(i8* %call.i485, i8* %ss.sroa.74.0, i64 %123, i32 1) #16
  br label %for.inc253.peelthread-pre-split

for.inc253.peelthread-pre-split:                  ; preds = %if.else163.peel, %if.then142.peel, %if.then150.peel, %if.then158.peel, %if.else199.peel, %if.then178.peel, %if.then186.peel, %if.then194.peel, %if.else232.peel, %if.then220.peel, %if.then227.peel, %if.then244.peel
  %ss.sroa.7.7.peel.ph = phi i8* [ %call.i492.peel, %if.then142.peel ], [ %call.i496.peel, %if.then150.peel ], [ %call.i500.peel, %if.then158.peel ], [ %call.i503.peel, %if.else163.peel ], [ %call.i507.peel, %if.then178.peel ], [ %call.i511.peel, %if.then186.peel ], [ %call.i515.peel, %if.then194.peel ], [ %call.i518.peel, %if.else199.peel ], [ %call.i522.peel, %if.then220.peel ], [ %call2.i.peel, %if.then227.peel ], [ %call.i528.peel, %if.else232.peel ], [ %call.i531.peel, %if.then244.peel ]
  %.pr = load i16, i16* %lanes77, align 2, !tbaa !135
  br label %for.inc253.peel

for.inc253.peel:                                  ; preds = %for.inc253.peelthread-pre-split, %if.end136.peel
  %124 = phi i16 [ %.pr, %for.inc253.peelthread-pre-split ], [ %99, %if.end136.peel ]
  %ss.sroa.7.7.peel = phi i8* [ %ss.sroa.7.7.peel.ph, %for.inc253.peelthread-pre-split ], [ %call.i485, %if.end136.peel ]
  %cmp130.peel = icmp ugt i16 %124, 1
  br i1 %cmp130.peel, label %if.end136, label %if.end263

for.cond.cleanup131:                              ; preds = %for.inc253
  %cmp259 = icmp ugt i16 %150, 1
  br i1 %cmp259, label %if.then260, label %if.end263

if.end136:                                        ; preds = %for.inc253.peel, %for.inc253
  %indvars.iv670 = phi i64 [ %indvars.iv.next671, %for.inc253 ], [ 1, %for.inc253.peel ]
  %ss.sroa.7.5661 = phi i8* [ %ss.sroa.7.7, %for.inc253 ], [ %ss.sroa.7.7.peel, %for.inc253.peel ]
  %call.i488 = tail call i8* @halide_string_to_string(i8* %ss.sroa.7.5661, i8* %ss.sroa.74.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.55, i64 0, i64 0)) #16
  %125 = load i8, i8* %code, align 8, !tbaa !166
  switch i8 %125, label %for.inc253 [
    i8 0, label %if.then140
    i8 1, label %if.then176
    i8 2, label %do.body213
    i8 3, label %if.then244
  ]

if.then140:                                       ; preds = %if.end136
  switch i32 %print_bits.0, label %if.else163 [
    i32 8, label %if.then142
    i32 16, label %if.then150
    i32 32, label %if.then158
  ]

if.then142:                                       ; preds = %if.then140
  %126 = load i8*, i8** %value245, align 8, !tbaa !156
  %arrayidx145 = getelementptr inbounds i8, i8* %126, i64 %indvars.iv670
  %127 = load i8, i8* %arrayidx145, align 1, !tbaa !15
  %conv.i491 = sext i8 %127 to i64
  %call.i492 = tail call i8* @halide_int64_to_string(i8* %call.i488, i8* %ss.sroa.74.0, i64 %conv.i491, i32 1) #16
  br label %for.inc253

if.then150:                                       ; preds = %if.then140
  %128 = load i16*, i16** %94, align 8, !tbaa !156
  %arrayidx153 = getelementptr inbounds i16, i16* %128, i64 %indvars.iv670
  %129 = load i16, i16* %arrayidx153, align 2, !tbaa !167
  %conv.i495 = sext i16 %129 to i64
  %call.i496 = tail call i8* @halide_int64_to_string(i8* %call.i488, i8* %ss.sroa.74.0, i64 %conv.i495, i32 1) #16
  br label %for.inc253

if.then158:                                       ; preds = %if.then140
  %130 = load i32*, i32** %97, align 8, !tbaa !156
  %arrayidx161 = getelementptr inbounds i32, i32* %130, i64 %indvars.iv670
  %131 = load i32, i32* %arrayidx161, align 4, !tbaa !76
  %conv.i499 = sext i32 %131 to i64
  %call.i500 = tail call i8* @halide_int64_to_string(i8* %call.i488, i8* %ss.sroa.74.0, i64 %conv.i499, i32 1) #16
  br label %for.inc253

if.else163:                                       ; preds = %if.then140
  %132 = load i64*, i64** %98, align 8, !tbaa !156
  %arrayidx166 = getelementptr inbounds i64, i64* %132, i64 %indvars.iv670
  %133 = load i64, i64* %arrayidx166, align 8, !tbaa !115
  %call.i503 = tail call i8* @halide_int64_to_string(i8* %call.i488, i8* %ss.sroa.74.0, i64 %133, i32 1) #16
  br label %for.inc253

if.then176:                                       ; preds = %if.end136
  switch i32 %print_bits.0, label %if.else199 [
    i32 8, label %if.then178
    i32 16, label %if.then186
    i32 32, label %if.then194
  ]

if.then178:                                       ; preds = %if.then176
  %134 = load i8*, i8** %value245, align 8, !tbaa !156
  %arrayidx181 = getelementptr inbounds i8, i8* %134, i64 %indvars.iv670
  %135 = load i8, i8* %arrayidx181, align 1, !tbaa !15
  %conv.i506649 = zext i8 %135 to i64
  %call.i507 = tail call i8* @halide_int64_to_string(i8* %call.i488, i8* %ss.sroa.74.0, i64 %conv.i506649, i32 1) #16
  br label %for.inc253

if.then186:                                       ; preds = %if.then176
  %136 = load i16*, i16** %94, align 8, !tbaa !156
  %arrayidx189 = getelementptr inbounds i16, i16* %136, i64 %indvars.iv670
  %137 = load i16, i16* %arrayidx189, align 2, !tbaa !167
  %conv.i510650 = zext i16 %137 to i64
  %call.i511 = tail call i8* @halide_int64_to_string(i8* %call.i488, i8* %ss.sroa.74.0, i64 %conv.i510650, i32 1) #16
  br label %for.inc253

if.then194:                                       ; preds = %if.then176
  %138 = load i32*, i32** %97, align 8, !tbaa !156
  %arrayidx197 = getelementptr inbounds i32, i32* %138, i64 %indvars.iv670
  %139 = load i32, i32* %arrayidx197, align 4, !tbaa !76
  %conv.i514 = zext i32 %139 to i64
  %call.i515 = tail call i8* @halide_uint64_to_string(i8* %call.i488, i8* %ss.sroa.74.0, i64 %conv.i514, i32 1) #16
  br label %for.inc253

if.else199:                                       ; preds = %if.then176
  %140 = load i64*, i64** %98, align 8, !tbaa !156
  %arrayidx202 = getelementptr inbounds i64, i64* %140, i64 %indvars.iv670
  %141 = load i64, i64* %arrayidx202, align 8, !tbaa !115
  %call.i518 = tail call i8* @halide_uint64_to_string(i8* %call.i488, i8* %ss.sroa.74.0, i64 %141, i32 1) #16
  br label %for.inc253

do.body213:                                       ; preds = %if.end136
  br i1 %cmp214, label %do.end218, label %if.then215

if.then215:                                       ; preds = %do.body213
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([118 x i8], [118 x i8]* @.str.24, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end218

do.end218:                                        ; preds = %if.then215, %do.body213
  switch i32 %print_bits.0, label %if.else232 [
    i32 32, label %if.then220
    i32 16, label %if.then227
  ]

if.then220:                                       ; preds = %do.end218
  %142 = load float*, float** %95, align 8, !tbaa !156
  %arrayidx223 = getelementptr inbounds float, float* %142, i64 %indvars.iv670
  %143 = load float, float* %arrayidx223, align 4, !tbaa !168
  %conv.i521 = fpext float %143 to double
  %call.i522 = tail call i8* @halide_double_to_string(i8* %call.i488, i8* %ss.sroa.74.0, double %conv.i521, i32 0) #16
  br label %for.inc253

if.then227:                                       ; preds = %do.end218
  %144 = load i16*, i16** %94, align 8, !tbaa !156
  %arrayidx230 = getelementptr inbounds i16, i16* %144, i64 %indvars.iv670
  %145 = load i16, i16* %arrayidx230, align 2, !tbaa !167
  %call.i523 = tail call double @halide_float16_bits_to_double(i16 zeroext %145) #16
  %call2.i = tail call i8* @halide_double_to_string(i8* %call.i488, i8* %ss.sroa.74.0, double %call.i523, i32 1) #16
  br label %for.inc253

if.else232:                                       ; preds = %do.end218
  %146 = load double*, double** %96, align 8, !tbaa !156
  %arrayidx235 = getelementptr inbounds double, double* %146, i64 %indvars.iv670
  %147 = load double, double* %arrayidx235, align 8, !tbaa !170
  %call.i528 = tail call i8* @halide_double_to_string(i8* %call.i488, i8* %ss.sroa.74.0, double %147, i32 1) #16
  br label %for.inc253

if.then244:                                       ; preds = %if.end136
  %148 = load i8**, i8*** %93, align 8, !tbaa !156
  %arrayidx247 = getelementptr inbounds i8*, i8** %148, i64 %indvars.iv670
  %149 = load i8*, i8** %arrayidx247, align 8, !tbaa !11
  %call.i531 = tail call i8* @halide_pointer_to_string(i8* %call.i488, i8* %ss.sroa.74.0, i8* %149) #16
  br label %for.inc253

for.inc253:                                       ; preds = %if.then244, %if.else232, %if.then227, %if.then220, %if.else199, %if.then194, %if.then186, %if.then178, %if.else163, %if.then158, %if.then150, %if.then142, %if.end136
  %ss.sroa.7.7 = phi i8* [ %call.i488, %if.end136 ], [ %call.i531, %if.then244 ], [ %call.i528, %if.else232 ], [ %call2.i, %if.then227 ], [ %call.i522, %if.then220 ], [ %call.i518, %if.else199 ], [ %call.i515, %if.then194 ], [ %call.i511, %if.then186 ], [ %call.i507, %if.then178 ], [ %call.i503, %if.else163 ], [ %call.i500, %if.then158 ], [ %call.i496, %if.then150 ], [ %call.i492, %if.then142 ]
  %indvars.iv.next671 = add nuw nsw i64 %indvars.iv670, 1
  %150 = load i16, i16* %lanes77, align 2, !tbaa !135
  %151 = zext i16 %150 to i64
  %cmp130 = icmp ult i64 %indvars.iv.next671, %151
  br i1 %cmp130, label %if.end136, label %for.cond.cleanup131, !llvm.loop !172

if.then260:                                       ; preds = %for.cond.cleanup131
  %call.i534 = tail call i8* @halide_string_to_string(i8* %ss.sroa.7.7, i8* %ss.sroa.74.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.25, i64 0, i64 0)) #16
  br label %if.end263

if.end263:                                        ; preds = %if.then260, %for.cond.cleanup131, %for.inc253.peel, %if.then115, %for.cond.cleanup
  %ss.sroa.7.8 = phi i8* [ %call.i534, %if.then260 ], [ %ss.sroa.7.7, %for.cond.cleanup131 ], [ %call.i479, %for.cond.cleanup ], [ %ss.sroa.7.7.peel, %for.inc253.peel ], [ %call.i485, %if.then115 ]
  %trace_tag264 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %e, i64 0, i32 3
  %152 = load i8*, i8** %trace_tag264, align 8, !tbaa !144
  %tobool265.not = icmp eq i8* %152, null
  br i1 %tobool265.not, label %if.end274, label %land.lhs.true266

land.lhs.true266:                                 ; preds = %if.end263
  %153 = load i8, i8* %152, align 1, !tbaa !15
  %tobool268.not = icmp eq i8 %153, 0
  br i1 %tobool268.not, label %if.end274, label %if.then269

if.then269:                                       ; preds = %land.lhs.true266
  %call.i537 = tail call i8* @halide_string_to_string(i8* %ss.sroa.7.8, i8* %ss.sroa.74.0, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @.str.26, i64 0, i64 0)) #16
  %154 = load i8*, i8** %trace_tag264, align 8, !tbaa !144
  %call.i540 = tail call i8* @halide_string_to_string(i8* %call.i537, i8* %ss.sroa.74.0, i8* %154) #16
  %call.i543 = tail call i8* @halide_string_to_string(i8* %call.i540, i8* %ss.sroa.74.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.27, i64 0, i64 0)) #16
  br label %if.end274

if.end274:                                        ; preds = %if.then269, %land.lhs.true266, %if.end263
  %ss.sroa.7.9 = phi i8* [ %ss.sroa.7.8, %if.end263 ], [ %ss.sroa.7.8, %land.lhs.true266 ], [ %call.i543, %if.then269 ]
  %call.i546 = tail call i8* @halide_string_to_string(i8* %ss.sroa.7.9, i8* %ss.sroa.74.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br label %while.cond.i414

while.cond.i414:                                  ; preds = %while.cond.i414, %if.end274
  %155 = atomicrmw volatile xchg i8* @_ZN6Halide7Runtime8Internal22halide_trace_file_lockE, i8 1 acquire, align 1
  %tobool.not.i413 = icmp eq i8 %155, 0
  br i1 %tobool.not.i413, label %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit, label %while.cond.i414, !llvm.loop !173

_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit: ; preds = %while.cond.i414
  br i1 %tobool.not.i436, label %if.then.i558, label %if.else.i564

if.then.i558:                                     ; preds = %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0)) #16
  store atomic volatile i8 0, i8* @_ZN6Halide7Runtime8Internal22halide_trace_file_lockE release, align 1
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy4096EED2Ev.exit

if.else.i564:                                     ; preds = %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %sub.ptr.lhs.cast.i.i549 = ptrtoint i8* %call.i546 to i64
  %sub.ptr.rhs.cast.i.i550 = ptrtoint i8* %call.i433 to i64
  %sub.ptr.sub.i.i551 = sub i64 1, %sub.ptr.rhs.cast.i.i550
  %add.i.i552 = add i64 %sub.ptr.sub.i.i551, %sub.ptr.lhs.cast.i.i549
  %call.i.i553 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i433, i64 %add.i.i552) #16
  tail call void @halide_print(i8* %user_context, i8* nonnull %call.i433) #16
  store atomic volatile i8 0, i8* @_ZN6Halide7Runtime8Internal22halide_trace_file_lockE release, align 1
  %call.i.i563 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i433, i64 %add.i.i552) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy4096EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy4096EED2Ev.exit: ; preds = %if.else.i564, %if.then.i558
  tail call void @free(i8* %call.i433) #16
  br label %if.end277

if.end277:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy4096EED2Ev.exit, %do.end.critedge.i, %if.then10.i, %if.then.i, %_ZN21halide_trace_packet_t9trace_tagEv.exit
  ret i32 %0
}

; Function Attrs: nounwind
define weak i32 @halide_get_trace_file(i8* %user_context) local_unnamed_addr #3 {
entry:
  br label %while.cond.i

while.cond.i:                                     ; preds = %while.cond.i, %entry
  %0 = atomicrmw volatile xchg i8* @_ZN6Halide7Runtime8Internal22halide_trace_file_lockE, i8 1 acquire, align 1
  %tobool.not.i = icmp eq i8 %0, 0
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit, label %while.cond.i, !llvm.loop !173

_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit: ; preds = %while.cond.i
  %1 = load i32, i32* @_ZN6Halide7Runtime8Internal17halide_trace_fileE, align 4, !tbaa !76
  %cmp = icmp slt i32 %1, 0
  br i1 %cmp, label %if.then, label %if.end11

if.then:                                          ; preds = %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %call = tail call i8* @getenv(i8* getelementptr inbounds ([14 x i8], [14 x i8]* @.str.28, i64 0, i64 0)) #16
  %tobool.not = icmp eq i8* %call, null
  br i1 %tobool.not, label %if.else, label %if.then1

if.then1:                                         ; preds = %if.then
  %call2 = tail call i8* @fopen(i8* nonnull %call, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.29, i64 0, i64 0)) #16
  %tobool3.not = icmp eq i8* %call2, null
  br i1 %tobool3.not, label %if.then4, label %do.end

if.then4:                                         ; preds = %if.then1
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([115 x i8], [115 x i8]* @.str.30, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then4, %if.then1
  %call5 = tail call i32 @fileno(i8* %call2) #16
  tail call void @halide_set_trace_file(i32 %call5) #17
  store i8* %call2, i8** @_ZN6Halide7Runtime8Internal35halide_trace_file_internally_openedE, align 8, !tbaa !11
  %2 = load %"class.Halide::Runtime::Internal::TraceBuffer"*, %"class.Halide::Runtime::Internal::TraceBuffer"** @_ZN6Halide7Runtime8Internal19halide_trace_bufferE, align 8, !tbaa !11
  %tobool6.not = icmp eq %"class.Halide::Runtime::Internal::TraceBuffer"* %2, null
  br i1 %tobool6.not, label %if.then7, label %if.end11

if.then7:                                         ; preds = %do.end
  %call8 = tail call i8* @malloc(i64 1048588) #16
  store i8* %call8, i8** bitcast (%"class.Halide::Runtime::Internal::TraceBuffer"** @_ZN6Halide7Runtime8Internal19halide_trace_bufferE to i8**), align 8, !tbaa !11
  %cursor.i = getelementptr inbounds i8, i8* %call8, i64 4
  %3 = bitcast i8* %cursor.i to i32*
  store i32 0, i32* %3, align 4, !tbaa !148
  %overage.i = getelementptr inbounds i8, i8* %call8, i64 8
  %4 = bitcast i8* %overage.i to i32*
  store i32 0, i32* %4, align 4, !tbaa !150
  %lock.i.i = bitcast i8* %call8 to i32*
  store volatile i32 0, i32* %lock.i.i, align 4, !tbaa !145
  br label %if.end11

if.else:                                          ; preds = %if.then
  tail call void @halide_set_trace_file(i32 0) #17
  br label %if.end11

if.end11:                                         ; preds = %if.else, %if.then7, %do.end, %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %5 = load i32, i32* @_ZN6Halide7Runtime8Internal17halide_trace_fileE, align 4, !tbaa !76
  store atomic volatile i8 0, i8* @_ZN6Halide7Runtime8Internal22halide_trace_file_lockE release, align 1
  ret i32 %5
}

declare i8* @memcpy(i8*, i8*, i64) local_unnamed_addr #1

declare i8* @fopen(i8*, i8*) local_unnamed_addr #1

declare i32 @fileno(i8*) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak void @halide_set_trace_file(i32 %fd) local_unnamed_addr #0 {
entry:
  store i32 %fd, i32* @_ZN6Halide7Runtime8Internal17halide_trace_fileE, align 4, !tbaa !76
  ret void
}

; Function Attrs: mustprogress nounwind
define weak void @halide_trace_cleanup() #0 {
entry:
  %call = tail call i32 @halide_shutdown_trace() #17
  ret void
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_shutdown_trace() local_unnamed_addr #0 {
entry:
  %0 = load i8*, i8** @_ZN6Halide7Runtime8Internal35halide_trace_file_internally_openedE, align 8, !tbaa !11
  %tobool.not = icmp eq i8* %0, null
  br i1 %tobool.not, label %return, label %if.then

if.then:                                          ; preds = %entry
  %call = tail call i32 @fclose(i8* nonnull %0) #16
  store i32 0, i32* @_ZN6Halide7Runtime8Internal17halide_trace_fileE, align 4, !tbaa !76
  store i8 0, i8* @_ZN6Halide7Runtime8Internal29halide_trace_file_initializedE, align 1, !tbaa !16
  store i8* null, i8** @_ZN6Halide7Runtime8Internal35halide_trace_file_internally_openedE, align 8, !tbaa !11
  %1 = load %"class.Halide::Runtime::Internal::TraceBuffer"*, %"class.Halide::Runtime::Internal::TraceBuffer"** @_ZN6Halide7Runtime8Internal19halide_trace_bufferE, align 8, !tbaa !11
  %tobool1.not = icmp eq %"class.Halide::Runtime::Internal::TraceBuffer"* %1, null
  br i1 %tobool1.not, label %return, label %if.then2

if.then2:                                         ; preds = %if.then
  %2 = bitcast %"class.Halide::Runtime::Internal::TraceBuffer"* %1 to i8*
  tail call void @free(i8* nonnull %2) #16
  br label %return

return:                                           ; preds = %if.then2, %if.then, %entry
  %retval.0 = phi i32 [ %call, %if.then2 ], [ %call, %if.then ], [ 0, %entry ]
  ret i32 %retval.0
}

declare i32 @fclose(i8*) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak i32 (i8*, %struct.halide_trace_event_t*)* @halide_set_custom_trace(i32 (i8*, %struct.halide_trace_event_t*)* %t) local_unnamed_addr #0 {
entry:
  %0 = load i32 (i8*, %struct.halide_trace_event_t*)*, i32 (i8*, %struct.halide_trace_event_t*)** @_ZN6Halide7Runtime8Internal19halide_custom_traceE, align 8, !tbaa !11
  store i32 (i8*, %struct.halide_trace_event_t*)* %t, i32 (i8*, %struct.halide_trace_event_t*)** @_ZN6Halide7Runtime8Internal19halide_custom_traceE, align 8, !tbaa !11
  ret i32 (i8*, %struct.halide_trace_event_t*)* %0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_trace(i8* %user_context, %struct.halide_trace_event_t* %e) local_unnamed_addr #0 {
entry:
  %0 = load i32 (i8*, %struct.halide_trace_event_t*)*, i32 (i8*, %struct.halide_trace_event_t*)** @_ZN6Halide7Runtime8Internal19halide_custom_traceE, align 8, !tbaa !11
  %call = tail call i32 %0(i8* %user_context, %struct.halide_trace_event_t* %e) #16
  ret i32 %call
}

; Function Attrs: nounwind
define weak i32 @halide_trace_helper(i8* %user_context, i8* %func, i8* %value, i32* %coords, i32 %type_code, i32 %type_bits, i32 %type_lanes, i32 %code, i32 %parent_id, i32 %value_index, i32 %dimensions, i8* %trace_tag) local_unnamed_addr #3 {
entry:
  %event = alloca %struct.halide_trace_event_t, align 8
  %0 = bitcast %struct.halide_trace_event_t* %event to i8*
  call void @llvm.lifetime.start.p0i8(i64 56, i8* nonnull %0) #11
  %code.i.i = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %event, i64 0, i32 4, i32 0
  %bits.i.i = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %event, i64 0, i32 4, i32 1
  %lanes.i.i = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %event, i64 0, i32 4, i32 2
  %func1 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %event, i64 0, i32 0
  store i8* %func, i8** %func1, align 8, !tbaa !143
  %value2 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %event, i64 0, i32 1
  store i8* %value, i8** %value2, align 8, !tbaa !156
  %coordinates = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %event, i64 0, i32 2
  store i32* %coords, i32** %coordinates, align 8, !tbaa !155
  %trace_tag3 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %event, i64 0, i32 3
  store i8* %trace_tag, i8** %trace_tag3, align 8, !tbaa !144
  %conv = trunc i32 %type_code to i8
  store i8 %conv, i8* %code.i.i, align 8, !tbaa !166
  %conv5 = trunc i32 %type_bits to i8
  store i8 %conv5, i8* %bits.i.i, align 1, !tbaa !161
  %conv7 = trunc i32 %type_lanes to i16
  store i16 %conv7, i16* %lanes.i.i, align 2, !tbaa !135
  %event9 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %event, i64 0, i32 5
  store i32 %code, i32* %event9, align 4, !tbaa !160
  %parent_id10 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %event, i64 0, i32 6
  store i32 %parent_id, i32* %parent_id10, align 8, !tbaa !174
  %value_index11 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %event, i64 0, i32 7
  store i32 %value_index, i32* %value_index11, align 4, !tbaa !163
  %dimensions12 = getelementptr inbounds %struct.halide_trace_event_t, %struct.halide_trace_event_t* %event, i64 0, i32 8
  store i32 %dimensions, i32* %dimensions12, align 8, !tbaa !142
  %call = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %0, i64 56) #16
  %add = add nsw i32 %type_bits, 7
  %div = sdiv i32 %add, 8
  %mul = mul nsw i32 %div, %type_lanes
  %conv13 = sext i32 %mul to i64
  %call14 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* %value, i64 %conv13) #16
  %1 = bitcast i32* %coords to i8*
  %conv15 = sext i32 %dimensions to i64
  %mul16 = shl nsw i64 %conv15, 2
  %call17 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* %1, i64 %mul16) #16
  %call18 = call i32 @halide_trace(i8* %user_context, %struct.halide_trace_event_t* nonnull %event) #16
  call void @llvm.lifetime.end.p0i8(i64 56, i8* nonnull %0) #11
  ret i32 %call18
}

; Function Attrs: mustprogress nounwind
define linkonce zeroext i1 @_ZN6Halide7Runtime8Internal9ends_withEPKcS3_(i8* %filename, i8* %suffix) local_unnamed_addr #0 {
entry:
  br label %while.cond

while.cond:                                       ; preds = %while.cond, %entry
  %f.0 = phi i8* [ %filename, %entry ], [ %incdec.ptr, %while.cond ]
  %0 = load i8, i8* %f.0, align 1, !tbaa !15
  %tobool.not = icmp eq i8 %0, 0
  %incdec.ptr = getelementptr inbounds i8, i8* %f.0, i64 1
  br i1 %tobool.not, label %while.cond1, label %while.cond, !llvm.loop !175

while.cond1:                                      ; preds = %while.cond, %while.cond1
  %s.0 = phi i8* [ %incdec.ptr4, %while.cond1 ], [ %suffix, %while.cond ]
  %1 = load i8, i8* %s.0, align 1, !tbaa !15
  %tobool2.not = icmp eq i8 %1, 0
  %incdec.ptr4 = getelementptr inbounds i8, i8* %s.0, i64 1
  br i1 %tobool2.not, label %while.cond6.preheader, label %while.cond1, !llvm.loop !176

while.cond6.preheader:                            ; preds = %while.cond1
  %cmp34 = icmp ne i8* %s.0, %suffix
  %cmp735 = icmp ne i8* %f.0, %filename
  %2 = select i1 %cmp34, i1 %cmp735, i1 false
  br i1 %2, label %if.end, label %while.end13

if.end:                                           ; preds = %while.cond6.preheader, %if.end.while.body8_crit_edge
  %f.13643 = phi i8* [ %incdec.ptr11, %if.end.while.body8_crit_edge ], [ %f.0, %while.cond6.preheader ]
  %s.13742 = phi i8* [ %incdec.ptr12, %if.end.while.body8_crit_edge ], [ %s.0, %while.cond6.preheader ]
  %incdec.ptr11 = getelementptr inbounds i8, i8* %f.13643, i64 -1
  %incdec.ptr12 = getelementptr inbounds i8, i8* %s.13742, i64 -1
  %cmp = icmp ne i8* %incdec.ptr12, %suffix
  %cmp7 = icmp ne i8* %incdec.ptr11, %filename
  %3 = select i1 %cmp, i1 %cmp7, i1 false
  %.pre = load i8, i8* %incdec.ptr11, align 1, !tbaa !15
  %.pre39 = load i8, i8* %incdec.ptr12, align 1, !tbaa !15
  br i1 %3, label %if.end.while.body8_crit_edge, label %while.end13, !llvm.loop !177

if.end.while.body8_crit_edge:                     ; preds = %if.end
  %cmp10.not = icmp eq i8 %.pre, %.pre39
  br i1 %cmp10.not, label %if.end, label %cleanup

while.end13:                                      ; preds = %if.end, %while.cond6.preheader
  %4 = phi i8 [ 0, %while.cond6.preheader ], [ %.pre39, %if.end ]
  %5 = phi i8 [ 0, %while.cond6.preheader ], [ %.pre, %if.end ]
  %cmp16 = icmp eq i8 %5, %4
  br label %cleanup

cleanup:                                          ; preds = %if.end.while.body8_crit_edge, %while.end13
  %retval.0 = phi i1 [ %cmp16, %while.end13 ], [ false, %if.end.while.body8_crit_edge ]
  ret i1 %retval.0
}

; Function Attrs: nounwind
define weak i32 @halide_debug_to_file(i8* %user_context, i8* %filename, i32 %type_code, %struct.halide_buffer_t* %buf) local_unnamed_addr #3 {
entry:
  %filename884 = ptrtoint i8* %filename to i64
  %shape = alloca [4 x %struct.halide_dimension_t], align 4
  %header = alloca %"struct.Halide::Runtime::Internal::halide_tiff_header", align 2
  %offset = alloca i32, align 4
  %count = alloca i32, align 4
  %array_name = alloca [256 x i8], align 1
  %array_name49 = getelementptr inbounds [256 x i8], [256 x i8]* %array_name, i64 0, i64 0
  %array_name886 = ptrtoint [256 x i8]* %array_name to i64
  %header198 = alloca [129 x i8], align 1
  %tags = alloca [8 x i32], align 4
  %extents = alloca [4 x i32], align 4
  %name_header = alloca [2 x i32], align 4
  %payload_header = alloca [2 x i32], align 4
  %header289 = alloca [5 x i32], align 4
  %temp = alloca [4096 x i8], align 1
  %idx = alloca [4 x i32], align 4
  %zero = alloca i64, align 8
  %host.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 2
  %0 = load i8*, i8** %host.i, align 8, !tbaa !178
  %cmp.i = icmp eq i8* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8
  %cmp2.i = icmp eq i64 %1, 0
  %2 = select i1 %cmp.i, i1 %cmp2.i, i1 false
  br i1 %2, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([51 x i8], [51 x i8]* @.str.34, i64 0, i64 0)) #16
  br label %return

if.end:                                           ; preds = %entry
  %dimensions = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 5
  %3 = load i32, i32* %dimensions, align 4, !tbaa !180
  %cmp = icmp sgt i32 %3, 4
  br i1 %cmp, label %if.then1, label %if.end2

if.then1:                                         ; preds = %if.end
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([59 x i8], [59 x i8]* @.str.1.35, i64 0, i64 0)) #16
  br label %return

if.end2:                                          ; preds = %if.end
  %call3 = tail call i32 @halide_copy_to_host(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #16
  %cmp4.not = icmp eq i32 %call3, 0
  br i1 %cmp4.not, label %if.end6, label %return

if.end6:                                          ; preds = %if.end2
  %call.i = tail call i8* @fopen(i8* %filename, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.2.36, i64 0, i64 0)) #16
  %cmp.i599.not = icmp eq i8* %call.i, null
  br i1 %cmp.i599.not, label %return, label %if.end9

if.end9:                                          ; preds = %if.end6
  %4 = bitcast [4 x %struct.halide_dimension_t]* %shape to i8*
  call void @llvm.lifetime.start.p0i8(i64 64, i8* nonnull %4) #11
  %min.i = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 0, i32 0
  %extent.i = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 0, i32 1
  %min.i.1 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 1, i32 0
  %extent.i.1 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 1, i32 1
  %5 = bitcast [4 x %struct.halide_dimension_t]* %shape to <8 x i32>*
  store <8 x i32> zeroinitializer, <8 x i32>* %5, align 4, !tbaa !76
  %min.i.2 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 2, i32 0
  %extent.i.2 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 2, i32 1
  %min.i.3 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 3, i32 0
  %extent.i.3 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 3, i32 1
  %6 = bitcast i32* %min.i.2 to <8 x i32>*
  store <8 x i32> zeroinitializer, <8 x i32>* %6, align 4, !tbaa !76
  %7 = load i32, i32* %dimensions, align 4, !tbaa !180
  %cmp11833 = icmp sgt i32 %7, 0
  br i1 %cmp11833, label %for.body.lr.ph, label %for.body22.preheader

for.body.lr.ph:                                   ; preds = %if.end9
  %dim = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 6
  %8 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim, align 8, !tbaa !181
  %9 = add nsw i32 %7, -1
  %umin = call i32 @llvm.umin.i32(i32 %9, i32 3)
  %10 = add nuw nsw i32 %umin, 1
  %11 = bitcast [4 x %struct.halide_dimension_t]* %shape to i8*
  %12 = bitcast %struct.halide_dimension_t* %8 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %11, i8* noundef nonnull align 4 dereferenceable(16) %12, i64 16, i1 false), !tbaa.struct !182
  %extent = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 0, i32 1
  %13 = load i32, i32* %extent, align 4, !tbaa !183
  %conv904 = zext i32 %13 to i64
  %exitcond.not = icmp eq i32 %umin, 0
  br i1 %exitcond.not, label %for.cond19.preheader, label %for.body.1, !llvm.loop !185

for.cond19.preheader:                             ; preds = %for.body.3, %for.body.2, %for.body.1, %for.body.lr.ph
  %mul.lcssa = phi i64 [ %conv904, %for.body.lr.ph ], [ %mul.1, %for.body.1 ], [ %mul.2, %for.body.2 ], [ %mul.3, %for.body.3 ]
  %cmp20837 = icmp slt i32 %7, 4
  br i1 %cmp20837, label %for.body22.preheader, label %for.cond.cleanup21

for.body22.preheader:                             ; preds = %for.cond19.preheader, %if.end9
  %elts.0.lcssa908 = phi i64 [ %mul.lcssa, %for.cond19.preheader ], [ 1, %if.end9 ]
  %14 = sext i32 %7 to i64
  %15 = sub i32 0, %7
  %16 = sub i32 3, %7
  %xtraiter = and i32 %15, 3
  %lcmp.mod.not = icmp eq i32 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.body22.prol.loopexit, label %for.body22.prol

for.body22.prol:                                  ; preds = %for.body22.preheader, %for.body22.prol
  %indvars.iv881.prol = phi i64 [ %indvars.iv.next882.prol, %for.body22.prol ], [ %14, %for.body22.preheader ]
  %prol.iter = phi i32 [ %prol.iter.sub, %for.body22.prol ], [ %xtraiter, %for.body22.preheader ]
  %min.prol = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv881.prol, i32 0
  store i32 0, i32* %min.prol, align 4, !tbaa !186
  %extent27.prol = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv881.prol, i32 1
  store i32 1, i32* %extent27.prol, align 4, !tbaa !183
  %stride.prol = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv881.prol, i32 2
  store i32 0, i32* %stride.prol, align 4, !tbaa !187
  %indvars.iv.next882.prol = add nsw i64 %indvars.iv881.prol, 1
  %prol.iter.sub = add i32 %prol.iter, -1
  %prol.iter.cmp.not = icmp eq i32 %prol.iter.sub, 0
  br i1 %prol.iter.cmp.not, label %for.body22.prol.loopexit, label %for.body22.prol, !llvm.loop !188

for.body22.prol.loopexit:                         ; preds = %for.body22.prol, %for.body22.preheader
  %indvars.iv881.unr = phi i64 [ %14, %for.body22.preheader ], [ %indvars.iv.next882.prol, %for.body22.prol ]
  %17 = icmp ult i32 %16, 3
  br i1 %17, label %for.cond.cleanup21, label %for.body22

for.cond.cleanup21:                               ; preds = %for.body22.prol.loopexit, %for.body22, %for.cond19.preheader
  %elts.0.lcssa907 = phi i64 [ %mul.lcssa, %for.cond19.preheader ], [ %elts.0.lcssa908, %for.body22 ], [ %elts.0.lcssa908, %for.body22.prol.loopexit ]
  %bits.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 4, i32 1
  %18 = load i8, i8* %bits.i, align 1, !tbaa !141
  %conv.i = zext i8 %18 to i32
  %add.i = add nuw nsw i32 %conv.i, 7
  %div.i = lshr i32 %add.i, 3
  %call34 = call zeroext i1 @_ZN6Halide7Runtime8Internal9ends_withEPKcS3_(i8* %filename, i8* getelementptr inbounds ([6 x i8], [6 x i8]* @.str.3.37, i64 0, i64 0)) #17
  br i1 %call34, label %if.then36, label %lor.lhs.false

for.body22:                                       ; preds = %for.body22.prol.loopexit, %for.body22
  %indvars.iv881 = phi i64 [ %indvars.iv.next882.3, %for.body22 ], [ %indvars.iv881.unr, %for.body22.prol.loopexit ]
  %min = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv881, i32 0
  store i32 0, i32* %min, align 4, !tbaa !186
  %extent27 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv881, i32 1
  store i32 1, i32* %extent27, align 4, !tbaa !183
  %stride = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv881, i32 2
  store i32 0, i32* %stride, align 4, !tbaa !187
  %indvars.iv.next882 = add nsw i64 %indvars.iv881, 1
  %min.1 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv.next882, i32 0
  store i32 0, i32* %min.1, align 4, !tbaa !186
  %extent27.1 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv.next882, i32 1
  store i32 1, i32* %extent27.1, align 4, !tbaa !183
  %stride.1 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv.next882, i32 2
  store i32 0, i32* %stride.1, align 4, !tbaa !187
  %indvars.iv.next882.1 = add nsw i64 %indvars.iv881, 2
  %min.2 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv.next882.1, i32 0
  store i32 0, i32* %min.2, align 4, !tbaa !186
  %extent27.2 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv.next882.1, i32 1
  store i32 1, i32* %extent27.2, align 4, !tbaa !183
  %stride.2 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv.next882.1, i32 2
  store i32 0, i32* %stride.2, align 4, !tbaa !187
  %indvars.iv.next882.2 = add nsw i64 %indvars.iv881, 3
  %min.3 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv.next882.2, i32 0
  store i32 0, i32* %min.3, align 4, !tbaa !186
  %extent27.3 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv.next882.2, i32 1
  store i32 1, i32* %extent27.3, align 4, !tbaa !183
  %stride.3 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 %indvars.iv.next882.2, i32 2
  store i32 0, i32* %stride.3, align 4, !tbaa !187
  %indvars.iv.next882.3 = add nsw i64 %indvars.iv881, 4
  %lftr.wideiv.3 = trunc i64 %indvars.iv.next882.3 to i32
  %exitcond883.not.3 = icmp eq i32 %lftr.wideiv.3, 4
  br i1 %exitcond883.not.3, label %for.cond.cleanup21, label %for.body22, !llvm.loop !190

lor.lhs.false:                                    ; preds = %for.cond.cleanup21
  %call35 = call zeroext i1 @_ZN6Halide7Runtime8Internal9ends_withEPKcS3_(i8* %filename, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.4.38, i64 0, i64 0)) #17
  br i1 %call35, label %if.then36, label %if.else164

if.then36:                                        ; preds = %lor.lhs.false, %for.cond.cleanup21
  %19 = load i32, i32* %extent.i, align 4, !tbaa !183
  %20 = load i32, i32* %extent.i.1, align 4, !tbaa !183
  %21 = load i32, i32* %extent.i.3, align 4, !tbaa !183
  %switch = icmp ult i32 %21, 2
  %22 = load i32, i32* %extent.i.2, align 4, !tbaa !183
  %cmp50 = icmp slt i32 %22, 5
  %or.cond = select i1 %switch, i1 %cmp50, i1 false
  %depth.0 = select i1 %or.cond, i32 1, i32 %22
  %channels.0 = select i1 %or.cond, i32 %22, i32 %21
  %23 = bitcast %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header to i8*
  call void @llvm.lifetime.start.p0i8(i64 210, i8* nonnull %23) #11
  %byte_order_marker = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 0
  store i16 18761, i16* %byte_order_marker, align 2, !tbaa !191
  %version = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 1
  store i16 42, i16* %version, align 2, !tbaa !193
  %ifd0_offset = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 2
  store i32 8, i32* %ifd0_offset, align 2, !tbaa !194
  %entry_count = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 3
  store i16 15, i16* %entry_count, align 2, !tbaa !195
  %tag_code2.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 0, i32 0
  store i16 256, i16* %tag_code2.i, align 2, !tbaa !196
  %type_code.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 0, i32 1
  store i16 4, i16* %type_code.i, align 2, !tbaa !198
  %count3.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 0, i32 2
  store i32 1, i32* %count3.i, align 2, !tbaa !199
  %i32.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 0, i32 3, i32 0
  store i32 %19, i32* %i32.i, align 2, !tbaa !15
  %tag_code2.i600 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 1, i32 0
  store i16 257, i16* %tag_code2.i600, align 2, !tbaa !196
  %type_code.i601 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 1, i32 1
  store i16 4, i16* %type_code.i601, align 2, !tbaa !198
  %count3.i602 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 1, i32 2
  store i32 1, i32* %count3.i602, align 2, !tbaa !199
  %i32.i603 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 1, i32 3, i32 0
  store i32 %20, i32* %i32.i603, align 2, !tbaa !15
  %24 = trunc i32 %add.i to i16
  %conv68 = and i16 %24, 504
  %tag_code2.i604 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 2, i32 0
  store i16 258, i16* %tag_code2.i604, align 2, !tbaa !196
  %type_code.i605 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 2, i32 1
  store i16 3, i16* %type_code.i605, align 2, !tbaa !198
  %count3.i606 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 2, i32 2
  store i32 1, i32* %count3.i606, align 2, !tbaa !199
  %value4.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 2, i32 3
  %i16.i = bitcast %"class.Halide::Runtime::Internal::SharedExclusiveSpinLock"* %value4.i to i16*
  store i16 %conv68, i16* %i16.i, align 2, !tbaa !15
  %tag_code2.i607 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 3, i32 0
  store i16 259, i16* %tag_code2.i607, align 2, !tbaa !196
  %type_code.i608 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 3, i32 1
  store i16 3, i16* %type_code.i608, align 2, !tbaa !198
  %count3.i609 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 3, i32 2
  store i32 1, i32* %count3.i609, align 2, !tbaa !199
  %value4.i610 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 3, i32 3
  %i16.i611 = bitcast %"class.Halide::Runtime::Internal::SharedExclusiveSpinLock"* %value4.i610 to i16*
  store i16 1, i16* %i16.i611, align 2, !tbaa !15
  %cmp71 = icmp sgt i32 %channels.0, 2
  %conv72 = select i1 %cmp71, i16 2, i16 1
  %tag_code2.i612 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 4, i32 0
  store i16 262, i16* %tag_code2.i612, align 2, !tbaa !196
  %type_code.i613 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 4, i32 1
  store i16 3, i16* %type_code.i613, align 2, !tbaa !198
  %count3.i614 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 4, i32 2
  store i32 1, i32* %count3.i614, align 2, !tbaa !199
  %value4.i615 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 4, i32 3
  %i16.i616 = bitcast %"class.Halide::Runtime::Internal::SharedExclusiveSpinLock"* %value4.i615 to i16*
  store i16 %conv72, i16* %i16.i616, align 2, !tbaa !15
  %tag_code2.i617 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 5, i32 0
  store i16 273, i16* %tag_code2.i617, align 2, !tbaa !196
  %type_code.i618 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 5, i32 1
  store i16 4, i16* %type_code.i618, align 2, !tbaa !198
  %count3.i619 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 5, i32 2
  store i32 %channels.0, i32* %count3.i619, align 2, !tbaa !199
  %i32.i620 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 5, i32 3, i32 0
  store i32 210, i32* %i32.i620, align 2, !tbaa !15
  %conv75 = trunc i32 %channels.0 to i16
  %tag_code2.i621 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 6, i32 0
  store i16 277, i16* %tag_code2.i621, align 2, !tbaa !196
  %type_code.i622 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 6, i32 1
  store i16 3, i16* %type_code.i622, align 2, !tbaa !198
  %count3.i623 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 6, i32 2
  store i32 1, i32* %count3.i623, align 2, !tbaa !199
  %value4.i624 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 6, i32 3
  %i16.i625 = bitcast %"class.Halide::Runtime::Internal::SharedExclusiveSpinLock"* %value4.i624 to i16*
  store i16 %conv75, i16* %i16.i625, align 2, !tbaa !15
  %tag_code2.i626 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 7, i32 0
  store i16 278, i16* %tag_code2.i626, align 2, !tbaa !196
  %type_code.i627 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 7, i32 1
  store i16 4, i16* %type_code.i627, align 2, !tbaa !198
  %count3.i628 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 7, i32 2
  store i32 1, i32* %count3.i628, align 2, !tbaa !199
  %i32.i629 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 7, i32 3, i32 0
  store i32 %20, i32* %i32.i629, align 2, !tbaa !15
  %cmp80 = icmp eq i32 %channels.0, 1
  %25 = trunc i64 %elts.0.lcssa907 to i32
  %conv86595 = mul i32 %div.i, %25
  %mul84 = shl i32 %channels.0, 2
  %add = add i32 %mul84, 210
  %add.sink = select i1 %cmp80, i32 %conv86595, i32 %add
  %26 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 8, i32 0
  store i16 279, i16* %26, align 2
  %27 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 8, i32 1
  store i16 4, i16* %27, align 2
  %28 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 8, i32 2
  store i32 %channels.0, i32* %28, align 2
  %29 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 8, i32 3, i32 0
  store i32 %add.sink, i32* %29, align 2
  %tag_code2.i638 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 9, i32 0
  store i16 282, i16* %tag_code2.i638, align 2, !tbaa !196
  %type_code3.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 9, i32 1
  store i16 5, i16* %type_code3.i, align 2, !tbaa !198
  %count4.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 9, i32 2
  store i32 1, i32* %count4.i, align 2, !tbaa !199
  %i32.i639 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 9, i32 3, i32 0
  store i32 194, i32* %i32.i639, align 2, !tbaa !15
  %tag_code2.i640 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 10, i32 0
  store i16 283, i16* %tag_code2.i640, align 2, !tbaa !196
  %type_code3.i641 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 10, i32 1
  store i16 5, i16* %type_code3.i641, align 2, !tbaa !198
  %count4.i642 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 10, i32 2
  store i32 1, i32* %count4.i642, align 2, !tbaa !199
  %i32.i643 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 10, i32 3, i32 0
  store i32 202, i32* %i32.i643, align 2, !tbaa !15
  %tag_code2.i644 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 11, i32 0
  store i16 284, i16* %tag_code2.i644, align 2, !tbaa !196
  %type_code.i645 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 11, i32 1
  store i16 3, i16* %type_code.i645, align 2, !tbaa !198
  %count3.i646 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 11, i32 2
  store i32 1, i32* %count3.i646, align 2, !tbaa !199
  %value4.i647 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 11, i32 3
  %i16.i648 = bitcast %"class.Halide::Runtime::Internal::SharedExclusiveSpinLock"* %value4.i647 to i16*
  store i16 2, i16* %i16.i648, align 2, !tbaa !15
  %tag_code2.i649 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 12, i32 0
  store i16 296, i16* %tag_code2.i649, align 2, !tbaa !196
  %type_code.i650 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 12, i32 1
  store i16 3, i16* %type_code.i650, align 2, !tbaa !198
  %count3.i651 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 12, i32 2
  store i32 1, i32* %count3.i651, align 2, !tbaa !199
  %value4.i652 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 12, i32 3
  %i16.i653 = bitcast %"class.Halide::Runtime::Internal::SharedExclusiveSpinLock"* %value4.i652 to i16*
  store i16 1, i16* %i16.i653, align 2, !tbaa !15
  %idxprom92 = sext i32 %type_code to i64
  %arrayidx93 = getelementptr inbounds [10 x i16], [10 x i16]* @_ZN6Halide7Runtime8Internal30pixel_type_to_tiff_sample_typeE, i64 0, i64 %idxprom92
  %30 = load i16, i16* %arrayidx93, align 2, !tbaa !167
  %tag_code2.i654 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 13, i32 0
  store i16 339, i16* %tag_code2.i654, align 2, !tbaa !196
  %type_code.i655 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 13, i32 1
  store i16 3, i16* %type_code.i655, align 2, !tbaa !198
  %count3.i656 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 13, i32 2
  store i32 1, i32* %count3.i656, align 2, !tbaa !199
  %value4.i657 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 13, i32 3
  %i16.i658 = bitcast %"class.Halide::Runtime::Internal::SharedExclusiveSpinLock"* %value4.i657 to i16*
  store i16 %30, i16* %i16.i658, align 2, !tbaa !15
  %tag_code2.i659 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 14, i32 0
  store i16 -32539, i16* %tag_code2.i659, align 2, !tbaa !196
  %type_code.i660 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 14, i32 1
  store i16 4, i16* %type_code.i660, align 2, !tbaa !198
  %count3.i661 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 14, i32 2
  store i32 1, i32* %count3.i661, align 2, !tbaa !199
  %i32.i662 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 4, i64 14, i32 3, i32 0
  store i32 %depth.0, i32* %i32.i662, align 2, !tbaa !15
  %ifd0_end = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 5
  %31 = bitcast i32* %ifd0_end to <4 x i32>*
  store <4 x i32> <i32 0, i32 1, i32 1, i32 1>, <4 x i32>* %31, align 2, !tbaa !76
  %arrayidx100 = getelementptr inbounds %"struct.Halide::Runtime::Internal::halide_tiff_header", %"struct.Halide::Runtime::Internal::halide_tiff_header"* %header, i64 0, i32 7, i64 1
  store i32 1, i32* %arrayidx100, align 2, !tbaa !76
  %call.i664 = call i64 @fwrite(i8* nonnull %23, i64 210, i64 1, i8* nonnull %call.i) #16
  %cmp.i665.not = icmp eq i64 %call.i664, 0
  br i1 %cmp.i665.not, label %cleanup154, label %if.end103

if.end103:                                        ; preds = %if.then36
  %cmp104 = icmp sgt i32 %channels.0, 1
  br i1 %cmp104, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit672.preheader, label %cleanup154.thread

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit672.preheader: ; preds = %if.end103
  %32 = bitcast i32* %offset to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %32) #11
  %mul108 = shl i32 %channels.0, 3
  %add109 = add i32 %mul108, 210
  store i32 %add109, i32* %offset, align 4, !tbaa !76
  %mul123 = mul i32 %depth.0, %div.i
  br label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit672

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit672: ; preds = %if.end118, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit672.preheader
  %i111.0847 = phi i32 [ %inc128, %if.end118 ], [ 0, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit672.preheader ]
  %call.i668 = call i64 @fwrite(i8* nonnull %32, i64 4, i64 1, i8* nonnull %call.i) #16
  %cmp.i669.not = icmp eq i64 %call.i668, 0
  br i1 %cmp.i669.not, label %cleanup151.thread, label %if.end118

if.end118:                                        ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit672
  %33 = load i32, i32* %extent.i, align 4, !tbaa !183
  %34 = load i32, i32* %extent.i.1, align 4, !tbaa !183
  %mul124 = mul i32 %mul123, %33
  %mul125 = mul i32 %mul124, %34
  %35 = load i32, i32* %offset, align 4, !tbaa !76
  %add126 = add nsw i32 %mul125, %35
  store i32 %add126, i32* %offset, align 4, !tbaa !76
  %inc128 = add nuw nsw i32 %i111.0847, 1
  %exitcond889.not = icmp eq i32 %inc128, %channels.0
  br i1 %exitcond889.not, label %for.end129, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit672, !llvm.loop !200

for.end129:                                       ; preds = %if.end118
  %36 = bitcast i32* %count to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %36) #11
  store i32 %mul125, i32* %count, align 4, !tbaa !76
  br label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit679

for.cond138:                                      ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit679
  %exitcond890.not = icmp eq i32 %inc146, %channels.0
  br i1 %exitcond890.not, label %cleanup151, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit679, !llvm.loop !201

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit679: ; preds = %for.end129, %for.cond138
  %i137.0849 = phi i32 [ %inc146, %for.cond138 ], [ 0, %for.end129 ]
  %call.i675 = call i64 @fwrite(i8* nonnull %36, i64 4, i64 1, i8* nonnull %call.i) #16
  %cmp.i676.not = icmp eq i64 %call.i675, 0
  %inc146 = add nuw nsw i32 %i137.0849, 1
  br i1 %cmp.i676.not, label %select.unfold, label %for.cond138

select.unfold:                                    ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit679
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %36) #11
  br label %cleanup151.thread

cleanup151.thread:                                ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit672, %select.unfold
  %retval.2.ph = phi i32 [ -5, %select.unfold ], [ -4, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit672 ]
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %32) #11
  br label %cleanup154

cleanup151:                                       ; preds = %for.cond138
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %36) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %32) #11
  br label %cleanup154.thread

cleanup154.thread:                                ; preds = %cleanup151, %if.end103
  call void @llvm.lifetime.end.p0i8(i64 210, i8* nonnull %23) #11
  br label %if.end311

cleanup154:                                       ; preds = %cleanup151.thread, %if.then36
  %retval.4 = phi i32 [ -3, %if.then36 ], [ %retval.2.ph, %cleanup151.thread ]
  call void @llvm.lifetime.end.p0i8(i64 210, i8* nonnull %23) #11
  br label %cleanup433

if.else164:                                       ; preds = %lor.lhs.false
  %call165 = call zeroext i1 @_ZN6Halide7Runtime8Internal9ends_withEPKcS3_(i8* %filename, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.5.39, i64 0, i64 0)) #17
  br i1 %call165, label %while.cond, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit728

while.cond:                                       ; preds = %if.else164, %while.cond
  %end.0 = phi i8* [ %incdec.ptr167, %while.cond ], [ %filename, %if.else164 ]
  %37 = load i8, i8* %end.0, align 1, !tbaa !15
  %tobool.not = icmp eq i8 %37, 0
  %incdec.ptr167 = getelementptr inbounds i8, i8* %end.0, i64 1
  br i1 %tobool.not, label %while.body171, label %while.cond, !llvm.loop !202

while.cond174.preheader:                          ; preds = %while.body171
  %end.1839.lcssa885 = ptrtoint i8* %end.1839 to i64
  %38 = sub i64 %filename884, %end.1839.lcssa885
  br label %while.cond174

while.body171:                                    ; preds = %while.cond, %while.body171
  %end.1839 = phi i8* [ %incdec.ptr172.ptr, %while.body171 ], [ %end.0, %while.cond ]
  %incdec.ptr172.ptr = getelementptr inbounds i8, i8* %end.1839, i64 -1
  %.pr = load i8, i8* %incdec.ptr172.ptr, align 1, !tbaa !15
  %cmp170.not = icmp eq i8 %.pr, 46
  br i1 %cmp170.not, label %while.cond174.preheader, label %while.body171, !llvm.loop !203

while.cond174:                                    ; preds = %land.rhs176, %while.cond174.preheader
  %start.0.idx = phi i64 [ %start.0.add, %land.rhs176 ], [ -1, %while.cond174.preheader ]
  %start.0.ptr.ptr = getelementptr inbounds i8, i8* %end.1839, i64 %start.0.idx
  %cmp175.not = icmp eq i8* %start.0.ptr.ptr, %filename
  br i1 %cmp175.not, label %while.end183, label %land.rhs176

land.rhs176:                                      ; preds = %while.cond174
  %start.0.add = add nsw i64 %start.0.idx, -1
  %arrayidx177.ptr = getelementptr inbounds i8, i8* %end.1839, i64 %start.0.add
  %39 = load i8, i8* %arrayidx177.ptr, align 1, !tbaa !15
  %cmp179.not = icmp eq i8 %39, 47
  br i1 %cmp179.not, label %while.end183, label %while.cond174, !llvm.loop !204

while.end183:                                     ; preds = %land.rhs176, %while.cond174
  %start.0.idx.lcssa = phi i64 [ %38, %while.cond174 ], [ %start.0.idx, %land.rhs176 ]
  %40 = trunc i64 %start.0.idx.lcssa to i32
  %conv184 = xor i32 %40, -1
  %41 = getelementptr inbounds [256 x i8], [256 x i8]* %array_name, i64 0, i64 0
  call void @llvm.lifetime.start.p0i8(i64 256, i8* nonnull %41) #11
  %cmp186.not840 = icmp eq i64 %start.0.idx.lcssa, -1
  br i1 %cmp186.not840, label %iter.check, label %while.body187.preheader

while.body187.preheader:                          ; preds = %while.end183
  %42 = xor i64 %start.0.idx.lcssa, -1
  %min.iters.check = icmp ugt i64 %start.0.idx.lcssa, -129
  br i1 %min.iters.check, label %while.body187.preheader91, label %vector.memcheck

vector.memcheck:                                  ; preds = %while.body187.preheader
  %43 = xor i64 %start.0.idx.lcssa, -1
  %scevgep50 = getelementptr [256 x i8], [256 x i8]* %array_name, i64 0, i64 %43
  %scevgep51 = getelementptr i8, i8* %end.1839, i64 %start.0.idx.lcssa
  %scevgep52 = getelementptr i8, i8* %end.1839, i64 -1
  %bound0 = icmp ult i8* %array_name49, %scevgep52
  %bound1 = icmp ult i8* %scevgep51, %scevgep50
  %found.conflict = and i1 %bound0, %bound1
  br i1 %found.conflict, label %while.body187.preheader91, label %vector.ph

vector.ph:                                        ; preds = %vector.memcheck
  %n.vec = and i64 %42, -128
  %ind.end = getelementptr [256 x i8], [256 x i8]* %array_name, i64 0, i64 %n.vec
  %ind.end54 = add i64 %start.0.idx.lcssa, %n.vec
  %44 = add i64 %n.vec, -128
  %45 = lshr exact i64 %44, 7
  %46 = add nuw nsw i64 %45, 1
  %xtraiter93 = and i64 %46, 3
  %47 = icmp ult i64 %44, 384
  br i1 %47, label %middle.block.unr-lcssa, label %vector.ph.new

vector.ph.new:                                    ; preds = %vector.ph
  %unroll_iter = and i64 %46, 288230376151711740
  br label %vector.body

vector.body:                                      ; preds = %vector.body, %vector.ph.new
  %index = phi i64 [ 0, %vector.ph.new ], [ %index.next.3, %vector.body ]
  %niter = phi i64 [ %unroll_iter, %vector.ph.new ], [ %niter.nsub.3, %vector.body ]
  %next.gep = getelementptr [256 x i8], [256 x i8]* %array_name, i64 0, i64 %index
  %offset.idx = add i64 %start.0.idx.lcssa, %index
  %48 = getelementptr inbounds i8, i8* %end.1839, i64 %offset.idx
  %49 = bitcast i8* %48 to <32 x i8>*
  %wide.load = load <32 x i8>, <32 x i8>* %49, align 1, !tbaa !15, !alias.scope !205
  %50 = getelementptr inbounds i8, i8* %48, i64 32
  %51 = bitcast i8* %50 to <32 x i8>*
  %wide.load58 = load <32 x i8>, <32 x i8>* %51, align 1, !tbaa !15, !alias.scope !205
  %52 = getelementptr inbounds i8, i8* %48, i64 64
  %53 = bitcast i8* %52 to <32 x i8>*
  %wide.load59 = load <32 x i8>, <32 x i8>* %53, align 1, !tbaa !15, !alias.scope !205
  %54 = getelementptr inbounds i8, i8* %48, i64 96
  %55 = bitcast i8* %54 to <32 x i8>*
  %wide.load60 = load <32 x i8>, <32 x i8>* %55, align 1, !tbaa !15, !alias.scope !205
  %56 = bitcast i8* %next.gep to <32 x i8>*
  store <32 x i8> %wide.load, <32 x i8>* %56, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %57 = getelementptr i8, i8* %next.gep, i64 32
  %58 = bitcast i8* %57 to <32 x i8>*
  store <32 x i8> %wide.load58, <32 x i8>* %58, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %59 = getelementptr i8, i8* %next.gep, i64 64
  %60 = bitcast i8* %59 to <32 x i8>*
  store <32 x i8> %wide.load59, <32 x i8>* %60, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %61 = getelementptr i8, i8* %next.gep, i64 96
  %62 = bitcast i8* %61 to <32 x i8>*
  store <32 x i8> %wide.load60, <32 x i8>* %62, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %index.next = or i64 %index, 128
  %next.gep.1 = getelementptr [256 x i8], [256 x i8]* %array_name, i64 0, i64 %index.next
  %offset.idx.1 = add i64 %start.0.idx.lcssa, %index.next
  %63 = getelementptr inbounds i8, i8* %end.1839, i64 %offset.idx.1
  %64 = bitcast i8* %63 to <32 x i8>*
  %wide.load.1 = load <32 x i8>, <32 x i8>* %64, align 1, !tbaa !15, !alias.scope !205
  %65 = getelementptr inbounds i8, i8* %63, i64 32
  %66 = bitcast i8* %65 to <32 x i8>*
  %wide.load58.1 = load <32 x i8>, <32 x i8>* %66, align 1, !tbaa !15, !alias.scope !205
  %67 = getelementptr inbounds i8, i8* %63, i64 64
  %68 = bitcast i8* %67 to <32 x i8>*
  %wide.load59.1 = load <32 x i8>, <32 x i8>* %68, align 1, !tbaa !15, !alias.scope !205
  %69 = getelementptr inbounds i8, i8* %63, i64 96
  %70 = bitcast i8* %69 to <32 x i8>*
  %wide.load60.1 = load <32 x i8>, <32 x i8>* %70, align 1, !tbaa !15, !alias.scope !205
  %71 = bitcast i8* %next.gep.1 to <32 x i8>*
  store <32 x i8> %wide.load.1, <32 x i8>* %71, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %72 = getelementptr i8, i8* %next.gep.1, i64 32
  %73 = bitcast i8* %72 to <32 x i8>*
  store <32 x i8> %wide.load58.1, <32 x i8>* %73, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %74 = getelementptr i8, i8* %next.gep.1, i64 64
  %75 = bitcast i8* %74 to <32 x i8>*
  store <32 x i8> %wide.load59.1, <32 x i8>* %75, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %76 = getelementptr i8, i8* %next.gep.1, i64 96
  %77 = bitcast i8* %76 to <32 x i8>*
  store <32 x i8> %wide.load60.1, <32 x i8>* %77, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %index.next.1 = or i64 %index, 256
  %next.gep.2 = getelementptr [256 x i8], [256 x i8]* %array_name, i64 0, i64 %index.next.1
  %offset.idx.2 = add i64 %start.0.idx.lcssa, %index.next.1
  %78 = getelementptr inbounds i8, i8* %end.1839, i64 %offset.idx.2
  %79 = bitcast i8* %78 to <32 x i8>*
  %wide.load.2 = load <32 x i8>, <32 x i8>* %79, align 1, !tbaa !15, !alias.scope !205
  %80 = getelementptr inbounds i8, i8* %78, i64 32
  %81 = bitcast i8* %80 to <32 x i8>*
  %wide.load58.2 = load <32 x i8>, <32 x i8>* %81, align 1, !tbaa !15, !alias.scope !205
  %82 = getelementptr inbounds i8, i8* %78, i64 64
  %83 = bitcast i8* %82 to <32 x i8>*
  %wide.load59.2 = load <32 x i8>, <32 x i8>* %83, align 1, !tbaa !15, !alias.scope !205
  %84 = getelementptr inbounds i8, i8* %78, i64 96
  %85 = bitcast i8* %84 to <32 x i8>*
  %wide.load60.2 = load <32 x i8>, <32 x i8>* %85, align 1, !tbaa !15, !alias.scope !205
  %86 = bitcast i8* %next.gep.2 to <32 x i8>*
  store <32 x i8> %wide.load.2, <32 x i8>* %86, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %87 = getelementptr i8, i8* %next.gep.2, i64 32
  %88 = bitcast i8* %87 to <32 x i8>*
  store <32 x i8> %wide.load58.2, <32 x i8>* %88, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %89 = getelementptr i8, i8* %next.gep.2, i64 64
  %90 = bitcast i8* %89 to <32 x i8>*
  store <32 x i8> %wide.load59.2, <32 x i8>* %90, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %91 = getelementptr i8, i8* %next.gep.2, i64 96
  %92 = bitcast i8* %91 to <32 x i8>*
  store <32 x i8> %wide.load60.2, <32 x i8>* %92, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %index.next.2 = or i64 %index, 384
  %next.gep.3 = getelementptr [256 x i8], [256 x i8]* %array_name, i64 0, i64 %index.next.2
  %offset.idx.3 = add i64 %start.0.idx.lcssa, %index.next.2
  %93 = getelementptr inbounds i8, i8* %end.1839, i64 %offset.idx.3
  %94 = bitcast i8* %93 to <32 x i8>*
  %wide.load.3 = load <32 x i8>, <32 x i8>* %94, align 1, !tbaa !15, !alias.scope !205
  %95 = getelementptr inbounds i8, i8* %93, i64 32
  %96 = bitcast i8* %95 to <32 x i8>*
  %wide.load58.3 = load <32 x i8>, <32 x i8>* %96, align 1, !tbaa !15, !alias.scope !205
  %97 = getelementptr inbounds i8, i8* %93, i64 64
  %98 = bitcast i8* %97 to <32 x i8>*
  %wide.load59.3 = load <32 x i8>, <32 x i8>* %98, align 1, !tbaa !15, !alias.scope !205
  %99 = getelementptr inbounds i8, i8* %93, i64 96
  %100 = bitcast i8* %99 to <32 x i8>*
  %wide.load60.3 = load <32 x i8>, <32 x i8>* %100, align 1, !tbaa !15, !alias.scope !205
  %101 = bitcast i8* %next.gep.3 to <32 x i8>*
  store <32 x i8> %wide.load.3, <32 x i8>* %101, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %102 = getelementptr i8, i8* %next.gep.3, i64 32
  %103 = bitcast i8* %102 to <32 x i8>*
  store <32 x i8> %wide.load58.3, <32 x i8>* %103, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %104 = getelementptr i8, i8* %next.gep.3, i64 64
  %105 = bitcast i8* %104 to <32 x i8>*
  store <32 x i8> %wide.load59.3, <32 x i8>* %105, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %106 = getelementptr i8, i8* %next.gep.3, i64 96
  %107 = bitcast i8* %106 to <32 x i8>*
  store <32 x i8> %wide.load60.3, <32 x i8>* %107, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %index.next.3 = add nuw i64 %index, 512
  %niter.nsub.3 = add i64 %niter, -4
  %niter.ncmp.3 = icmp eq i64 %niter.nsub.3, 0
  br i1 %niter.ncmp.3, label %middle.block.unr-lcssa, label %vector.body, !llvm.loop !210

middle.block.unr-lcssa:                           ; preds = %vector.body, %vector.ph
  %index.unr = phi i64 [ 0, %vector.ph ], [ %index.next.3, %vector.body ]
  %lcmp.mod94.not = icmp eq i64 %xtraiter93, 0
  br i1 %lcmp.mod94.not, label %middle.block, label %vector.body.epil

vector.body.epil:                                 ; preds = %middle.block.unr-lcssa, %vector.body.epil
  %index.epil = phi i64 [ %index.next.epil, %vector.body.epil ], [ %index.unr, %middle.block.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %vector.body.epil ], [ %xtraiter93, %middle.block.unr-lcssa ]
  %next.gep.epil = getelementptr [256 x i8], [256 x i8]* %array_name, i64 0, i64 %index.epil
  %offset.idx.epil = add i64 %start.0.idx.lcssa, %index.epil
  %108 = getelementptr inbounds i8, i8* %end.1839, i64 %offset.idx.epil
  %109 = bitcast i8* %108 to <32 x i8>*
  %wide.load.epil = load <32 x i8>, <32 x i8>* %109, align 1, !tbaa !15, !alias.scope !205
  %110 = getelementptr inbounds i8, i8* %108, i64 32
  %111 = bitcast i8* %110 to <32 x i8>*
  %wide.load58.epil = load <32 x i8>, <32 x i8>* %111, align 1, !tbaa !15, !alias.scope !205
  %112 = getelementptr inbounds i8, i8* %108, i64 64
  %113 = bitcast i8* %112 to <32 x i8>*
  %wide.load59.epil = load <32 x i8>, <32 x i8>* %113, align 1, !tbaa !15, !alias.scope !205
  %114 = getelementptr inbounds i8, i8* %108, i64 96
  %115 = bitcast i8* %114 to <32 x i8>*
  %wide.load60.epil = load <32 x i8>, <32 x i8>* %115, align 1, !tbaa !15, !alias.scope !205
  %116 = bitcast i8* %next.gep.epil to <32 x i8>*
  store <32 x i8> %wide.load.epil, <32 x i8>* %116, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %117 = getelementptr i8, i8* %next.gep.epil, i64 32
  %118 = bitcast i8* %117 to <32 x i8>*
  store <32 x i8> %wide.load58.epil, <32 x i8>* %118, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %119 = getelementptr i8, i8* %next.gep.epil, i64 64
  %120 = bitcast i8* %119 to <32 x i8>*
  store <32 x i8> %wide.load59.epil, <32 x i8>* %120, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %121 = getelementptr i8, i8* %next.gep.epil, i64 96
  %122 = bitcast i8* %121 to <32 x i8>*
  store <32 x i8> %wide.load60.epil, <32 x i8>* %122, align 1, !tbaa !15, !alias.scope !208, !noalias !205
  %index.next.epil = add nuw i64 %index.epil, 128
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %middle.block, label %vector.body.epil, !llvm.loop !212

middle.block:                                     ; preds = %vector.body.epil, %middle.block.unr-lcssa
  %cmp.n = icmp eq i64 %n.vec, %42
  br i1 %cmp.n, label %while.cond191.preheader, label %while.body187.preheader91

while.body187.preheader91:                        ; preds = %vector.memcheck, %while.body187.preheader, %middle.block
  %dst.0842.ph = phi i8* [ %41, %vector.memcheck ], [ %41, %while.body187.preheader ], [ %ind.end, %middle.block ]
  %start.1841.idx.ph = phi i64 [ %start.0.idx.lcssa, %vector.memcheck ], [ %start.0.idx.lcssa, %while.body187.preheader ], [ %ind.end54, %middle.block ]
  %123 = sub i64 -2, %start.1841.idx.ph
  %124 = and i64 %start.1841.idx.ph, 7
  %xtraiter95 = xor i64 %124, 7
  %lcmp.mod96.not = icmp eq i64 %xtraiter95, 0
  br i1 %lcmp.mod96.not, label %while.body187.prol.loopexit, label %while.body187.prol

while.body187.prol:                               ; preds = %while.body187.preheader91, %while.body187.prol
  %dst.0842.prol = phi i8* [ %incdec.ptr189.prol, %while.body187.prol ], [ %dst.0842.ph, %while.body187.preheader91 ]
  %start.1841.idx.prol = phi i64 [ %start.1841.add.prol, %while.body187.prol ], [ %start.1841.idx.ph, %while.body187.preheader91 ]
  %prol.iter97 = phi i64 [ %prol.iter97.sub, %while.body187.prol ], [ %xtraiter95, %while.body187.preheader91 ]
  %start.1841.ptr.prol = getelementptr inbounds i8, i8* %end.1839, i64 %start.1841.idx.prol
  %start.1841.add.prol = add nuw nsw i64 %start.1841.idx.prol, 1
  %125 = load i8, i8* %start.1841.ptr.prol, align 1, !tbaa !15
  %incdec.ptr189.prol = getelementptr inbounds i8, i8* %dst.0842.prol, i64 1
  store i8 %125, i8* %dst.0842.prol, align 1, !tbaa !15
  %prol.iter97.sub = add i64 %prol.iter97, -1
  %prol.iter97.cmp.not = icmp eq i64 %prol.iter97.sub, 0
  br i1 %prol.iter97.cmp.not, label %while.body187.prol.loopexit, label %while.body187.prol, !llvm.loop !213

while.body187.prol.loopexit:                      ; preds = %while.body187.prol, %while.body187.preheader91
  %incdec.ptr189.lcssa92.unr = phi i8* [ undef, %while.body187.preheader91 ], [ %incdec.ptr189.prol, %while.body187.prol ]
  %dst.0842.unr = phi i8* [ %dst.0842.ph, %while.body187.preheader91 ], [ %incdec.ptr189.prol, %while.body187.prol ]
  %start.1841.idx.unr = phi i64 [ %start.1841.idx.ph, %while.body187.preheader91 ], [ %start.1841.add.prol, %while.body187.prol ]
  %126 = icmp ult i64 %123, 7
  br i1 %126, label %while.cond191.preheader, label %while.body187

while.cond191.preheader:                          ; preds = %while.body187.prol.loopexit, %while.body187, %middle.block
  %incdec.ptr189.lcssa = phi i8* [ %ind.end, %middle.block ], [ %incdec.ptr189.lcssa92.unr, %while.body187.prol.loopexit ], [ %incdec.ptr189.7, %while.body187 ]
  %add.ptr = getelementptr inbounds [256 x i8], [256 x i8]* %array_name, i64 0, i64 256
  %cmp193844 = icmp ult i8* %incdec.ptr189.lcssa, %add.ptr
  br i1 %cmp193844, label %iter.check, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit686

iter.check:                                       ; preds = %while.cond191.preheader, %while.end183
  %dst.0.lcssa912 = phi i8* [ %incdec.ptr189.lcssa, %while.cond191.preheader ], [ %41, %while.end183 ]
  %dst.0.lcssa887 = ptrtoint i8* %dst.0.lcssa912 to i64
  %127 = add i64 %array_name886, 256
  %128 = sub i64 %127, %dst.0.lcssa887
  %scevgep = getelementptr i8, i8* %dst.0.lcssa912, i64 %128
  %min.iters.check64 = icmp ult i64 %128, 16
  br i1 %min.iters.check64, label %while.body194.preheader, label %vector.main.loop.iter.check

vector.main.loop.iter.check:                      ; preds = %iter.check
  %min.iters.check66 = icmp ult i64 %128, 128
  br i1 %min.iters.check66, label %vec.epilog.ph, label %vector.ph67

vector.ph67:                                      ; preds = %vector.main.loop.iter.check
  %n.vec69 = and i64 %128, -128
  %129 = add i64 %n.vec69, -128
  %130 = lshr exact i64 %129, 7
  %131 = add nuw nsw i64 %130, 1
  %xtraiter98 = and i64 %131, 7
  %132 = icmp ult i64 %129, 896
  br i1 %132, label %middle.block61.unr-lcssa, label %vector.ph67.new

vector.ph67.new:                                  ; preds = %vector.ph67
  %unroll_iter101 = and i64 %131, 288230376151711736
  br label %vector.body63

vector.body63:                                    ; preds = %vector.body63, %vector.ph67.new
  %index70 = phi i64 [ 0, %vector.ph67.new ], [ %index.next71.7, %vector.body63 ]
  %niter102 = phi i64 [ %unroll_iter101, %vector.ph67.new ], [ %niter102.nsub.7, %vector.body63 ]
  %next.gep73 = getelementptr i8, i8* %dst.0.lcssa912, i64 %index70
  %133 = bitcast i8* %next.gep73 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %133, align 1, !tbaa !15
  %134 = getelementptr i8, i8* %next.gep73, i64 32
  %135 = bitcast i8* %134 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %135, align 1, !tbaa !15
  %136 = getelementptr i8, i8* %next.gep73, i64 64
  %137 = bitcast i8* %136 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %137, align 1, !tbaa !15
  %138 = getelementptr i8, i8* %next.gep73, i64 96
  %139 = bitcast i8* %138 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %139, align 1, !tbaa !15
  %index.next71 = or i64 %index70, 128
  %next.gep73.1 = getelementptr i8, i8* %dst.0.lcssa912, i64 %index.next71
  %140 = bitcast i8* %next.gep73.1 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %140, align 1, !tbaa !15
  %141 = getelementptr i8, i8* %next.gep73.1, i64 32
  %142 = bitcast i8* %141 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %142, align 1, !tbaa !15
  %143 = getelementptr i8, i8* %next.gep73.1, i64 64
  %144 = bitcast i8* %143 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %144, align 1, !tbaa !15
  %145 = getelementptr i8, i8* %next.gep73.1, i64 96
  %146 = bitcast i8* %145 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %146, align 1, !tbaa !15
  %index.next71.1 = or i64 %index70, 256
  %next.gep73.2 = getelementptr i8, i8* %dst.0.lcssa912, i64 %index.next71.1
  %147 = bitcast i8* %next.gep73.2 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %147, align 1, !tbaa !15
  %148 = getelementptr i8, i8* %next.gep73.2, i64 32
  %149 = bitcast i8* %148 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %149, align 1, !tbaa !15
  %150 = getelementptr i8, i8* %next.gep73.2, i64 64
  %151 = bitcast i8* %150 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %151, align 1, !tbaa !15
  %152 = getelementptr i8, i8* %next.gep73.2, i64 96
  %153 = bitcast i8* %152 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %153, align 1, !tbaa !15
  %index.next71.2 = or i64 %index70, 384
  %next.gep73.3 = getelementptr i8, i8* %dst.0.lcssa912, i64 %index.next71.2
  %154 = bitcast i8* %next.gep73.3 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %154, align 1, !tbaa !15
  %155 = getelementptr i8, i8* %next.gep73.3, i64 32
  %156 = bitcast i8* %155 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %156, align 1, !tbaa !15
  %157 = getelementptr i8, i8* %next.gep73.3, i64 64
  %158 = bitcast i8* %157 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %158, align 1, !tbaa !15
  %159 = getelementptr i8, i8* %next.gep73.3, i64 96
  %160 = bitcast i8* %159 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %160, align 1, !tbaa !15
  %index.next71.3 = or i64 %index70, 512
  %next.gep73.4 = getelementptr i8, i8* %dst.0.lcssa912, i64 %index.next71.3
  %161 = bitcast i8* %next.gep73.4 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %161, align 1, !tbaa !15
  %162 = getelementptr i8, i8* %next.gep73.4, i64 32
  %163 = bitcast i8* %162 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %163, align 1, !tbaa !15
  %164 = getelementptr i8, i8* %next.gep73.4, i64 64
  %165 = bitcast i8* %164 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %165, align 1, !tbaa !15
  %166 = getelementptr i8, i8* %next.gep73.4, i64 96
  %167 = bitcast i8* %166 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %167, align 1, !tbaa !15
  %index.next71.4 = or i64 %index70, 640
  %next.gep73.5 = getelementptr i8, i8* %dst.0.lcssa912, i64 %index.next71.4
  %168 = bitcast i8* %next.gep73.5 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %168, align 1, !tbaa !15
  %169 = getelementptr i8, i8* %next.gep73.5, i64 32
  %170 = bitcast i8* %169 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %170, align 1, !tbaa !15
  %171 = getelementptr i8, i8* %next.gep73.5, i64 64
  %172 = bitcast i8* %171 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %172, align 1, !tbaa !15
  %173 = getelementptr i8, i8* %next.gep73.5, i64 96
  %174 = bitcast i8* %173 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %174, align 1, !tbaa !15
  %index.next71.5 = or i64 %index70, 768
  %next.gep73.6 = getelementptr i8, i8* %dst.0.lcssa912, i64 %index.next71.5
  %175 = bitcast i8* %next.gep73.6 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %175, align 1, !tbaa !15
  %176 = getelementptr i8, i8* %next.gep73.6, i64 32
  %177 = bitcast i8* %176 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %177, align 1, !tbaa !15
  %178 = getelementptr i8, i8* %next.gep73.6, i64 64
  %179 = bitcast i8* %178 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %179, align 1, !tbaa !15
  %180 = getelementptr i8, i8* %next.gep73.6, i64 96
  %181 = bitcast i8* %180 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %181, align 1, !tbaa !15
  %index.next71.6 = or i64 %index70, 896
  %next.gep73.7 = getelementptr i8, i8* %dst.0.lcssa912, i64 %index.next71.6
  %182 = bitcast i8* %next.gep73.7 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %182, align 1, !tbaa !15
  %183 = getelementptr i8, i8* %next.gep73.7, i64 32
  %184 = bitcast i8* %183 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %184, align 1, !tbaa !15
  %185 = getelementptr i8, i8* %next.gep73.7, i64 64
  %186 = bitcast i8* %185 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %186, align 1, !tbaa !15
  %187 = getelementptr i8, i8* %next.gep73.7, i64 96
  %188 = bitcast i8* %187 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %188, align 1, !tbaa !15
  %index.next71.7 = add nuw i64 %index70, 1024
  %niter102.nsub.7 = add i64 %niter102, -8
  %niter102.ncmp.7 = icmp eq i64 %niter102.nsub.7, 0
  br i1 %niter102.ncmp.7, label %middle.block61.unr-lcssa, label %vector.body63, !llvm.loop !214

middle.block61.unr-lcssa:                         ; preds = %vector.body63, %vector.ph67
  %index70.unr = phi i64 [ 0, %vector.ph67 ], [ %index.next71.7, %vector.body63 ]
  %lcmp.mod100.not = icmp eq i64 %xtraiter98, 0
  br i1 %lcmp.mod100.not, label %middle.block61, label %vector.body63.epil

vector.body63.epil:                               ; preds = %middle.block61.unr-lcssa, %vector.body63.epil
  %index70.epil = phi i64 [ %index.next71.epil, %vector.body63.epil ], [ %index70.unr, %middle.block61.unr-lcssa ]
  %epil.iter99 = phi i64 [ %epil.iter99.sub, %vector.body63.epil ], [ %xtraiter98, %middle.block61.unr-lcssa ]
  %next.gep73.epil = getelementptr i8, i8* %dst.0.lcssa912, i64 %index70.epil
  %189 = bitcast i8* %next.gep73.epil to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %189, align 1, !tbaa !15
  %190 = getelementptr i8, i8* %next.gep73.epil, i64 32
  %191 = bitcast i8* %190 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %191, align 1, !tbaa !15
  %192 = getelementptr i8, i8* %next.gep73.epil, i64 64
  %193 = bitcast i8* %192 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %193, align 1, !tbaa !15
  %194 = getelementptr i8, i8* %next.gep73.epil, i64 96
  %195 = bitcast i8* %194 to <32 x i8>*
  store <32 x i8> zeroinitializer, <32 x i8>* %195, align 1, !tbaa !15
  %index.next71.epil = add nuw i64 %index70.epil, 128
  %epil.iter99.sub = add i64 %epil.iter99, -1
  %epil.iter99.cmp.not = icmp eq i64 %epil.iter99.sub, 0
  br i1 %epil.iter99.cmp.not, label %middle.block61, label %vector.body63.epil, !llvm.loop !215

middle.block61:                                   ; preds = %vector.body63.epil, %middle.block61.unr-lcssa
  %cmp.n72 = icmp eq i64 %128, %n.vec69
  br i1 %cmp.n72, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit686, label %vec.epilog.iter.check

vec.epilog.iter.check:                            ; preds = %middle.block61
  %ind.end83 = getelementptr i8, i8* %dst.0.lcssa912, i64 %n.vec69
  %n.vec.remaining = and i64 %128, 112
  %min.epilog.iters.check = icmp eq i64 %n.vec.remaining, 0
  br i1 %min.epilog.iters.check, label %while.body194.preheader, label %vec.epilog.ph

vec.epilog.ph:                                    ; preds = %vector.main.loop.iter.check, %vec.epilog.iter.check
  %vec.epilog.resume.val = phi i64 [ %n.vec69, %vec.epilog.iter.check ], [ 0, %vector.main.loop.iter.check ]
  %n.vec78 = and i64 %128, -16
  %ind.end82 = getelementptr i8, i8* %dst.0.lcssa912, i64 %n.vec78
  br label %vec.epilog.vector.body

vec.epilog.vector.body:                           ; preds = %vec.epilog.vector.body, %vec.epilog.ph
  %index79 = phi i64 [ %vec.epilog.resume.val, %vec.epilog.ph ], [ %index.next80, %vec.epilog.vector.body ]
  %next.gep85 = getelementptr i8, i8* %dst.0.lcssa912, i64 %index79
  %196 = bitcast i8* %next.gep85 to <16 x i8>*
  store <16 x i8> zeroinitializer, <16 x i8>* %196, align 1, !tbaa !15
  %index.next80 = add nuw i64 %index79, 16
  %197 = icmp eq i64 %index.next80, %n.vec78
  br i1 %197, label %vec.epilog.middle.block, label %vec.epilog.vector.body, !llvm.loop !216

vec.epilog.middle.block:                          ; preds = %vec.epilog.vector.body
  %cmp.n84 = icmp eq i64 %128, %n.vec78
  br i1 %cmp.n84, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit686, label %while.body194.preheader

while.body194.preheader:                          ; preds = %iter.check, %vec.epilog.iter.check, %vec.epilog.middle.block
  %dst.1845.ph = phi i8* [ %dst.0.lcssa912, %iter.check ], [ %ind.end83, %vec.epilog.iter.check ], [ %ind.end82, %vec.epilog.middle.block ]
  br label %while.body194

while.body187:                                    ; preds = %while.body187.prol.loopexit, %while.body187
  %dst.0842 = phi i8* [ %incdec.ptr189.7, %while.body187 ], [ %dst.0842.unr, %while.body187.prol.loopexit ]
  %start.1841.idx = phi i64 [ %start.1841.add.7, %while.body187 ], [ %start.1841.idx.unr, %while.body187.prol.loopexit ]
  %start.1841.ptr = getelementptr inbounds i8, i8* %end.1839, i64 %start.1841.idx
  %start.1841.add = add nuw nsw i64 %start.1841.idx, 1
  %198 = load i8, i8* %start.1841.ptr, align 1, !tbaa !15
  %incdec.ptr189 = getelementptr inbounds i8, i8* %dst.0842, i64 1
  store i8 %198, i8* %dst.0842, align 1, !tbaa !15
  %start.1841.ptr.1 = getelementptr inbounds i8, i8* %end.1839, i64 %start.1841.add
  %start.1841.add.1 = add nuw nsw i64 %start.1841.idx, 2
  %199 = load i8, i8* %start.1841.ptr.1, align 1, !tbaa !15
  %incdec.ptr189.1 = getelementptr inbounds i8, i8* %dst.0842, i64 2
  store i8 %199, i8* %incdec.ptr189, align 1, !tbaa !15
  %start.1841.ptr.2 = getelementptr inbounds i8, i8* %end.1839, i64 %start.1841.add.1
  %start.1841.add.2 = add nuw nsw i64 %start.1841.idx, 3
  %200 = load i8, i8* %start.1841.ptr.2, align 1, !tbaa !15
  %incdec.ptr189.2 = getelementptr inbounds i8, i8* %dst.0842, i64 3
  store i8 %200, i8* %incdec.ptr189.1, align 1, !tbaa !15
  %start.1841.ptr.3 = getelementptr inbounds i8, i8* %end.1839, i64 %start.1841.add.2
  %start.1841.add.3 = add nuw nsw i64 %start.1841.idx, 4
  %201 = load i8, i8* %start.1841.ptr.3, align 1, !tbaa !15
  %incdec.ptr189.3 = getelementptr inbounds i8, i8* %dst.0842, i64 4
  store i8 %201, i8* %incdec.ptr189.2, align 1, !tbaa !15
  %start.1841.ptr.4 = getelementptr inbounds i8, i8* %end.1839, i64 %start.1841.add.3
  %start.1841.add.4 = add nuw nsw i64 %start.1841.idx, 5
  %202 = load i8, i8* %start.1841.ptr.4, align 1, !tbaa !15
  %incdec.ptr189.4 = getelementptr inbounds i8, i8* %dst.0842, i64 5
  store i8 %202, i8* %incdec.ptr189.3, align 1, !tbaa !15
  %start.1841.ptr.5 = getelementptr inbounds i8, i8* %end.1839, i64 %start.1841.add.4
  %start.1841.add.5 = add nuw nsw i64 %start.1841.idx, 6
  %203 = load i8, i8* %start.1841.ptr.5, align 1, !tbaa !15
  %incdec.ptr189.5 = getelementptr inbounds i8, i8* %dst.0842, i64 6
  store i8 %203, i8* %incdec.ptr189.4, align 1, !tbaa !15
  %start.1841.ptr.6 = getelementptr inbounds i8, i8* %end.1839, i64 %start.1841.add.5
  %start.1841.add.6 = add nuw nsw i64 %start.1841.idx, 7
  %204 = load i8, i8* %start.1841.ptr.6, align 1, !tbaa !15
  %incdec.ptr189.6 = getelementptr inbounds i8, i8* %dst.0842, i64 7
  store i8 %204, i8* %incdec.ptr189.5, align 1, !tbaa !15
  %start.1841.ptr.7 = getelementptr inbounds i8, i8* %end.1839, i64 %start.1841.add.6
  %start.1841.add.7 = add nuw nsw i64 %start.1841.idx, 8
  %205 = load i8, i8* %start.1841.ptr.7, align 1, !tbaa !15
  %incdec.ptr189.7 = getelementptr inbounds i8, i8* %dst.0842, i64 8
  store i8 %205, i8* %incdec.ptr189.6, align 1, !tbaa !15
  %cmp186.not.7 = icmp eq i64 %start.1841.add.7, -1
  br i1 %cmp186.not.7, label %while.cond191.preheader, label %while.body187, !llvm.loop !217

while.body194:                                    ; preds = %while.body194.preheader, %while.body194
  %dst.1845 = phi i8* [ %incdec.ptr195, %while.body194 ], [ %dst.1845.ph, %while.body194.preheader ]
  %incdec.ptr195 = getelementptr inbounds i8, i8* %dst.1845, i64 1
  store i8 0, i8* %dst.1845, align 1, !tbaa !15
  %exitcond888.not = icmp eq i8* %incdec.ptr195, %scevgep
  br i1 %exitcond888.not, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit686, label %while.body194, !llvm.loop !218

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit686: ; preds = %while.body194, %middle.block61, %vec.epilog.middle.block, %while.cond191.preheader
  %add197 = sub i32 6, %40
  %and = and i32 %add197, -8
  %206 = getelementptr inbounds [129 x i8], [129 x i8]* %header198, i64 0, i64 0
  call void @llvm.lifetime.start.p0i8(i64 129, i8* nonnull %206) #11
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 1 dereferenceable(129) %206, i8* noundef nonnull align 1 dereferenceable(129) getelementptr inbounds ([129 x i8], [129 x i8]* @__const.halide_debug_to_file.header, i64 0, i64 0), i64 129, i1 false)
  %call.i682 = call i64 @fwrite(i8* nonnull %206, i64 128, i64 1, i8* nonnull %call.i) #16
  %207 = load i32, i32* %dimensions, align 4, !tbaa !180
  %dim.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 6
  %208 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i.i, align 8
  %cmp19.i.i = icmp sgt i32 %207, 0
  br i1 %cmp19.i.i, label %for.body.preheader.i.i, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

for.body.preheader.i.i:                           ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit686
  %wide.trip.count.i.i = zext i32 %207 to i64
  %209 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter103 = and i64 %wide.trip.count.i.i, 3
  %210 = icmp ult i64 %209, 3
  br i1 %210, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.preheader.i.i.new

for.body.preheader.i.i.new:                       ; preds = %for.body.preheader.i.i
  %unroll_iter107 = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %if.end.i.i.3, %for.body.preheader.i.i.new
  %indvars.iv.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %niter108 = phi i64 [ %unroll_iter107, %for.body.preheader.i.i.new ], [ %niter108.nsub.3, %if.end.i.i.3 ]
  %stride2.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.i.i, i32 2
  %211 = load i32, i32* %stride2.i.i, align 4, !tbaa !187
  %cmp3.i.i = icmp sgt i32 %211, 0
  br i1 %cmp3.i.i, label %if.then.i.i, label %if.end.i.i

if.then.i.i:                                      ; preds = %for.body.i.i
  %conv18.i.i = zext i32 %211 to i64
  %extent.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.i.i, i32 1
  %212 = load i32, i32* %extent.i.i, align 4, !tbaa !183
  %sub.i.i = add nsw i32 %212, -1
  %conv7.i.i = sext i32 %sub.i.i to i64
  %mul.i.i = mul nsw i64 %conv7.i.i, %conv18.i.i
  %add.i.i = add nsw i64 %mul.i.i, %index.021.i.i
  br label %if.end.i.i

if.end.i.i:                                       ; preds = %if.then.i.i, %for.body.i.i
  %index.1.i.i = phi i64 [ %add.i.i, %if.then.i.i ], [ %index.021.i.i, %for.body.i.i ]
  %indvars.iv.next.i.i = or i64 %indvars.iv.i.i, 1
  %stride2.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.next.i.i, i32 2
  %213 = load i32, i32* %stride2.i.i.1, align 4, !tbaa !187
  %cmp3.i.i.1 = icmp sgt i32 %213, 0
  br i1 %cmp3.i.i.1, label %if.then.i.i.1, label %if.end.i.i.1

for.body.i12.i.preheader.unr-lcssa:               ; preds = %if.end.i.i.3, %for.body.preheader.i.i
  %index.1.i.i.lcssa.ph = phi i64 [ undef, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %indvars.iv.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %lcmp.mod105.not = icmp eq i64 %xtraiter103, 0
  br i1 %lcmp.mod105.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil

for.body.i.i.epil:                                ; preds = %for.body.i12.i.preheader.unr-lcssa, %if.end.i.i.epil
  %indvars.iv.i.i.epil = phi i64 [ %indvars.iv.next.i.i.epil, %if.end.i.i.epil ], [ %indvars.iv.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %index.021.i.i.epil = phi i64 [ %index.1.i.i.epil, %if.end.i.i.epil ], [ %index.021.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %epil.iter104 = phi i64 [ %epil.iter104.sub, %if.end.i.i.epil ], [ %xtraiter103, %for.body.i12.i.preheader.unr-lcssa ]
  %stride2.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.i.i.epil, i32 2
  %214 = load i32, i32* %stride2.i.i.epil, align 4, !tbaa !187
  %cmp3.i.i.epil = icmp sgt i32 %214, 0
  br i1 %cmp3.i.i.epil, label %if.then.i.i.epil, label %if.end.i.i.epil

if.then.i.i.epil:                                 ; preds = %for.body.i.i.epil
  %conv18.i.i.epil = zext i32 %214 to i64
  %extent.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.i.i.epil, i32 1
  %215 = load i32, i32* %extent.i.i.epil, align 4, !tbaa !183
  %sub.i.i.epil = add nsw i32 %215, -1
  %conv7.i.i.epil = sext i32 %sub.i.i.epil to i64
  %mul.i.i.epil = mul nsw i64 %conv7.i.i.epil, %conv18.i.i.epil
  %add.i.i.epil = add nsw i64 %mul.i.i.epil, %index.021.i.i.epil
  br label %if.end.i.i.epil

if.end.i.i.epil:                                  ; preds = %if.then.i.i.epil, %for.body.i.i.epil
  %index.1.i.i.epil = phi i64 [ %add.i.i.epil, %if.then.i.i.epil ], [ %index.021.i.i.epil, %for.body.i.i.epil ]
  %indvars.iv.next.i.i.epil = add nuw nsw i64 %indvars.iv.i.i.epil, 1
  %epil.iter104.sub = add i64 %epil.iter104, -1
  %epil.iter104.cmp.not = icmp eq i64 %epil.iter104.sub, 0
  br i1 %epil.iter104.cmp.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil, !llvm.loop !220

for.body.i12.i.preheader:                         ; preds = %if.end.i.i.epil, %for.body.i12.i.preheader.unr-lcssa
  %index.1.i.i.lcssa = phi i64 [ %index.1.i.i.lcssa.ph, %for.body.i12.i.preheader.unr-lcssa ], [ %index.1.i.i.epil, %if.end.i.i.epil ]
  %216 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter109 = and i64 %wide.trip.count.i.i, 3
  %217 = icmp ult i64 %216, 3
  br i1 %217, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i.preheader.new

for.body.i12.i.preheader.new:                     ; preds = %for.body.i12.i.preheader
  %unroll_iter113 = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i12.i

for.body.i12.i:                                   ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader.new
  %indvars.iv.i9.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %niter114 = phi i64 [ %unroll_iter113, %for.body.i12.i.preheader.new ], [ %niter114.nsub.3, %if.end.i22.i.3 ]
  %stride2.i10.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.i9.i, i32 2
  %218 = load i32, i32* %stride2.i10.i, align 4, !tbaa !187
  %cmp3.i11.i = icmp slt i32 %218, 0
  br i1 %cmp3.i11.i, label %if.then.i18.i, label %if.end.i22.i

if.then.i18.i:                                    ; preds = %for.body.i12.i
  %conv.i.i = sext i32 %218 to i64
  %extent.i13.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.i9.i, i32 1
  %219 = load i32, i32* %extent.i13.i, align 4, !tbaa !183
  %sub.i14.i = add nsw i32 %219, -1
  %conv7.i15.i = sext i32 %sub.i14.i to i64
  %mul.i16.i = mul nsw i64 %conv7.i15.i, %conv.i.i
  %add.i17.i = add nsw i64 %mul.i16.i, %index.018.i.i
  br label %if.end.i22.i

if.end.i22.i:                                     ; preds = %if.then.i18.i, %for.body.i12.i
  %index.1.i19.i = phi i64 [ %add.i17.i, %if.then.i18.i ], [ %index.018.i.i, %for.body.i12.i ]
  %indvars.iv.next.i20.i = or i64 %indvars.iv.i9.i, 1
  %stride2.i10.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.next.i20.i, i32 2
  %220 = load i32, i32* %stride2.i10.i.1, align 4, !tbaa !187
  %cmp3.i11.i.1 = icmp slt i32 %220, 0
  br i1 %cmp3.i11.i.1, label %if.then.i18.i.1, label %if.end.i22.i.1

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa: ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader
  %index.1.i19.i.lcssa.ph = phi i64 [ undef, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %indvars.iv.i9.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %lcmp.mod111.not = icmp eq i64 %xtraiter109, 0
  br i1 %lcmp.mod111.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil

for.body.i12.i.epil:                              ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, %if.end.i22.i.epil
  %indvars.iv.i9.i.epil = phi i64 [ %indvars.iv.next.i20.i.epil, %if.end.i22.i.epil ], [ %indvars.iv.i9.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %index.018.i.i.epil = phi i64 [ %index.1.i19.i.epil, %if.end.i22.i.epil ], [ %index.018.i.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %epil.iter110 = phi i64 [ %epil.iter110.sub, %if.end.i22.i.epil ], [ %xtraiter109, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %stride2.i10.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.i9.i.epil, i32 2
  %221 = load i32, i32* %stride2.i10.i.epil, align 4, !tbaa !187
  %cmp3.i11.i.epil = icmp slt i32 %221, 0
  br i1 %cmp3.i11.i.epil, label %if.then.i18.i.epil, label %if.end.i22.i.epil

if.then.i18.i.epil:                               ; preds = %for.body.i12.i.epil
  %conv.i.i.epil = sext i32 %221 to i64
  %extent.i13.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.i9.i.epil, i32 1
  %222 = load i32, i32* %extent.i13.i.epil, align 4, !tbaa !183
  %sub.i14.i.epil = add nsw i32 %222, -1
  %conv7.i15.i.epil = sext i32 %sub.i14.i.epil to i64
  %mul.i16.i.epil = mul nsw i64 %conv7.i15.i.epil, %conv.i.i.epil
  %add.i17.i.epil = add nsw i64 %mul.i16.i.epil, %index.018.i.i.epil
  br label %if.end.i22.i.epil

if.end.i22.i.epil:                                ; preds = %if.then.i18.i.epil, %for.body.i12.i.epil
  %index.1.i19.i.epil = phi i64 [ %add.i17.i.epil, %if.then.i18.i.epil ], [ %index.018.i.i.epil, %for.body.i12.i.epil ]
  %indvars.iv.next.i20.i.epil = add nuw nsw i64 %indvars.iv.i9.i.epil, 1
  %epil.iter110.sub = add i64 %epil.iter110, -1
  %epil.iter110.cmp.not = icmp eq i64 %epil.iter110.sub, 0
  br i1 %epil.iter110.cmp.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil, !llvm.loop !221

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit: ; preds = %if.end.i22.i.epil, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa
  %index.1.i19.i.lcssa = phi i64 [ %index.1.i19.i.lcssa.ph, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ], [ %index.1.i19.i.epil, %if.end.i22.i.epil ]
  %add8.i.i = add nsw i64 %index.1.i.i.lcssa, 1
  br label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

_ZNK15halide_buffer_t13size_in_bytesEv.exit:      ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit686
  %add8.i27.i = phi i64 [ 1, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit686 ], [ %add8.i.i, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %index.0.lcssa.i8.i = phi i64 [ 0, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit686 ], [ %index.1.i19.i.lcssa, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %sub.i = sub nsw i64 %add8.i27.i, %index.0.lcssa.i8.i
  %223 = load i8, i8* %bits.i, align 1, !tbaa !141
  %conv.i23.i = zext i8 %223 to i64
  %add.i24.i = add nuw nsw i64 %conv.i23.i, 7
  %div.i.i = lshr i64 %add.i24.i, 3
  %mul.i = mul i64 %div.i.i, %sub.i
  %224 = trunc i64 %mul.i to i32
  %225 = add i32 %224, 7
  %226 = and i32 %225, 7
  %conv204 = xor i32 %226, 7
  %conv205 = zext i32 %conv204 to i64
  %add206 = add i64 %mul.i, %conv205
  %tobool207.not = icmp ult i64 %add206, 4294967296
  br i1 %tobool207.not, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit693, label %cleanup278.thread

cleanup278.thread:                                ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit
  call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([53 x i8], [53 x i8]* @.str.6.40, i64 0, i64 0)) #16
  call void @llvm.lifetime.end.p0i8(i64 129, i8* nonnull %206) #11
  call void @llvm.lifetime.end.p0i8(i64 256, i8* nonnull %41) #11
  br label %cleanup433

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit693: ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit
  %227 = icmp sgt i32 %207, 2
  %spec.store.select = select i1 %227, i32 %207, i32 2
  %228 = bitcast [8 x i32]* %tags to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %228) #11
  %arrayinit.begin = getelementptr inbounds [8 x i32], [8 x i32]* %tags, i64 0, i64 0
  store i32 14, i32* %arrayinit.begin, align 4, !tbaa !76
  %arrayinit.element = getelementptr inbounds [8 x i32], [8 x i32]* %tags, i64 0, i64 1
  %add214 = shl i32 %spec.store.select, 2
  %and215 = add i32 %add214, 4
  %mul216 = and i32 %and215, -8
  %add217 = add i32 %and, 40
  %add218 = add i32 %add217, %mul216
  %add220 = add i32 %add218, %224
  %add221 = add i32 %add220, %conv204
  store i32 %add221, i32* %arrayinit.element, align 4, !tbaa !76
  %arrayinit.element222 = getelementptr inbounds [8 x i32], [8 x i32]* %tags, i64 0, i64 2
  store i32 6, i32* %arrayinit.element222, align 4, !tbaa !76
  %arrayinit.element223 = getelementptr inbounds [8 x i32], [8 x i32]* %tags, i64 0, i64 3
  store i32 8, i32* %arrayinit.element223, align 4, !tbaa !76
  %arrayinit.element224 = getelementptr inbounds [8 x i32], [8 x i32]* %tags, i64 0, i64 4
  %idxprom225 = sext i32 %type_code to i64
  %arrayidx226 = getelementptr inbounds [10 x i8], [10 x i8]* @_ZN6Halide7Runtime8Internal31pixel_type_to_matlab_class_codeE, i64 0, i64 %idxprom225
  %229 = load i8, i8* %arrayidx226, align 1, !tbaa !15
  %conv227 = zext i8 %229 to i32
  store i32 %conv227, i32* %arrayinit.element224, align 4, !tbaa !76
  %arrayinit.element228 = getelementptr inbounds [8 x i32], [8 x i32]* %tags, i64 0, i64 5
  store i32 1, i32* %arrayinit.element228, align 4, !tbaa !76
  %arrayinit.element229 = getelementptr inbounds [8 x i32], [8 x i32]* %tags, i64 0, i64 6
  store i32 5, i32* %arrayinit.element229, align 4, !tbaa !76
  %arrayinit.element230 = getelementptr inbounds [8 x i32], [8 x i32]* %tags, i64 0, i64 7
  store i32 %add214, i32* %arrayinit.element230, align 4, !tbaa !76
  %call.i689 = call i64 @fwrite(i8* nonnull %228, i64 32, i64 1, i8* nonnull %call.i) #16
  %cmp.i690.not = icmp eq i64 %call.i689, 0
  br i1 %cmp.i690.not, label %cleanup278, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit700

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit700: ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit693
  %230 = bitcast [4 x i32]* %extents to i8*
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %230) #11
  %arrayinit.begin235 = getelementptr inbounds [4 x i32], [4 x i32]* %extents, i64 0, i64 0
  %231 = load i32, i32* %extent.i, align 4, !tbaa !183
  store i32 %231, i32* %arrayinit.begin235, align 4, !tbaa !76
  %arrayinit.element238 = getelementptr inbounds [4 x i32], [4 x i32]* %extents, i64 0, i64 1
  %232 = load i32, i32* %extent.i.1, align 4, !tbaa !183
  store i32 %232, i32* %arrayinit.element238, align 4, !tbaa !76
  %arrayinit.element241 = getelementptr inbounds [4 x i32], [4 x i32]* %extents, i64 0, i64 2
  %233 = load i32, i32* %extent.i.2, align 4, !tbaa !183
  store i32 %233, i32* %arrayinit.element241, align 4, !tbaa !76
  %arrayinit.element244 = getelementptr inbounds [4 x i32], [4 x i32]* %extents, i64 0, i64 3
  %234 = load i32, i32* %extent.i.3, align 4, !tbaa !183
  store i32 %234, i32* %arrayinit.element244, align 4, !tbaa !76
  %conv248 = sext i32 %mul216 to i64
  %call.i696 = call i64 @fwrite(i8* nonnull %230, i64 %conv248, i64 1, i8* nonnull %call.i) #16
  %cmp.i697.not = icmp eq i64 %call.i696, 0
  br i1 %cmp.i697.not, label %cleanup274, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit707

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit707: ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit700
  %235 = bitcast [2 x i32]* %name_header to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %235) #11
  %arrayinit.begin252 = getelementptr inbounds [2 x i32], [2 x i32]* %name_header, i64 0, i64 0
  store i32 1, i32* %arrayinit.begin252, align 4, !tbaa !76
  %arrayinit.element253 = getelementptr inbounds [2 x i32], [2 x i32]* %name_header, i64 0, i64 1
  store i32 %conv184, i32* %arrayinit.element253, align 4, !tbaa !76
  %call.i703 = call i64 @fwrite(i8* nonnull %235, i64 8, i64 1, i8* nonnull %call.i) #16
  %cmp.i704.not = icmp eq i64 %call.i703, 0
  br i1 %cmp.i704.not, label %cleanup273, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit714

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit714: ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit707
  %conv258 = zext i32 %and to i64
  %call.i710 = call i64 @fwrite(i8* nonnull %41, i64 %conv258, i64 1, i8* nonnull %call.i) #16
  %cmp.i711.not = icmp eq i64 %call.i710, 0
  br i1 %cmp.i711.not, label %cleanup273, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit721

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit721: ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit714
  %236 = bitcast [2 x i32]* %payload_header to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %236) #11
  %arrayinit.begin262 = getelementptr inbounds [2 x i32], [2 x i32]* %payload_header, i64 0, i64 0
  %arrayidx264 = getelementptr inbounds [10 x i8], [10 x i8]* @_ZN6Halide7Runtime8Internal30pixel_type_to_matlab_type_codeE, i64 0, i64 %idxprom225
  %237 = load i8, i8* %arrayidx264, align 1, !tbaa !15
  %conv265 = zext i8 %237 to i32
  store i32 %conv265, i32* %arrayinit.begin262, align 4, !tbaa !76
  %arrayinit.element266 = getelementptr inbounds [2 x i32], [2 x i32]* %payload_header, i64 0, i64 1
  store i32 %224, i32* %arrayinit.element266, align 4, !tbaa !76
  %call.i717 = call i64 @fwrite(i8* nonnull %236, i64 8, i64 1, i8* nonnull %call.i) #16
  %cmp.i718.not = icmp eq i64 %call.i717, 0
  %. = zext i1 %cmp.i718.not to i32
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %236) #11
  br label %cleanup273

cleanup273:                                       ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit721, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit714, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit707
  %cleanup.dest.slot.6 = phi i32 [ %., %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit721 ], [ 1, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit707 ], [ 1, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit714 ]
  %retval.6 = phi i32 [ -11, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit721 ], [ -9, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit707 ], [ -10, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit714 ]
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %235) #11
  br label %cleanup274

cleanup274:                                       ; preds = %cleanup273, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit700
  %cleanup.dest.slot.7 = phi i32 [ %cleanup.dest.slot.6, %cleanup273 ], [ 1, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit700 ]
  %retval.7 = phi i32 [ %retval.6, %cleanup273 ], [ -8, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit700 ]
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %230) #11
  br label %cleanup278

cleanup278:                                       ; preds = %cleanup274, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit693
  %cleanup.dest.slot.8 = phi i32 [ %cleanup.dest.slot.7, %cleanup274 ], [ 1, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit693 ]
  %retval.8 = phi i32 [ %retval.7, %cleanup274 ], [ -7, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit693 ]
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %228) #11
  call void @llvm.lifetime.end.p0i8(i64 129, i8* nonnull %206) #11
  call void @llvm.lifetime.end.p0i8(i64 256, i8* nonnull %41) #11
  %cond442 = icmp eq i32 %cleanup.dest.slot.8, 0
  br i1 %cond442, label %if.end311, label %cleanup433

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit728: ; preds = %if.else164
  %238 = bitcast [5 x i32]* %header289 to i8*
  call void @llvm.lifetime.start.p0i8(i64 20, i8* nonnull %238) #11
  %arrayinit.begin290 = getelementptr inbounds [5 x i32], [5 x i32]* %header289, i64 0, i64 0
  %239 = load i32, i32* %extent.i, align 4, !tbaa !183
  store i32 %239, i32* %arrayinit.begin290, align 4, !tbaa !76
  %arrayinit.element293 = getelementptr inbounds [5 x i32], [5 x i32]* %header289, i64 0, i64 1
  %240 = load i32, i32* %extent.i.1, align 4, !tbaa !183
  store i32 %240, i32* %arrayinit.element293, align 4, !tbaa !76
  %arrayinit.element296 = getelementptr inbounds [5 x i32], [5 x i32]* %header289, i64 0, i64 2
  %241 = load i32, i32* %extent.i.2, align 4, !tbaa !183
  store i32 %241, i32* %arrayinit.element296, align 4, !tbaa !76
  %arrayinit.element299 = getelementptr inbounds [5 x i32], [5 x i32]* %header289, i64 0, i64 3
  %242 = load i32, i32* %extent.i.3, align 4, !tbaa !183
  store i32 %242, i32* %arrayinit.element299, align 4, !tbaa !76
  %arrayinit.element302 = getelementptr inbounds [5 x i32], [5 x i32]* %header289, i64 0, i64 4
  store i32 %type_code, i32* %arrayinit.element302, align 4, !tbaa !76
  %call.i724 = call i64 @fwrite(i8* nonnull %238, i64 20, i64 1, i8* nonnull %call.i) #16
  %cmp.i725.not = icmp eq i64 %call.i724, 0
  call void @llvm.lifetime.end.p0i8(i64 20, i8* nonnull %238) #11
  br i1 %cmp.i725.not, label %cleanup433, label %if.end311

if.end311:                                        ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit728, %cleanup278, %cleanup154.thread
  %final_padding_bytes.0 = phi i32 [ %conv204, %cleanup278 ], [ 0, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit728 ], [ 0, %cleanup154.thread ]
  %243 = getelementptr inbounds [4096 x i8], [4096 x i8]* %temp, i64 0, i64 0
  call void @llvm.lifetime.start.p0i8(i64 4096, i8* nonnull %243) #11
  %div = udiv i32 4096, %div.i
  %244 = load i32, i32* %min.i.3, align 4, !tbaa !186
  %245 = bitcast [4 x i32]* %idx to i8*
  %arrayinit.begin357 = getelementptr inbounds [4 x i32], [4 x i32]* %idx, i64 0, i64 0
  %arrayinit.element358 = getelementptr inbounds [4 x i32], [4 x i32]* %idx, i64 0, i64 1
  %arrayinit.element359 = getelementptr inbounds [4 x i32], [4 x i32]* %idx, i64 0, i64 2
  %arrayinit.element360 = getelementptr inbounds [4 x i32], [4 x i32]* %idx, i64 0, i64 3
  %dim.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 6
  %conv368 = zext i32 %div.i to i64
  %mul373 = mul nuw nsw i32 %div, %div.i
  %conv374 = zext i32 %mul373 to i64
  %246 = load i32, i32* %extent.i.3, align 4, !tbaa !183
  %cmp320874 = icmp sgt i32 %246, 0
  br i1 %cmp320874, label %for.body322.preheader, label %if.end412

for.body322.preheader:                            ; preds = %if.end311
  %.pre893 = load i32, i32* %min.i.2, align 4, !tbaa !186
  %.pre894 = load i32, i32* %extent.i.2, align 4, !tbaa !183
  br label %for.body322

for.body322:                                      ; preds = %for.inc399, %for.body322.preheader
  %.pre89925 = phi i32 [ %.pre89926, %for.inc399 ], [ %.pre893, %for.body322.preheader ]
  %.pre89820 = phi i32 [ %.pre89821, %for.inc399 ], [ %.pre894, %for.body322.preheader ]
  %247 = phi i32 [ %301, %for.inc399 ], [ %244, %for.body322.preheader ]
  %248 = phi i32 [ %302, %for.inc399 ], [ %246, %for.body322.preheader ]
  %249 = phi i32 [ %303, %for.inc399 ], [ %.pre893, %for.body322.preheader ]
  %250 = phi i32 [ %304, %for.inc399 ], [ %.pre894, %for.body322.preheader ]
  %251 = phi i32 [ %305, %for.inc399 ], [ %.pre894, %for.body322.preheader ]
  %252 = phi i32 [ %306, %for.inc399 ], [ %.pre893, %for.body322.preheader ]
  %dim3.0876 = phi i32 [ %inc400, %for.inc399 ], [ %244, %for.body322.preheader ]
  %counter.0875 = phi i32 [ %counter.1.lcssa, %for.inc399 ], [ 0, %for.body322.preheader ]
  %cmp331866 = icmp sgt i32 %251, 0
  br i1 %cmp331866, label %for.body333.preheader, label %for.inc399

for.body333.preheader:                            ; preds = %for.body322
  %.pre895 = load i32, i32* %min.i.1, align 4, !tbaa !186
  %.pre896 = load i32, i32* %extent.i.1, align 4, !tbaa !183
  br label %for.body333

for.body333:                                      ; preds = %for.inc394, %for.body333.preheader
  %.pre89927 = phi i32 [ %.pre89928, %for.inc394 ], [ %.pre89925, %for.body333.preheader ]
  %.pre89822 = phi i32 [ %.pre89823, %for.inc394 ], [ %.pre89820, %for.body333.preheader ]
  %253 = phi i32 [ %293, %for.inc394 ], [ %.pre895, %for.body333.preheader ]
  %254 = phi i32 [ %294, %for.inc394 ], [ %.pre896, %for.body333.preheader ]
  %255 = phi i32 [ %295, %for.inc394 ], [ %.pre895, %for.body333.preheader ]
  %256 = phi i32 [ %296, %for.inc394 ], [ %.pre896, %for.body333.preheader ]
  %257 = phi i32 [ %297, %for.inc394 ], [ %249, %for.body333.preheader ]
  %258 = phi i32 [ %298, %for.inc394 ], [ %250, %for.body333.preheader ]
  %259 = phi i32 [ %299, %for.inc394 ], [ %.pre896, %for.body333.preheader ]
  %260 = phi i32 [ %300, %for.inc394 ], [ %.pre895, %for.body333.preheader ]
  %dim2.0868 = phi i32 [ %inc395, %for.inc394 ], [ %252, %for.body333.preheader ]
  %counter.1867 = phi i32 [ %counter.2.lcssa, %for.inc394 ], [ %counter.0875, %for.body333.preheader ]
  %cmp342857 = icmp sgt i32 %259, 0
  br i1 %cmp342857, label %for.body344.preheader, label %for.inc394

for.body344.preheader:                            ; preds = %for.body333
  %261 = load i32, i32* %extent.i, align 4, !tbaa !183
  %262 = icmp sgt i32 %261, 0
  br i1 %262, label %for.body344, label %for.inc394

for.body344:                                      ; preds = %for.body344.preheader, %for.inc389
  %263 = phi i32 [ %290, %for.inc389 ], [ %253, %for.body344.preheader ]
  %264 = phi i32 [ %291, %for.inc389 ], [ %254, %for.body344.preheader ]
  %265 = phi i32 [ %292, %for.inc389 ], [ %261, %for.body344.preheader ]
  %dim1.0859 = phi i32 [ %inc390, %for.inc389 ], [ %260, %for.body344.preheader ]
  %counter.2858 = phi i32 [ %counter.6797, %for.inc389 ], [ %counter.1867, %for.body344.preheader ]
  %cmp353851 = icmp sgt i32 %265, 0
  br i1 %cmp353851, label %for.body355.preheader, label %for.inc389

for.body355.preheader:                            ; preds = %for.body344
  %266 = load i32, i32* %min.i, align 4, !tbaa !186
  br label %for.body355

for.body355:                                      ; preds = %for.inc384, %for.body355.preheader
  %dim0.0853 = phi i32 [ %inc385, %for.inc384 ], [ %266, %for.body355.preheader ]
  %counter.3852 = phi i32 [ %counter.4, %for.inc384 ], [ %counter.2858, %for.body355.preheader ]
  %inc356 = add nsw i32 %counter.3852, 1
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %245) #11
  store i32 %dim0.0853, i32* %arrayinit.begin357, align 4, !tbaa !76
  store i32 %dim1.0859, i32* %arrayinit.element358, align 4, !tbaa !76
  store i32 %dim2.0868, i32* %arrayinit.element359, align 4, !tbaa !76
  store i32 %dim3.0876, i32* %arrayinit.element360, align 4, !tbaa !76
  %267 = load i32, i32* %dimensions, align 4, !tbaa !180
  %268 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i, align 8
  %cmp18.i = icmp sgt i32 %267, 0
  br i1 %cmp18.i, label %for.body.preheader.i, label %_ZNK15halide_buffer_t10address_ofEPKi.exit

for.body.preheader.i:                             ; preds = %for.body355
  %wide.trip.count.i = zext i32 %267 to i64
  %stride.i734921 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 0, i32 2
  %269 = load i32, i32* %stride.i734921, align 4, !tbaa !187
  %conv.i735922 = sext i32 %269 to i64
  %min.i736923 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 0, i32 0
  %270 = load i32, i32* %min.i736923, align 4, !tbaa !186
  %sub.i737924 = sub nsw i32 %dim0.0853, %270
  %conv7.i925 = sext i32 %sub.i737924 to i64
  %mul.i738926 = mul nsw i64 %conv7.i925, %conv.i735922
  %exitcond.not.i928 = icmp eq i32 %267, 1
  br i1 %exitcond.not.i928, label %_ZNK15halide_buffer_t10address_ofEPKi.exit, label %for.body.i.for.body.i_crit_edge.preheader, !llvm.loop !222

for.body.i.for.body.i_crit_edge.preheader:        ; preds = %for.body.preheader.i
  %stride.i73439 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 1, i32 2
  %271 = load i32, i32* %stride.i73439, align 4, !tbaa !187
  %conv.i73540 = sext i32 %271 to i64
  %min.i73641 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 1, i32 0
  %272 = load i32, i32* %min.i73641, align 4, !tbaa !186
  %sub.i73742 = sub nsw i32 %dim1.0859, %272
  %conv7.i43 = sext i32 %sub.i73742 to i64
  %mul.i73844 = mul nsw i64 %conv7.i43, %conv.i73540
  %add.i73945 = add nsw i64 %mul.i73844, %mul.i738926
  %exitcond.not.i46 = icmp eq i32 %267, 2
  br i1 %exitcond.not.i46, label %_ZNK15halide_buffer_t10address_ofEPKi.exit, label %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader, !llvm.loop !222

for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader: ; preds = %for.body.i.for.body.i_crit_edge.preheader
  %273 = add nsw i64 %wide.trip.count.i, -2
  %274 = add nsw i64 %wide.trip.count.i, -3
  %xtraiter115 = and i64 %273, 3
  %275 = icmp ult i64 %274, 3
  br i1 %275, label %_ZNK15halide_buffer_t10address_ofEPKi.exit.loopexit.unr-lcssa, label %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader.new

for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader.new: ; preds = %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader
  %unroll_iter119 = and i64 %273, -4
  br label %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge

for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge: ; preds = %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader.new
  %indvars.iv.next.i48 = phi i64 [ 2, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader.new ], [ %indvars.iv.next.i.3, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge ]
  %add.i73947 = phi i64 [ %add.i73945, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader.new ], [ %add.i739.3, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge ]
  %niter120 = phi i64 [ %unroll_iter119, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader.new ], [ %niter120.nsub.3, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge ]
  %arrayidx3.i.phi.trans.insert.phi.trans.insert = getelementptr inbounds [4 x i32], [4 x i32]* %idx, i64 0, i64 %indvars.iv.next.i48
  %.pre897.pre = load i32, i32* %arrayidx3.i.phi.trans.insert.phi.trans.insert, align 4, !tbaa !76
  %stride.i734 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 %indvars.iv.next.i48, i32 2
  %276 = load i32, i32* %stride.i734, align 4, !tbaa !187
  %conv.i735 = sext i32 %276 to i64
  %min.i736 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 %indvars.iv.next.i48, i32 0
  %277 = load i32, i32* %min.i736, align 4, !tbaa !186
  %sub.i737 = sub nsw i32 %.pre897.pre, %277
  %conv7.i = sext i32 %sub.i737 to i64
  %mul.i738 = mul nsw i64 %conv7.i, %conv.i735
  %add.i739 = add nsw i64 %mul.i738, %add.i73947
  %indvars.iv.next.i = or i64 %indvars.iv.next.i48, 1
  %arrayidx3.i.phi.trans.insert.phi.trans.insert.1 = getelementptr inbounds [4 x i32], [4 x i32]* %idx, i64 0, i64 %indvars.iv.next.i
  %.pre897.pre.1 = load i32, i32* %arrayidx3.i.phi.trans.insert.phi.trans.insert.1, align 4, !tbaa !76
  %stride.i734.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 %indvars.iv.next.i, i32 2
  %278 = load i32, i32* %stride.i734.1, align 4, !tbaa !187
  %conv.i735.1 = sext i32 %278 to i64
  %min.i736.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 %indvars.iv.next.i, i32 0
  %279 = load i32, i32* %min.i736.1, align 4, !tbaa !186
  %sub.i737.1 = sub nsw i32 %.pre897.pre.1, %279
  %conv7.i.1 = sext i32 %sub.i737.1 to i64
  %mul.i738.1 = mul nsw i64 %conv7.i.1, %conv.i735.1
  %add.i739.1 = add nsw i64 %mul.i738.1, %add.i739
  %indvars.iv.next.i.1 = add nuw nsw i64 %indvars.iv.next.i48, 2
  %arrayidx3.i.phi.trans.insert.phi.trans.insert.2 = getelementptr inbounds [4 x i32], [4 x i32]* %idx, i64 0, i64 %indvars.iv.next.i.1
  %.pre897.pre.2 = load i32, i32* %arrayidx3.i.phi.trans.insert.phi.trans.insert.2, align 4, !tbaa !76
  %stride.i734.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 %indvars.iv.next.i.1, i32 2
  %280 = load i32, i32* %stride.i734.2, align 4, !tbaa !187
  %conv.i735.2 = sext i32 %280 to i64
  %min.i736.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 %indvars.iv.next.i.1, i32 0
  %281 = load i32, i32* %min.i736.2, align 4, !tbaa !186
  %sub.i737.2 = sub nsw i32 %.pre897.pre.2, %281
  %conv7.i.2 = sext i32 %sub.i737.2 to i64
  %mul.i738.2 = mul nsw i64 %conv7.i.2, %conv.i735.2
  %add.i739.2 = add nsw i64 %mul.i738.2, %add.i739.1
  %indvars.iv.next.i.2 = add nuw nsw i64 %indvars.iv.next.i48, 3
  %arrayidx3.i.phi.trans.insert.phi.trans.insert.3 = getelementptr inbounds [4 x i32], [4 x i32]* %idx, i64 0, i64 %indvars.iv.next.i.2
  %.pre897.pre.3 = load i32, i32* %arrayidx3.i.phi.trans.insert.phi.trans.insert.3, align 4, !tbaa !76
  %stride.i734.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 %indvars.iv.next.i.2, i32 2
  %282 = load i32, i32* %stride.i734.3, align 4, !tbaa !187
  %conv.i735.3 = sext i32 %282 to i64
  %min.i736.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 %indvars.iv.next.i.2, i32 0
  %283 = load i32, i32* %min.i736.3, align 4, !tbaa !186
  %sub.i737.3 = sub nsw i32 %.pre897.pre.3, %283
  %conv7.i.3 = sext i32 %sub.i737.3 to i64
  %mul.i738.3 = mul nsw i64 %conv7.i.3, %conv.i735.3
  %add.i739.3 = add nsw i64 %mul.i738.3, %add.i739.2
  %indvars.iv.next.i.3 = add nuw nsw i64 %indvars.iv.next.i48, 4
  %niter120.nsub.3 = add i64 %niter120, -4
  %niter120.ncmp.3 = icmp eq i64 %niter120.nsub.3, 0
  br i1 %niter120.ncmp.3, label %_ZNK15halide_buffer_t10address_ofEPKi.exit.loopexit.unr-lcssa, label %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge, !llvm.loop !222

_ZNK15halide_buffer_t10address_ofEPKi.exit.loopexit.unr-lcssa: ; preds = %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader
  %add.i739.lcssa.ph = phi i64 [ undef, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader ], [ %add.i739.3, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge ]
  %indvars.iv.next.i48.unr = phi i64 [ 2, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader ], [ %indvars.iv.next.i.3, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge ]
  %add.i73947.unr = phi i64 [ %add.i73945, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.preheader ], [ %add.i739.3, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge ]
  %lcmp.mod117.not = icmp eq i64 %xtraiter115, 0
  br i1 %lcmp.mod117.not, label %_ZNK15halide_buffer_t10address_ofEPKi.exit, label %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.epil

for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.epil: ; preds = %_ZNK15halide_buffer_t10address_ofEPKi.exit.loopexit.unr-lcssa, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.epil
  %indvars.iv.next.i48.epil = phi i64 [ %indvars.iv.next.i.epil, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.epil ], [ %indvars.iv.next.i48.unr, %_ZNK15halide_buffer_t10address_ofEPKi.exit.loopexit.unr-lcssa ]
  %add.i73947.epil = phi i64 [ %add.i739.epil, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.epil ], [ %add.i73947.unr, %_ZNK15halide_buffer_t10address_ofEPKi.exit.loopexit.unr-lcssa ]
  %epil.iter116 = phi i64 [ %epil.iter116.sub, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.epil ], [ %xtraiter115, %_ZNK15halide_buffer_t10address_ofEPKi.exit.loopexit.unr-lcssa ]
  %arrayidx3.i.phi.trans.insert.phi.trans.insert.epil = getelementptr inbounds [4 x i32], [4 x i32]* %idx, i64 0, i64 %indvars.iv.next.i48.epil
  %.pre897.pre.epil = load i32, i32* %arrayidx3.i.phi.trans.insert.phi.trans.insert.epil, align 4, !tbaa !76
  %stride.i734.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 %indvars.iv.next.i48.epil, i32 2
  %284 = load i32, i32* %stride.i734.epil, align 4, !tbaa !187
  %conv.i735.epil = sext i32 %284 to i64
  %min.i736.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %268, i64 %indvars.iv.next.i48.epil, i32 0
  %285 = load i32, i32* %min.i736.epil, align 4, !tbaa !186
  %sub.i737.epil = sub nsw i32 %.pre897.pre.epil, %285
  %conv7.i.epil = sext i32 %sub.i737.epil to i64
  %mul.i738.epil = mul nsw i64 %conv7.i.epil, %conv.i735.epil
  %add.i739.epil = add nsw i64 %mul.i738.epil, %add.i73947.epil
  %indvars.iv.next.i.epil = add nuw nsw i64 %indvars.iv.next.i48.epil, 1
  %epil.iter116.sub = add i64 %epil.iter116, -1
  %epil.iter116.cmp.not = icmp eq i64 %epil.iter116.sub, 0
  br i1 %epil.iter116.cmp.not, label %_ZNK15halide_buffer_t10address_ofEPKi.exit, label %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.epil, !llvm.loop !223

_ZNK15halide_buffer_t10address_ofEPKi.exit:       ; preds = %_ZNK15halide_buffer_t10address_ofEPKi.exit.loopexit.unr-lcssa, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.epil, %for.body.i.for.body.i_crit_edge.preheader, %for.body.preheader.i, %for.body355
  %index.0.lcssa.i = phi i64 [ 0, %for.body355 ], [ %mul.i738926, %for.body.preheader.i ], [ %add.i73945, %for.body.i.for.body.i_crit_edge.preheader ], [ %add.i739.lcssa.ph, %_ZNK15halide_buffer_t10address_ofEPKi.exit.loopexit.unr-lcssa ], [ %add.i739.epil, %for.body.i.for.body.i_crit_edge.for.body.i.for.body.i_crit_edge_crit_edge.epil ]
  %286 = load i8*, i8** %host.i, align 8, !tbaa !178
  %287 = load i8, i8* %bits.i, align 1, !tbaa !141
  %conv.i.i731 = zext i8 %287 to i64
  %add.i.i732 = add nuw nsw i64 %conv.i.i731, 7
  %div.i.i733 = lshr i64 %add.i.i732, 3
  %mul9.i = mul nsw i64 %div.i.i733, %index.0.lcssa.i
  %add.ptr.i = getelementptr inbounds i8, i8* %286, i64 %mul9.i
  %mul366 = mul nsw i32 %counter.3852, %div.i
  %idx.ext = sext i32 %mul366 to i64
  %add.ptr367 = getelementptr inbounds [4096 x i8], [4096 x i8]* %temp, i64 0, i64 %idx.ext
  %call369 = call i8* @memcpy(i8* nonnull %add.ptr367, i8* %add.ptr.i, i64 %conv368) #16
  %cmp370 = icmp eq i32 %inc356, %div
  br i1 %cmp370, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit746, label %for.inc384

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit746: ; preds = %_ZNK15halide_buffer_t10address_ofEPKi.exit
  %call.i742 = call i64 @fwrite(i8* nonnull %243, i64 %conv374, i64 1, i8* nonnull %call.i) #16
  %cmp.i743.not = icmp eq i64 %call.i742, 0
  br i1 %cmp.i743.not, label %cleanup425.loopexit, label %for.inc384

for.inc384:                                       ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit746, %_ZNK15halide_buffer_t10address_ofEPKi.exit
  %counter.4 = phi i32 [ 0, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit746 ], [ %inc356, %_ZNK15halide_buffer_t10address_ofEPKi.exit ]
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %245) #11
  %inc385 = add nsw i32 %dim0.0853, 1
  %288 = load i32, i32* %extent.i, align 4, !tbaa !183
  %289 = load i32, i32* %min.i, align 4, !tbaa !186
  %add352 = add nsw i32 %289, %288
  %cmp353 = icmp slt i32 %inc385, %add352
  br i1 %cmp353, label %for.body355, label %for.inc389.loopexit, !llvm.loop !224

for.inc389.loopexit:                              ; preds = %for.inc384
  %.pre = load i32, i32* %extent.i.1, align 4, !tbaa !183
  %.pre19 = load i32, i32* %min.i.1, align 4, !tbaa !186
  br label %for.inc389

for.inc389:                                       ; preds = %for.inc389.loopexit, %for.body344
  %290 = phi i32 [ %263, %for.body344 ], [ %.pre19, %for.inc389.loopexit ]
  %291 = phi i32 [ %264, %for.body344 ], [ %.pre, %for.inc389.loopexit ]
  %292 = phi i32 [ %265, %for.body344 ], [ %288, %for.inc389.loopexit ]
  %counter.6797 = phi i32 [ %counter.2858, %for.body344 ], [ %counter.4, %for.inc389.loopexit ]
  %inc390 = add nsw i32 %dim1.0859, 1
  %add341 = add nsw i32 %290, %291
  %cmp342 = icmp slt i32 %inc390, %add341
  br i1 %cmp342, label %for.body344, label %for.inc394.loopexit.loopexit, !llvm.loop !225

for.inc394.loopexit.loopexit:                     ; preds = %for.inc389
  %.pre898.pre = load i32, i32* %extent.i.2, align 4, !tbaa !183
  %.pre899.pre = load i32, i32* %min.i.2, align 4, !tbaa !186
  br label %for.inc394

for.inc394:                                       ; preds = %for.inc394.loopexit.loopexit, %for.body344.preheader, %for.body333
  %.pre89928 = phi i32 [ %.pre89927, %for.body333 ], [ %.pre899.pre, %for.inc394.loopexit.loopexit ], [ %.pre89927, %for.body344.preheader ]
  %.pre89823 = phi i32 [ %.pre89822, %for.body333 ], [ %.pre898.pre, %for.inc394.loopexit.loopexit ], [ %.pre89822, %for.body344.preheader ]
  %293 = phi i32 [ %253, %for.body333 ], [ %290, %for.inc394.loopexit.loopexit ], [ %253, %for.body344.preheader ]
  %294 = phi i32 [ %254, %for.body333 ], [ %291, %for.inc394.loopexit.loopexit ], [ %254, %for.body344.preheader ]
  %295 = phi i32 [ %255, %for.body333 ], [ %290, %for.inc394.loopexit.loopexit ], [ %255, %for.body344.preheader ]
  %296 = phi i32 [ %256, %for.body333 ], [ %291, %for.inc394.loopexit.loopexit ], [ %256, %for.body344.preheader ]
  %297 = phi i32 [ %257, %for.body333 ], [ %.pre899.pre, %for.inc394.loopexit.loopexit ], [ %.pre89927, %for.body344.preheader ]
  %298 = phi i32 [ %258, %for.body333 ], [ %.pre898.pre, %for.inc394.loopexit.loopexit ], [ %.pre89822, %for.body344.preheader ]
  %299 = phi i32 [ %259, %for.body333 ], [ %291, %for.inc394.loopexit.loopexit ], [ %256, %for.body344.preheader ]
  %300 = phi i32 [ %260, %for.body333 ], [ %290, %for.inc394.loopexit.loopexit ], [ %255, %for.body344.preheader ]
  %counter.2.lcssa = phi i32 [ %counter.1867, %for.body333 ], [ %counter.6797, %for.inc394.loopexit.loopexit ], [ %counter.1867, %for.body344.preheader ]
  %inc395 = add nsw i32 %dim2.0868, 1
  %add330 = add nsw i32 %298, %297
  %cmp331 = icmp slt i32 %inc395, %add330
  br i1 %cmp331, label %for.body333, label %for.inc399.loopexit, !llvm.loop !227

for.inc399.loopexit:                              ; preds = %for.inc394
  %.pre900 = load i32, i32* %extent.i.3, align 4, !tbaa !183
  %.pre901 = load i32, i32* %min.i.3, align 4, !tbaa !186
  br label %for.inc399

for.inc399:                                       ; preds = %for.inc399.loopexit, %for.body322
  %.pre89926 = phi i32 [ %.pre89925, %for.body322 ], [ %.pre89928, %for.inc399.loopexit ]
  %.pre89821 = phi i32 [ %.pre89820, %for.body322 ], [ %.pre89823, %for.inc399.loopexit ]
  %301 = phi i32 [ %247, %for.body322 ], [ %.pre901, %for.inc399.loopexit ]
  %302 = phi i32 [ %248, %for.body322 ], [ %.pre900, %for.inc399.loopexit ]
  %303 = phi i32 [ %249, %for.body322 ], [ %297, %for.inc399.loopexit ]
  %304 = phi i32 [ %250, %for.body322 ], [ %298, %for.inc399.loopexit ]
  %305 = phi i32 [ %251, %for.body322 ], [ %298, %for.inc399.loopexit ]
  %306 = phi i32 [ %252, %for.body322 ], [ %297, %for.inc399.loopexit ]
  %counter.1.lcssa = phi i32 [ %counter.0875, %for.body322 ], [ %counter.2.lcssa, %for.inc399.loopexit ]
  %inc400 = add nsw i32 %dim3.0876, 1
  %add319 = add nsw i32 %302, %301
  %cmp320 = icmp slt i32 %inc400, %add319
  br i1 %cmp320, label %for.body322, label %for.end403, !llvm.loop !228

for.end403:                                       ; preds = %for.inc399
  %cmp404 = icmp sgt i32 %counter.1.lcssa, 0
  br i1 %cmp404, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit753, label %if.end412

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit753: ; preds = %for.end403
  %mul407 = mul nsw i32 %counter.1.lcssa, %div.i
  %conv408 = sext i32 %mul407 to i64
  %call.i749 = call i64 @fwrite(i8* nonnull %243, i64 %conv408, i64 1, i8* nonnull %call.i) #16
  %cmp.i750.not = icmp eq i64 %call.i749, 0
  br i1 %cmp.i750.not, label %cleanup425, label %if.end412

if.end412:                                        ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit753, %for.end403, %if.end311
  %307 = bitcast i64* %zero to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %307) #11
  store i64 0, i64* %zero, align 8, !tbaa !115
  %tobool413.not = icmp eq i32 %final_padding_bytes.0, 0
  br i1 %tobool413.not, label %if.end423, label %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit760

_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit760: ; preds = %if.end412
  %conv415 = zext i32 %final_padding_bytes.0 to i64
  %call.i756 = call i64 @fwrite(i8* nonnull %307, i64 %conv415, i64 1, i8* nonnull %call.i) #16
  %cmp.i757.not = icmp eq i64 %call.i756, 0
  br i1 %cmp.i757.not, label %cleanup424, label %if.end423

if.end423:                                        ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit760, %if.end412
  br label %cleanup424

cleanup424:                                       ; preds = %if.end423, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit760
  %retval.21 = phi i32 [ 0, %if.end423 ], [ -16, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit760 ]
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %307) #11
  br label %cleanup425

cleanup425.loopexit:                              ; preds = %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit746
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %245) #11
  br label %cleanup425

cleanup425:                                       ; preds = %cleanup425.loopexit, %cleanup424, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit753
  %retval.22 = phi i32 [ %retval.21, %cleanup424 ], [ -14, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit753 ], [ -13, %cleanup425.loopexit ]
  call void @llvm.lifetime.end.p0i8(i64 4096, i8* nonnull %243) #11
  br label %cleanup433

cleanup433:                                       ; preds = %cleanup425, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit728, %cleanup278, %cleanup278.thread, %cleanup154
  %retval.23 = phi i32 [ %retval.22, %cleanup425 ], [ %retval.4, %cleanup154 ], [ %retval.8, %cleanup278 ], [ -12, %_ZN6Halide7Runtime8Internal10ScopedFile5writeEPKvm.exit728 ], [ -6, %cleanup278.thread ]
  call void @llvm.lifetime.end.p0i8(i64 64, i8* nonnull %4) #11
  %call.i763 = call i32 @fclose(i8* nonnull %call.i) #16
  br label %return

return:                                           ; preds = %cleanup433, %if.end6, %if.end2, %if.then1, %if.then
  %retval.26 = phi i32 [ -1, %if.then ], [ -1, %if.then1 ], [ %call3, %if.end2 ], [ %retval.23, %cleanup433 ], [ -2, %if.end6 ]
  ret i32 %retval.26

for.body.1:                                       ; preds = %for.body.lr.ph
  %arrayidx.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %8, i64 1
  %arrayidx14.1 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 1
  %308 = bitcast %struct.halide_dimension_t* %arrayidx14.1 to i8*
  %309 = bitcast %struct.halide_dimension_t* %arrayidx.1 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %308, i8* noundef nonnull align 4 dereferenceable(16) %309, i64 16, i1 false), !tbaa.struct !182
  %extent.1 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 1, i32 1
  %310 = load i32, i32* %extent.1, align 4, !tbaa !183
  %conv904.1 = zext i32 %310 to i64
  %mul.1 = mul nuw i64 %conv904, %conv904.1
  %exitcond.not.1 = icmp eq i32 %10, 2
  br i1 %exitcond.not.1, label %for.cond19.preheader, label %for.body.2, !llvm.loop !185

for.body.2:                                       ; preds = %for.body.1
  %arrayidx.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %8, i64 2
  %arrayidx14.2 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 2
  %311 = bitcast %struct.halide_dimension_t* %arrayidx14.2 to i8*
  %312 = bitcast %struct.halide_dimension_t* %arrayidx.2 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %311, i8* noundef nonnull align 4 dereferenceable(16) %312, i64 16, i1 false), !tbaa.struct !182
  %extent.2 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 2, i32 1
  %313 = load i32, i32* %extent.2, align 4, !tbaa !183
  %conv904.2 = zext i32 %313 to i64
  %mul.2 = mul i64 %mul.1, %conv904.2
  %exitcond.not.2 = icmp eq i32 %10, 3
  br i1 %exitcond.not.2, label %for.cond19.preheader, label %for.body.3, !llvm.loop !185

for.body.3:                                       ; preds = %for.body.2
  %arrayidx.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %8, i64 3
  %arrayidx14.3 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 3
  %314 = bitcast %struct.halide_dimension_t* %arrayidx14.3 to i8*
  %315 = bitcast %struct.halide_dimension_t* %arrayidx.3 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %314, i8* noundef nonnull align 4 dereferenceable(16) %315, i64 16, i1 false), !tbaa.struct !182
  %extent.3 = getelementptr inbounds [4 x %struct.halide_dimension_t], [4 x %struct.halide_dimension_t]* %shape, i64 0, i64 3, i32 1
  %316 = load i32, i32* %extent.3, align 4, !tbaa !183
  %conv904.3 = zext i32 %316 to i64
  %mul.3 = mul i64 %mul.2, %conv904.3
  br label %for.cond19.preheader

if.then.i.i.1:                                    ; preds = %if.end.i.i
  %conv18.i.i.1 = zext i32 %213 to i64
  %extent.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.next.i.i, i32 1
  %317 = load i32, i32* %extent.i.i.1, align 4, !tbaa !183
  %sub.i.i.1 = add nsw i32 %317, -1
  %conv7.i.i.1 = sext i32 %sub.i.i.1 to i64
  %mul.i.i.1 = mul nsw i64 %conv7.i.i.1, %conv18.i.i.1
  %add.i.i.1 = add nsw i64 %mul.i.i.1, %index.1.i.i
  br label %if.end.i.i.1

if.end.i.i.1:                                     ; preds = %if.then.i.i.1, %if.end.i.i
  %index.1.i.i.1 = phi i64 [ %add.i.i.1, %if.then.i.i.1 ], [ %index.1.i.i, %if.end.i.i ]
  %indvars.iv.next.i.i.1 = or i64 %indvars.iv.i.i, 2
  %stride2.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.next.i.i.1, i32 2
  %318 = load i32, i32* %stride2.i.i.2, align 4, !tbaa !187
  %cmp3.i.i.2 = icmp sgt i32 %318, 0
  br i1 %cmp3.i.i.2, label %if.then.i.i.2, label %if.end.i.i.2

if.then.i.i.2:                                    ; preds = %if.end.i.i.1
  %conv18.i.i.2 = zext i32 %318 to i64
  %extent.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.next.i.i.1, i32 1
  %319 = load i32, i32* %extent.i.i.2, align 4, !tbaa !183
  %sub.i.i.2 = add nsw i32 %319, -1
  %conv7.i.i.2 = sext i32 %sub.i.i.2 to i64
  %mul.i.i.2 = mul nsw i64 %conv7.i.i.2, %conv18.i.i.2
  %add.i.i.2 = add nsw i64 %mul.i.i.2, %index.1.i.i.1
  br label %if.end.i.i.2

if.end.i.i.2:                                     ; preds = %if.then.i.i.2, %if.end.i.i.1
  %index.1.i.i.2 = phi i64 [ %add.i.i.2, %if.then.i.i.2 ], [ %index.1.i.i.1, %if.end.i.i.1 ]
  %indvars.iv.next.i.i.2 = or i64 %indvars.iv.i.i, 3
  %stride2.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.next.i.i.2, i32 2
  %320 = load i32, i32* %stride2.i.i.3, align 4, !tbaa !187
  %cmp3.i.i.3 = icmp sgt i32 %320, 0
  br i1 %cmp3.i.i.3, label %if.then.i.i.3, label %if.end.i.i.3

if.then.i.i.3:                                    ; preds = %if.end.i.i.2
  %conv18.i.i.3 = zext i32 %320 to i64
  %extent.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.next.i.i.2, i32 1
  %321 = load i32, i32* %extent.i.i.3, align 4, !tbaa !183
  %sub.i.i.3 = add nsw i32 %321, -1
  %conv7.i.i.3 = sext i32 %sub.i.i.3 to i64
  %mul.i.i.3 = mul nsw i64 %conv7.i.i.3, %conv18.i.i.3
  %add.i.i.3 = add nsw i64 %mul.i.i.3, %index.1.i.i.2
  br label %if.end.i.i.3

if.end.i.i.3:                                     ; preds = %if.then.i.i.3, %if.end.i.i.2
  %index.1.i.i.3 = phi i64 [ %add.i.i.3, %if.then.i.i.3 ], [ %index.1.i.i.2, %if.end.i.i.2 ]
  %indvars.iv.next.i.i.3 = add nuw nsw i64 %indvars.iv.i.i, 4
  %niter108.nsub.3 = add i64 %niter108, -4
  %niter108.ncmp.3 = icmp eq i64 %niter108.nsub.3, 0
  br i1 %niter108.ncmp.3, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.i.i, !llvm.loop !229

if.then.i18.i.1:                                  ; preds = %if.end.i22.i
  %conv.i.i.1 = sext i32 %220 to i64
  %extent.i13.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.next.i20.i, i32 1
  %322 = load i32, i32* %extent.i13.i.1, align 4, !tbaa !183
  %sub.i14.i.1 = add nsw i32 %322, -1
  %conv7.i15.i.1 = sext i32 %sub.i14.i.1 to i64
  %mul.i16.i.1 = mul nsw i64 %conv7.i15.i.1, %conv.i.i.1
  %add.i17.i.1 = add nsw i64 %mul.i16.i.1, %index.1.i19.i
  br label %if.end.i22.i.1

if.end.i22.i.1:                                   ; preds = %if.then.i18.i.1, %if.end.i22.i
  %index.1.i19.i.1 = phi i64 [ %add.i17.i.1, %if.then.i18.i.1 ], [ %index.1.i19.i, %if.end.i22.i ]
  %indvars.iv.next.i20.i.1 = or i64 %indvars.iv.i9.i, 2
  %stride2.i10.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.next.i20.i.1, i32 2
  %323 = load i32, i32* %stride2.i10.i.2, align 4, !tbaa !187
  %cmp3.i11.i.2 = icmp slt i32 %323, 0
  br i1 %cmp3.i11.i.2, label %if.then.i18.i.2, label %if.end.i22.i.2

if.then.i18.i.2:                                  ; preds = %if.end.i22.i.1
  %conv.i.i.2 = sext i32 %323 to i64
  %extent.i13.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.next.i20.i.1, i32 1
  %324 = load i32, i32* %extent.i13.i.2, align 4, !tbaa !183
  %sub.i14.i.2 = add nsw i32 %324, -1
  %conv7.i15.i.2 = sext i32 %sub.i14.i.2 to i64
  %mul.i16.i.2 = mul nsw i64 %conv7.i15.i.2, %conv.i.i.2
  %add.i17.i.2 = add nsw i64 %mul.i16.i.2, %index.1.i19.i.1
  br label %if.end.i22.i.2

if.end.i22.i.2:                                   ; preds = %if.then.i18.i.2, %if.end.i22.i.1
  %index.1.i19.i.2 = phi i64 [ %add.i17.i.2, %if.then.i18.i.2 ], [ %index.1.i19.i.1, %if.end.i22.i.1 ]
  %indvars.iv.next.i20.i.2 = or i64 %indvars.iv.i9.i, 3
  %stride2.i10.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.next.i20.i.2, i32 2
  %325 = load i32, i32* %stride2.i10.i.3, align 4, !tbaa !187
  %cmp3.i11.i.3 = icmp slt i32 %325, 0
  br i1 %cmp3.i11.i.3, label %if.then.i18.i.3, label %if.end.i22.i.3

if.then.i18.i.3:                                  ; preds = %if.end.i22.i.2
  %conv.i.i.3 = sext i32 %325 to i64
  %extent.i13.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %208, i64 %indvars.iv.next.i20.i.2, i32 1
  %326 = load i32, i32* %extent.i13.i.3, align 4, !tbaa !183
  %sub.i14.i.3 = add nsw i32 %326, -1
  %conv7.i15.i.3 = sext i32 %sub.i14.i.3 to i64
  %mul.i16.i.3 = mul nsw i64 %conv7.i15.i.3, %conv.i.i.3
  %add.i17.i.3 = add nsw i64 %mul.i16.i.3, %index.1.i19.i.2
  br label %if.end.i22.i.3

if.end.i22.i.3:                                   ; preds = %if.then.i18.i.3, %if.end.i22.i.2
  %index.1.i19.i.3 = phi i64 [ %add.i17.i.3, %if.then.i18.i.3 ], [ %index.1.i19.i.2, %if.end.i22.i.2 ]
  %indvars.iv.next.i20.i.3 = add nuw nsw i64 %indvars.iv.i9.i, 4
  %niter114.nsub.3 = add i64 %niter114, -4
  %niter114.ncmp.3 = icmp eq i64 %niter114.nsub.3, 0
  br i1 %niter114.ncmp.3, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i, !llvm.loop !230
}

; Function Attrs: mustprogress nofree nosync nounwind readnone speculatable willreturn
declare i32 @llvm.umin.i32(i32, i32) #5

declare i64 @fwrite(i8*, i64, i64, i8*) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak void @halide_cache_cleanup() #0 {
entry:
  tail call void @halide_memoization_cache_cleanup() #17
  ret void
}

; Function Attrs: mustprogress nounwind
define weak void @halide_memoization_cache_cleanup() local_unnamed_addr #0 {
entry:
  br label %for.body

for.cond.cleanup:                                 ; preds = %while.end
  store i64 0, i64* @_ZN6Halide7Runtime8Internal18current_cache_sizeE, align 8, !tbaa !115
  store %"struct.Halide::Runtime::Internal::CacheEntry"* null, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal18most_recently_usedE, align 8, !tbaa !11
  store %"struct.Halide::Runtime::Internal::CacheEntry"* null, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal19least_recently_usedE, align 8, !tbaa !11
  ret void

for.body:                                         ; preds = %while.end, %entry
  %__begin1.018 = phi %"struct.Halide::Runtime::Internal::CacheEntry"** [ getelementptr inbounds ([256 x %"struct.Halide::Runtime::Internal::CacheEntry"*], [256 x %"struct.Halide::Runtime::Internal::CacheEntry"*]* @_ZN6Halide7Runtime8Internal13cache_entriesE, i64 0, i64 0), %entry ], [ %incdec.ptr, %while.end ]
  %0 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %__begin1.018, align 8, !tbaa !11
  store %"struct.Halide::Runtime::Internal::CacheEntry"* null, %"struct.Halide::Runtime::Internal::CacheEntry"** %__begin1.018, align 8, !tbaa !11
  %cmp2.not16 = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %0, null
  br i1 %cmp2.not16, label %while.end, label %while.body

while.body:                                       ; preds = %for.body, %while.body
  %entry1.017 = phi %"struct.Halide::Runtime::Internal::CacheEntry"* [ %1, %while.body ], [ %0, %for.body ]
  %next3 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry1.017, i64 0, i32 0
  %1 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %next3, align 8, !tbaa !231
  tail call void @_ZN6Halide7Runtime8Internal10CacheEntry7destroyEv(%"struct.Halide::Runtime::Internal::CacheEntry"* nonnull align 8 dereferenceable(96) %entry1.017) #17
  %2 = bitcast %"struct.Halide::Runtime::Internal::CacheEntry"* %entry1.017 to i8*
  tail call void @halide_free(i8* null, i8* nonnull %2) #16
  %cmp2.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %1, null
  br i1 %cmp2.not, label %while.end, label %while.body, !llvm.loop !233

while.end:                                        ; preds = %while.body, %for.body
  %incdec.ptr = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %__begin1.018, i64 1
  %cmp.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"** %incdec.ptr, getelementptr inbounds ([256 x %"struct.Halide::Runtime::Internal::CacheEntry"*], [256 x %"struct.Halide::Runtime::Internal::CacheEntry"*]* @_ZN6Halide7Runtime8Internal13cache_entriesE, i64 1, i64 0)
  br i1 %cmp.not, label %for.cond.cleanup, label %for.body
}

; Function Attrs: mustprogress nounwind
define linkonce void @_ZN6Halide7Runtime8Internal10CacheEntry7destroyEv(%"struct.Halide::Runtime::Internal::CacheEntry"* nonnull align 8 dereferenceable(96) %this) local_unnamed_addr #0 align 2 {
entry:
  %tuple_count = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 8
  %buf = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 11
  %0 = load i32, i32* %tuple_count, align 8, !tbaa !234
  %cmp11.not = icmp eq i32 %0, 0
  br i1 %cmp11.not, label %for.cond.cleanup, label %for.body

for.cond.cleanup:                                 ; preds = %for.body, %entry
  %metadata_storage = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 3
  %1 = load i8*, i8** %metadata_storage, align 8, !tbaa !235
  tail call void @halide_free(i8* null, i8* %1) #16
  ret void

for.body:                                         ; preds = %entry, %for.body
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.body ], [ 0, %entry ]
  %2 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %buf, align 8, !tbaa !236
  %arrayidx = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %2, i64 %indvars.iv
  %call = tail call i32 @halide_device_free(i8* null, %struct.halide_buffer_t* %arrayidx) #16
  %3 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %buf, align 8, !tbaa !236
  %host = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %3, i64 %indvars.iv, i32 2
  %4 = load i8*, i8** %host, align 8, !tbaa !178
  %call6 = tail call %"struct.Halide::Runtime::Internal::CacheBlockHeader"* @_ZN6Halide7Runtime8Internal21get_pointer_to_headerEPh(i8* %4) #17
  %5 = bitcast %"struct.Halide::Runtime::Internal::CacheBlockHeader"* %call6 to i8*
  tail call void @halide_free(i8* null, i8* %5) #16
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %6 = load i32, i32* %tuple_count, align 8, !tbaa !234
  %7 = zext i32 %6 to i64
  %cmp = icmp ult i64 %indvars.iv.next, %7
  br i1 %cmp, label %for.body, label %for.cond.cleanup, !llvm.loop !237
}

; Function Attrs: mustprogress nounwind
define linkonce %"struct.Halide::Runtime::Internal::CacheBlockHeader"* @_ZN6Halide7Runtime8Internal21get_pointer_to_headerEPh(i8* %host) local_unnamed_addr #0 {
entry:
  %add.ptr = getelementptr inbounds i8, i8* %host, i64 -64
  %0 = bitcast i8* %add.ptr to %"struct.Halide::Runtime::Internal::CacheBlockHeader"*
  ret %"struct.Halide::Runtime::Internal::CacheBlockHeader"* %0
}

; Function Attrs: mustprogress nounwind
define linkonce void @_ZN6Halide7Runtime8Internal18copy_memory_helperERKNS1_11device_copyEixx(%"struct.Halide::Runtime::Internal::device_copy"* nonnull align 8 dereferenceable(416) %copy, i32 %d, i64 %src_off, i64 %dst_off) local_unnamed_addr #0 {
entry:
  %cmp37 = icmp sgt i32 %d, -1
  br i1 %cmp37, label %land.rhs, label %while.end

land.rhs:                                         ; preds = %entry, %while.body
  %d.addr.038 = phi i32 [ %dec, %while.body ], [ %d, %entry ]
  %idxprom36 = zext i32 %d.addr.038 to i64
  %arrayidx = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %copy, i64 0, i32 3, i64 %idxprom36
  %0 = load i64, i64* %arrayidx, align 8, !tbaa !115
  %cmp1 = icmp eq i64 %0, 1
  br i1 %cmp1, label %while.body, label %for.cond.preheader

while.body:                                       ; preds = %land.rhs
  %dec = add nsw i32 %d.addr.038, -1
  %cmp = icmp sgt i32 %d.addr.038, 0
  br i1 %cmp, label %land.rhs, label %if.then, !llvm.loop !238

while.end:                                        ; preds = %entry
  %cmp2 = icmp eq i32 %d, -1
  br i1 %cmp2, label %if.then, label %for.cond.preheader

for.cond.preheader:                               ; preds = %land.rhs, %while.end
  %d.addr.0.lcssa49 = phi i32 [ %d, %while.end ], [ %d.addr.038, %land.rhs ]
  %idxprom5 = sext i32 %d.addr.0.lcssa49 to i64
  %arrayidx6 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %copy, i64 0, i32 3, i64 %idxprom5
  %sub = add nsw i32 %d.addr.0.lcssa49, -1
  %arrayidx9 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %copy, i64 0, i32 4, i64 %idxprom5
  %arrayidx12 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %copy, i64 0, i32 5, i64 %idxprom5
  %1 = load i64, i64* %arrayidx6, align 8, !tbaa !115
  %cmp740.not = icmp eq i64 %1, 0
  br i1 %cmp740.not, label %if.end, label %for.body

if.then:                                          ; preds = %while.body, %while.end
  %src = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %copy, i64 0, i32 0
  %2 = load i64, i64* %src, align 8, !tbaa !239
  %add = add i64 %2, %src_off
  %3 = inttoptr i64 %add to i8*
  %dst = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %copy, i64 0, i32 1
  %4 = load i64, i64* %dst, align 8, !tbaa !241
  %add3 = add i64 %4, %dst_off
  %5 = inttoptr i64 %add3 to i8*
  %chunk_size = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %copy, i64 0, i32 6
  %6 = load i64, i64* %chunk_size, align 8, !tbaa !242
  %call = tail call i8* @memcpy(i8* %5, i8* %3, i64 %6) #16
  br label %if.end

for.body:                                         ; preds = %for.cond.preheader, %for.body
  %i.043 = phi i64 [ %inc, %for.body ], [ 0, %for.cond.preheader ]
  %src_off.addr.042 = phi i64 [ %add10, %for.body ], [ %src_off, %for.cond.preheader ]
  %dst_off.addr.041 = phi i64 [ %add13, %for.body ], [ %dst_off, %for.cond.preheader ]
  tail call void @_ZN6Halide7Runtime8Internal18copy_memory_helperERKNS1_11device_copyEixx(%"struct.Halide::Runtime::Internal::device_copy"* nonnull align 8 dereferenceable(416) %copy, i32 %sub, i64 %src_off.addr.042, i64 %dst_off.addr.041) #17
  %7 = load i64, i64* %arrayidx9, align 8, !tbaa !115
  %add10 = add i64 %7, %src_off.addr.042
  %8 = load i64, i64* %arrayidx12, align 8, !tbaa !115
  %add13 = add i64 %8, %dst_off.addr.041
  %inc = add nuw i64 %i.043, 1
  %9 = load i64, i64* %arrayidx6, align 8, !tbaa !115
  %cmp7 = icmp ult i64 %inc, %9
  br i1 %cmp7, label %for.body, label %if.end, !llvm.loop !243

if.end:                                           ; preds = %for.body, %if.then, %for.cond.preheader
  ret void
}

; Function Attrs: mustprogress nounwind
define linkonce void @_ZN6Halide7Runtime8Internal11copy_memoryERKNS1_11device_copyEPv(%"struct.Halide::Runtime::Internal::device_copy"* nonnull align 8 dereferenceable(416) %copy, i8* %user_context) local_unnamed_addr #0 {
entry:
  %src = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %copy, i64 0, i32 0
  %0 = load i64, i64* %src, align 8, !tbaa !239
  %dst = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %copy, i64 0, i32 1
  %1 = load i64, i64* %dst, align 8, !tbaa !241
  %cmp.not = icmp eq i64 %0, %1
  br i1 %cmp.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %src_begin = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %copy, i64 0, i32 2
  %2 = load i64, i64* %src_begin, align 8, !tbaa !244
  tail call void @_ZN6Halide7Runtime8Internal18copy_memory_helperERKNS1_11device_copyEixx(%"struct.Halide::Runtime::Internal::device_copy"* nonnull align 8 dereferenceable(416) %copy, i32 15, i64 %2, i64 0) #17
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  ret void
}

; Function Attrs: mustprogress nounwind
define linkonce void @_ZN6Halide7Runtime8Internal16make_buffer_copyEPK15halide_buffer_tbS4_b(%"struct.Halide::Runtime::Internal::device_copy"* noalias sret(%"struct.Halide::Runtime::Internal::device_copy") align 8 %agg.result, %struct.halide_buffer_t* %src, i1 zeroext %src_host, %struct.halide_buffer_t* %dst, i1 zeroext %dst_host) local_unnamed_addr #0 {
entry:
  %c = alloca %"struct.Halide::Runtime::Internal::device_copy", align 8
  %0 = bitcast %"struct.Halide::Runtime::Internal::device_copy"* %c to i8*
  call void @llvm.lifetime.start.p0i8(i64 416, i8* nonnull %0) #11
  br i1 %src_host, label %cond.true, label %cond.false

cond.true:                                        ; preds = %entry
  %host = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 2
  %1 = load i8*, i8** %host, align 8, !tbaa !178
  %2 = ptrtoint i8* %1 to i64
  br label %cond.end

cond.false:                                       ; preds = %entry
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 0
  %3 = load i64, i64* %device, align 8, !tbaa !245
  br label %cond.end

cond.end:                                         ; preds = %cond.false, %cond.true
  %cond = phi i64 [ %2, %cond.true ], [ %3, %cond.false ]
  %src2 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 0
  store i64 %cond, i64* %src2, align 8, !tbaa !239
  br i1 %dst_host, label %cond.true4, label %cond.false6

cond.true4:                                       ; preds = %cond.end
  %host5 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 2
  %4 = load i8*, i8** %host5, align 8, !tbaa !178
  %5 = ptrtoint i8* %4 to i64
  br label %cond.end8

cond.false6:                                      ; preds = %cond.end
  %device7 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 0
  %6 = load i64, i64* %device7, align 8, !tbaa !245
  br label %cond.end8

cond.end8:                                        ; preds = %cond.false6, %cond.true4
  %cond9 = phi i64 [ %5, %cond.true4 ], [ %6, %cond.false6 ]
  %dst10 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 1
  store i64 %cond9, i64* %dst10, align 8, !tbaa !241
  %bits.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 4, i32 1
  %7 = load i8, i8* %bits.i, align 1, !tbaa !141
  %conv.i = zext i8 %7 to i32
  %add.i = add nuw nsw i32 %conv.i, 7
  %div.i = lshr i32 %add.i, 3
  %conv261 = zext i32 %div.i to i64
  %chunk_size = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 6
  store i64 %conv261, i64* %chunk_size, align 8, !tbaa !242
  %arrayidx = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 0
  %arrayidx12 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 0
  %arrayidx14 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 0
  %arrayidx.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 1
  %arrayidx12.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 1
  %arrayidx14.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 1
  %8 = bitcast i64* %arrayidx to <4 x i64>*
  store <4 x i64> <i64 1, i64 1, i64 1, i64 1>, <4 x i64>* %8, align 8, !tbaa !115
  %9 = bitcast i64* %arrayidx12 to <4 x i64>*
  store <4 x i64> zeroinitializer, <4 x i64>* %9, align 8, !tbaa !115
  %10 = bitcast i64* %arrayidx14 to <4 x i64>*
  store <4 x i64> zeroinitializer, <4 x i64>* %10, align 8, !tbaa !115
  %arrayidx.4 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 4
  %arrayidx12.4 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 4
  %arrayidx14.4 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 4
  %arrayidx.5 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 5
  %arrayidx12.5 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 5
  %arrayidx14.5 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 5
  %11 = bitcast i64* %arrayidx.4 to <4 x i64>*
  store <4 x i64> <i64 1, i64 1, i64 1, i64 1>, <4 x i64>* %11, align 8, !tbaa !115
  %12 = bitcast i64* %arrayidx12.4 to <4 x i64>*
  store <4 x i64> zeroinitializer, <4 x i64>* %12, align 8, !tbaa !115
  %13 = bitcast i64* %arrayidx14.4 to <4 x i64>*
  store <4 x i64> zeroinitializer, <4 x i64>* %13, align 8, !tbaa !115
  %arrayidx.8 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 8
  %arrayidx12.8 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 8
  %arrayidx14.8 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 8
  %arrayidx.9 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 9
  %arrayidx12.9 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 9
  %arrayidx14.9 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 9
  %14 = bitcast i64* %arrayidx.8 to <4 x i64>*
  store <4 x i64> <i64 1, i64 1, i64 1, i64 1>, <4 x i64>* %14, align 8, !tbaa !115
  %15 = bitcast i64* %arrayidx12.8 to <4 x i64>*
  store <4 x i64> zeroinitializer, <4 x i64>* %15, align 8, !tbaa !115
  %16 = bitcast i64* %arrayidx14.8 to <4 x i64>*
  store <4 x i64> zeroinitializer, <4 x i64>* %16, align 8, !tbaa !115
  %arrayidx.12 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 12
  %arrayidx12.12 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 12
  %arrayidx14.12 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 12
  %arrayidx.13 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 13
  %arrayidx12.13 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 13
  %arrayidx14.13 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 13
  %arrayidx.14 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 14
  %arrayidx12.14 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 14
  %arrayidx14.14 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 14
  %arrayidx.15 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 15
  %17 = bitcast i64* %arrayidx.12 to <4 x i64>*
  store <4 x i64> <i64 1, i64 1, i64 1, i64 1>, <4 x i64>* %17, align 8, !tbaa !115
  %arrayidx12.15 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 15
  %18 = bitcast i64* %arrayidx12.12 to <4 x i64>*
  store <4 x i64> zeroinitializer, <4 x i64>* %18, align 8, !tbaa !115
  %arrayidx14.15 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 15
  %19 = bitcast i64* %arrayidx14.12 to <4 x i64>*
  store <4 x i64> zeroinitializer, <4 x i64>* %19, align 8, !tbaa !115
  %src_begin = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 2
  %dimensions = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 5
  %20 = load i32, i32* %dimensions, align 4, !tbaa !180
  %cmp17264 = icmp sgt i32 %20, 0
  br i1 %cmp17264, label %for.body19.lr.ph, label %for.cond.cleanup18

for.body19.lr.ph:                                 ; preds = %cond.end8
  %dim23 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 6
  %dim = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 6
  %21 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim, align 8, !tbaa !181
  %22 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim23, align 8, !tbaa !181
  %wide.trip.count = zext i32 %20 to i64
  %23 = add nsw i64 %wide.trip.count, -1
  %xtraiter = and i64 %wide.trip.count, 3
  %24 = icmp ult i64 %23, 3
  br i1 %24, label %for.cond.cleanup18.loopexit.unr-lcssa, label %for.body19.lr.ph.new

for.body19.lr.ph.new:                             ; preds = %for.body19.lr.ph
  %unroll_iter = and i64 %wide.trip.count, 4294967292
  br label %for.body19

for.cond.cleanup18.loopexit.unr-lcssa:            ; preds = %for.body19, %for.body19.lr.ph
  %add.lcssa.ph = phi i64 [ undef, %for.body19.lr.ph ], [ %add.3, %for.body19 ]
  %indvars.iv.unr = phi i64 [ 0, %for.body19.lr.ph ], [ %indvars.iv.next.3, %for.body19 ]
  %.unr = phi i64 [ 0, %for.body19.lr.ph ], [ %add.3, %for.body19 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.cond.cleanup18, label %for.body19.epil

for.body19.epil:                                  ; preds = %for.cond.cleanup18.loopexit.unr-lcssa, %for.body19.epil
  %indvars.iv.epil = phi i64 [ %indvars.iv.next.epil, %for.body19.epil ], [ %indvars.iv.unr, %for.cond.cleanup18.loopexit.unr-lcssa ]
  %25 = phi i64 [ %add.epil, %for.body19.epil ], [ %.unr, %for.cond.cleanup18.loopexit.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %for.body19.epil ], [ %xtraiter, %for.cond.cleanup18.loopexit.unr-lcssa ]
  %stride.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %21, i64 %indvars.iv.epil, i32 2
  %26 = load i32, i32* %stride.epil, align 4, !tbaa !187
  %conv22.epil = sext i32 %26 to i64
  %min.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.epil, i32 0
  %27 = load i32, i32* %min.epil, align 4, !tbaa !186
  %min29.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %21, i64 %indvars.iv.epil, i32 0
  %28 = load i32, i32* %min29.epil, align 4, !tbaa !186
  %sub.epil = sub nsw i32 %27, %28
  %conv30.epil = sext i32 %sub.epil to i64
  %mul.epil = mul nsw i64 %conv30.epil, %conv22.epil
  %add.epil = add i64 %mul.epil, %25
  %indvars.iv.next.epil = add nuw nsw i64 %indvars.iv.epil, 1
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %for.cond.cleanup18, label %for.body19.epil, !llvm.loop !246

for.cond.cleanup18:                               ; preds = %for.cond.cleanup18.loopexit.unr-lcssa, %for.body19.epil, %cond.end8
  %29 = phi i64 [ 0, %cond.end8 ], [ %add.lcssa.ph, %for.cond.cleanup18.loopexit.unr-lcssa ], [ %add.epil, %for.body19.epil ]
  %mul37 = mul i64 %29, %conv261
  store i64 %mul37, i64* %src_begin, align 8, !tbaa !244
  %dimensions39 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 5
  %30 = load i32, i32* %dimensions39, align 4, !tbaa !180
  %cmp40.not = icmp eq i32 %20, %30
  br i1 %cmp40.not, label %lor.lhs.false, label %if.then

for.body19:                                       ; preds = %for.body19, %for.body19.lr.ph.new
  %indvars.iv = phi i64 [ 0, %for.body19.lr.ph.new ], [ %indvars.iv.next.3, %for.body19 ]
  %31 = phi i64 [ 0, %for.body19.lr.ph.new ], [ %add.3, %for.body19 ]
  %niter = phi i64 [ %unroll_iter, %for.body19.lr.ph.new ], [ %niter.nsub.3, %for.body19 ]
  %stride = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %21, i64 %indvars.iv, i32 2
  %32 = load i32, i32* %stride, align 4, !tbaa !187
  %conv22 = sext i32 %32 to i64
  %min = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv, i32 0
  %33 = load i32, i32* %min, align 4, !tbaa !186
  %min29 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %21, i64 %indvars.iv, i32 0
  %34 = load i32, i32* %min29, align 4, !tbaa !186
  %sub = sub nsw i32 %33, %34
  %conv30 = sext i32 %sub to i64
  %mul = mul nsw i64 %conv30, %conv22
  %add = add i64 %mul, %31
  %indvars.iv.next = or i64 %indvars.iv, 1
  %stride.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %21, i64 %indvars.iv.next, i32 2
  %35 = load i32, i32* %stride.1, align 4, !tbaa !187
  %conv22.1 = sext i32 %35 to i64
  %min.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next, i32 0
  %36 = load i32, i32* %min.1, align 4, !tbaa !186
  %min29.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %21, i64 %indvars.iv.next, i32 0
  %37 = load i32, i32* %min29.1, align 4, !tbaa !186
  %sub.1 = sub nsw i32 %36, %37
  %conv30.1 = sext i32 %sub.1 to i64
  %mul.1 = mul nsw i64 %conv30.1, %conv22.1
  %add.1 = add i64 %mul.1, %add
  %indvars.iv.next.1 = or i64 %indvars.iv, 2
  %stride.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %21, i64 %indvars.iv.next.1, i32 2
  %38 = load i32, i32* %stride.2, align 4, !tbaa !187
  %conv22.2 = sext i32 %38 to i64
  %min.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.1, i32 0
  %39 = load i32, i32* %min.2, align 4, !tbaa !186
  %min29.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %21, i64 %indvars.iv.next.1, i32 0
  %40 = load i32, i32* %min29.2, align 4, !tbaa !186
  %sub.2 = sub nsw i32 %39, %40
  %conv30.2 = sext i32 %sub.2 to i64
  %mul.2 = mul nsw i64 %conv30.2, %conv22.2
  %add.2 = add i64 %mul.2, %add.1
  %indvars.iv.next.2 = or i64 %indvars.iv, 3
  %stride.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %21, i64 %indvars.iv.next.2, i32 2
  %41 = load i32, i32* %stride.3, align 4, !tbaa !187
  %conv22.3 = sext i32 %41 to i64
  %min.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.2, i32 0
  %42 = load i32, i32* %min.3, align 4, !tbaa !186
  %min29.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %21, i64 %indvars.iv.next.2, i32 0
  %43 = load i32, i32* %min29.3, align 4, !tbaa !186
  %sub.3 = sub nsw i32 %42, %43
  %conv30.3 = sext i32 %sub.3 to i64
  %mul.3 = mul nsw i64 %conv30.3, %conv22.3
  %add.3 = add i64 %mul.3, %add.2
  %indvars.iv.next.3 = add nuw nsw i64 %indvars.iv, 4
  %niter.nsub.3 = add i64 %niter, -4
  %niter.ncmp.3 = icmp eq i64 %niter.nsub.3, 0
  br i1 %niter.ncmp.3, label %for.cond.cleanup18.loopexit.unr-lcssa, label %for.body19, !llvm.loop !247

lor.lhs.false:                                    ; preds = %for.cond.cleanup18
  %bits.i249 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 4, i32 1
  %44 = load i8, i8* %bits.i249, align 1, !tbaa !141
  %conv.i250 = zext i8 %44 to i32
  %add.i251 = add nuw nsw i32 %conv.i250, 7
  %div.i252 = lshr i32 %add.i251, 3
  %cmp45.not = icmp ne i32 %div.i, %div.i252
  %cmp48 = icmp sgt i32 %20, 16
  %or.cond262 = select i1 %cmp45.not, i1 true, i1 %cmp48
  br i1 %or.cond262, label %if.then, label %if.end

if.then:                                          ; preds = %lor.lhs.false, %for.cond.cleanup18
  %45 = bitcast %"struct.Halide::Runtime::Internal::device_copy"* %agg.result to i8*
  tail call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(416) %45, i8 0, i64 416, i1 false)
  br label %cleanup

if.end:                                           ; preds = %lor.lhs.false
  %cmp50 = icmp eq i8 %7, 0
  br i1 %cmp50, label %if.then51, label %for.cond54.preheader

for.cond54.preheader:                             ; preds = %if.end
  br i1 %cmp17264, label %for.body58.lr.ph, label %while.end

for.body58.lr.ph:                                 ; preds = %for.cond54.preheader
  %dim70 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 6
  %dim60 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 6
  %46 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim60, align 8, !tbaa !181
  %47 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim70, align 8, !tbaa !181
  %wide.trip.count286 = zext i32 %20 to i64
  br label %for.body58

if.then51:                                        ; preds = %if.end
  %48 = bitcast %"struct.Halide::Runtime::Internal::device_copy"* %agg.result to i8*
  tail call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(416) %48, i8 0, i64 416, i1 false)
  br label %cleanup

while.cond.preheader:                             ; preds = %for.cond.cleanup94
  %.pre = load i64, i64* %chunk_size, align 8, !tbaa !242
  %.pre292 = load i64, i64* %arrayidx12, align 8, !tbaa !115
  %cmp139276 = icmp eq i64 %.pre, %.pre292
  br i1 %cmp139276, label %land.rhs.preheader, label %while.end

land.rhs.preheader:                               ; preds = %while.cond.preheader
  %.pre293 = load i64, i64* %arrayidx14, align 8, !tbaa !115
  %49 = bitcast i64* %arrayidx.1 to <4 x i64>*
  %50 = bitcast i64* %arrayidx to <4 x i64>*
  %51 = bitcast i64* %arrayidx12.1 to <4 x i64>*
  %52 = bitcast i64* %arrayidx12 to <4 x i64>*
  %53 = bitcast i64* %arrayidx14.1 to <4 x i64>*
  %54 = bitcast i64* %arrayidx14 to <4 x i64>*
  %55 = bitcast i64* %arrayidx.5 to <4 x i64>*
  %56 = bitcast i64* %arrayidx.4 to <4 x i64>*
  %57 = bitcast i64* %arrayidx12.5 to <4 x i64>*
  %58 = bitcast i64* %arrayidx12.4 to <4 x i64>*
  %59 = bitcast i64* %arrayidx14.5 to <4 x i64>*
  %60 = bitcast i64* %arrayidx14.4 to <4 x i64>*
  %61 = bitcast i64* %arrayidx.9 to <4 x i64>*
  %62 = bitcast i64* %arrayidx.8 to <4 x i64>*
  %63 = bitcast i64* %arrayidx12.9 to <4 x i64>*
  %64 = bitcast i64* %arrayidx12.8 to <4 x i64>*
  %65 = bitcast i64* %arrayidx14.9 to <4 x i64>*
  %66 = bitcast i64* %arrayidx14.8 to <4 x i64>*
  %67 = bitcast i64* %arrayidx.13 to <2 x i64>*
  %68 = bitcast i64* %arrayidx.12 to <2 x i64>*
  %69 = bitcast i64* %arrayidx12.13 to <2 x i64>*
  %70 = bitcast i64* %arrayidx12.12 to <2 x i64>*
  %71 = bitcast i64* %arrayidx14.13 to <2 x i64>*
  %72 = bitcast i64* %arrayidx14.12 to <2 x i64>*
  br label %land.rhs

for.body58:                                       ; preds = %for.cond.cleanup94, %for.body58.lr.ph
  %indvars.iv282 = phi i64 [ 0, %for.body58.lr.ph ], [ %indvars.iv.next283, %for.cond.cleanup94 ]
  %stride63 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv282, i32 2
  %73 = load i32, i32* %stride63, align 4, !tbaa !187
  %conv64 = sext i32 %73 to i64
  %mul68 = mul nsw i64 %conv64, %conv261
  %stride73 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %47, i64 %indvars.iv282, i32 2
  %74 = load i32, i32* %stride73, align 4, !tbaa !187
  %conv74 = sext i32 %74 to i64
  %mul78 = mul nsw i64 %conv74, %conv261
  %cmp80266.not = icmp eq i64 %indvars.iv282, 0
  br i1 %cmp80266.not, label %for.end91, label %for.body81.lr.ph

for.body81.lr.ph:                                 ; preds = %for.body58
  %cmp86.not = icmp eq i64 %mul68, 0
  br i1 %cmp86.not, label %for.body81.us.preheader, label %for.body81

for.body81.us.preheader:                          ; preds = %for.body81.lr.ph
  %75 = trunc i64 %indvars.iv282 to i32
  br label %for.end91

for.body81:                                       ; preds = %for.body81.lr.ph, %for.inc89
  %indvars.iv278 = phi i64 [ %indvars.iv.next279, %for.inc89 ], [ 0, %for.body81.lr.ph ]
  %arrayidx84 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %indvars.iv278
  %76 = load i64, i64* %arrayidx84, align 8, !tbaa !115
  %cmp85 = icmp ult i64 %mul68, %76
  br i1 %cmp85, label %for.end91.loopexit277, label %for.inc89

for.inc89:                                        ; preds = %for.body81
  %indvars.iv.next279 = add nuw nsw i64 %indvars.iv278, 1
  %exitcond281.not = icmp eq i64 %indvars.iv.next279, %indvars.iv282
  br i1 %exitcond281.not, label %for.end91.loopexit277, label %for.body81, !llvm.loop !248

for.end91.loopexit277:                            ; preds = %for.inc89, %for.body81
  %insert.0.lcssa.ph.in = phi i64 [ %indvars.iv282, %for.inc89 ], [ %indvars.iv278, %for.body81 ]
  %insert.0.lcssa.ph = trunc i64 %insert.0.lcssa.ph.in to i32
  br label %for.end91

for.end91:                                        ; preds = %for.end91.loopexit277, %for.body81.us.preheader, %for.body58
  %insert.0.lcssa = phi i32 [ 0, %for.body58 ], [ %75, %for.body81.us.preheader ], [ %insert.0.lcssa.ph, %for.end91.loopexit277 ]
  %77 = zext i32 %insert.0.lcssa to i64
  %cmp93270 = icmp ugt i64 %indvars.iv282, %77
  br i1 %cmp93270, label %for.body95.preheader, label %for.cond.cleanup94

for.body95.preheader:                             ; preds = %for.end91
  %78 = sext i32 %insert.0.lcssa to i64
  %79 = sub i64 %indvars.iv282, %78
  %80 = xor i64 %78, -1
  %81 = add i64 %indvars.iv282, %80
  %xtraiter3 = and i64 %79, 3
  %lcmp.mod4.not = icmp eq i64 %xtraiter3, 0
  br i1 %lcmp.mod4.not, label %for.body95.prol.loopexit, label %for.body95.prol

for.body95.prol:                                  ; preds = %for.body95.preheader, %for.body95.prol
  %indvars.iv284.prol = phi i64 [ %indvars.iv.next285.prol, %for.body95.prol ], [ %indvars.iv282, %for.body95.preheader ]
  %prol.iter = phi i64 [ %prol.iter.sub, %for.body95.prol ], [ %xtraiter3, %for.body95.preheader ]
  %indvars.iv.next285.prol = add nsw i64 %indvars.iv284.prol, -1
  %arrayidx99.prol = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 %indvars.iv.next285.prol
  %82 = load i64, i64* %arrayidx99.prol, align 8, !tbaa !115
  %arrayidx102.prol = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 %indvars.iv284.prol
  store i64 %82, i64* %arrayidx102.prol, align 8, !tbaa !115
  %arrayidx106.prol = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %indvars.iv.next285.prol
  %83 = load i64, i64* %arrayidx106.prol, align 8, !tbaa !115
  %arrayidx109.prol = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %indvars.iv284.prol
  store i64 %83, i64* %arrayidx109.prol, align 8, !tbaa !115
  %arrayidx113.prol = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 %indvars.iv.next285.prol
  %84 = load i64, i64* %arrayidx113.prol, align 8, !tbaa !115
  %arrayidx116.prol = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 %indvars.iv284.prol
  store i64 %84, i64* %arrayidx116.prol, align 8, !tbaa !115
  %prol.iter.sub = add i64 %prol.iter, -1
  %prol.iter.cmp.not = icmp eq i64 %prol.iter.sub, 0
  br i1 %prol.iter.cmp.not, label %for.body95.prol.loopexit, label %for.body95.prol, !llvm.loop !249

for.body95.prol.loopexit:                         ; preds = %for.body95.prol, %for.body95.preheader
  %indvars.iv284.unr = phi i64 [ %indvars.iv282, %for.body95.preheader ], [ %indvars.iv.next285.prol, %for.body95.prol ]
  %85 = icmp ult i64 %81, 3
  br i1 %85, label %for.cond.cleanup94, label %for.body95

for.cond.cleanup94:                               ; preds = %for.body95.prol.loopexit, %for.body95, %for.end91
  %extent122 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv282, i32 1
  %86 = load i32, i32* %extent122, align 4, !tbaa !183
  %conv123 = sext i32 %86 to i64
  %arrayidx126 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 %77
  store i64 %conv123, i64* %arrayidx126, align 8, !tbaa !115
  %arrayidx129 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %77
  store i64 %mul68, i64* %arrayidx129, align 8, !tbaa !115
  %arrayidx132 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 %77
  store i64 %mul78, i64* %arrayidx132, align 8, !tbaa !115
  %indvars.iv.next283 = add nuw nsw i64 %indvars.iv282, 1
  %exitcond287.not = icmp eq i64 %indvars.iv.next283, %wide.trip.count286
  br i1 %exitcond287.not, label %while.cond.preheader, label %for.body58, !llvm.loop !250

for.body95:                                       ; preds = %for.body95.prol.loopexit, %for.body95
  %indvars.iv284 = phi i64 [ %indvars.iv.next285.3, %for.body95 ], [ %indvars.iv284.unr, %for.body95.prol.loopexit ]
  %indvars.iv.next285 = add nsw i64 %indvars.iv284, -1
  %arrayidx99 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 %indvars.iv.next285
  %87 = load i64, i64* %arrayidx99, align 8, !tbaa !115
  %arrayidx102 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 %indvars.iv284
  store i64 %87, i64* %arrayidx102, align 8, !tbaa !115
  %arrayidx106 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %indvars.iv.next285
  %88 = load i64, i64* %arrayidx106, align 8, !tbaa !115
  %arrayidx109 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %indvars.iv284
  store i64 %88, i64* %arrayidx109, align 8, !tbaa !115
  %arrayidx113 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 %indvars.iv.next285
  %89 = load i64, i64* %arrayidx113, align 8, !tbaa !115
  %arrayidx116 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 %indvars.iv284
  store i64 %89, i64* %arrayidx116, align 8, !tbaa !115
  %indvars.iv.next285.1 = add nsw i64 %indvars.iv284, -2
  %arrayidx99.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 %indvars.iv.next285.1
  %90 = load i64, i64* %arrayidx99.1, align 8, !tbaa !115
  %arrayidx102.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 %indvars.iv.next285
  store i64 %90, i64* %arrayidx102.1, align 8, !tbaa !115
  %arrayidx106.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %indvars.iv.next285.1
  %91 = load i64, i64* %arrayidx106.1, align 8, !tbaa !115
  %arrayidx109.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %indvars.iv.next285
  store i64 %91, i64* %arrayidx109.1, align 8, !tbaa !115
  %arrayidx113.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 %indvars.iv.next285.1
  %92 = load i64, i64* %arrayidx113.1, align 8, !tbaa !115
  %arrayidx116.1 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 %indvars.iv.next285
  store i64 %92, i64* %arrayidx116.1, align 8, !tbaa !115
  %indvars.iv.next285.2 = add nsw i64 %indvars.iv284, -3
  %arrayidx99.2 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 %indvars.iv.next285.2
  %93 = load i64, i64* %arrayidx99.2, align 8, !tbaa !115
  %arrayidx102.2 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 %indvars.iv.next285.1
  store i64 %93, i64* %arrayidx102.2, align 8, !tbaa !115
  %arrayidx106.2 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %indvars.iv.next285.2
  %94 = load i64, i64* %arrayidx106.2, align 8, !tbaa !115
  %arrayidx109.2 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %indvars.iv.next285.1
  store i64 %94, i64* %arrayidx109.2, align 8, !tbaa !115
  %arrayidx113.2 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 %indvars.iv.next285.2
  %95 = load i64, i64* %arrayidx113.2, align 8, !tbaa !115
  %arrayidx116.2 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 %indvars.iv.next285.1
  store i64 %95, i64* %arrayidx116.2, align 8, !tbaa !115
  %indvars.iv.next285.3 = add nsw i64 %indvars.iv284, -4
  %arrayidx99.3 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 %indvars.iv.next285.3
  %96 = load i64, i64* %arrayidx99.3, align 8, !tbaa !115
  %arrayidx102.3 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 %indvars.iv.next285.2
  store i64 %96, i64* %arrayidx102.3, align 8, !tbaa !115
  %arrayidx106.3 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %indvars.iv.next285.3
  %97 = load i64, i64* %arrayidx106.3, align 8, !tbaa !115
  %arrayidx109.3 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %indvars.iv.next285.2
  store i64 %97, i64* %arrayidx109.3, align 8, !tbaa !115
  %arrayidx113.3 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 %indvars.iv.next285.3
  %98 = load i64, i64* %arrayidx113.3, align 8, !tbaa !115
  %arrayidx116.3 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 %indvars.iv.next285.2
  store i64 %98, i64* %arrayidx116.3, align 8, !tbaa !115
  %cmp93.3 = icmp sgt i64 %indvars.iv.next285.3, %78
  br i1 %cmp93.3, label %for.body95, label %for.cond.cleanup94, !llvm.loop !251

land.rhs:                                         ; preds = %while.body, %land.rhs.preheader
  %99 = phi i64 [ %118, %while.body ], [ %.pre293, %land.rhs.preheader ]
  %100 = phi i64 [ %mul147, %while.body ], [ %.pre, %land.rhs.preheader ]
  %cmp143 = icmp eq i64 %100, %99
  br i1 %cmp143, label %while.body, label %while.end

while.body:                                       ; preds = %land.rhs
  %101 = load i64, i64* %arrayidx, align 8, !tbaa !115
  %mul147 = mul i64 %101, %99
  store i64 %mul147, i64* %chunk_size, align 8, !tbaa !242
  %102 = load <4 x i64>, <4 x i64>* %49, align 8, !tbaa !115
  store <4 x i64> %102, <4 x i64>* %50, align 8, !tbaa !115
  %103 = load <4 x i64>, <4 x i64>* %51, align 8, !tbaa !115
  store <4 x i64> %103, <4 x i64>* %52, align 8, !tbaa !115
  %104 = load <4 x i64>, <4 x i64>* %53, align 8, !tbaa !115
  store <4 x i64> %104, <4 x i64>* %54, align 8, !tbaa !115
  %105 = load <4 x i64>, <4 x i64>* %55, align 8, !tbaa !115
  store <4 x i64> %105, <4 x i64>* %56, align 8, !tbaa !115
  %106 = load <4 x i64>, <4 x i64>* %57, align 8, !tbaa !115
  store <4 x i64> %106, <4 x i64>* %58, align 8, !tbaa !115
  %107 = load <4 x i64>, <4 x i64>* %59, align 8, !tbaa !115
  store <4 x i64> %107, <4 x i64>* %60, align 8, !tbaa !115
  %108 = load <4 x i64>, <4 x i64>* %61, align 8, !tbaa !115
  store <4 x i64> %108, <4 x i64>* %62, align 8, !tbaa !115
  %109 = load <4 x i64>, <4 x i64>* %63, align 8, !tbaa !115
  store <4 x i64> %109, <4 x i64>* %64, align 8, !tbaa !115
  %110 = load <4 x i64>, <4 x i64>* %65, align 8, !tbaa !115
  store <4 x i64> %110, <4 x i64>* %66, align 8, !tbaa !115
  %111 = load <2 x i64>, <2 x i64>* %67, align 8, !tbaa !115
  store <2 x i64> %111, <2 x i64>* %68, align 8, !tbaa !115
  %112 = load <2 x i64>, <2 x i64>* %69, align 8, !tbaa !115
  store <2 x i64> %112, <2 x i64>* %70, align 8, !tbaa !115
  %113 = load <2 x i64>, <2 x i64>* %71, align 8, !tbaa !115
  store <2 x i64> %113, <2 x i64>* %72, align 8, !tbaa !115
  %114 = load i64, i64* %arrayidx.15, align 8, !tbaa !115
  store i64 %114, i64* %arrayidx.14, align 8, !tbaa !115
  %115 = load i64, i64* %arrayidx12.15, align 8, !tbaa !115
  store i64 %115, i64* %arrayidx12.14, align 8, !tbaa !115
  %116 = load i64, i64* %arrayidx14.15, align 8, !tbaa !115
  store i64 %116, i64* %arrayidx14.14, align 8, !tbaa !115
  store i64 1, i64* %arrayidx.15, align 8, !tbaa !115
  store i64 0, i64* %arrayidx12.15, align 8, !tbaa !115
  store i64 0, i64* %arrayidx14.15, align 8, !tbaa !115
  %117 = extractelement <4 x i64> %103, i32 0
  %cmp139 = icmp eq i64 %mul147, %117
  %118 = extractelement <4 x i64> %104, i32 0
  br i1 %cmp139, label %land.rhs, label %while.end, !llvm.loop !252

while.end:                                        ; preds = %while.body, %land.rhs, %while.cond.preheader, %for.cond54.preheader
  %119 = bitcast %"struct.Halide::Runtime::Internal::device_copy"* %agg.result to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(416) %119, i8* noundef nonnull align 8 dereferenceable(416) %0, i64 416, i1 false), !tbaa.struct !253
  br label %cleanup

cleanup:                                          ; preds = %while.end, %if.then51, %if.then
  call void @llvm.lifetime.end.p0i8(i64 416, i8* nonnull %0) #11
  ret void
}

; Function Attrs: argmemonly mustprogress nofree nounwind willreturn writeonly
declare void @llvm.memset.p0i8.i64(i8* nocapture writeonly, i8, i64, i1 immarg) #6

; Function Attrs: mustprogress nounwind
define linkonce zeroext i1 @_ZN6Halide7Runtime8Internal10keys_equalEPKhS3_m(i8* %key1, i8* %key2, i64 %key_size) local_unnamed_addr #0 {
entry:
  %call = tail call i32 @memcmp(i8* %key1, i8* %key2, i64 %key_size) #16
  %cmp = icmp eq i32 %call, 0
  ret i1 %cmp
}

declare i32 @memcmp(i8*, i8*, i64) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define linkonce zeroext i1 @_ZN6Halide7Runtime8Internal16buffer_has_shapeEPK15halide_buffer_tPK18halide_dimension_t(%struct.halide_buffer_t* %buf, %struct.halide_dimension_t* %shape) local_unnamed_addr #0 {
entry:
  %dimensions = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 5
  %0 = load i32, i32* %dimensions, align 4, !tbaa !180
  %cmp9 = icmp sgt i32 %0, 0
  br i1 %cmp9, label %for.body.lr.ph, label %return

for.body.lr.ph:                                   ; preds = %entry
  %dim = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 6
  %1 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim, align 8, !tbaa !181
  %2 = zext i32 %0 to i64
  %min.i.i16 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 0, i32 0
  %3 = load i32, i32* %min.i.i16, align 4, !tbaa !186
  %min2.i.i17 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %shape, i64 0, i32 0
  %4 = load i32, i32* %min2.i.i17, align 4, !tbaa !186
  %cmp.i.i18 = icmp eq i32 %3, %4
  br i1 %cmp.i.i18, label %land.lhs.true.i.i.preheader, label %return

land.lhs.true.i.i.preheader:                      ; preds = %for.body.lr.ph
  %extent.i.i1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 0, i32 1
  %5 = load i32, i32* %extent.i.i1, align 4, !tbaa !183
  %extent3.i.i2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %shape, i64 0, i32 1
  %6 = load i32, i32* %extent3.i.i2, align 4, !tbaa !183
  %cmp4.i.i3 = icmp eq i32 %5, %6
  br i1 %cmp4.i.i3, label %land.lhs.true5.i.i.preheader, label %return

land.lhs.true5.i.i.preheader:                     ; preds = %land.lhs.true.i.i.preheader
  %stride.i.i10 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 0, i32 2
  %7 = load i32, i32* %stride.i.i10, align 4, !tbaa !187
  %stride6.i.i11 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %shape, i64 0, i32 2
  %8 = load i32, i32* %stride6.i.i11, align 4, !tbaa !187
  %cmp7.i.i12 = icmp eq i32 %7, %8
  br i1 %cmp7.i.i12, label %_ZNK18halide_dimension_tneERKS_.exit, label %return

for.cond:                                         ; preds = %_ZNK18halide_dimension_tneERKS_.exit
  %cmp = icmp ult i64 %indvars.iv.next, %2
  %exitcond.not = icmp eq i64 %indvars.iv.next, %2
  br i1 %exitcond.not, label %return, label %for.body, !llvm.loop !254

for.body:                                         ; preds = %for.cond
  %min.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv.next, i32 0
  %9 = load i32, i32* %min.i.i, align 4, !tbaa !186
  %min2.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %shape, i64 %indvars.iv.next, i32 0
  %10 = load i32, i32* %min2.i.i, align 4, !tbaa !186
  %cmp.i.i = icmp eq i32 %9, %10
  br i1 %cmp.i.i, label %land.lhs.true.i.i, label %return, !llvm.loop !254

land.lhs.true.i.i:                                ; preds = %for.body
  %extent.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv.next, i32 1
  %11 = load i32, i32* %extent.i.i, align 4, !tbaa !183
  %extent3.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %shape, i64 %indvars.iv.next, i32 1
  %12 = load i32, i32* %extent3.i.i, align 4, !tbaa !183
  %cmp4.i.i = icmp eq i32 %11, %12
  br i1 %cmp4.i.i, label %land.lhs.true5.i.i, label %return, !llvm.loop !254

land.lhs.true5.i.i:                               ; preds = %land.lhs.true.i.i
  %stride.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv.next, i32 2
  %13 = load i32, i32* %stride.i.i, align 4, !tbaa !187
  %stride6.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %shape, i64 %indvars.iv.next, i32 2
  %14 = load i32, i32* %stride6.i.i, align 4, !tbaa !187
  %cmp7.i.i = icmp eq i32 %13, %14
  br i1 %cmp7.i.i, label %_ZNK18halide_dimension_tneERKS_.exit, label %return, !llvm.loop !254

_ZNK18halide_dimension_tneERKS_.exit:             ; preds = %land.lhs.true5.i.i.preheader, %land.lhs.true5.i.i
  %cmp1120414 = phi i1 [ %cmp, %land.lhs.true5.i.i ], [ true, %land.lhs.true5.i.i.preheader ]
  %indvars.iv19513 = phi i64 [ %indvars.iv.next, %land.lhs.true5.i.i ], [ 0, %land.lhs.true5.i.i.preheader ]
  %flags.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv19513, i32 3
  %15 = load i32, i32* %flags.i.i, align 4, !tbaa !255
  %flags8.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %shape, i64 %indvars.iv19513, i32 3
  %16 = load i32, i32* %flags8.i.i, align 4, !tbaa !255
  %cmp9.i.i.not = icmp eq i32 %15, %16
  %indvars.iv.next = add nuw nsw i64 %indvars.iv19513, 1
  br i1 %cmp9.i.i.not, label %for.cond, label %return

return:                                           ; preds = %_ZNK18halide_dimension_tneERKS_.exit, %land.lhs.true5.i.i, %land.lhs.true.i.i, %for.body, %for.cond, %land.lhs.true5.i.i.preheader, %land.lhs.true.i.i.preheader, %for.body.lr.ph, %entry
  %cmp.lcssa = phi i1 [ false, %entry ], [ true, %for.body.lr.ph ], [ true, %land.lhs.true.i.i.preheader ], [ true, %land.lhs.true5.i.i.preheader ], [ %cmp, %for.cond ], [ %cmp, %for.body ], [ %cmp, %land.lhs.true.i.i ], [ %cmp, %land.lhs.true5.i.i ], [ %cmp1120414, %_ZNK18halide_dimension_tneERKS_.exit ]
  %17 = xor i1 %cmp.lcssa, true
  ret i1 %17
}

; Function Attrs: mustprogress nounwind
define linkonce zeroext i1 @_ZN6Halide7Runtime8Internal10CacheEntry4initEPKhmjPK15halide_buffer_tiPPS5_by(%"struct.Halide::Runtime::Internal::CacheEntry"* nonnull align 8 dereferenceable(96) %this, i8* %cache_key, i64 %cache_key_size, i32 %key_hash, %struct.halide_buffer_t* %computed_bounds_buf, i32 %tuples, %struct.halide_buffer_t** %tuple_buffers, i1 zeroext %has_eviction_key_arg, i64 %eviction_key_arg) local_unnamed_addr #0 align 2 {
entry:
  %frombool = zext i1 %has_eviction_key_arg to i8
  %0 = bitcast %"struct.Halide::Runtime::Internal::CacheEntry"* %this to <2 x %"struct.Halide::Runtime::Internal::CacheEntry"*>*
  store <2 x %"struct.Halide::Runtime::Internal::CacheEntry"*> zeroinitializer, <2 x %"struct.Halide::Runtime::Internal::CacheEntry"*>* %0, align 8, !tbaa !11
  %less_recent = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 2
  store %"struct.Halide::Runtime::Internal::CacheEntry"* null, %"struct.Halide::Runtime::Internal::CacheEntry"** %less_recent, align 8, !tbaa !256
  %key_size = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 4
  store i64 %cache_key_size, i64* %key_size, align 8, !tbaa !257
  %hash = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 6
  store i32 %key_hash, i32* %hash, align 8, !tbaa !258
  %in_use_count = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 7
  store i32 0, i32* %in_use_count, align 4, !tbaa !259
  %tuple_count = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 8
  store i32 %tuples, i32* %tuple_count, align 8, !tbaa !234
  %dimensions = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %computed_bounds_buf, i64 0, i32 5
  %1 = load i32, i32* %dimensions, align 4, !tbaa !180
  %dimensions2 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 9
  store i32 %1, i32* %dimensions2, align 4, !tbaa !260
  %conv = zext i32 %tuples to i64
  %mul = mul nuw nsw i64 %conv, 56
  %conv5 = sext i32 %1 to i64
  %add8 = add i32 %tuples, 1
  %conv9 = zext i32 %add8 to i64
  %mul6 = shl nuw nsw i64 %conv9, 4
  %mul10 = mul i64 %mul6, %conv5
  %add11 = add i64 %mul10, %mul
  %add13 = add i64 %add11, %cache_key_size
  %call = tail call i8* @halide_malloc(i8* null, i64 %add13) #16
  %metadata_storage = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 3
  store i8* %call, i8** %metadata_storage, align 8, !tbaa !235
  %tobool.not = icmp eq i8* %call, null
  br i1 %tobool.not, label %cleanup, label %if.end

if.end:                                           ; preds = %entry
  %buf = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 11
  %2 = bitcast %struct.halide_buffer_t** %buf to i8**
  store i8* %call, i8** %2, align 8, !tbaa !236
  %add.ptr = getelementptr inbounds i8, i8* %call, i64 %mul
  %computed_bounds = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 10
  %3 = bitcast %struct.halide_dimension_t** %computed_bounds to i8**
  store i8* %add.ptr, i8** %3, align 8, !tbaa !261
  %add.ptr18 = getelementptr inbounds i8, i8* %call, i64 %add11
  %key = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 5
  store i8* %add.ptr18, i8** %key, align 8, !tbaa !262
  %4 = load i64, i64* %key_size, align 8, !tbaa !257
  %cmp111.not = icmp eq i64 %4, 0
  br i1 %cmp111.not, label %for.cond23.preheader, label %for.body.preheader

for.body.preheader:                               ; preds = %if.end
  %5 = load i8, i8* %cache_key, align 1, !tbaa !15
  store i8 %5, i8* %add.ptr18, align 1, !tbaa !15
  %cmp125.not = icmp eq i64 %4, 1
  br i1 %cmp125.not, label %for.cond23.preheader, label %for.body.for.body_crit_edge.preheader, !llvm.loop !263

for.body.for.body_crit_edge.preheader:            ; preds = %for.body.preheader
  %arrayidx2 = getelementptr inbounds i8, i8* %cache_key, i64 1
  %6 = load i8, i8* %arrayidx2, align 1, !tbaa !15
  %arrayidx213 = getelementptr inbounds i8, i8* %add.ptr18, i64 1
  store i8 %6, i8* %arrayidx213, align 1, !tbaa !15
  %7 = load i64, i64* %key_size, align 8, !tbaa !257
  %cmp4 = icmp ugt i64 %7, 2
  br i1 %cmp4, label %for.body.for.body_crit_edge.for.body.for.body_crit_edge_crit_edge, label %for.cond23.preheader, !llvm.loop !263

for.cond23.preheader:                             ; preds = %for.body.for.body_crit_edge.for.body.for.body_crit_edge_crit_edge, %for.body.for.body_crit_edge.preheader, %for.body.preheader, %if.end
  %dim = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %computed_bounds_buf, i64 0, i32 6
  %8 = load i32, i32* %dimensions2, align 4, !tbaa !260
  %cmp25113 = icmp sgt i32 %8, 0
  br i1 %cmp25113, label %for.body27, label %for.cond36.preheader

for.body.for.body_crit_edge.for.body.for.body_crit_edge_crit_edge: ; preds = %for.body.for.body_crit_edge.preheader, %for.body.for.body_crit_edge.for.body.for.body_crit_edge_crit_edge
  %inc5 = phi i64 [ %inc, %for.body.for.body_crit_edge.for.body.for.body_crit_edge_crit_edge ], [ 2, %for.body.for.body_crit_edge.preheader ]
  %.pre.pre = load i8*, i8** %key, align 8, !tbaa !262
  %arrayidx = getelementptr inbounds i8, i8* %cache_key, i64 %inc5
  %9 = load i8, i8* %arrayidx, align 1, !tbaa !15
  %arrayidx21 = getelementptr inbounds i8, i8* %.pre.pre, i64 %inc5
  store i8 %9, i8* %arrayidx21, align 1, !tbaa !15
  %inc = add nuw i64 %inc5, 1
  %10 = load i64, i64* %key_size, align 8, !tbaa !257
  %cmp = icmp ult i64 %inc, %10
  br i1 %cmp, label %for.body.for.body_crit_edge.for.body.for.body_crit_edge_crit_edge, label %for.cond23.preheader, !llvm.loop !263

for.cond36.preheader:                             ; preds = %for.body27, %for.cond23.preheader
  %11 = load i32, i32* %tuple_count, align 8, !tbaa !234
  %cmp38117.not = icmp eq i32 %11, 0
  br i1 %cmp38117.not, label %for.cond.cleanup39, label %for.body40

for.body27:                                       ; preds = %for.cond23.preheader, %for.body27
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.body27 ], [ 0, %for.cond23.preheader ]
  %12 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim, align 8, !tbaa !181
  %arrayidx28 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %12, i64 %indvars.iv
  %13 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %computed_bounds, align 8, !tbaa !261
  %arrayidx31 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv
  %14 = bitcast %struct.halide_dimension_t* %arrayidx31 to i8*
  %15 = bitcast %struct.halide_dimension_t* %arrayidx28 to i8*
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %14, i8* noundef nonnull align 4 dereferenceable(16) %15, i64 16, i1 false), !tbaa.struct !182
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %16 = load i32, i32* %dimensions2, align 4, !tbaa !260
  %17 = sext i32 %16 to i64
  %cmp25 = icmp slt i64 %indvars.iv.next, %17
  br i1 %cmp25, label %for.body27, label %for.cond36.preheader, !llvm.loop !264

for.cond36.loopexit:                              ; preds = %for.body59.for.body59_crit_edge, %for.body59.preheader, %for.body40
  %18 = load i32, i32* %tuple_count, align 8, !tbaa !234
  %19 = zext i32 %18 to i64
  %cmp38 = icmp ult i64 %indvars.iv.next122, %19
  br i1 %cmp38, label %for.body40, label %for.cond.cleanup39, !llvm.loop !265

for.cond.cleanup39:                               ; preds = %for.cond36.loopexit, %for.cond36.preheader
  %has_eviction_key = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 13
  store i8 %frombool, i8* %has_eviction_key, align 8, !tbaa !266
  %eviction_key = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %this, i64 0, i32 12
  store i64 %eviction_key_arg, i64* %eviction_key, align 8, !tbaa !267
  br label %cleanup

for.body40:                                       ; preds = %for.cond36.preheader, %for.cond36.loopexit
  %indvars.iv121 = phi i64 [ %indvars.iv.next122, %for.cond36.loopexit ], [ 0, %for.cond36.preheader ]
  %arrayidx42 = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv121
  %20 = bitcast %struct.halide_buffer_t** %arrayidx42 to i8**
  %21 = load i8*, i8** %20, align 8, !tbaa !11
  %22 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %buf, align 8, !tbaa !236
  %arrayidx45 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %22, i64 %indvars.iv121
  %23 = bitcast %struct.halide_buffer_t* %arrayidx45 to i8*
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(56) %23, i8* noundef nonnull align 8 dereferenceable(56) %21, i64 56, i1 false), !tbaa.struct !268
  %24 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %computed_bounds, align 8, !tbaa !261
  %indvars.iv.next122 = add nuw nsw i64 %indvars.iv121, 1
  %25 = load i32, i32* %dimensions2, align 4, !tbaa !260
  %26 = trunc i64 %indvars.iv.next122 to i32
  %mul49 = mul i32 %25, %26
  %idx.ext = zext i32 %mul49 to i64
  %add.ptr50 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %24, i64 %idx.ext
  %27 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %buf, align 8, !tbaa !236
  %dim54 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %27, i64 %indvars.iv121, i32 6
  store %struct.halide_dimension_t* %add.ptr50, %struct.halide_dimension_t** %dim54, align 8, !tbaa !181
  %cmp57115 = icmp sgt i32 %25, 0
  br i1 %cmp57115, label %for.body59.preheader, label %for.cond36.loopexit

for.body59.preheader:                             ; preds = %for.body40
  %28 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %arrayidx42, align 8, !tbaa !11
  %dim62127 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %28, i64 0, i32 6
  %29 = bitcast %struct.halide_dimension_t** %dim62127 to i8**
  %30 = load i8*, i8** %29, align 8, !tbaa !181
  %31 = bitcast %struct.halide_dimension_t* %add.ptr50 to i8*
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %31, i8* noundef nonnull align 4 dereferenceable(16) %30, i64 16, i1 false), !tbaa.struct !182
  %32 = load i32, i32* %dimensions2, align 4, !tbaa !260
  %cmp57130 = icmp sgt i32 %32, 1
  br i1 %cmp57130, label %for.body59.for.body59_crit_edge, label %for.cond36.loopexit, !llvm.loop !270

for.body59.for.body59_crit_edge:                  ; preds = %for.body59.preheader, %for.body59.for.body59_crit_edge
  %indvars.iv.next120131 = phi i64 [ %indvars.iv.next120, %for.body59.for.body59_crit_edge ], [ 1, %for.body59.preheader ]
  %.pre123 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %buf, align 8, !tbaa !236
  %dim68.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %.pre123, i64 %indvars.iv121, i32 6
  %.pre124 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim68.phi.trans.insert, align 8, !tbaa !181
  %33 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %arrayidx42, align 8, !tbaa !11
  %dim62 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %33, i64 0, i32 6
  %34 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim62, align 8, !tbaa !181
  %arrayidx64 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %34, i64 %indvars.iv.next120131
  %arrayidx70 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre124, i64 %indvars.iv.next120131
  %35 = bitcast %struct.halide_dimension_t* %arrayidx70 to i8*
  %36 = bitcast %struct.halide_dimension_t* %arrayidx64 to i8*
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %35, i8* noundef nonnull align 4 dereferenceable(16) %36, i64 16, i1 false), !tbaa.struct !182
  %indvars.iv.next120 = add nuw nsw i64 %indvars.iv.next120131, 1
  %37 = load i32, i32* %dimensions2, align 4, !tbaa !260
  %38 = sext i32 %37 to i64
  %cmp57 = icmp slt i64 %indvars.iv.next120, %38
  br i1 %cmp57, label %for.body59.for.body59_crit_edge, label %for.cond36.loopexit, !llvm.loop !270

cleanup:                                          ; preds = %for.cond.cleanup39, %entry
  %39 = xor i1 %tobool.not, true
  ret i1 %39
}

; Function Attrs: mustprogress nounwind
define linkonce i32 @_ZN6Halide7Runtime8Internal8djb_hashEPKhm(i8* %key, i64 %key_size) local_unnamed_addr #0 {
entry:
  %cmp8.not = icmp eq i64 %key_size, 0
  br i1 %cmp8.not, label %for.cond.cleanup, label %for.body.preheader

for.body.preheader:                               ; preds = %entry
  %0 = add i64 %key_size, -1
  %xtraiter = and i64 %key_size, 7
  %1 = icmp ult i64 %0, 7
  br i1 %1, label %for.cond.cleanup.loopexit.unr-lcssa, label %for.body.preheader.new

for.body.preheader.new:                           ; preds = %for.body.preheader
  %unroll_iter = and i64 %key_size, -8
  br label %for.body

for.cond.cleanup.loopexit.unr-lcssa:              ; preds = %for.body, %for.body.preheader
  %add1.lcssa.ph = phi i32 [ undef, %for.body.preheader ], [ %add1.7, %for.body ]
  %i.010.unr = phi i64 [ 0, %for.body.preheader ], [ %inc.7, %for.body ]
  %h.09.unr = phi i32 [ 5381, %for.body.preheader ], [ %add1.7, %for.body ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.cond.cleanup, label %for.body.epil

for.body.epil:                                    ; preds = %for.cond.cleanup.loopexit.unr-lcssa, %for.body.epil
  %i.010.epil = phi i64 [ %inc.epil, %for.body.epil ], [ %i.010.unr, %for.cond.cleanup.loopexit.unr-lcssa ]
  %h.09.epil = phi i32 [ %add1.epil, %for.body.epil ], [ %h.09.unr, %for.cond.cleanup.loopexit.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %for.body.epil ], [ %xtraiter, %for.cond.cleanup.loopexit.unr-lcssa ]
  %add.epil = mul i32 %h.09.epil, 33
  %arrayidx.epil = getelementptr inbounds i8, i8* %key, i64 %i.010.epil
  %2 = load i8, i8* %arrayidx.epil, align 1, !tbaa !15
  %conv.epil = zext i8 %2 to i32
  %add1.epil = add i32 %add.epil, %conv.epil
  %inc.epil = add nuw i64 %i.010.epil, 1
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %for.cond.cleanup, label %for.body.epil, !llvm.loop !271

for.cond.cleanup:                                 ; preds = %for.cond.cleanup.loopexit.unr-lcssa, %for.body.epil, %entry
  %h.0.lcssa = phi i32 [ 5381, %entry ], [ %add1.lcssa.ph, %for.cond.cleanup.loopexit.unr-lcssa ], [ %add1.epil, %for.body.epil ]
  ret i32 %h.0.lcssa

for.body:                                         ; preds = %for.body, %for.body.preheader.new
  %i.010 = phi i64 [ 0, %for.body.preheader.new ], [ %inc.7, %for.body ]
  %h.09 = phi i32 [ 5381, %for.body.preheader.new ], [ %add1.7, %for.body ]
  %niter = phi i64 [ %unroll_iter, %for.body.preheader.new ], [ %niter.nsub.7, %for.body ]
  %add = mul i32 %h.09, 33
  %arrayidx = getelementptr inbounds i8, i8* %key, i64 %i.010
  %3 = load i8, i8* %arrayidx, align 1, !tbaa !15
  %conv = zext i8 %3 to i32
  %add1 = add i32 %add, %conv
  %inc = or i64 %i.010, 1
  %add.1 = mul i32 %add1, 33
  %arrayidx.1 = getelementptr inbounds i8, i8* %key, i64 %inc
  %4 = load i8, i8* %arrayidx.1, align 1, !tbaa !15
  %conv.1 = zext i8 %4 to i32
  %add1.1 = add i32 %add.1, %conv.1
  %inc.1 = or i64 %i.010, 2
  %add.2 = mul i32 %add1.1, 33
  %arrayidx.2 = getelementptr inbounds i8, i8* %key, i64 %inc.1
  %5 = load i8, i8* %arrayidx.2, align 1, !tbaa !15
  %conv.2 = zext i8 %5 to i32
  %add1.2 = add i32 %add.2, %conv.2
  %inc.2 = or i64 %i.010, 3
  %add.3 = mul i32 %add1.2, 33
  %arrayidx.3 = getelementptr inbounds i8, i8* %key, i64 %inc.2
  %6 = load i8, i8* %arrayidx.3, align 1, !tbaa !15
  %conv.3 = zext i8 %6 to i32
  %add1.3 = add i32 %add.3, %conv.3
  %inc.3 = or i64 %i.010, 4
  %add.4 = mul i32 %add1.3, 33
  %arrayidx.4 = getelementptr inbounds i8, i8* %key, i64 %inc.3
  %7 = load i8, i8* %arrayidx.4, align 1, !tbaa !15
  %conv.4 = zext i8 %7 to i32
  %add1.4 = add i32 %add.4, %conv.4
  %inc.4 = or i64 %i.010, 5
  %add.5 = mul i32 %add1.4, 33
  %arrayidx.5 = getelementptr inbounds i8, i8* %key, i64 %inc.4
  %8 = load i8, i8* %arrayidx.5, align 1, !tbaa !15
  %conv.5 = zext i8 %8 to i32
  %add1.5 = add i32 %add.5, %conv.5
  %inc.5 = or i64 %i.010, 6
  %add.6 = mul i32 %add1.5, 33
  %arrayidx.6 = getelementptr inbounds i8, i8* %key, i64 %inc.5
  %9 = load i8, i8* %arrayidx.6, align 1, !tbaa !15
  %conv.6 = zext i8 %9 to i32
  %add1.6 = add i32 %add.6, %conv.6
  %inc.6 = or i64 %i.010, 7
  %add.7 = mul i32 %add1.6, 33
  %arrayidx.7 = getelementptr inbounds i8, i8* %key, i64 %inc.6
  %10 = load i8, i8* %arrayidx.7, align 1, !tbaa !15
  %conv.7 = zext i8 %10 to i32
  %add1.7 = add i32 %add.7, %conv.7
  %inc.7 = add nuw i64 %i.010, 8
  %niter.nsub.7 = add i64 %niter, -8
  %niter.ncmp.7 = icmp eq i64 %niter.nsub.7, 0
  br i1 %niter.ncmp.7, label %for.cond.cleanup.loopexit.unr-lcssa, label %for.body, !llvm.loop !272
}

; Function Attrs: mustprogress nounwind
define linkonce void @_ZN6Halide7Runtime8Internal11prune_cacheEv() local_unnamed_addr #0 {
entry:
  %0 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal19least_recently_usedE, align 8, !tbaa !11
  %1 = load i64, i64* @_ZN6Halide7Runtime8Internal18current_cache_sizeE, align 8, !tbaa !115
  %2 = load i64, i64* @_ZN6Halide7Runtime8Internal14max_cache_sizeE, align 8, !tbaa !115
  %cmp84 = icmp sgt i64 %1, %2
  %cmp185 = icmp ne %"struct.Halide::Runtime::Internal::CacheEntry"* %0, null
  %3 = select i1 %cmp84, i1 %cmp185, i1 false
  br i1 %3, label %while.body, label %while.end42

while.body:                                       ; preds = %entry, %if.end41
  %4 = phi i64 [ %39, %if.end41 ], [ %2, %entry ]
  %5 = phi i64 [ %40, %if.end41 ], [ %1, %entry ]
  %prune_candidate.086 = phi %"struct.Halide::Runtime::Internal::CacheEntry"* [ %6, %if.end41 ], [ %0, %entry ]
  %more_recent2 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %prune_candidate.086, i64 0, i32 1
  %6 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %more_recent2, align 8, !tbaa !273
  %in_use_count = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %prune_candidate.086, i64 0, i32 7
  %7 = load i32, i32* %in_use_count, align 4, !tbaa !259
  %cmp3 = icmp eq i32 %7, 0
  br i1 %cmp3, label %if.then, label %if.end41

if.then:                                          ; preds = %while.body
  %hash = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %prune_candidate.086, i64 0, i32 6
  %8 = load i32, i32* %hash, align 8, !tbaa !258
  %9 = and i32 %8, 255
  %idxprom = zext i32 %9 to i64
  %arrayidx = getelementptr inbounds [256 x %"struct.Halide::Runtime::Internal::CacheEntry"*], [256 x %"struct.Halide::Runtime::Internal::CacheEntry"*]* @_ZN6Halide7Runtime8Internal13cache_entriesE, i64 0, i64 %idxprom
  %10 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %arrayidx, align 8, !tbaa !11
  %cmp5 = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %10, %prune_candidate.086
  br i1 %cmp5, label %if.then6, label %while.cond9

if.then6:                                         ; preds = %if.then
  %next = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %prune_candidate.086, i64 0, i32 0
  %11 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %next, align 8, !tbaa !231
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %11, %"struct.Halide::Runtime::Internal::CacheEntry"** %arrayidx, align 8, !tbaa !11
  br label %if.end21

while.cond9:                                      ; preds = %if.then, %land.rhs11
  %prev_hash_entry.0 = phi %"struct.Halide::Runtime::Internal::CacheEntry"* [ %12, %land.rhs11 ], [ %10, %if.then ]
  %cmp10.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %prev_hash_entry.0, null
  br i1 %cmp10.not, label %if.then18, label %land.rhs11

land.rhs11:                                       ; preds = %while.cond9
  %next12 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %prev_hash_entry.0, i64 0, i32 0
  %12 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %next12, align 8, !tbaa !231
  %cmp13.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %12, %prune_candidate.086
  br i1 %cmp13.not, label %do.end, label %while.cond9, !llvm.loop !274

if.then18:                                        ; preds = %while.cond9
  tail call void @halide_print(i8* null, i8* getelementptr inbounds ([102 x i8], [102 x i8]* @.str.2.42, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %land.rhs11, %if.then18
  %next19 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %prune_candidate.086, i64 0, i32 0
  %13 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %next19, align 8, !tbaa !231
  %next20 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %prev_hash_entry.0, i64 0, i32 0
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %13, %"struct.Halide::Runtime::Internal::CacheEntry"** %next20, align 8, !tbaa !231
  br label %if.end21

if.end21:                                         ; preds = %do.end, %if.then6
  %14 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal19least_recently_usedE, align 8, !tbaa !11
  %cmp22 = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %14, %prune_candidate.086
  br i1 %cmp22, label %if.then23, label %if.end24

if.then23:                                        ; preds = %if.end21
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %6, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal19least_recently_usedE, align 8, !tbaa !11
  br label %if.end24

if.end24:                                         ; preds = %if.then23, %if.end21
  %cmp25.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %6, null
  br i1 %cmp25.not, label %if.end28, label %if.then26

if.then26:                                        ; preds = %if.end24
  %less_recent = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %prune_candidate.086, i64 0, i32 2
  %15 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %less_recent, align 8, !tbaa !256
  %less_recent27 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %6, i64 0, i32 2
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %15, %"struct.Halide::Runtime::Internal::CacheEntry"** %less_recent27, align 8, !tbaa !256
  br label %if.end28

if.end28:                                         ; preds = %if.then26, %if.end24
  %16 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal18most_recently_usedE, align 8, !tbaa !11
  %cmp29 = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %16, %prune_candidate.086
  %less_recent31 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %prune_candidate.086, i64 0, i32 2
  %17 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %less_recent31, align 8, !tbaa !256
  br i1 %cmp29, label %if.then30, label %if.end32

if.then30:                                        ; preds = %if.end28
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %17, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal18most_recently_usedE, align 8, !tbaa !11
  br label %if.end32

if.end32:                                         ; preds = %if.then30, %if.end28
  %cmp34.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %17, null
  br i1 %cmp34.not, label %if.end37, label %if.then35

if.then35:                                        ; preds = %if.end32
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %6, %"struct.Halide::Runtime::Internal::CacheEntry"** %less_recent31, align 8, !tbaa !256
  br label %if.end37

if.end37:                                         ; preds = %if.then35, %if.end32
  %tuple_count = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %prune_candidate.086, i64 0, i32 8
  %18 = load i32, i32* %tuple_count, align 8, !tbaa !234
  %cmp3882.not = icmp eq i32 %18, 0
  br i1 %cmp3882.not, label %for.cond.cleanup, label %for.body.lr.ph

for.body.lr.ph:                                   ; preds = %if.end37
  %buf = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %prune_candidate.086, i64 0, i32 11
  %19 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %buf, align 8, !tbaa !236
  %wide.trip.count = zext i32 %18 to i64
  br label %for.body

for.cond.cleanup:                                 ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit, %if.end37
  tail call void @_ZN6Halide7Runtime8Internal10CacheEntry7destroyEv(%"struct.Halide::Runtime::Internal::CacheEntry"* nonnull align 8 dereferenceable(96) %prune_candidate.086) #17
  %20 = bitcast %"struct.Halide::Runtime::Internal::CacheEntry"* %prune_candidate.086 to i8*
  tail call void @halide_free(i8* null, i8* nonnull %20) #16
  %.pre90 = load i64, i64* @_ZN6Halide7Runtime8Internal18current_cache_sizeE, align 8, !tbaa !115
  %.pre91 = load i64, i64* @_ZN6Halide7Runtime8Internal14max_cache_sizeE, align 8, !tbaa !115
  br label %if.end41

for.body:                                         ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit, %for.body.lr.ph
  %indvars.iv = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next, %_ZNK15halide_buffer_t13size_in_bytesEv.exit ]
  %dimensions.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %19, i64 %indvars.iv, i32 5
  %21 = load i32, i32* %dimensions.i.i, align 4, !tbaa !180
  %dim.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %19, i64 %indvars.iv, i32 6
  %22 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i.i, align 8
  %cmp19.i.i = icmp sgt i32 %21, 0
  br i1 %cmp19.i.i, label %for.body.preheader.i.i, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

for.body.preheader.i.i:                           ; preds = %for.body
  %wide.trip.count.i.i = zext i32 %21 to i64
  %23 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter = and i64 %wide.trip.count.i.i, 3
  %24 = icmp ult i64 %23, 3
  br i1 %24, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.preheader.i.i.new

for.body.preheader.i.i.new:                       ; preds = %for.body.preheader.i.i
  %unroll_iter = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %if.end.i.i.3, %for.body.preheader.i.i.new
  %indvars.iv.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %niter = phi i64 [ %unroll_iter, %for.body.preheader.i.i.new ], [ %niter.nsub.3, %if.end.i.i.3 ]
  %stride2.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.i.i, i32 2
  %25 = load i32, i32* %stride2.i.i, align 4, !tbaa !187
  %cmp3.i.i = icmp sgt i32 %25, 0
  br i1 %cmp3.i.i, label %if.then.i.i, label %if.end.i.i

if.then.i.i:                                      ; preds = %for.body.i.i
  %conv18.i.i = zext i32 %25 to i64
  %extent.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.i.i, i32 1
  %26 = load i32, i32* %extent.i.i, align 4, !tbaa !183
  %sub.i.i = add nsw i32 %26, -1
  %conv7.i.i = sext i32 %sub.i.i to i64
  %mul.i.i = mul nsw i64 %conv7.i.i, %conv18.i.i
  %add.i.i = add nsw i64 %mul.i.i, %index.021.i.i
  br label %if.end.i.i

if.end.i.i:                                       ; preds = %if.then.i.i, %for.body.i.i
  %index.1.i.i = phi i64 [ %add.i.i, %if.then.i.i ], [ %index.021.i.i, %for.body.i.i ]
  %indvars.iv.next.i.i = or i64 %indvars.iv.i.i, 1
  %stride2.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.i.i, i32 2
  %27 = load i32, i32* %stride2.i.i.1, align 4, !tbaa !187
  %cmp3.i.i.1 = icmp sgt i32 %27, 0
  br i1 %cmp3.i.i.1, label %if.then.i.i.1, label %if.end.i.i.1

for.body.i12.i.preheader.unr-lcssa:               ; preds = %if.end.i.i.3, %for.body.preheader.i.i
  %index.1.i.i.lcssa.ph = phi i64 [ undef, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %indvars.iv.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil

for.body.i.i.epil:                                ; preds = %for.body.i12.i.preheader.unr-lcssa, %if.end.i.i.epil
  %indvars.iv.i.i.epil = phi i64 [ %indvars.iv.next.i.i.epil, %if.end.i.i.epil ], [ %indvars.iv.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %index.021.i.i.epil = phi i64 [ %index.1.i.i.epil, %if.end.i.i.epil ], [ %index.021.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %if.end.i.i.epil ], [ %xtraiter, %for.body.i12.i.preheader.unr-lcssa ]
  %stride2.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.i.i.epil, i32 2
  %28 = load i32, i32* %stride2.i.i.epil, align 4, !tbaa !187
  %cmp3.i.i.epil = icmp sgt i32 %28, 0
  br i1 %cmp3.i.i.epil, label %if.then.i.i.epil, label %if.end.i.i.epil

if.then.i.i.epil:                                 ; preds = %for.body.i.i.epil
  %conv18.i.i.epil = zext i32 %28 to i64
  %extent.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.i.i.epil, i32 1
  %29 = load i32, i32* %extent.i.i.epil, align 4, !tbaa !183
  %sub.i.i.epil = add nsw i32 %29, -1
  %conv7.i.i.epil = sext i32 %sub.i.i.epil to i64
  %mul.i.i.epil = mul nsw i64 %conv7.i.i.epil, %conv18.i.i.epil
  %add.i.i.epil = add nsw i64 %mul.i.i.epil, %index.021.i.i.epil
  br label %if.end.i.i.epil

if.end.i.i.epil:                                  ; preds = %if.then.i.i.epil, %for.body.i.i.epil
  %index.1.i.i.epil = phi i64 [ %add.i.i.epil, %if.then.i.i.epil ], [ %index.021.i.i.epil, %for.body.i.i.epil ]
  %indvars.iv.next.i.i.epil = add nuw nsw i64 %indvars.iv.i.i.epil, 1
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil, !llvm.loop !275

for.body.i12.i.preheader:                         ; preds = %if.end.i.i.epil, %for.body.i12.i.preheader.unr-lcssa
  %index.1.i.i.lcssa = phi i64 [ %index.1.i.i.lcssa.ph, %for.body.i12.i.preheader.unr-lcssa ], [ %index.1.i.i.epil, %if.end.i.i.epil ]
  %30 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter23 = and i64 %wide.trip.count.i.i, 3
  %31 = icmp ult i64 %30, 3
  br i1 %31, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i.preheader.new

for.body.i12.i.preheader.new:                     ; preds = %for.body.i12.i.preheader
  %unroll_iter27 = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i12.i

for.body.i12.i:                                   ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader.new
  %indvars.iv.i9.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %niter28 = phi i64 [ %unroll_iter27, %for.body.i12.i.preheader.new ], [ %niter28.nsub.3, %if.end.i22.i.3 ]
  %stride2.i10.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.i9.i, i32 2
  %32 = load i32, i32* %stride2.i10.i, align 4, !tbaa !187
  %cmp3.i11.i = icmp slt i32 %32, 0
  br i1 %cmp3.i11.i, label %if.then.i18.i, label %if.end.i22.i

if.then.i18.i:                                    ; preds = %for.body.i12.i
  %conv.i.i = sext i32 %32 to i64
  %extent.i13.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.i9.i, i32 1
  %33 = load i32, i32* %extent.i13.i, align 4, !tbaa !183
  %sub.i14.i = add nsw i32 %33, -1
  %conv7.i15.i = sext i32 %sub.i14.i to i64
  %mul.i16.i = mul nsw i64 %conv7.i15.i, %conv.i.i
  %add.i17.i = add nsw i64 %mul.i16.i, %index.018.i.i
  br label %if.end.i22.i

if.end.i22.i:                                     ; preds = %if.then.i18.i, %for.body.i12.i
  %index.1.i19.i = phi i64 [ %add.i17.i, %if.then.i18.i ], [ %index.018.i.i, %for.body.i12.i ]
  %indvars.iv.next.i20.i = or i64 %indvars.iv.i9.i, 1
  %stride2.i10.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.i20.i, i32 2
  %34 = load i32, i32* %stride2.i10.i.1, align 4, !tbaa !187
  %cmp3.i11.i.1 = icmp slt i32 %34, 0
  br i1 %cmp3.i11.i.1, label %if.then.i18.i.1, label %if.end.i22.i.1

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa: ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader
  %index.1.i19.i.lcssa.ph = phi i64 [ undef, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %indvars.iv.i9.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %lcmp.mod25.not = icmp eq i64 %xtraiter23, 0
  br i1 %lcmp.mod25.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil

for.body.i12.i.epil:                              ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, %if.end.i22.i.epil
  %indvars.iv.i9.i.epil = phi i64 [ %indvars.iv.next.i20.i.epil, %if.end.i22.i.epil ], [ %indvars.iv.i9.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %index.018.i.i.epil = phi i64 [ %index.1.i19.i.epil, %if.end.i22.i.epil ], [ %index.018.i.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %epil.iter24 = phi i64 [ %epil.iter24.sub, %if.end.i22.i.epil ], [ %xtraiter23, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %stride2.i10.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.i9.i.epil, i32 2
  %35 = load i32, i32* %stride2.i10.i.epil, align 4, !tbaa !187
  %cmp3.i11.i.epil = icmp slt i32 %35, 0
  br i1 %cmp3.i11.i.epil, label %if.then.i18.i.epil, label %if.end.i22.i.epil

if.then.i18.i.epil:                               ; preds = %for.body.i12.i.epil
  %conv.i.i.epil = sext i32 %35 to i64
  %extent.i13.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.i9.i.epil, i32 1
  %36 = load i32, i32* %extent.i13.i.epil, align 4, !tbaa !183
  %sub.i14.i.epil = add nsw i32 %36, -1
  %conv7.i15.i.epil = sext i32 %sub.i14.i.epil to i64
  %mul.i16.i.epil = mul nsw i64 %conv7.i15.i.epil, %conv.i.i.epil
  %add.i17.i.epil = add nsw i64 %mul.i16.i.epil, %index.018.i.i.epil
  br label %if.end.i22.i.epil

if.end.i22.i.epil:                                ; preds = %if.then.i18.i.epil, %for.body.i12.i.epil
  %index.1.i19.i.epil = phi i64 [ %add.i17.i.epil, %if.then.i18.i.epil ], [ %index.018.i.i.epil, %for.body.i12.i.epil ]
  %indvars.iv.next.i20.i.epil = add nuw nsw i64 %indvars.iv.i9.i.epil, 1
  %epil.iter24.sub = add i64 %epil.iter24, -1
  %epil.iter24.cmp.not = icmp eq i64 %epil.iter24.sub, 0
  br i1 %epil.iter24.cmp.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil, !llvm.loop !276

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit: ; preds = %if.end.i22.i.epil, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa
  %index.1.i19.i.lcssa = phi i64 [ %index.1.i19.i.lcssa.ph, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ], [ %index.1.i19.i.epil, %if.end.i22.i.epil ]
  %add8.i.i.neg = xor i64 %index.1.i.i.lcssa, -1
  br label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

_ZNK15halide_buffer_t13size_in_bytesEv.exit:      ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, %for.body
  %add8.i27.i.neg = phi i64 [ -1, %for.body ], [ %add8.i.i.neg, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %index.0.lcssa.i8.i = phi i64 [ 0, %for.body ], [ %index.1.i19.i.lcssa, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %sub.i.neg = add i64 %index.0.lcssa.i8.i, %add8.i27.i.neg
  %bits.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %19, i64 %indvars.iv, i32 4, i32 1
  %37 = load i8, i8* %bits.i.i, align 1, !tbaa !141
  %conv.i23.i = zext i8 %37 to i64
  %add.i24.i = add nuw nsw i64 %conv.i23.i, 7
  %div.i.i = lshr i64 %add.i24.i, 3
  %mul.i.neg = mul i64 %div.i.i, %sub.i.neg
  %38 = load i64, i64* @_ZN6Halide7Runtime8Internal18current_cache_sizeE, align 8, !tbaa !115
  %sub = add i64 %mul.i.neg, %38
  store i64 %sub, i64* @_ZN6Halide7Runtime8Internal18current_cache_sizeE, align 8, !tbaa !115
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, %wide.trip.count
  br i1 %exitcond.not, label %for.cond.cleanup, label %for.body, !llvm.loop !277

if.end41:                                         ; preds = %for.cond.cleanup, %while.body
  %39 = phi i64 [ %.pre91, %for.cond.cleanup ], [ %4, %while.body ]
  %40 = phi i64 [ %.pre90, %for.cond.cleanup ], [ %5, %while.body ]
  %cmp = icmp sgt i64 %40, %39
  %cmp1 = icmp ne %"struct.Halide::Runtime::Internal::CacheEntry"* %6, null
  %41 = select i1 %cmp, i1 %cmp1, i1 false
  br i1 %41, label %while.body, label %while.end42, !llvm.loop !278

while.end42:                                      ; preds = %if.end41, %entry
  ret void

if.then.i.i.1:                                    ; preds = %if.end.i.i
  %conv18.i.i.1 = zext i32 %27 to i64
  %extent.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.i.i, i32 1
  %42 = load i32, i32* %extent.i.i.1, align 4, !tbaa !183
  %sub.i.i.1 = add nsw i32 %42, -1
  %conv7.i.i.1 = sext i32 %sub.i.i.1 to i64
  %mul.i.i.1 = mul nsw i64 %conv7.i.i.1, %conv18.i.i.1
  %add.i.i.1 = add nsw i64 %mul.i.i.1, %index.1.i.i
  br label %if.end.i.i.1

if.end.i.i.1:                                     ; preds = %if.then.i.i.1, %if.end.i.i
  %index.1.i.i.1 = phi i64 [ %add.i.i.1, %if.then.i.i.1 ], [ %index.1.i.i, %if.end.i.i ]
  %indvars.iv.next.i.i.1 = or i64 %indvars.iv.i.i, 2
  %stride2.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.i.i.1, i32 2
  %43 = load i32, i32* %stride2.i.i.2, align 4, !tbaa !187
  %cmp3.i.i.2 = icmp sgt i32 %43, 0
  br i1 %cmp3.i.i.2, label %if.then.i.i.2, label %if.end.i.i.2

if.then.i.i.2:                                    ; preds = %if.end.i.i.1
  %conv18.i.i.2 = zext i32 %43 to i64
  %extent.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.i.i.1, i32 1
  %44 = load i32, i32* %extent.i.i.2, align 4, !tbaa !183
  %sub.i.i.2 = add nsw i32 %44, -1
  %conv7.i.i.2 = sext i32 %sub.i.i.2 to i64
  %mul.i.i.2 = mul nsw i64 %conv7.i.i.2, %conv18.i.i.2
  %add.i.i.2 = add nsw i64 %mul.i.i.2, %index.1.i.i.1
  br label %if.end.i.i.2

if.end.i.i.2:                                     ; preds = %if.then.i.i.2, %if.end.i.i.1
  %index.1.i.i.2 = phi i64 [ %add.i.i.2, %if.then.i.i.2 ], [ %index.1.i.i.1, %if.end.i.i.1 ]
  %indvars.iv.next.i.i.2 = or i64 %indvars.iv.i.i, 3
  %stride2.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.i.i.2, i32 2
  %45 = load i32, i32* %stride2.i.i.3, align 4, !tbaa !187
  %cmp3.i.i.3 = icmp sgt i32 %45, 0
  br i1 %cmp3.i.i.3, label %if.then.i.i.3, label %if.end.i.i.3

if.then.i.i.3:                                    ; preds = %if.end.i.i.2
  %conv18.i.i.3 = zext i32 %45 to i64
  %extent.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.i.i.2, i32 1
  %46 = load i32, i32* %extent.i.i.3, align 4, !tbaa !183
  %sub.i.i.3 = add nsw i32 %46, -1
  %conv7.i.i.3 = sext i32 %sub.i.i.3 to i64
  %mul.i.i.3 = mul nsw i64 %conv7.i.i.3, %conv18.i.i.3
  %add.i.i.3 = add nsw i64 %mul.i.i.3, %index.1.i.i.2
  br label %if.end.i.i.3

if.end.i.i.3:                                     ; preds = %if.then.i.i.3, %if.end.i.i.2
  %index.1.i.i.3 = phi i64 [ %add.i.i.3, %if.then.i.i.3 ], [ %index.1.i.i.2, %if.end.i.i.2 ]
  %indvars.iv.next.i.i.3 = add nuw nsw i64 %indvars.iv.i.i, 4
  %niter.nsub.3 = add i64 %niter, -4
  %niter.ncmp.3 = icmp eq i64 %niter.nsub.3, 0
  br i1 %niter.ncmp.3, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.i.i, !llvm.loop !279

if.then.i18.i.1:                                  ; preds = %if.end.i22.i
  %conv.i.i.1 = sext i32 %34 to i64
  %extent.i13.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.i20.i, i32 1
  %47 = load i32, i32* %extent.i13.i.1, align 4, !tbaa !183
  %sub.i14.i.1 = add nsw i32 %47, -1
  %conv7.i15.i.1 = sext i32 %sub.i14.i.1 to i64
  %mul.i16.i.1 = mul nsw i64 %conv7.i15.i.1, %conv.i.i.1
  %add.i17.i.1 = add nsw i64 %mul.i16.i.1, %index.1.i19.i
  br label %if.end.i22.i.1

if.end.i22.i.1:                                   ; preds = %if.then.i18.i.1, %if.end.i22.i
  %index.1.i19.i.1 = phi i64 [ %add.i17.i.1, %if.then.i18.i.1 ], [ %index.1.i19.i, %if.end.i22.i ]
  %indvars.iv.next.i20.i.1 = or i64 %indvars.iv.i9.i, 2
  %stride2.i10.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.i20.i.1, i32 2
  %48 = load i32, i32* %stride2.i10.i.2, align 4, !tbaa !187
  %cmp3.i11.i.2 = icmp slt i32 %48, 0
  br i1 %cmp3.i11.i.2, label %if.then.i18.i.2, label %if.end.i22.i.2

if.then.i18.i.2:                                  ; preds = %if.end.i22.i.1
  %conv.i.i.2 = sext i32 %48 to i64
  %extent.i13.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.i20.i.1, i32 1
  %49 = load i32, i32* %extent.i13.i.2, align 4, !tbaa !183
  %sub.i14.i.2 = add nsw i32 %49, -1
  %conv7.i15.i.2 = sext i32 %sub.i14.i.2 to i64
  %mul.i16.i.2 = mul nsw i64 %conv7.i15.i.2, %conv.i.i.2
  %add.i17.i.2 = add nsw i64 %mul.i16.i.2, %index.1.i19.i.1
  br label %if.end.i22.i.2

if.end.i22.i.2:                                   ; preds = %if.then.i18.i.2, %if.end.i22.i.1
  %index.1.i19.i.2 = phi i64 [ %add.i17.i.2, %if.then.i18.i.2 ], [ %index.1.i19.i.1, %if.end.i22.i.1 ]
  %indvars.iv.next.i20.i.2 = or i64 %indvars.iv.i9.i, 3
  %stride2.i10.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.i20.i.2, i32 2
  %50 = load i32, i32* %stride2.i10.i.3, align 4, !tbaa !187
  %cmp3.i11.i.3 = icmp slt i32 %50, 0
  br i1 %cmp3.i11.i.3, label %if.then.i18.i.3, label %if.end.i22.i.3

if.then.i18.i.3:                                  ; preds = %if.end.i22.i.2
  %conv.i.i.3 = sext i32 %50 to i64
  %extent.i13.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %22, i64 %indvars.iv.next.i20.i.2, i32 1
  %51 = load i32, i32* %extent.i13.i.3, align 4, !tbaa !183
  %sub.i14.i.3 = add nsw i32 %51, -1
  %conv7.i15.i.3 = sext i32 %sub.i14.i.3 to i64
  %mul.i16.i.3 = mul nsw i64 %conv7.i15.i.3, %conv.i.i.3
  %add.i17.i.3 = add nsw i64 %mul.i16.i.3, %index.1.i19.i.2
  br label %if.end.i22.i.3

if.end.i22.i.3:                                   ; preds = %if.then.i18.i.3, %if.end.i22.i.2
  %index.1.i19.i.3 = phi i64 [ %add.i17.i.3, %if.then.i18.i.3 ], [ %index.1.i19.i.2, %if.end.i22.i.2 ]
  %indvars.iv.next.i20.i.3 = add nuw nsw i64 %indvars.iv.i9.i, 4
  %niter28.nsub.3 = add i64 %niter28, -4
  %niter28.ncmp.3 = icmp eq i64 %niter28.nsub.3, 0
  br i1 %niter28.ncmp.3, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i, !llvm.loop !280
}

; Function Attrs: nounwind
define weak void @halide_memoization_cache_set_size(i64 %size) local_unnamed_addr #3 {
entry:
  %cmp = icmp eq i64 %size, 0
  %spec.store.select = select i1 %cmp, i64 1048576, i64 %size
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal16memoization_lockE) #16
  store i64 %spec.store.select, i64* @_ZN6Halide7Runtime8Internal14max_cache_sizeE, align 8, !tbaa !115
  tail call void @_ZN6Halide7Runtime8Internal11prune_cacheEv() #17
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal16memoization_lockE) #16
  ret void
}

; Function Attrs: nounwind
define weak i32 @halide_memoization_cache_lookup(i8* %user_context, i8* %cache_key, i32 %size, %struct.halide_buffer_t* %computed_bounds, i32 %tuple_count, %struct.halide_buffer_t** %tuple_buffers) local_unnamed_addr #3 {
entry:
  %conv = sext i32 %size to i64
  %call = tail call i32 @_ZN6Halide7Runtime8Internal8djb_hashEPKhm(i8* %cache_key, i64 %conv) #17
  %0 = and i32 %call, 255
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal16memoization_lockE) #16
  %idxprom = zext i32 %0 to i64
  %arrayidx = getelementptr inbounds [256 x %"struct.Halide::Runtime::Internal::CacheEntry"*], [256 x %"struct.Halide::Runtime::Internal::CacheEntry"*]* @_ZN6Halide7Runtime8Internal13cache_entriesE, i64 0, i64 %idxprom
  %cmp16208 = icmp sgt i32 %tuple_count, 0
  %entry3.0212 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %arrayidx, align 8, !tbaa !11
  %cmp.not213 = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0212, null
  br i1 %cmp.not213, label %for.cond75.preheader, label %while.body.preheader

while.body.preheader:                             ; preds = %entry
  %1 = sext i32 %tuple_count to i64
  br i1 %cmp16208, label %while.body.us, label %while.body

while.body.us:                                    ; preds = %while.body.preheader, %if.end73.us
  %entry3.0214.us = phi %"struct.Halide::Runtime::Internal::CacheEntry"* [ %entry3.0.us, %if.end73.us ], [ %entry3.0212, %while.body.preheader ]
  %hash.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214.us, i64 0, i32 6
  %2 = load i32, i32* %hash.us, align 8, !tbaa !258
  %cmp4.us = icmp eq i32 %2, %call
  br i1 %cmp4.us, label %land.lhs.true.us, label %if.end73.us

land.lhs.true.us:                                 ; preds = %while.body.us
  %key_size.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214.us, i64 0, i32 4
  %3 = load i64, i64* %key_size.us, align 8, !tbaa !257
  %cmp6.us = icmp eq i64 %3, %conv
  br i1 %cmp6.us, label %land.lhs.true7.us, label %if.end73.us

land.lhs.true7.us:                                ; preds = %land.lhs.true.us
  %key.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214.us, i64 0, i32 5
  %4 = load i8*, i8** %key.us, align 8, !tbaa !262
  %call9.us = tail call zeroext i1 @_ZN6Halide7Runtime8Internal10keys_equalEPKhS3_m(i8* %4, i8* %cache_key, i64 %conv) #17
  br i1 %call9.us, label %land.lhs.true10.us, label %if.end73.us

land.lhs.true10.us:                               ; preds = %land.lhs.true7.us
  %computed_bounds11.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214.us, i64 0, i32 10
  %5 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %computed_bounds11.us, align 8, !tbaa !261
  %call12.us = tail call zeroext i1 @_ZN6Halide7Runtime8Internal16buffer_has_shapeEPK15halide_buffer_tPK18halide_dimension_t(%struct.halide_buffer_t* %computed_bounds, %struct.halide_dimension_t* %5) #17
  br i1 %call12.us, label %land.lhs.true13.us, label %if.end73.us

land.lhs.true13.us:                               ; preds = %land.lhs.true10.us
  %tuple_count14.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214.us, i64 0, i32 8
  %6 = load i32, i32* %tuple_count14.us, align 8, !tbaa !234
  %cmp15.us = icmp eq i32 %6, %tuple_count
  br i1 %cmp15.us, label %for.cond.preheader.us, label %if.end73.us

for.cond.preheader.us:                            ; preds = %land.lhs.true13.us
  %buf.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214.us, i64 0, i32 11
  br label %for.body.us

for.body.us:                                      ; preds = %for.cond.preheader.us, %for.body.us
  %indvars.iv.us = phi i64 [ %indvars.iv.next.us, %for.body.us ], [ 0, %for.cond.preheader.us ]
  %arrayidx18.us = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv.us
  %7 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %arrayidx18.us, align 8, !tbaa !11
  %8 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %buf.us, align 8, !tbaa !236
  %dim.us = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %8, i64 %indvars.iv.us, i32 6
  %9 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.us, align 8, !tbaa !181
  %call21.us = tail call zeroext i1 @_ZN6Halide7Runtime8Internal16buffer_has_shapeEPK15halide_buffer_tPK18halide_dimension_t(%struct.halide_buffer_t* %7, %struct.halide_dimension_t* %9) #17
  %indvars.iv.next.us = add nuw nsw i64 %indvars.iv.us, 1
  %cmp16.us = icmp slt i64 %indvars.iv.next.us, %1
  %10 = select i1 %call21.us, i1 %cmp16.us, i1 false
  br i1 %10, label %for.body.us, label %for.cond.cleanup.us, !llvm.loop !281

for.cond.cleanup.us:                              ; preds = %for.body.us
  br i1 %call21.us, label %if.then23, label %if.end73.us

if.end73.us:                                      ; preds = %for.cond.cleanup.us, %land.lhs.true13.us, %land.lhs.true10.us, %land.lhs.true7.us, %land.lhs.true.us, %while.body.us
  %next.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214.us, i64 0, i32 0
  %entry3.0.us = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %next.us, align 8, !tbaa !11
  %cmp.not.us = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0.us, null
  br i1 %cmp.not.us, label %for.cond75.preheader, label %while.body.us, !llvm.loop !282

for.cond75.preheader:                             ; preds = %if.end73, %if.end73.us, %entry
  br i1 %cmp16208, label %for.body78.preheader, label %cleanup119

for.body78.preheader:                             ; preds = %for.cond75.preheader
  %wide.trip.count230 = zext i32 %tuple_count to i64
  br label %for.body78

while.body:                                       ; preds = %while.body.preheader, %if.end73
  %entry3.0214 = phi %"struct.Halide::Runtime::Internal::CacheEntry"* [ %entry3.0, %if.end73 ], [ %entry3.0212, %while.body.preheader ]
  %hash = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214, i64 0, i32 6
  %11 = load i32, i32* %hash, align 8, !tbaa !258
  %cmp4 = icmp eq i32 %11, %call
  br i1 %cmp4, label %land.lhs.true, label %if.end73

land.lhs.true:                                    ; preds = %while.body
  %key_size = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214, i64 0, i32 4
  %12 = load i64, i64* %key_size, align 8, !tbaa !257
  %cmp6 = icmp eq i64 %12, %conv
  br i1 %cmp6, label %land.lhs.true7, label %if.end73

land.lhs.true7:                                   ; preds = %land.lhs.true
  %key = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214, i64 0, i32 5
  %13 = load i8*, i8** %key, align 8, !tbaa !262
  %call9 = tail call zeroext i1 @_ZN6Halide7Runtime8Internal10keys_equalEPKhS3_m(i8* %13, i8* %cache_key, i64 %conv) #17
  br i1 %call9, label %land.lhs.true10, label %if.end73

land.lhs.true10:                                  ; preds = %land.lhs.true7
  %computed_bounds11 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214, i64 0, i32 10
  %14 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %computed_bounds11, align 8, !tbaa !261
  %call12 = tail call zeroext i1 @_ZN6Halide7Runtime8Internal16buffer_has_shapeEPK15halide_buffer_tPK18halide_dimension_t(%struct.halide_buffer_t* %computed_bounds, %struct.halide_dimension_t* %14) #17
  br i1 %call12, label %land.lhs.true13, label %if.end73

land.lhs.true13:                                  ; preds = %land.lhs.true10
  %tuple_count14 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214, i64 0, i32 8
  %15 = load i32, i32* %tuple_count14, align 8, !tbaa !234
  %cmp15 = icmp eq i32 %15, %tuple_count
  br i1 %cmp15, label %for.cond.preheader, label %if.end73

for.cond.preheader:                               ; preds = %land.lhs.true13
  %buf = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214, i64 0, i32 11
  br label %if.then23

if.then23:                                        ; preds = %for.cond.cleanup.us, %for.cond.preheader
  %.us-phi = phi %"struct.Halide::Runtime::Internal::CacheEntry"* [ %entry3.0214, %for.cond.preheader ], [ %entry3.0214.us, %for.cond.cleanup.us ]
  %.us-phi11 = phi %struct.halide_buffer_t** [ %buf, %for.cond.preheader ], [ %buf.us, %for.cond.cleanup.us ]
  %16 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal18most_recently_usedE, align 8, !tbaa !11
  %cmp24.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %.us-phi, %16
  br i1 %cmp24.not, label %if.end57, label %do.body

do.body:                                          ; preds = %if.then23
  %more_recent = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %.us-phi, i64 0, i32 1
  %17 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %more_recent, align 8, !tbaa !273
  %cmp26.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %17, null
  br i1 %cmp26.not, label %if.then27, label %do.end

if.then27:                                        ; preds = %do.body
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([105 x i8], [105 x i8]* @.str.3.43, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then27, %do.body
  %less_recent = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %.us-phi, i64 0, i32 2
  %18 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %less_recent, align 8, !tbaa !256
  %cmp28.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %18, null
  br i1 %cmp28.not, label %do.body33, label %if.then29

if.then29:                                        ; preds = %do.end
  %19 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %more_recent, align 8, !tbaa !273
  %more_recent32 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %18, i64 0, i32 1
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %19, %"struct.Halide::Runtime::Internal::CacheEntry"** %more_recent32, align 8, !tbaa !273
  %.pr = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %more_recent, align 8, !tbaa !273
  br label %do.body41

do.body33:                                        ; preds = %do.end
  %20 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal19least_recently_usedE, align 8, !tbaa !11
  %cmp34 = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %20, %.us-phi
  br i1 %cmp34, label %do.end38, label %if.then35

if.then35:                                        ; preds = %do.body33
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([104 x i8], [104 x i8]* @.str.4.44, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end38

do.end38:                                         ; preds = %if.then35, %do.body33
  %21 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %more_recent, align 8, !tbaa !273
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %21, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal19least_recently_usedE, align 8, !tbaa !11
  br label %do.body41

do.body41:                                        ; preds = %do.end38, %if.then29
  %22 = phi %"struct.Halide::Runtime::Internal::CacheEntry"* [ %.pr, %if.then29 ], [ %21, %do.end38 ]
  %cmp43.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %22, null
  br i1 %cmp43.not, label %if.then44, label %do.end47

if.then44:                                        ; preds = %do.body41
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([105 x i8], [105 x i8]* @.str.5.45, i64 0, i64 0)) #16
  tail call void @abort() #16
  %.pre = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %more_recent, align 8, !tbaa !273
  br label %do.end47

do.end47:                                         ; preds = %if.then44, %do.body41
  %23 = phi %"struct.Halide::Runtime::Internal::CacheEntry"* [ %.pre, %if.then44 ], [ %22, %do.body41 ]
  %24 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %less_recent, align 8, !tbaa !256
  %less_recent50 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %23, i64 0, i32 2
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %24, %"struct.Halide::Runtime::Internal::CacheEntry"** %less_recent50, align 8, !tbaa !256
  store %"struct.Halide::Runtime::Internal::CacheEntry"* null, %"struct.Halide::Runtime::Internal::CacheEntry"** %more_recent, align 8, !tbaa !273
  %25 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal18most_recently_usedE, align 8, !tbaa !11
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %25, %"struct.Halide::Runtime::Internal::CacheEntry"** %less_recent, align 8, !tbaa !256
  %cmp53.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %25, null
  br i1 %cmp53.not, label %if.end56, label %if.then54

if.then54:                                        ; preds = %do.end47
  %more_recent55 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %25, i64 0, i32 1
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %.us-phi, %"struct.Halide::Runtime::Internal::CacheEntry"** %more_recent55, align 8, !tbaa !273
  br label %if.end56

if.end56:                                         ; preds = %if.then54, %do.end47
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %.us-phi, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal18most_recently_usedE, align 8, !tbaa !11
  br label %if.end57

if.end57:                                         ; preds = %if.end56, %if.then23
  br i1 %cmp16208, label %for.body62.preheader, label %cleanup119.loopexit223

for.body62.preheader:                             ; preds = %if.end57
  %wide.trip.count = zext i32 %tuple_count to i64
  %26 = add nsw i64 %wide.trip.count, -1
  %xtraiter = and i64 %wide.trip.count, 3
  %27 = icmp ult i64 %26, 3
  br i1 %27, label %cleanup119.loopexit223.loopexit.unr-lcssa, label %for.body62.preheader.new

for.body62.preheader.new:                         ; preds = %for.body62.preheader
  %unroll_iter = and i64 %wide.trip.count, 4294967292
  br label %for.body62

for.body62:                                       ; preds = %for.body62, %for.body62.preheader.new
  %indvars.iv224 = phi i64 [ 0, %for.body62.preheader.new ], [ %indvars.iv.next225.3, %for.body62 ]
  %niter = phi i64 [ %unroll_iter, %for.body62.preheader.new ], [ %niter.nsub.3, %for.body62 ]
  %arrayidx65 = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv224
  %28 = bitcast %struct.halide_buffer_t** %arrayidx65 to i8**
  %29 = load i8*, i8** %28, align 8, !tbaa !11
  %30 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %.us-phi11, align 8, !tbaa !236
  %arrayidx68 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %30, i64 %indvars.iv224
  %31 = bitcast %struct.halide_buffer_t* %arrayidx68 to i8*
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(56) %29, i8* noundef nonnull align 8 dereferenceable(56) %31, i64 56, i1 false), !tbaa.struct !268
  %indvars.iv.next225 = or i64 %indvars.iv224, 1
  %arrayidx65.1 = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv.next225
  %32 = bitcast %struct.halide_buffer_t** %arrayidx65.1 to i8**
  %33 = load i8*, i8** %32, align 8, !tbaa !11
  %34 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %.us-phi11, align 8, !tbaa !236
  %arrayidx68.1 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %34, i64 %indvars.iv.next225
  %35 = bitcast %struct.halide_buffer_t* %arrayidx68.1 to i8*
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(56) %33, i8* noundef nonnull align 8 dereferenceable(56) %35, i64 56, i1 false), !tbaa.struct !268
  %indvars.iv.next225.1 = or i64 %indvars.iv224, 2
  %arrayidx65.2 = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv.next225.1
  %36 = bitcast %struct.halide_buffer_t** %arrayidx65.2 to i8**
  %37 = load i8*, i8** %36, align 8, !tbaa !11
  %38 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %.us-phi11, align 8, !tbaa !236
  %arrayidx68.2 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %38, i64 %indvars.iv.next225.1
  %39 = bitcast %struct.halide_buffer_t* %arrayidx68.2 to i8*
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(56) %37, i8* noundef nonnull align 8 dereferenceable(56) %39, i64 56, i1 false), !tbaa.struct !268
  %indvars.iv.next225.2 = or i64 %indvars.iv224, 3
  %arrayidx65.3 = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv.next225.2
  %40 = bitcast %struct.halide_buffer_t** %arrayidx65.3 to i8**
  %41 = load i8*, i8** %40, align 8, !tbaa !11
  %42 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %.us-phi11, align 8, !tbaa !236
  %arrayidx68.3 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %42, i64 %indvars.iv.next225.2
  %43 = bitcast %struct.halide_buffer_t* %arrayidx68.3 to i8*
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(56) %41, i8* noundef nonnull align 8 dereferenceable(56) %43, i64 56, i1 false), !tbaa.struct !268
  %indvars.iv.next225.3 = add nuw nsw i64 %indvars.iv224, 4
  %niter.nsub.3 = add i64 %niter, -4
  %niter.ncmp.3 = icmp eq i64 %niter.nsub.3, 0
  br i1 %niter.ncmp.3, label %cleanup119.loopexit223.loopexit.unr-lcssa, label %for.body62, !llvm.loop !283

if.end73:                                         ; preds = %land.lhs.true13, %land.lhs.true10, %land.lhs.true7, %land.lhs.true, %while.body
  %next = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0214, i64 0, i32 0
  %entry3.0 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %next, align 8, !tbaa !11
  %cmp.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %entry3.0, null
  br i1 %cmp.not, label %for.cond75.preheader, label %while.body, !llvm.loop !282

for.body78:                                       ; preds = %for.inc114, %for.body78.preheader
  %indvars.iv226 = phi i64 [ 0, %for.body78.preheader ], [ %indvars.iv.next227, %for.inc114 ]
  %arrayidx81 = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv226
  %44 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %arrayidx81, align 8, !tbaa !11
  %dimensions.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %44, i64 0, i32 5
  %45 = load i32, i32* %dimensions.i.i, align 4, !tbaa !180
  %dim.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %44, i64 0, i32 6
  %46 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i.i, align 8
  %cmp19.i.i = icmp sgt i32 %45, 0
  br i1 %cmp19.i.i, label %for.body.preheader.i.i, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

for.body.preheader.i.i:                           ; preds = %for.body78
  %wide.trip.count.i.i = zext i32 %45 to i64
  %47 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter36 = and i64 %wide.trip.count.i.i, 3
  %48 = icmp ult i64 %47, 3
  br i1 %48, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.preheader.i.i.new

for.body.preheader.i.i.new:                       ; preds = %for.body.preheader.i.i
  %unroll_iter40 = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %if.end.i.i.3, %for.body.preheader.i.i.new
  %indvars.iv.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %niter41 = phi i64 [ %unroll_iter40, %for.body.preheader.i.i.new ], [ %niter41.nsub.3, %if.end.i.i.3 ]
  %stride2.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.i.i, i32 2
  %49 = load i32, i32* %stride2.i.i, align 4, !tbaa !187
  %cmp3.i.i = icmp sgt i32 %49, 0
  br i1 %cmp3.i.i, label %if.then.i.i, label %if.end.i.i

if.then.i.i:                                      ; preds = %for.body.i.i
  %conv18.i.i = zext i32 %49 to i64
  %extent.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.i.i, i32 1
  %50 = load i32, i32* %extent.i.i, align 4, !tbaa !183
  %sub.i.i = add nsw i32 %50, -1
  %conv7.i.i = sext i32 %sub.i.i to i64
  %mul.i.i = mul nsw i64 %conv7.i.i, %conv18.i.i
  %add.i.i = add nsw i64 %mul.i.i, %index.021.i.i
  br label %if.end.i.i

if.end.i.i:                                       ; preds = %if.then.i.i, %for.body.i.i
  %index.1.i.i = phi i64 [ %add.i.i, %if.then.i.i ], [ %index.021.i.i, %for.body.i.i ]
  %indvars.iv.next.i.i = or i64 %indvars.iv.i.i, 1
  %stride2.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.next.i.i, i32 2
  %51 = load i32, i32* %stride2.i.i.1, align 4, !tbaa !187
  %cmp3.i.i.1 = icmp sgt i32 %51, 0
  br i1 %cmp3.i.i.1, label %if.then.i.i.1, label %if.end.i.i.1

for.body.i12.i.preheader.unr-lcssa:               ; preds = %if.end.i.i.3, %for.body.preheader.i.i
  %index.1.i.i.lcssa.ph = phi i64 [ undef, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %indvars.iv.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %lcmp.mod38.not = icmp eq i64 %xtraiter36, 0
  br i1 %lcmp.mod38.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil

for.body.i.i.epil:                                ; preds = %for.body.i12.i.preheader.unr-lcssa, %if.end.i.i.epil
  %indvars.iv.i.i.epil = phi i64 [ %indvars.iv.next.i.i.epil, %if.end.i.i.epil ], [ %indvars.iv.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %index.021.i.i.epil = phi i64 [ %index.1.i.i.epil, %if.end.i.i.epil ], [ %index.021.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %epil.iter37 = phi i64 [ %epil.iter37.sub, %if.end.i.i.epil ], [ %xtraiter36, %for.body.i12.i.preheader.unr-lcssa ]
  %stride2.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.i.i.epil, i32 2
  %52 = load i32, i32* %stride2.i.i.epil, align 4, !tbaa !187
  %cmp3.i.i.epil = icmp sgt i32 %52, 0
  br i1 %cmp3.i.i.epil, label %if.then.i.i.epil, label %if.end.i.i.epil

if.then.i.i.epil:                                 ; preds = %for.body.i.i.epil
  %conv18.i.i.epil = zext i32 %52 to i64
  %extent.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.i.i.epil, i32 1
  %53 = load i32, i32* %extent.i.i.epil, align 4, !tbaa !183
  %sub.i.i.epil = add nsw i32 %53, -1
  %conv7.i.i.epil = sext i32 %sub.i.i.epil to i64
  %mul.i.i.epil = mul nsw i64 %conv7.i.i.epil, %conv18.i.i.epil
  %add.i.i.epil = add nsw i64 %mul.i.i.epil, %index.021.i.i.epil
  br label %if.end.i.i.epil

if.end.i.i.epil:                                  ; preds = %if.then.i.i.epil, %for.body.i.i.epil
  %index.1.i.i.epil = phi i64 [ %add.i.i.epil, %if.then.i.i.epil ], [ %index.021.i.i.epil, %for.body.i.i.epil ]
  %indvars.iv.next.i.i.epil = add nuw nsw i64 %indvars.iv.i.i.epil, 1
  %epil.iter37.sub = add i64 %epil.iter37, -1
  %epil.iter37.cmp.not = icmp eq i64 %epil.iter37.sub, 0
  br i1 %epil.iter37.cmp.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil, !llvm.loop !284

for.body.i12.i.preheader:                         ; preds = %if.end.i.i.epil, %for.body.i12.i.preheader.unr-lcssa
  %index.1.i.i.lcssa = phi i64 [ %index.1.i.i.lcssa.ph, %for.body.i12.i.preheader.unr-lcssa ], [ %index.1.i.i.epil, %if.end.i.i.epil ]
  %54 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter42 = and i64 %wide.trip.count.i.i, 3
  %55 = icmp ult i64 %54, 3
  br i1 %55, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i.preheader.new

for.body.i12.i.preheader.new:                     ; preds = %for.body.i12.i.preheader
  %unroll_iter46 = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i12.i

for.body.i12.i:                                   ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader.new
  %indvars.iv.i9.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %niter47 = phi i64 [ %unroll_iter46, %for.body.i12.i.preheader.new ], [ %niter47.nsub.3, %if.end.i22.i.3 ]
  %stride2.i10.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.i9.i, i32 2
  %56 = load i32, i32* %stride2.i10.i, align 4, !tbaa !187
  %cmp3.i11.i = icmp slt i32 %56, 0
  br i1 %cmp3.i11.i, label %if.then.i18.i, label %if.end.i22.i

if.then.i18.i:                                    ; preds = %for.body.i12.i
  %conv.i.i = sext i32 %56 to i64
  %extent.i13.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.i9.i, i32 1
  %57 = load i32, i32* %extent.i13.i, align 4, !tbaa !183
  %sub.i14.i = add nsw i32 %57, -1
  %conv7.i15.i = sext i32 %sub.i14.i to i64
  %mul.i16.i = mul nsw i64 %conv7.i15.i, %conv.i.i
  %add.i17.i = add nsw i64 %mul.i16.i, %index.018.i.i
  br label %if.end.i22.i

if.end.i22.i:                                     ; preds = %if.then.i18.i, %for.body.i12.i
  %index.1.i19.i = phi i64 [ %add.i17.i, %if.then.i18.i ], [ %index.018.i.i, %for.body.i12.i ]
  %indvars.iv.next.i20.i = or i64 %indvars.iv.i9.i, 1
  %stride2.i10.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.next.i20.i, i32 2
  %58 = load i32, i32* %stride2.i10.i.1, align 4, !tbaa !187
  %cmp3.i11.i.1 = icmp slt i32 %58, 0
  br i1 %cmp3.i11.i.1, label %if.then.i18.i.1, label %if.end.i22.i.1

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa: ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader
  %index.1.i19.i.lcssa.ph = phi i64 [ undef, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %indvars.iv.i9.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %lcmp.mod44.not = icmp eq i64 %xtraiter42, 0
  br i1 %lcmp.mod44.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil

for.body.i12.i.epil:                              ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, %if.end.i22.i.epil
  %indvars.iv.i9.i.epil = phi i64 [ %indvars.iv.next.i20.i.epil, %if.end.i22.i.epil ], [ %indvars.iv.i9.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %index.018.i.i.epil = phi i64 [ %index.1.i19.i.epil, %if.end.i22.i.epil ], [ %index.018.i.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %epil.iter43 = phi i64 [ %epil.iter43.sub, %if.end.i22.i.epil ], [ %xtraiter42, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %stride2.i10.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.i9.i.epil, i32 2
  %59 = load i32, i32* %stride2.i10.i.epil, align 4, !tbaa !187
  %cmp3.i11.i.epil = icmp slt i32 %59, 0
  br i1 %cmp3.i11.i.epil, label %if.then.i18.i.epil, label %if.end.i22.i.epil

if.then.i18.i.epil:                               ; preds = %for.body.i12.i.epil
  %conv.i.i.epil = sext i32 %59 to i64
  %extent.i13.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.i9.i.epil, i32 1
  %60 = load i32, i32* %extent.i13.i.epil, align 4, !tbaa !183
  %sub.i14.i.epil = add nsw i32 %60, -1
  %conv7.i15.i.epil = sext i32 %sub.i14.i.epil to i64
  %mul.i16.i.epil = mul nsw i64 %conv7.i15.i.epil, %conv.i.i.epil
  %add.i17.i.epil = add nsw i64 %mul.i16.i.epil, %index.018.i.i.epil
  br label %if.end.i22.i.epil

if.end.i22.i.epil:                                ; preds = %if.then.i18.i.epil, %for.body.i12.i.epil
  %index.1.i19.i.epil = phi i64 [ %add.i17.i.epil, %if.then.i18.i.epil ], [ %index.018.i.i.epil, %for.body.i12.i.epil ]
  %indvars.iv.next.i20.i.epil = add nuw nsw i64 %indvars.iv.i9.i.epil, 1
  %epil.iter43.sub = add i64 %epil.iter43, -1
  %epil.iter43.cmp.not = icmp eq i64 %epil.iter43.sub, 0
  br i1 %epil.iter43.cmp.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil, !llvm.loop !285

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit: ; preds = %if.end.i22.i.epil, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa
  %index.1.i19.i.lcssa = phi i64 [ %index.1.i19.i.lcssa.ph, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ], [ %index.1.i19.i.epil, %if.end.i22.i.epil ]
  %add8.i.i = add nsw i64 %index.1.i.i.lcssa, 1
  br label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

_ZNK15halide_buffer_t13size_in_bytesEv.exit:      ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, %for.body78
  %add8.i27.i = phi i64 [ 1, %for.body78 ], [ %add8.i.i, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %index.0.lcssa.i8.i = phi i64 [ 0, %for.body78 ], [ %index.1.i19.i.lcssa, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %sub.i = sub nsw i64 %add8.i27.i, %index.0.lcssa.i8.i
  %bits.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %44, i64 0, i32 4, i32 1
  %61 = load i8, i8* %bits.i.i, align 1, !tbaa !141
  %conv.i23.i = zext i8 %61 to i64
  %add.i24.i = add nuw nsw i64 %conv.i23.i, 7
  %div.i.i = lshr i64 %add.i24.i, 3
  %mul.i = mul i64 %div.i.i, %sub.i
  %add84 = add i64 %mul.i, 64
  %call85 = tail call i8* @halide_malloc(i8* %user_context, i64 %add84) #16
  %host = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %44, i64 0, i32 2
  store i8* %call85, i8** %host, align 8, !tbaa !178
  %cmp87 = icmp eq i8* %call85, null
  br i1 %cmp87, label %for.cond89.preheader, label %for.inc114

for.cond89.preheader:                             ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit
  %cmp90215.not = icmp eq i64 %indvars.iv226, 0
  br i1 %cmp90215.not, label %cleanup119, label %for.body92

for.body92:                                       ; preds = %for.cond89.preheader, %for.body92
  %indvars.iv228 = phi i64 [ %indvars.iv.next229, %for.body92 ], [ %indvars.iv226, %for.cond89.preheader ]
  %sub = add nuw nsw i64 %indvars.iv228, 4294967295
  %62 = and i64 %sub, 4294967295
  %arrayidx94 = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %62
  %63 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %arrayidx94, align 8, !tbaa !11
  %host95 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %63, i64 0, i32 2
  %64 = load i8*, i8** %host95, align 8, !tbaa !178
  %call96 = tail call %"struct.Halide::Runtime::Internal::CacheBlockHeader"* @_ZN6Halide7Runtime8Internal21get_pointer_to_headerEPh(i8* %64) #17
  %65 = bitcast %"struct.Halide::Runtime::Internal::CacheBlockHeader"* %call96 to i8*
  tail call void @halide_free(i8* %user_context, i8* %65) #16
  %66 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %arrayidx94, align 8, !tbaa !11
  %host100 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %66, i64 0, i32 2
  store i8* null, i8** %host100, align 8, !tbaa !178
  %67 = icmp sgt i64 %indvars.iv228, 1
  %indvars.iv.next229 = add nsw i64 %indvars.iv228, -1
  br i1 %67, label %for.body92, label %cleanup119, !llvm.loop !286

for.inc114:                                       ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit
  %add.ptr = getelementptr inbounds i8, i8* %call85, i64 64
  store i8* %add.ptr, i8** %host, align 8, !tbaa !178
  %call108 = tail call %"struct.Halide::Runtime::Internal::CacheBlockHeader"* @_ZN6Halide7Runtime8Internal21get_pointer_to_headerEPh(i8* nonnull %add.ptr) #17
  %hash109 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheBlockHeader", %"struct.Halide::Runtime::Internal::CacheBlockHeader"* %call108, i64 0, i32 1
  store i32 %call, i32* %hash109, align 8, !tbaa !287
  %entry110 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheBlockHeader", %"struct.Halide::Runtime::Internal::CacheBlockHeader"* %call108, i64 0, i32 0
  store %"struct.Halide::Runtime::Internal::CacheEntry"* null, %"struct.Halide::Runtime::Internal::CacheEntry"** %entry110, align 8, !tbaa !289
  %indvars.iv.next227 = add nuw nsw i64 %indvars.iv226, 1
  %exitcond231.not = icmp eq i64 %indvars.iv.next227, %wide.trip.count230
  br i1 %exitcond231.not, label %cleanup119, label %for.body78, !llvm.loop !290

cleanup119.loopexit223.loopexit.unr-lcssa:        ; preds = %for.body62, %for.body62.preheader
  %indvars.iv224.unr = phi i64 [ 0, %for.body62.preheader ], [ %indvars.iv.next225.3, %for.body62 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %cleanup119.loopexit223, label %for.body62.epil

for.body62.epil:                                  ; preds = %cleanup119.loopexit223.loopexit.unr-lcssa, %for.body62.epil
  %indvars.iv224.epil = phi i64 [ %indvars.iv.next225.epil, %for.body62.epil ], [ %indvars.iv224.unr, %cleanup119.loopexit223.loopexit.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %for.body62.epil ], [ %xtraiter, %cleanup119.loopexit223.loopexit.unr-lcssa ]
  %arrayidx65.epil = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv224.epil
  %68 = bitcast %struct.halide_buffer_t** %arrayidx65.epil to i8**
  %69 = load i8*, i8** %68, align 8, !tbaa !11
  %70 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %.us-phi11, align 8, !tbaa !236
  %arrayidx68.epil = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %70, i64 %indvars.iv224.epil
  %71 = bitcast %struct.halide_buffer_t* %arrayidx68.epil to i8*
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(56) %69, i8* noundef nonnull align 8 dereferenceable(56) %71, i64 56, i1 false), !tbaa.struct !268
  %indvars.iv.next225.epil = add nuw nsw i64 %indvars.iv224.epil, 1
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %cleanup119.loopexit223, label %for.body62.epil, !llvm.loop !291

cleanup119.loopexit223:                           ; preds = %cleanup119.loopexit223.loopexit.unr-lcssa, %for.body62.epil, %if.end57
  %in_use_count = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %.us-phi, i64 0, i32 7
  %72 = load i32, i32* %in_use_count, align 4, !tbaa !259
  %add = add i32 %72, %tuple_count
  store i32 %add, i32* %in_use_count, align 4, !tbaa !259
  br label %cleanup119

cleanup119:                                       ; preds = %for.inc114, %for.body92, %cleanup119.loopexit223, %for.cond89.preheader, %for.cond75.preheader
  %retval.6 = phi i32 [ 1, %for.cond75.preheader ], [ 0, %cleanup119.loopexit223 ], [ -1, %for.cond89.preheader ], [ -1, %for.body92 ], [ 1, %for.inc114 ]
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal16memoization_lockE) #16
  ret i32 %retval.6

if.then.i.i.1:                                    ; preds = %if.end.i.i
  %conv18.i.i.1 = zext i32 %51 to i64
  %extent.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.next.i.i, i32 1
  %73 = load i32, i32* %extent.i.i.1, align 4, !tbaa !183
  %sub.i.i.1 = add nsw i32 %73, -1
  %conv7.i.i.1 = sext i32 %sub.i.i.1 to i64
  %mul.i.i.1 = mul nsw i64 %conv7.i.i.1, %conv18.i.i.1
  %add.i.i.1 = add nsw i64 %mul.i.i.1, %index.1.i.i
  br label %if.end.i.i.1

if.end.i.i.1:                                     ; preds = %if.then.i.i.1, %if.end.i.i
  %index.1.i.i.1 = phi i64 [ %add.i.i.1, %if.then.i.i.1 ], [ %index.1.i.i, %if.end.i.i ]
  %indvars.iv.next.i.i.1 = or i64 %indvars.iv.i.i, 2
  %stride2.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.next.i.i.1, i32 2
  %74 = load i32, i32* %stride2.i.i.2, align 4, !tbaa !187
  %cmp3.i.i.2 = icmp sgt i32 %74, 0
  br i1 %cmp3.i.i.2, label %if.then.i.i.2, label %if.end.i.i.2

if.then.i.i.2:                                    ; preds = %if.end.i.i.1
  %conv18.i.i.2 = zext i32 %74 to i64
  %extent.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.next.i.i.1, i32 1
  %75 = load i32, i32* %extent.i.i.2, align 4, !tbaa !183
  %sub.i.i.2 = add nsw i32 %75, -1
  %conv7.i.i.2 = sext i32 %sub.i.i.2 to i64
  %mul.i.i.2 = mul nsw i64 %conv7.i.i.2, %conv18.i.i.2
  %add.i.i.2 = add nsw i64 %mul.i.i.2, %index.1.i.i.1
  br label %if.end.i.i.2

if.end.i.i.2:                                     ; preds = %if.then.i.i.2, %if.end.i.i.1
  %index.1.i.i.2 = phi i64 [ %add.i.i.2, %if.then.i.i.2 ], [ %index.1.i.i.1, %if.end.i.i.1 ]
  %indvars.iv.next.i.i.2 = or i64 %indvars.iv.i.i, 3
  %stride2.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.next.i.i.2, i32 2
  %76 = load i32, i32* %stride2.i.i.3, align 4, !tbaa !187
  %cmp3.i.i.3 = icmp sgt i32 %76, 0
  br i1 %cmp3.i.i.3, label %if.then.i.i.3, label %if.end.i.i.3

if.then.i.i.3:                                    ; preds = %if.end.i.i.2
  %conv18.i.i.3 = zext i32 %76 to i64
  %extent.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.next.i.i.2, i32 1
  %77 = load i32, i32* %extent.i.i.3, align 4, !tbaa !183
  %sub.i.i.3 = add nsw i32 %77, -1
  %conv7.i.i.3 = sext i32 %sub.i.i.3 to i64
  %mul.i.i.3 = mul nsw i64 %conv7.i.i.3, %conv18.i.i.3
  %add.i.i.3 = add nsw i64 %mul.i.i.3, %index.1.i.i.2
  br label %if.end.i.i.3

if.end.i.i.3:                                     ; preds = %if.then.i.i.3, %if.end.i.i.2
  %index.1.i.i.3 = phi i64 [ %add.i.i.3, %if.then.i.i.3 ], [ %index.1.i.i.2, %if.end.i.i.2 ]
  %indvars.iv.next.i.i.3 = add nuw nsw i64 %indvars.iv.i.i, 4
  %niter41.nsub.3 = add i64 %niter41, -4
  %niter41.ncmp.3 = icmp eq i64 %niter41.nsub.3, 0
  br i1 %niter41.ncmp.3, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.i.i, !llvm.loop !279

if.then.i18.i.1:                                  ; preds = %if.end.i22.i
  %conv.i.i.1 = sext i32 %58 to i64
  %extent.i13.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.next.i20.i, i32 1
  %78 = load i32, i32* %extent.i13.i.1, align 4, !tbaa !183
  %sub.i14.i.1 = add nsw i32 %78, -1
  %conv7.i15.i.1 = sext i32 %sub.i14.i.1 to i64
  %mul.i16.i.1 = mul nsw i64 %conv7.i15.i.1, %conv.i.i.1
  %add.i17.i.1 = add nsw i64 %mul.i16.i.1, %index.1.i19.i
  br label %if.end.i22.i.1

if.end.i22.i.1:                                   ; preds = %if.then.i18.i.1, %if.end.i22.i
  %index.1.i19.i.1 = phi i64 [ %add.i17.i.1, %if.then.i18.i.1 ], [ %index.1.i19.i, %if.end.i22.i ]
  %indvars.iv.next.i20.i.1 = or i64 %indvars.iv.i9.i, 2
  %stride2.i10.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.next.i20.i.1, i32 2
  %79 = load i32, i32* %stride2.i10.i.2, align 4, !tbaa !187
  %cmp3.i11.i.2 = icmp slt i32 %79, 0
  br i1 %cmp3.i11.i.2, label %if.then.i18.i.2, label %if.end.i22.i.2

if.then.i18.i.2:                                  ; preds = %if.end.i22.i.1
  %conv.i.i.2 = sext i32 %79 to i64
  %extent.i13.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.next.i20.i.1, i32 1
  %80 = load i32, i32* %extent.i13.i.2, align 4, !tbaa !183
  %sub.i14.i.2 = add nsw i32 %80, -1
  %conv7.i15.i.2 = sext i32 %sub.i14.i.2 to i64
  %mul.i16.i.2 = mul nsw i64 %conv7.i15.i.2, %conv.i.i.2
  %add.i17.i.2 = add nsw i64 %mul.i16.i.2, %index.1.i19.i.1
  br label %if.end.i22.i.2

if.end.i22.i.2:                                   ; preds = %if.then.i18.i.2, %if.end.i22.i.1
  %index.1.i19.i.2 = phi i64 [ %add.i17.i.2, %if.then.i18.i.2 ], [ %index.1.i19.i.1, %if.end.i22.i.1 ]
  %indvars.iv.next.i20.i.2 = or i64 %indvars.iv.i9.i, 3
  %stride2.i10.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.next.i20.i.2, i32 2
  %81 = load i32, i32* %stride2.i10.i.3, align 4, !tbaa !187
  %cmp3.i11.i.3 = icmp slt i32 %81, 0
  br i1 %cmp3.i11.i.3, label %if.then.i18.i.3, label %if.end.i22.i.3

if.then.i18.i.3:                                  ; preds = %if.end.i22.i.2
  %conv.i.i.3 = sext i32 %81 to i64
  %extent.i13.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %46, i64 %indvars.iv.next.i20.i.2, i32 1
  %82 = load i32, i32* %extent.i13.i.3, align 4, !tbaa !183
  %sub.i14.i.3 = add nsw i32 %82, -1
  %conv7.i15.i.3 = sext i32 %sub.i14.i.3 to i64
  %mul.i16.i.3 = mul nsw i64 %conv7.i15.i.3, %conv.i.i.3
  %add.i17.i.3 = add nsw i64 %mul.i16.i.3, %index.1.i19.i.2
  br label %if.end.i22.i.3

if.end.i22.i.3:                                   ; preds = %if.then.i18.i.3, %if.end.i22.i.2
  %index.1.i19.i.3 = phi i64 [ %add.i17.i.3, %if.then.i18.i.3 ], [ %index.1.i19.i.2, %if.end.i22.i.2 ]
  %indvars.iv.next.i20.i.3 = add nuw nsw i64 %indvars.iv.i9.i, 4
  %niter47.nsub.3 = add i64 %niter47, -4
  %niter47.ncmp.3 = icmp eq i64 %niter47.nsub.3, 0
  br i1 %niter47.ncmp.3, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i, !llvm.loop !280
}

; Function Attrs: nounwind
define weak i32 @halide_memoization_cache_store(i8* %user_context, i8* %cache_key, i32 %size, %struct.halide_buffer_t* %computed_bounds, i32 %tuple_count, %struct.halide_buffer_t** %tuple_buffers, i1 zeroext %has_eviction_key, i64 %eviction_key) local_unnamed_addr #3 {
entry:
  %0 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, align 8, !tbaa !11
  %host = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %0, i64 0, i32 2
  %1 = load i8*, i8** %host, align 8, !tbaa !178
  %call = tail call %"struct.Halide::Runtime::Internal::CacheBlockHeader"* @_ZN6Halide7Runtime8Internal21get_pointer_to_headerEPh(i8* %1) #17
  %hash = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheBlockHeader", %"struct.Halide::Runtime::Internal::CacheBlockHeader"* %call, i64 0, i32 1
  %2 = load i32, i32* %hash, align 8, !tbaa !287
  %3 = and i32 %2, 255
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal16memoization_lockE) #16
  %idxprom = zext i32 %3 to i64
  %arrayidx7 = getelementptr inbounds [256 x %"struct.Halide::Runtime::Internal::CacheEntry"*], [256 x %"struct.Halide::Runtime::Internal::CacheEntry"*]* @_ZN6Halide7Runtime8Internal13cache_entriesE, i64 0, i64 %idxprom
  %conv10 = sext i32 %size to i64
  %cmp22214 = icmp sgt i32 %tuple_count, 0
  %entry6.0220 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %arrayidx7, align 8, !tbaa !11
  %cmp.not221 = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0220, null
  br i1 %cmp.not221, label %for.cond61.preheader, label %while.body.preheader

while.body.preheader:                             ; preds = %entry
  %4 = sext i32 %tuple_count to i64
  br i1 %cmp22214, label %while.body.us, label %while.body

while.body.us:                                    ; preds = %while.body.preheader, %if.end59.us
  %entry6.0222.us = phi %"struct.Halide::Runtime::Internal::CacheEntry"* [ %entry6.0.us, %if.end59.us ], [ %entry6.0220, %while.body.preheader ]
  %hash8.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222.us, i64 0, i32 6
  %5 = load i32, i32* %hash8.us, align 8, !tbaa !258
  %cmp9.us = icmp eq i32 %5, %2
  br i1 %cmp9.us, label %land.lhs.true.us, label %if.end59.us

land.lhs.true.us:                                 ; preds = %while.body.us
  %key_size.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222.us, i64 0, i32 4
  %6 = load i64, i64* %key_size.us, align 8, !tbaa !257
  %cmp11.us = icmp eq i64 %6, %conv10
  br i1 %cmp11.us, label %land.lhs.true12.us, label %if.end59.us

land.lhs.true12.us:                               ; preds = %land.lhs.true.us
  %key.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222.us, i64 0, i32 5
  %7 = load i8*, i8** %key.us, align 8, !tbaa !262
  %call14.us = tail call zeroext i1 @_ZN6Halide7Runtime8Internal10keys_equalEPKhS3_m(i8* %7, i8* %cache_key, i64 %conv10) #17
  br i1 %call14.us, label %land.lhs.true15.us, label %if.end59.us

land.lhs.true15.us:                               ; preds = %land.lhs.true12.us
  %computed_bounds16.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222.us, i64 0, i32 10
  %8 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %computed_bounds16.us, align 8, !tbaa !261
  %call17.us = tail call zeroext i1 @_ZN6Halide7Runtime8Internal16buffer_has_shapeEPK15halide_buffer_tPK18halide_dimension_t(%struct.halide_buffer_t* %computed_bounds, %struct.halide_dimension_t* %8) #17
  br i1 %call17.us, label %land.lhs.true18.us, label %if.end59.us

land.lhs.true18.us:                               ; preds = %land.lhs.true15.us
  %tuple_count19.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222.us, i64 0, i32 8
  %9 = load i32, i32* %tuple_count19.us, align 8, !tbaa !234
  %cmp20.us = icmp eq i32 %9, %tuple_count
  br i1 %cmp20.us, label %for.cond.preheader.us, label %if.end59.us

for.cond.preheader.us:                            ; preds = %land.lhs.true18.us
  %buf27.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222.us, i64 0, i32 11
  %.pre.us = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %buf27.us, align 8, !tbaa !236
  br label %for.body.us

for.body.us:                                      ; preds = %for.body.us, %for.cond.preheader.us
  %10 = phi %struct.halide_buffer_t* [ %.pre.us, %for.cond.preheader.us ], [ %13, %for.body.us ]
  %indvars.iv.us = phi i64 [ 0, %for.cond.preheader.us ], [ %indvars.iv.next.us, %for.body.us ]
  %no_host_pointers_equal.0215.us = phi i8 [ 1, %for.cond.preheader.us ], [ %spec.select.us, %for.body.us ]
  %arrayidx24.us = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv.us
  %11 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %arrayidx24.us, align 8, !tbaa !11
  %dim.us = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %10, i64 %indvars.iv.us, i32 6
  %12 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.us, align 8, !tbaa !181
  %call30.us = tail call zeroext i1 @_ZN6Halide7Runtime8Internal16buffer_has_shapeEPK15halide_buffer_tPK18halide_dimension_t(%struct.halide_buffer_t* %11, %struct.halide_dimension_t* %12) #17
  %13 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %buf27.us, align 8, !tbaa !236
  %host35.us = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %13, i64 %indvars.iv.us, i32 2
  %14 = load i8*, i8** %host35.us, align 8, !tbaa !178
  %host36.us = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %11, i64 0, i32 2
  %15 = load i8*, i8** %host36.us, align 8, !tbaa !178
  %cmp37.us = icmp eq i8* %14, %15
  %spec.select.us = select i1 %cmp37.us, i8 0, i8 %no_host_pointers_equal.0215.us
  %indvars.iv.next.us = add nuw nsw i64 %indvars.iv.us, 1
  %cmp22.us = icmp slt i64 %indvars.iv.next.us, %4
  %16 = select i1 %call30.us, i1 %cmp22.us, i1 false
  br i1 %16, label %for.body.us, label %for.cond.cleanup.us, !llvm.loop !292

for.cond.cleanup.us:                              ; preds = %for.body.us
  br i1 %call30.us, label %do.body, label %if.end59.us

if.end59.us:                                      ; preds = %for.cond.cleanup.us, %land.lhs.true18.us, %land.lhs.true15.us, %land.lhs.true12.us, %land.lhs.true.us, %while.body.us
  %next.us = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222.us, i64 0, i32 0
  %entry6.0.us = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %next.us, align 8, !tbaa !11
  %cmp.not.us = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0.us, null
  br i1 %cmp.not.us, label %for.cond61.preheader, label %while.body.us, !llvm.loop !293

for.cond61.preheader:                             ; preds = %if.end59, %if.end59.us, %entry
  br i1 %cmp22214, label %for.body64.preheader, label %for.cond.cleanup63

for.body64.preheader:                             ; preds = %for.cond61.preheader
  %wide.trip.count236 = zext i32 %tuple_count to i64
  br label %for.body64

while.body:                                       ; preds = %while.body.preheader, %if.end59
  %entry6.0222 = phi %"struct.Halide::Runtime::Internal::CacheEntry"* [ %entry6.0, %if.end59 ], [ %entry6.0220, %while.body.preheader ]
  %hash8 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222, i64 0, i32 6
  %17 = load i32, i32* %hash8, align 8, !tbaa !258
  %cmp9 = icmp eq i32 %17, %2
  br i1 %cmp9, label %land.lhs.true, label %if.end59

land.lhs.true:                                    ; preds = %while.body
  %key_size = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222, i64 0, i32 4
  %18 = load i64, i64* %key_size, align 8, !tbaa !257
  %cmp11 = icmp eq i64 %18, %conv10
  br i1 %cmp11, label %land.lhs.true12, label %if.end59

land.lhs.true12:                                  ; preds = %land.lhs.true
  %key = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222, i64 0, i32 5
  %19 = load i8*, i8** %key, align 8, !tbaa !262
  %call14 = tail call zeroext i1 @_ZN6Halide7Runtime8Internal10keys_equalEPKhS3_m(i8* %19, i8* %cache_key, i64 %conv10) #17
  br i1 %call14, label %land.lhs.true15, label %if.end59

land.lhs.true15:                                  ; preds = %land.lhs.true12
  %computed_bounds16 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222, i64 0, i32 10
  %20 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %computed_bounds16, align 8, !tbaa !261
  %call17 = tail call zeroext i1 @_ZN6Halide7Runtime8Internal16buffer_has_shapeEPK15halide_buffer_tPK18halide_dimension_t(%struct.halide_buffer_t* %computed_bounds, %struct.halide_dimension_t* %20) #17
  br i1 %call17, label %land.lhs.true18, label %if.end59

land.lhs.true18:                                  ; preds = %land.lhs.true15
  %tuple_count19 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222, i64 0, i32 8
  %21 = load i32, i32* %tuple_count19, align 8, !tbaa !234
  %cmp20 = icmp eq i32 %21, %tuple_count
  br i1 %cmp20, label %cleanup132, label %if.end59

do.body:                                          ; preds = %for.cond.cleanup.us
  %22 = and i8 %spec.select.us, 1
  %tobool41.not = icmp eq i8 %22, 0
  br i1 %tobool41.not, label %if.then42, label %for.body48.preheader

if.then42:                                        ; preds = %do.body
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([98 x i8], [98 x i8]* @.str.9.46, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %for.body48.preheader

for.body48.preheader:                             ; preds = %do.body, %if.then42
  %wide.trip.count = zext i32 %tuple_count to i64
  br label %for.body48

for.body48:                                       ; preds = %for.body48, %for.body48.preheader
  %indvars.iv232 = phi i64 [ 0, %for.body48.preheader ], [ %indvars.iv.next233, %for.body48 ]
  %arrayidx50 = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv232
  %23 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %arrayidx50, align 8, !tbaa !11
  %host51 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %23, i64 0, i32 2
  %24 = load i8*, i8** %host51, align 8, !tbaa !178
  %call52 = tail call %"struct.Halide::Runtime::Internal::CacheBlockHeader"* @_ZN6Halide7Runtime8Internal21get_pointer_to_headerEPh(i8* %24) #17
  %entry53 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheBlockHeader", %"struct.Halide::Runtime::Internal::CacheBlockHeader"* %call52, i64 0, i32 0
  store %"struct.Halide::Runtime::Internal::CacheEntry"* null, %"struct.Halide::Runtime::Internal::CacheEntry"** %entry53, align 8, !tbaa !289
  %indvars.iv.next233 = add nuw nsw i64 %indvars.iv232, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next233, %wide.trip.count
  br i1 %exitcond.not, label %cleanup132, label %for.body48, !llvm.loop !294

if.end59:                                         ; preds = %land.lhs.true18, %land.lhs.true15, %land.lhs.true12, %land.lhs.true, %while.body
  %next = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0222, i64 0, i32 0
  %entry6.0 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %next, align 8, !tbaa !11
  %cmp.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %entry6.0, null
  br i1 %cmp.not, label %for.cond61.preheader, label %while.body, !llvm.loop !293

for.cond.cleanup63:                               ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit, %for.cond61.preheader
  %added_size.0.lcssa = phi i64 [ 0, %for.cond61.preheader ], [ %add, %_ZNK15halide_buffer_t13size_in_bytesEv.exit ]
  %25 = load i64, i64* @_ZN6Halide7Runtime8Internal18current_cache_sizeE, align 8, !tbaa !115
  %add73 = add i64 %25, %added_size.0.lcssa
  store i64 %add73, i64* @_ZN6Halide7Runtime8Internal18current_cache_sizeE, align 8, !tbaa !115
  tail call void @_ZN6Halide7Runtime8Internal11prune_cacheEv() #17
  %call74 = tail call i8* @halide_malloc(i8* null, i64 96) #16
  %tobool75.not = icmp eq i8* %call74, null
  br i1 %tobool75.not, label %if.then83, label %if.then76

for.body64:                                       ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit, %for.body64.preheader
  %indvars.iv234 = phi i64 [ 0, %for.body64.preheader ], [ %indvars.iv.next235, %_ZNK15halide_buffer_t13size_in_bytesEv.exit ]
  %added_size.0224 = phi i64 [ 0, %for.body64.preheader ], [ %add, %_ZNK15halide_buffer_t13size_in_bytesEv.exit ]
  %arrayidx67 = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv234
  %26 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %arrayidx67, align 8, !tbaa !11
  %dimensions.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %26, i64 0, i32 5
  %27 = load i32, i32* %dimensions.i.i, align 4, !tbaa !180
  %dim.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %26, i64 0, i32 6
  %28 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i.i, align 8
  %cmp19.i.i = icmp sgt i32 %27, 0
  br i1 %cmp19.i.i, label %for.body.preheader.i.i, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

for.body.preheader.i.i:                           ; preds = %for.body64
  %wide.trip.count.i.i = zext i32 %27 to i64
  %29 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter = and i64 %wide.trip.count.i.i, 3
  %30 = icmp ult i64 %29, 3
  br i1 %30, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.preheader.i.i.new

for.body.preheader.i.i.new:                       ; preds = %for.body.preheader.i.i
  %unroll_iter = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %if.end.i.i.3, %for.body.preheader.i.i.new
  %indvars.iv.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %niter = phi i64 [ %unroll_iter, %for.body.preheader.i.i.new ], [ %niter.nsub.3, %if.end.i.i.3 ]
  %stride2.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.i.i, i32 2
  %31 = load i32, i32* %stride2.i.i, align 4, !tbaa !187
  %cmp3.i.i = icmp sgt i32 %31, 0
  br i1 %cmp3.i.i, label %if.then.i.i, label %if.end.i.i

if.then.i.i:                                      ; preds = %for.body.i.i
  %conv18.i.i = zext i32 %31 to i64
  %extent.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.i.i, i32 1
  %32 = load i32, i32* %extent.i.i, align 4, !tbaa !183
  %sub.i.i = add nsw i32 %32, -1
  %conv7.i.i = sext i32 %sub.i.i to i64
  %mul.i.i = mul nsw i64 %conv7.i.i, %conv18.i.i
  %add.i.i = add nsw i64 %mul.i.i, %index.021.i.i
  br label %if.end.i.i

if.end.i.i:                                       ; preds = %if.then.i.i, %for.body.i.i
  %index.1.i.i = phi i64 [ %add.i.i, %if.then.i.i ], [ %index.021.i.i, %for.body.i.i ]
  %indvars.iv.next.i.i = or i64 %indvars.iv.i.i, 1
  %stride2.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.next.i.i, i32 2
  %33 = load i32, i32* %stride2.i.i.1, align 4, !tbaa !187
  %cmp3.i.i.1 = icmp sgt i32 %33, 0
  br i1 %cmp3.i.i.1, label %if.then.i.i.1, label %if.end.i.i.1

for.body.i12.i.preheader.unr-lcssa:               ; preds = %if.end.i.i.3, %for.body.preheader.i.i
  %index.1.i.i.lcssa.ph = phi i64 [ undef, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %indvars.iv.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil

for.body.i.i.epil:                                ; preds = %for.body.i12.i.preheader.unr-lcssa, %if.end.i.i.epil
  %indvars.iv.i.i.epil = phi i64 [ %indvars.iv.next.i.i.epil, %if.end.i.i.epil ], [ %indvars.iv.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %index.021.i.i.epil = phi i64 [ %index.1.i.i.epil, %if.end.i.i.epil ], [ %index.021.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %if.end.i.i.epil ], [ %xtraiter, %for.body.i12.i.preheader.unr-lcssa ]
  %stride2.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.i.i.epil, i32 2
  %34 = load i32, i32* %stride2.i.i.epil, align 4, !tbaa !187
  %cmp3.i.i.epil = icmp sgt i32 %34, 0
  br i1 %cmp3.i.i.epil, label %if.then.i.i.epil, label %if.end.i.i.epil

if.then.i.i.epil:                                 ; preds = %for.body.i.i.epil
  %conv18.i.i.epil = zext i32 %34 to i64
  %extent.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.i.i.epil, i32 1
  %35 = load i32, i32* %extent.i.i.epil, align 4, !tbaa !183
  %sub.i.i.epil = add nsw i32 %35, -1
  %conv7.i.i.epil = sext i32 %sub.i.i.epil to i64
  %mul.i.i.epil = mul nsw i64 %conv7.i.i.epil, %conv18.i.i.epil
  %add.i.i.epil = add nsw i64 %mul.i.i.epil, %index.021.i.i.epil
  br label %if.end.i.i.epil

if.end.i.i.epil:                                  ; preds = %if.then.i.i.epil, %for.body.i.i.epil
  %index.1.i.i.epil = phi i64 [ %add.i.i.epil, %if.then.i.i.epil ], [ %index.021.i.i.epil, %for.body.i.i.epil ]
  %indvars.iv.next.i.i.epil = add nuw nsw i64 %indvars.iv.i.i.epil, 1
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil, !llvm.loop !295

for.body.i12.i.preheader:                         ; preds = %if.end.i.i.epil, %for.body.i12.i.preheader.unr-lcssa
  %index.1.i.i.lcssa = phi i64 [ %index.1.i.i.lcssa.ph, %for.body.i12.i.preheader.unr-lcssa ], [ %index.1.i.i.epil, %if.end.i.i.epil ]
  %36 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter22 = and i64 %wide.trip.count.i.i, 3
  %37 = icmp ult i64 %36, 3
  br i1 %37, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i.preheader.new

for.body.i12.i.preheader.new:                     ; preds = %for.body.i12.i.preheader
  %unroll_iter26 = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i12.i

for.body.i12.i:                                   ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader.new
  %indvars.iv.i9.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %niter27 = phi i64 [ %unroll_iter26, %for.body.i12.i.preheader.new ], [ %niter27.nsub.3, %if.end.i22.i.3 ]
  %stride2.i10.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.i9.i, i32 2
  %38 = load i32, i32* %stride2.i10.i, align 4, !tbaa !187
  %cmp3.i11.i = icmp slt i32 %38, 0
  br i1 %cmp3.i11.i, label %if.then.i18.i, label %if.end.i22.i

if.then.i18.i:                                    ; preds = %for.body.i12.i
  %conv.i.i = sext i32 %38 to i64
  %extent.i13.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.i9.i, i32 1
  %39 = load i32, i32* %extent.i13.i, align 4, !tbaa !183
  %sub.i14.i = add nsw i32 %39, -1
  %conv7.i15.i = sext i32 %sub.i14.i to i64
  %mul.i16.i = mul nsw i64 %conv7.i15.i, %conv.i.i
  %add.i17.i = add nsw i64 %mul.i16.i, %index.018.i.i
  br label %if.end.i22.i

if.end.i22.i:                                     ; preds = %if.then.i18.i, %for.body.i12.i
  %index.1.i19.i = phi i64 [ %add.i17.i, %if.then.i18.i ], [ %index.018.i.i, %for.body.i12.i ]
  %indvars.iv.next.i20.i = or i64 %indvars.iv.i9.i, 1
  %stride2.i10.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.next.i20.i, i32 2
  %40 = load i32, i32* %stride2.i10.i.1, align 4, !tbaa !187
  %cmp3.i11.i.1 = icmp slt i32 %40, 0
  br i1 %cmp3.i11.i.1, label %if.then.i18.i.1, label %if.end.i22.i.1

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa: ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader
  %index.1.i19.i.lcssa.ph = phi i64 [ undef, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %indvars.iv.i9.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %lcmp.mod24.not = icmp eq i64 %xtraiter22, 0
  br i1 %lcmp.mod24.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil

for.body.i12.i.epil:                              ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, %if.end.i22.i.epil
  %indvars.iv.i9.i.epil = phi i64 [ %indvars.iv.next.i20.i.epil, %if.end.i22.i.epil ], [ %indvars.iv.i9.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %index.018.i.i.epil = phi i64 [ %index.1.i19.i.epil, %if.end.i22.i.epil ], [ %index.018.i.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %epil.iter23 = phi i64 [ %epil.iter23.sub, %if.end.i22.i.epil ], [ %xtraiter22, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %stride2.i10.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.i9.i.epil, i32 2
  %41 = load i32, i32* %stride2.i10.i.epil, align 4, !tbaa !187
  %cmp3.i11.i.epil = icmp slt i32 %41, 0
  br i1 %cmp3.i11.i.epil, label %if.then.i18.i.epil, label %if.end.i22.i.epil

if.then.i18.i.epil:                               ; preds = %for.body.i12.i.epil
  %conv.i.i.epil = sext i32 %41 to i64
  %extent.i13.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.i9.i.epil, i32 1
  %42 = load i32, i32* %extent.i13.i.epil, align 4, !tbaa !183
  %sub.i14.i.epil = add nsw i32 %42, -1
  %conv7.i15.i.epil = sext i32 %sub.i14.i.epil to i64
  %mul.i16.i.epil = mul nsw i64 %conv7.i15.i.epil, %conv.i.i.epil
  %add.i17.i.epil = add nsw i64 %mul.i16.i.epil, %index.018.i.i.epil
  br label %if.end.i22.i.epil

if.end.i22.i.epil:                                ; preds = %if.then.i18.i.epil, %for.body.i12.i.epil
  %index.1.i19.i.epil = phi i64 [ %add.i17.i.epil, %if.then.i18.i.epil ], [ %index.018.i.i.epil, %for.body.i12.i.epil ]
  %indvars.iv.next.i20.i.epil = add nuw nsw i64 %indvars.iv.i9.i.epil, 1
  %epil.iter23.sub = add i64 %epil.iter23, -1
  %epil.iter23.cmp.not = icmp eq i64 %epil.iter23.sub, 0
  br i1 %epil.iter23.cmp.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil, !llvm.loop !296

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit: ; preds = %if.end.i22.i.epil, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa
  %index.1.i19.i.lcssa = phi i64 [ %index.1.i19.i.lcssa.ph, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ], [ %index.1.i19.i.epil, %if.end.i22.i.epil ]
  %add8.i.i = add nsw i64 %index.1.i.i.lcssa, 1
  br label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

_ZNK15halide_buffer_t13size_in_bytesEv.exit:      ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, %for.body64
  %add8.i27.i = phi i64 [ 1, %for.body64 ], [ %add8.i.i, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %index.0.lcssa.i8.i = phi i64 [ 0, %for.body64 ], [ %index.1.i19.i.lcssa, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %sub.i = sub nsw i64 %add8.i27.i, %index.0.lcssa.i8.i
  %bits.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %26, i64 0, i32 4, i32 1
  %43 = load i8, i8* %bits.i.i, align 1, !tbaa !141
  %conv.i23.i = zext i8 %43 to i64
  %add.i24.i = add nuw nsw i64 %conv.i23.i, 7
  %div.i.i = lshr i64 %add.i24.i, 3
  %mul.i = mul i64 %div.i.i, %sub.i
  %add = add i64 %mul.i, %added_size.0224
  %indvars.iv.next235 = add nuw nsw i64 %indvars.iv234, 1
  %exitcond237.not = icmp eq i64 %indvars.iv.next235, %wide.trip.count236
  br i1 %exitcond237.not, label %for.cond.cleanup63, label %for.body64, !llvm.loop !297

if.then76:                                        ; preds = %for.cond.cleanup63
  %44 = bitcast i8* %call74 to %"struct.Halide::Runtime::Internal::CacheEntry"*
  %call79 = tail call zeroext i1 @_ZN6Halide7Runtime8Internal10CacheEntry4initEPKhmjPK15halide_buffer_tiPPS5_by(%"struct.Halide::Runtime::Internal::CacheEntry"* nonnull align 8 dereferenceable(96) %44, i8* %cache_key, i64 %conv10, i32 %2, %struct.halide_buffer_t* %computed_bounds, i32 %tuple_count, %struct.halide_buffer_t** nonnull %tuple_buffers, i1 zeroext %has_eviction_key, i64 %eviction_key) #17
  br i1 %call79, label %if.end101, label %if.then83

if.then83:                                        ; preds = %if.then76, %for.cond.cleanup63
  %45 = load i64, i64* @_ZN6Halide7Runtime8Internal18current_cache_sizeE, align 8, !tbaa !115
  %sub = sub i64 %45, %added_size.0.lcssa
  store i64 %sub, i64* @_ZN6Halide7Runtime8Internal18current_cache_sizeE, align 8, !tbaa !115
  br i1 %cmp22214, label %for.body88.preheader, label %for.cond.cleanup87

for.body88.preheader:                             ; preds = %if.then83
  %wide.trip.count244 = zext i32 %tuple_count to i64
  br label %for.body88

for.cond.cleanup87:                               ; preds = %for.body88, %if.then83
  br i1 %tobool75.not, label %cleanup132, label %if.then99

for.body88:                                       ; preds = %for.body88, %for.body88.preheader
  %indvars.iv242 = phi i64 [ 0, %for.body88.preheader ], [ %indvars.iv.next243, %for.body88 ]
  %arrayidx90 = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv242
  %46 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %arrayidx90, align 8, !tbaa !11
  %host91 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %46, i64 0, i32 2
  %47 = load i8*, i8** %host91, align 8, !tbaa !178
  %call92 = tail call %"struct.Halide::Runtime::Internal::CacheBlockHeader"* @_ZN6Halide7Runtime8Internal21get_pointer_to_headerEPh(i8* %47) #17
  %entry93 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheBlockHeader", %"struct.Halide::Runtime::Internal::CacheBlockHeader"* %call92, i64 0, i32 0
  store %"struct.Halide::Runtime::Internal::CacheEntry"* null, %"struct.Halide::Runtime::Internal::CacheEntry"** %entry93, align 8, !tbaa !289
  %indvars.iv.next243 = add nuw nsw i64 %indvars.iv242, 1
  %exitcond245.not = icmp eq i64 %indvars.iv.next243, %wide.trip.count244
  br i1 %exitcond245.not, label %for.cond.cleanup87, label %for.body88, !llvm.loop !298

if.then99:                                        ; preds = %for.cond.cleanup87
  tail call void @halide_free(i8* %user_context, i8* nonnull %call74) #16
  br label %cleanup132

if.end101:                                        ; preds = %if.then76
  %48 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %arrayidx7, align 8, !tbaa !11
  %next104 = bitcast i8* %call74 to %"struct.Halide::Runtime::Internal::CacheEntry"**
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %48, %"struct.Halide::Runtime::Internal::CacheEntry"** %next104, align 8, !tbaa !231
  %49 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal18most_recently_usedE, align 8, !tbaa !11
  %less_recent = getelementptr inbounds i8, i8* %call74, i64 16
  %50 = bitcast i8* %less_recent to %"struct.Halide::Runtime::Internal::CacheEntry"**
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %49, %"struct.Halide::Runtime::Internal::CacheEntry"** %50, align 8, !tbaa !256
  %cmp105.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %49, null
  br i1 %cmp105.not, label %if.end107, label %if.then106

if.then106:                                       ; preds = %if.end101
  %more_recent = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %49, i64 0, i32 1
  %51 = bitcast %"struct.Halide::Runtime::Internal::CacheEntry"** %more_recent to i8**
  store i8* %call74, i8** %51, align 8, !tbaa !273
  br label %if.end107

if.end107:                                        ; preds = %if.then106, %if.end101
  store i8* %call74, i8** bitcast (%"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal18most_recently_usedE to i8**), align 8, !tbaa !11
  %52 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal19least_recently_usedE, align 8, !tbaa !11
  %cmp108 = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %52, null
  br i1 %cmp108, label %if.then109, label %if.end110

if.then109:                                       ; preds = %if.end107
  store i8* %call74, i8** bitcast (%"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal19least_recently_usedE to i8**), align 8, !tbaa !11
  br label %if.end110

if.end110:                                        ; preds = %if.then109, %if.end107
  %53 = bitcast %"struct.Halide::Runtime::Internal::CacheEntry"** %arrayidx7 to i8**
  store i8* %call74, i8** %53, align 8, !tbaa !11
  %in_use_count = getelementptr inbounds i8, i8* %call74, i64 52
  %54 = bitcast i8* %in_use_count to i32*
  store i32 %tuple_count, i32* %54, align 4, !tbaa !259
  br i1 %cmp22214, label %for.body117.preheader, label %cleanup132

for.body117.preheader:                            ; preds = %if.end110
  %wide.trip.count240 = zext i32 %tuple_count to i64
  br label %for.body117

for.body117:                                      ; preds = %for.body117, %for.body117.preheader
  %indvars.iv238 = phi i64 [ 0, %for.body117.preheader ], [ %indvars.iv.next239, %for.body117 ]
  %arrayidx119 = getelementptr inbounds %struct.halide_buffer_t*, %struct.halide_buffer_t** %tuple_buffers, i64 %indvars.iv238
  %55 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %arrayidx119, align 8, !tbaa !11
  %host120 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %55, i64 0, i32 2
  %56 = load i8*, i8** %host120, align 8, !tbaa !178
  %call121 = tail call %"struct.Halide::Runtime::Internal::CacheBlockHeader"* @_ZN6Halide7Runtime8Internal21get_pointer_to_headerEPh(i8* %56) #17
  %57 = bitcast %"struct.Halide::Runtime::Internal::CacheBlockHeader"* %call121 to i8**
  store i8* %call74, i8** %57, align 8, !tbaa !289
  %indvars.iv.next239 = add nuw nsw i64 %indvars.iv238, 1
  %exitcond241.not = icmp eq i64 %indvars.iv.next239, %wide.trip.count240
  br i1 %exitcond241.not, label %cleanup132, label %for.body117, !llvm.loop !299

cleanup132:                                       ; preds = %land.lhs.true18, %for.body48, %for.body117, %if.end110, %if.then99, %for.cond.cleanup87
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal16memoization_lockE) #16
  ret i32 0

if.then.i.i.1:                                    ; preds = %if.end.i.i
  %conv18.i.i.1 = zext i32 %33 to i64
  %extent.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.next.i.i, i32 1
  %58 = load i32, i32* %extent.i.i.1, align 4, !tbaa !183
  %sub.i.i.1 = add nsw i32 %58, -1
  %conv7.i.i.1 = sext i32 %sub.i.i.1 to i64
  %mul.i.i.1 = mul nsw i64 %conv7.i.i.1, %conv18.i.i.1
  %add.i.i.1 = add nsw i64 %mul.i.i.1, %index.1.i.i
  br label %if.end.i.i.1

if.end.i.i.1:                                     ; preds = %if.then.i.i.1, %if.end.i.i
  %index.1.i.i.1 = phi i64 [ %add.i.i.1, %if.then.i.i.1 ], [ %index.1.i.i, %if.end.i.i ]
  %indvars.iv.next.i.i.1 = or i64 %indvars.iv.i.i, 2
  %stride2.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.next.i.i.1, i32 2
  %59 = load i32, i32* %stride2.i.i.2, align 4, !tbaa !187
  %cmp3.i.i.2 = icmp sgt i32 %59, 0
  br i1 %cmp3.i.i.2, label %if.then.i.i.2, label %if.end.i.i.2

if.then.i.i.2:                                    ; preds = %if.end.i.i.1
  %conv18.i.i.2 = zext i32 %59 to i64
  %extent.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.next.i.i.1, i32 1
  %60 = load i32, i32* %extent.i.i.2, align 4, !tbaa !183
  %sub.i.i.2 = add nsw i32 %60, -1
  %conv7.i.i.2 = sext i32 %sub.i.i.2 to i64
  %mul.i.i.2 = mul nsw i64 %conv7.i.i.2, %conv18.i.i.2
  %add.i.i.2 = add nsw i64 %mul.i.i.2, %index.1.i.i.1
  br label %if.end.i.i.2

if.end.i.i.2:                                     ; preds = %if.then.i.i.2, %if.end.i.i.1
  %index.1.i.i.2 = phi i64 [ %add.i.i.2, %if.then.i.i.2 ], [ %index.1.i.i.1, %if.end.i.i.1 ]
  %indvars.iv.next.i.i.2 = or i64 %indvars.iv.i.i, 3
  %stride2.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.next.i.i.2, i32 2
  %61 = load i32, i32* %stride2.i.i.3, align 4, !tbaa !187
  %cmp3.i.i.3 = icmp sgt i32 %61, 0
  br i1 %cmp3.i.i.3, label %if.then.i.i.3, label %if.end.i.i.3

if.then.i.i.3:                                    ; preds = %if.end.i.i.2
  %conv18.i.i.3 = zext i32 %61 to i64
  %extent.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.next.i.i.2, i32 1
  %62 = load i32, i32* %extent.i.i.3, align 4, !tbaa !183
  %sub.i.i.3 = add nsw i32 %62, -1
  %conv7.i.i.3 = sext i32 %sub.i.i.3 to i64
  %mul.i.i.3 = mul nsw i64 %conv7.i.i.3, %conv18.i.i.3
  %add.i.i.3 = add nsw i64 %mul.i.i.3, %index.1.i.i.2
  br label %if.end.i.i.3

if.end.i.i.3:                                     ; preds = %if.then.i.i.3, %if.end.i.i.2
  %index.1.i.i.3 = phi i64 [ %add.i.i.3, %if.then.i.i.3 ], [ %index.1.i.i.2, %if.end.i.i.2 ]
  %indvars.iv.next.i.i.3 = add nuw nsw i64 %indvars.iv.i.i, 4
  %niter.nsub.3 = add i64 %niter, -4
  %niter.ncmp.3 = icmp eq i64 %niter.nsub.3, 0
  br i1 %niter.ncmp.3, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.i.i, !llvm.loop !279

if.then.i18.i.1:                                  ; preds = %if.end.i22.i
  %conv.i.i.1 = sext i32 %40 to i64
  %extent.i13.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.next.i20.i, i32 1
  %63 = load i32, i32* %extent.i13.i.1, align 4, !tbaa !183
  %sub.i14.i.1 = add nsw i32 %63, -1
  %conv7.i15.i.1 = sext i32 %sub.i14.i.1 to i64
  %mul.i16.i.1 = mul nsw i64 %conv7.i15.i.1, %conv.i.i.1
  %add.i17.i.1 = add nsw i64 %mul.i16.i.1, %index.1.i19.i
  br label %if.end.i22.i.1

if.end.i22.i.1:                                   ; preds = %if.then.i18.i.1, %if.end.i22.i
  %index.1.i19.i.1 = phi i64 [ %add.i17.i.1, %if.then.i18.i.1 ], [ %index.1.i19.i, %if.end.i22.i ]
  %indvars.iv.next.i20.i.1 = or i64 %indvars.iv.i9.i, 2
  %stride2.i10.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.next.i20.i.1, i32 2
  %64 = load i32, i32* %stride2.i10.i.2, align 4, !tbaa !187
  %cmp3.i11.i.2 = icmp slt i32 %64, 0
  br i1 %cmp3.i11.i.2, label %if.then.i18.i.2, label %if.end.i22.i.2

if.then.i18.i.2:                                  ; preds = %if.end.i22.i.1
  %conv.i.i.2 = sext i32 %64 to i64
  %extent.i13.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.next.i20.i.1, i32 1
  %65 = load i32, i32* %extent.i13.i.2, align 4, !tbaa !183
  %sub.i14.i.2 = add nsw i32 %65, -1
  %conv7.i15.i.2 = sext i32 %sub.i14.i.2 to i64
  %mul.i16.i.2 = mul nsw i64 %conv7.i15.i.2, %conv.i.i.2
  %add.i17.i.2 = add nsw i64 %mul.i16.i.2, %index.1.i19.i.1
  br label %if.end.i22.i.2

if.end.i22.i.2:                                   ; preds = %if.then.i18.i.2, %if.end.i22.i.1
  %index.1.i19.i.2 = phi i64 [ %add.i17.i.2, %if.then.i18.i.2 ], [ %index.1.i19.i.1, %if.end.i22.i.1 ]
  %indvars.iv.next.i20.i.2 = or i64 %indvars.iv.i9.i, 3
  %stride2.i10.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.next.i20.i.2, i32 2
  %66 = load i32, i32* %stride2.i10.i.3, align 4, !tbaa !187
  %cmp3.i11.i.3 = icmp slt i32 %66, 0
  br i1 %cmp3.i11.i.3, label %if.then.i18.i.3, label %if.end.i22.i.3

if.then.i18.i.3:                                  ; preds = %if.end.i22.i.2
  %conv.i.i.3 = sext i32 %66 to i64
  %extent.i13.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %28, i64 %indvars.iv.next.i20.i.2, i32 1
  %67 = load i32, i32* %extent.i13.i.3, align 4, !tbaa !183
  %sub.i14.i.3 = add nsw i32 %67, -1
  %conv7.i15.i.3 = sext i32 %sub.i14.i.3 to i64
  %mul.i16.i.3 = mul nsw i64 %conv7.i15.i.3, %conv.i.i.3
  %add.i17.i.3 = add nsw i64 %mul.i16.i.3, %index.1.i19.i.2
  br label %if.end.i22.i.3

if.end.i22.i.3:                                   ; preds = %if.then.i18.i.3, %if.end.i22.i.2
  %index.1.i19.i.3 = phi i64 [ %add.i17.i.3, %if.then.i18.i.3 ], [ %index.1.i19.i.2, %if.end.i22.i.2 ]
  %indvars.iv.next.i20.i.3 = add nuw nsw i64 %indvars.iv.i9.i, 4
  %niter27.nsub.3 = add i64 %niter27, -4
  %niter27.ncmp.3 = icmp eq i64 %niter27.nsub.3, 0
  br i1 %niter27.ncmp.3, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i, !llvm.loop !280
}

; Function Attrs: nounwind
define weak void @halide_memoization_cache_release(i8* %user_context, i8* %host) local_unnamed_addr #3 {
entry:
  %call = tail call %"struct.Halide::Runtime::Internal::CacheBlockHeader"* @_ZN6Halide7Runtime8Internal21get_pointer_to_headerEPh(i8* %host) #17
  %entry2 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheBlockHeader", %"struct.Halide::Runtime::Internal::CacheBlockHeader"* %call, i64 0, i32 0
  %0 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %entry2, align 8, !tbaa !289
  %cmp = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %0, null
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %1 = bitcast %"struct.Halide::Runtime::Internal::CacheBlockHeader"* %call to i8*
  tail call void @halide_free(i8* %user_context, i8* %1) #16
  br label %if.end6

if.else:                                          ; preds = %entry
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal16memoization_lockE) #16
  %in_use_count = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %0, i64 0, i32 7
  %2 = load i32, i32* %in_use_count, align 4, !tbaa !259
  %cmp3.not = icmp eq i32 %2, 0
  br i1 %cmp3.not, label %if.then4, label %do.end

if.then4:                                         ; preds = %if.else
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([99 x i8], [99 x i8]* @.str.12.47, i64 0, i64 0)) #16
  tail call void @abort() #16
  %.pre = load i32, i32* %in_use_count, align 4, !tbaa !259
  br label %do.end

do.end:                                           ; preds = %if.then4, %if.else
  %3 = phi i32 [ %.pre, %if.then4 ], [ %2, %if.else ]
  %dec = add i32 %3, -1
  store i32 %dec, i32* %in_use_count, align 4, !tbaa !259
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal16memoization_lockE) #16
  br label %if.end6

if.end6:                                          ; preds = %do.end, %if.then
  ret void
}

; Function Attrs: nounwind
define weak void @halide_memoization_cache_evict(i8* %user_context, i64 %eviction_key) local_unnamed_addr #3 {
entry:
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal16memoization_lockE) #16
  br label %for.body

for.cond.cleanup:                                 ; preds = %if.end25
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal16memoization_lockE) #16
  ret void

for.body:                                         ; preds = %if.end25, %entry
  %__begin1.059 = phi %"struct.Halide::Runtime::Internal::CacheEntry"** [ getelementptr inbounds ([256 x %"struct.Halide::Runtime::Internal::CacheEntry"*], [256 x %"struct.Halide::Runtime::Internal::CacheEntry"*]* @_ZN6Halide7Runtime8Internal13cache_entriesE, i64 0, i64 0), %entry ], [ %incdec.ptr, %if.end25 ]
  %0 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %__begin1.059, align 8, !tbaa !11
  %cmp2.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %0, null
  br i1 %cmp2.not, label %if.end25, label %while.body

while.body:                                       ; preds = %for.body, %if.end24
  %prev.058 = phi %"struct.Halide::Runtime::Internal::CacheEntry"** [ %prev.1, %if.end24 ], [ %__begin1.059, %for.body ]
  %entry1.056 = phi %"struct.Halide::Runtime::Internal::CacheEntry"* [ %1, %if.end24 ], [ %0, %for.body ]
  %next4 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry1.056, i64 0, i32 0
  %1 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %next4, align 8, !tbaa !231
  %has_eviction_key = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry1.056, i64 0, i32 13
  %2 = load i8, i8* %has_eviction_key, align 8, !tbaa !266, !range !18
  %tobool.not = icmp eq i8 %2, 0
  br i1 %tobool.not, label %if.end24, label %land.lhs.true

land.lhs.true:                                    ; preds = %while.body
  %eviction_key5 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry1.056, i64 0, i32 12
  %3 = load i64, i64* %eviction_key5, align 8, !tbaa !267
  %cmp6 = icmp eq i64 %3, %eviction_key
  br i1 %cmp6, label %if.then7, label %if.end24

if.then7:                                         ; preds = %land.lhs.true
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %1, %"struct.Halide::Runtime::Internal::CacheEntry"** %prev.058, align 8, !tbaa !11
  %more_recent = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry1.056, i64 0, i32 1
  %4 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %more_recent, align 8, !tbaa !273
  %cmp8.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %4, null
  %less_recent12 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %entry1.056, i64 0, i32 2
  %5 = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %less_recent12, align 8, !tbaa !256
  br i1 %cmp8.not, label %if.else, label %if.then9

if.then9:                                         ; preds = %if.then7
  %less_recent11 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %4, i64 0, i32 2
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %5, %"struct.Halide::Runtime::Internal::CacheEntry"** %less_recent11, align 8, !tbaa !256
  %.pre = load %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %less_recent12, align 8, !tbaa !256
  br label %if.end

if.else:                                          ; preds = %if.then7
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %5, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal18most_recently_usedE, align 8, !tbaa !11
  br label %if.end

if.end:                                           ; preds = %if.else, %if.then9
  %6 = phi %"struct.Halide::Runtime::Internal::CacheEntry"* [ %5, %if.else ], [ %.pre, %if.then9 ]
  %cmp14.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %6, null
  %more_recent18 = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry", %"struct.Halide::Runtime::Internal::CacheEntry"* %6, i64 0, i32 1
  %_ZN6Halide7Runtime8Internal19least_recently_usedE.sink = select i1 %cmp14.not, %"struct.Halide::Runtime::Internal::CacheEntry"** @_ZN6Halide7Runtime8Internal19least_recently_usedE, %"struct.Halide::Runtime::Internal::CacheEntry"** %more_recent18
  store %"struct.Halide::Runtime::Internal::CacheEntry"* %4, %"struct.Halide::Runtime::Internal::CacheEntry"** %_ZN6Halide7Runtime8Internal19least_recently_usedE.sink, align 8, !tbaa !11
  tail call void @_ZN6Halide7Runtime8Internal10CacheEntry7destroyEv(%"struct.Halide::Runtime::Internal::CacheEntry"* nonnull align 8 dereferenceable(96) %entry1.056) #17
  %7 = bitcast %"struct.Halide::Runtime::Internal::CacheEntry"* %entry1.056 to i8*
  tail call void @halide_free(i8* %user_context, i8* nonnull %7) #16
  br label %if.end24

if.end24:                                         ; preds = %if.end, %land.lhs.true, %while.body
  %prev.1 = phi %"struct.Halide::Runtime::Internal::CacheEntry"** [ %prev.058, %if.end ], [ %next4, %land.lhs.true ], [ %next4, %while.body ]
  %cmp3.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"* %1, null
  br i1 %cmp3.not, label %if.end25, label %while.body, !llvm.loop !300

if.end25:                                         ; preds = %if.end24, %for.body
  %incdec.ptr = getelementptr inbounds %"struct.Halide::Runtime::Internal::CacheEntry"*, %"struct.Halide::Runtime::Internal::CacheEntry"** %__begin1.059, i64 1
  %cmp.not = icmp eq %"struct.Halide::Runtime::Internal::CacheEntry"** %incdec.ptr, getelementptr inbounds ([256 x %"struct.Halide::Runtime::Internal::CacheEntry"*], [256 x %"struct.Halide::Runtime::Internal::CacheEntry"*]* @_ZN6Halide7Runtime8Internal13cache_entriesE, i64 1, i64 0)
  br i1 %cmp.not, label %for.cond.cleanup, label %for.body
}

; Function Attrs: mustprogress nounwind
define weak i8* @halide_string_to_string(i8* %dst, i8* %end, i8* %arg) local_unnamed_addr #0 {
entry:
  %cmp.not = icmp ult i8* %dst, %end
  br i1 %cmp.not, label %if.end, label %return

if.end:                                           ; preds = %entry
  %tobool.not = icmp eq i8* %arg, null
  %spec.select = select i1 %tobool.not, i8* getelementptr inbounds ([10 x i8], [10 x i8]* @.str.50, i64 0, i64 0), i8* %arg
  br label %if.end5

if.then4:                                         ; preds = %if.end8
  store i8 0, i8* %dst.addr.023, align 1, !tbaa !15
  br label %return

if.end5:                                          ; preds = %if.end8, %if.end
  %arg.addr.124 = phi i8* [ %spec.select, %if.end ], [ %incdec.ptr9, %if.end8 ]
  %dst.addr.023 = phi i8* [ %dst, %if.end ], [ %incdec.ptr, %if.end8 ]
  %0 = load i8, i8* %arg.addr.124, align 1, !tbaa !15
  store i8 %0, i8* %dst.addr.023, align 1, !tbaa !15
  %cmp6 = icmp eq i8 %0, 0
  br i1 %cmp6, label %return, label %if.end8

if.end8:                                          ; preds = %if.end5
  %incdec.ptr = getelementptr inbounds i8, i8* %dst.addr.023, i64 1
  %incdec.ptr9 = getelementptr inbounds i8, i8* %arg.addr.124, i64 1
  %cmp3 = icmp eq i8* %incdec.ptr, %end
  br i1 %cmp3, label %if.then4, label %if.end5, !llvm.loop !301

return:                                           ; preds = %if.end5, %if.then4, %entry
  %retval.0 = phi i8* [ %end, %if.then4 ], [ %dst, %entry ], [ %dst.addr.023, %if.end5 ]
  ret i8* %retval.0
}

; Function Attrs: mustprogress nounwind
define weak i8* @halide_uint64_to_string(i8* %dst, i8* %end, i64 %arg, i32 %min_digits) local_unnamed_addr #0 {
entry:
  %buf = alloca [32 x i8], align 1
  %0 = getelementptr inbounds [32 x i8], [32 x i8]* %buf, i64 0, i64 0
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %0) #11
  %arrayidx = getelementptr inbounds [32 x i8], [32 x i8]* %buf, i64 0, i64 31
  store i8 0, i8* %arrayidx, align 1, !tbaa !15
  %add.ptr = getelementptr inbounds [32 x i8], [32 x i8]* %buf, i64 0, i64 30
  %cmp13 = icmp sgt i32 %min_digits, 0
  %tobool14 = icmp ne i64 %arg, 0
  %1 = select i1 %cmp13, i1 true, i1 %tobool14
  br i1 %1, label %for.body, label %for.cond.cleanup

for.cond.cleanup:                                 ; preds = %for.body, %entry
  %digits.0.lcssa = phi i8* [ %add.ptr, %entry ], [ %incdec.ptr, %for.body ]
  %incdec.ptr1 = getelementptr inbounds i8, i8* %digits.0.lcssa, i64 1
  %call = call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* nonnull %incdec.ptr1) #17
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %0) #11
  ret i8* %call

for.body:                                         ; preds = %entry, %for.body
  %arg.addr.017 = phi i64 [ %div, %for.body ], [ %arg, %entry ]
  %digits.016 = phi i8* [ %incdec.ptr, %for.body ], [ %add.ptr, %entry ]
  %i.015 = phi i32 [ %inc, %for.body ], [ 0, %entry ]
  %div = udiv i64 %arg.addr.017, 10
  %mul.neg = mul i64 %div, -10
  %sub = add i64 %mul.neg, %arg.addr.017
  %2 = trunc i64 %sub to i8
  %conv = add i8 %2, 48
  store i8 %conv, i8* %digits.016, align 1, !tbaa !15
  %incdec.ptr = getelementptr inbounds i8, i8* %digits.016, i64 -1
  %inc = add nuw nsw i32 %i.015, 1
  %cmp = icmp slt i32 %inc, %min_digits
  %3 = icmp ugt i64 %arg.addr.017, 9
  %4 = select i1 %cmp, i1 true, i1 %3
  br i1 %4, label %for.body, label %for.cond.cleanup, !llvm.loop !302
}

; Function Attrs: mustprogress nounwind
define weak i8* @halide_int64_to_string(i8* %dst, i8* %end, i64 %arg, i32 %min_digits) local_unnamed_addr #0 {
entry:
  %cmp = icmp slt i64 %arg, 0
  %cmp1 = icmp ult i8* %dst, %end
  %or.cond = select i1 %cmp, i1 %cmp1, i1 false
  br i1 %or.cond, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  %incdec.ptr = getelementptr inbounds i8, i8* %dst, i64 1
  store i8 45, i8* %dst, align 1, !tbaa !15
  %sub = sub nsw i64 0, %arg
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  %arg.addr.0 = phi i64 [ %sub, %if.then ], [ %arg, %entry ]
  %dst.addr.0 = phi i8* [ %incdec.ptr, %if.then ], [ %dst, %entry ]
  %call = tail call i8* @halide_uint64_to_string(i8* %dst.addr.0, i8* %end, i64 %arg.addr.0, i32 %min_digits) #17
  ret i8* %call
}

; Function Attrs: mustprogress nounwind
define weak i8* @halide_double_to_string(i8* %dst, i8* %end, double %arg, i32 %scientific) local_unnamed_addr #0 {
entry:
  %arg.addr = alloca double, align 8
  %bits = alloca i64, align 8
  %buf = alloca [512 x i8], align 1
  store double %arg, double* %arg.addr, align 8, !tbaa !170
  %0 = bitcast i64* %bits to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %0) #11
  store i64 0, i64* %bits, align 8, !tbaa !115
  %1 = bitcast double* %arg.addr to i8*
  %call = call i8* @memcpy(i8* nonnull %0, i8* nonnull %1, i64 8) #16
  %2 = load i64, i64* %bits, align 8, !tbaa !115
  %and = and i64 %2, 4503599627370495
  %shr = lshr i64 %2, 52
  %3 = trunc i64 %shr to i32
  %conv = and i32 %3, 2047
  %cmp = icmp eq i32 %conv, 2047
  br i1 %cmp, label %if.then, label %if.else15

if.then:                                          ; preds = %entry
  %tobool.not = icmp eq i64 %and, 0
  %tobool10.not = icmp sgt i64 %2, -1
  br i1 %tobool.not, label %if.else9, label %if.then4

if.then4:                                         ; preds = %if.then
  br i1 %tobool10.not, label %if.else, label %if.then6

if.then6:                                         ; preds = %if.then4
  %call7 = call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.1.57, i64 0, i64 0)) #17
  br label %cleanup147

if.else:                                          ; preds = %if.then4
  %call8 = call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* getelementptr inbounds ([4 x i8], [4 x i8]* @.str.2.58, i64 0, i64 0)) #17
  br label %cleanup147

if.else9:                                         ; preds = %if.then
  br i1 %tobool10.not, label %if.else13, label %if.then11

if.then11:                                        ; preds = %if.else9
  %call12 = call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.3.59, i64 0, i64 0)) #17
  br label %cleanup147

if.else13:                                        ; preds = %if.else9
  %call14 = call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* getelementptr inbounds ([4 x i8], [4 x i8]* @.str.4.60, i64 0, i64 0)) #17
  br label %cleanup147

if.else15:                                        ; preds = %entry
  %cmp16 = icmp eq i32 %conv, 0
  %cmp17 = icmp eq i64 %and, 0
  %or.cond = select i1 %cmp16, i1 %cmp17, i1 false
  br i1 %or.cond, label %if.then18, label %if.end32

if.then18:                                        ; preds = %if.else15
  %tobool19.not = icmp eq i32 %scientific, 0
  %tobool27.not = icmp sgt i64 %2, -1
  br i1 %tobool19.not, label %if.else26, label %if.then20

if.then20:                                        ; preds = %if.then18
  br i1 %tobool27.not, label %if.else24, label %if.then22

if.then22:                                        ; preds = %if.then20
  %call23 = call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* getelementptr inbounds ([14 x i8], [14 x i8]* @.str.5.61, i64 0, i64 0)) #17
  br label %cleanup147

if.else24:                                        ; preds = %if.then20
  %call25 = call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* getelementptr inbounds ([13 x i8], [13 x i8]* @.str.6.62, i64 0, i64 0)) #17
  br label %cleanup147

if.else26:                                        ; preds = %if.then18
  br i1 %tobool27.not, label %if.else30, label %if.then28

if.then28:                                        ; preds = %if.else26
  %call29 = call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* getelementptr inbounds ([10 x i8], [10 x i8]* @.str.7.63, i64 0, i64 0)) #17
  br label %cleanup147

if.else30:                                        ; preds = %if.else26
  %call31 = call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @.str.8.64, i64 0, i64 0)) #17
  br label %cleanup147

if.end32:                                         ; preds = %if.else15
  %tobool33.not = icmp sgt i64 %2, -1
  br i1 %tobool33.not, label %if.end36, label %if.then34

if.then34:                                        ; preds = %if.end32
  %call35 = call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.9.65, i64 0, i64 0)) #17
  %4 = load double, double* %arg.addr, align 8, !tbaa !170
  %fneg = fneg double %4
  store double %fneg, double* %arg.addr, align 8, !tbaa !170
  br label %if.end36

if.end36:                                         ; preds = %if.then34, %if.end32
  %dst.addr.0 = phi i8* [ %call35, %if.then34 ], [ %dst, %if.end32 ]
  %tobool37.not = icmp eq i32 %scientific, 0
  br i1 %tobool37.not, label %if.else61, label %while.condthread-pre-split

while.condthread-pre-split:                       ; preds = %if.end36
  %.pr = load double, double* %arg.addr, align 8, !tbaa !170
  %cmp39263 = fcmp olt double %.pr, 1.000000e+00
  br i1 %cmp39263, label %while.body, label %while.cond40thread-pre-split

while.body:                                       ; preds = %while.condthread-pre-split, %while.body
  %exponent_base_10.0264 = phi i32 [ %dec, %while.body ], [ 0, %while.condthread-pre-split ]
  %5 = phi double [ %mul, %while.body ], [ %.pr, %while.condthread-pre-split ]
  %mul = fmul double %5, 1.000000e+01
  %dec = add nsw i32 %exponent_base_10.0264, -1
  %cmp39 = fcmp olt double %mul, 1.000000e+00
  br i1 %cmp39, label %while.body, label %while.cond.while.cond40thread-pre-split_crit_edge, !llvm.loop !303

while.cond.while.cond40thread-pre-split_crit_edge: ; preds = %while.body
  store double %mul, double* %arg.addr, align 8, !tbaa !170
  br label %while.cond40thread-pre-split

while.cond40thread-pre-split:                     ; preds = %while.cond.while.cond40thread-pre-split_crit_edge, %while.condthread-pre-split
  %.pr261 = phi double [ %mul, %while.cond.while.cond40thread-pre-split_crit_edge ], [ %.pr, %while.condthread-pre-split ]
  %exponent_base_10.0.lcssa = phi i32 [ %dec, %while.cond.while.cond40thread-pre-split_crit_edge ], [ 0, %while.condthread-pre-split ]
  %cmp41265 = fcmp ult double %.pr261, 1.000000e+01
  br i1 %cmp41265, label %while.end43, label %while.body42

while.body42:                                     ; preds = %while.cond40thread-pre-split, %while.body42
  %exponent_base_10.1266 = phi i32 [ %inc, %while.body42 ], [ %exponent_base_10.0.lcssa, %while.cond40thread-pre-split ]
  %6 = phi double [ %div, %while.body42 ], [ %.pr261, %while.cond40thread-pre-split ]
  %div = fdiv double %6, 1.000000e+01
  %inc = add nsw i32 %exponent_base_10.1266, 1
  %cmp41 = fcmp ult double %div, 1.000000e+01
  br i1 %cmp41, label %while.cond40.while.end43_crit_edge, label %while.body42, !llvm.loop !304

while.cond40.while.end43_crit_edge:               ; preds = %while.body42
  store double %div, double* %arg.addr, align 8, !tbaa !170
  br label %while.end43

while.end43:                                      ; preds = %while.cond40.while.end43_crit_edge, %while.cond40thread-pre-split
  %.lcssa = phi double [ %div, %while.cond40.while.end43_crit_edge ], [ %.pr261, %while.cond40thread-pre-split ]
  %exponent_base_10.1.lcssa = phi i32 [ %inc, %while.cond40.while.end43_crit_edge ], [ %exponent_base_10.0.lcssa, %while.cond40thread-pre-split ]
  %mul44 = fmul double %.lcssa, 1.000000e+06
  %add = fadd double %mul44, 5.000000e-01
  %conv45 = fptoui double %add to i64
  %div46 = udiv i64 %conv45, 1000000
  %mul47.neg = mul i64 %div46, -1000000
  %sub48 = add i64 %mul47.neg, %conv45
  %call49 = call i8* @halide_int64_to_string(i8* %dst.addr.0, i8* %end, i64 %div46, i32 1) #17
  %call50 = call i8* @halide_string_to_string(i8* %call49, i8* %end, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.30.141, i64 0, i64 0)) #17
  %call51 = call i8* @halide_int64_to_string(i8* %call50, i8* %end, i64 %sub48, i32 6) #17
  %cmp52 = icmp sgt i32 %exponent_base_10.1.lcssa, -1
  br i1 %cmp52, label %if.then53, label %if.else55

if.then53:                                        ; preds = %while.end43
  %call54 = call i8* @halide_string_to_string(i8* %call51, i8* %end, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.11.67, i64 0, i64 0)) #17
  br label %if.end58

if.else55:                                        ; preds = %while.end43
  %call56 = call i8* @halide_string_to_string(i8* %call51, i8* %end, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.12.68, i64 0, i64 0)) #17
  %sub57 = sub nsw i32 0, %exponent_base_10.1.lcssa
  br label %if.end58

if.end58:                                         ; preds = %if.else55, %if.then53
  %exponent_base_10.2 = phi i32 [ %exponent_base_10.1.lcssa, %if.then53 ], [ %sub57, %if.else55 ]
  %dst.addr.1 = phi i8* [ %call54, %if.then53 ], [ %call56, %if.else55 ]
  %conv59262 = zext i32 %exponent_base_10.2 to i64
  %call60 = call i8* @halide_int64_to_string(i8* %dst.addr.1, i8* %end, i64 %conv59262, i32 2) #17
  br label %cleanup147

if.else61:                                        ; preds = %if.end36
  br i1 %cmp16, label %if.then63, label %if.end65

if.then63:                                        ; preds = %if.else61
  %call64 = call i8* @halide_double_to_string(i8* %dst.addr.0, i8* %end, double 0.000000e+00, i32 0) #17
  br label %cleanup147

if.end65:                                         ; preds = %if.else61
  %add67 = or i64 %and, 4503599627370496
  %sub69 = add nsw i32 %conv, -1075
  %cmp70 = icmp ult i32 %conv, 1075
  br i1 %cmp70, label %if.then71, label %if.end104

if.then71:                                        ; preds = %if.end65
  %cmp72 = icmp ult i32 %conv, 1023
  %sub76 = sub nuw nsw i32 1075, %conv
  %sh_prom = zext i32 %sub76 to i64
  %shr77 = lshr i64 %add67, %sh_prom
  %shl80 = shl i64 %shr77, %sh_prom
  %integer_part.0 = select i1 %cmp72, i64 0, i64 %shr77
  %sub81 = select i1 %cmp72, i64 0, i64 %shl80
  %f.0.in = sub i64 %add67, %sub81
  %f.0 = uitofp i64 %f.0.in to double
  %conv84258 = zext i32 %sub69 to i64
  %shl85 = shl i64 %conv84258, 52
  %add87 = add i64 %shl85, 4696837146684686336
  %7 = bitcast i64 %add87 to double
  %mul89 = fmul double %7, %f.0
  %add90 = fadd double %mul89, 5.000000e-01
  %conv91 = fptoui double %add90 to i64
  %conv92 = uitofp i64 %conv91 to double
  %cmp93 = fcmp oeq double %add90, %conv92
  %and95 = and i64 %conv91, 1
  %tobool96.not = icmp ne i64 %and95, 0
  %not.or.cond259 = and i1 %cmp93, %tobool96.not
  %dec98 = sext i1 %not.or.cond259 to i64
  %fractional_part.0 = add i64 %dec98, %conv91
  %cmp100 = icmp eq i64 %fractional_part.0, 1000000
  %inc102 = zext i1 %cmp100 to i64
  %spec.select = add nuw i64 %integer_part.0, %inc102
  %spec.select260 = select i1 %cmp100, i64 0, i64 %fractional_part.0
  br label %if.end104

if.end104:                                        ; preds = %if.then71, %if.end65
  %integer_part.2 = phi i64 [ %spec.select, %if.then71 ], [ %add67, %if.end65 ]
  %integer_exponent.0 = phi i32 [ 0, %if.then71 ], [ %sub69, %if.end65 ]
  %fractional_part.2 = phi i64 [ %spec.select260, %if.then71 ], [ 0, %if.end65 ]
  %8 = getelementptr inbounds [512 x i8], [512 x i8]* %buf, i64 0, i64 0
  call void @llvm.lifetime.start.p0i8(i64 512, i8* nonnull %8) #11
  %add.ptr = getelementptr inbounds [512 x i8], [512 x i8]* %buf, i64 0, i64 512
  %add.ptr105 = getelementptr inbounds [512 x i8], [512 x i8]* %buf, i64 0, i64 480
  %call108 = call i8* @halide_int64_to_string(i8* nonnull %add.ptr105, i8* nonnull %add.ptr, i64 %integer_part.2, i32 1) #17
  %call1081 = ptrtoint i8* %call108 to i64
  %cmp109274 = icmp sgt i32 %integer_exponent.0, 0
  br i1 %cmp109274, label %for.cond111.preheader, label %for.cond.cleanup

for.cond111.preheader:                            ; preds = %if.end104, %if.end137
  %i.0277 = phi i32 [ %inc139, %if.end137 ], [ 0, %if.end104 ]
  %int_part_ptr.0275 = phi i8* [ %int_part_ptr.1, %if.end137 ], [ %add.ptr105, %if.end104 ]
  %int_part_ptr.02752 = ptrtoint i8* %int_part_ptr.0275 to i64
  %cmp113.not270 = icmp eq i8* %call108, %int_part_ptr.0275
  br i1 %cmp113.not270, label %if.end137, label %for.body115.preheader

for.body115.preheader:                            ; preds = %for.cond111.preheader
  %9 = sub i64 %call1081, %int_part_ptr.02752
  %10 = xor i64 %int_part_ptr.02752, -1
  %11 = add i64 %10, %call1081
  %xtraiter = and i64 %9, 3
  %12 = icmp ult i64 %11, 3
  br i1 %12, label %for.cond.cleanup114.unr-lcssa, label %for.body115.preheader.new

for.body115.preheader.new:                        ; preds = %for.body115.preheader
  %unroll_iter = and i64 %9, -4
  br label %for.body115

for.cond.cleanup:                                 ; preds = %if.end137, %if.end104
  %int_part_ptr.0.lcssa = phi i8* [ %add.ptr105, %if.end104 ], [ %int_part_ptr.1, %if.end137 ]
  %call141 = call i8* @halide_string_to_string(i8* %dst.addr.0, i8* %end, i8* %int_part_ptr.0.lcssa) #17
  %call142 = call i8* @halide_string_to_string(i8* %call141, i8* %end, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.30.141, i64 0, i64 0)) #17
  %call143 = call i8* @halide_int64_to_string(i8* %call142, i8* %end, i64 %fractional_part.2, i32 6) #17
  call void @llvm.lifetime.end.p0i8(i64 512, i8* nonnull %8) #11
  br label %cleanup147

for.cond.cleanup114.unr-lcssa:                    ; preds = %for.body115, %for.body115.preheader
  %cmp124.lcssa.ph = phi i1 [ undef, %for.body115.preheader ], [ %cmp124.3, %for.body115 ]
  %p.0272.pn.unr = phi i8* [ %call108, %for.body115.preheader ], [ %p.0272.3, %for.body115 ]
  %carry.0271.unr = phi i32 [ 0, %for.body115.preheader ], [ %carry.1.3, %for.body115 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.cond.cleanup114, label %for.body115.epil

for.body115.epil:                                 ; preds = %for.cond.cleanup114.unr-lcssa, %for.body115.epil
  %p.0272.pn.epil = phi i8* [ %p.0272.epil, %for.body115.epil ], [ %p.0272.pn.unr, %for.cond.cleanup114.unr-lcssa ]
  %carry.0271.epil = phi i32 [ %carry.1.epil, %for.body115.epil ], [ %carry.0271.unr, %for.cond.cleanup114.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %for.body115.epil ], [ %xtraiter, %for.cond.cleanup114.unr-lcssa ]
  %p.0272.epil = getelementptr inbounds i8, i8* %p.0272.pn.epil, i64 -1
  %13 = load i8, i8* %p.0272.epil, align 1, !tbaa !15
  %sub117.epil = add i8 %13, -48
  %conv119.epil = sext i8 %sub117.epil to i32
  %mul120.epil = shl nsw i32 %conv119.epil, 1
  %add121.epil = or i32 %mul120.epil, %carry.0271.epil
  %14 = trunc i32 %add121.epil to i8
  %cmp124.epil = icmp sgt i8 %14, 9
  %sub127.epil = add nsw i32 %add121.epil, 246
  %carry.1.epil = zext i1 %cmp124.epil to i32
  %new_digit.0.in.epil = select i1 %cmp124.epil, i32 %sub127.epil, i32 %add121.epil
  %15 = trunc i32 %new_digit.0.in.epil to i8
  %conv133.epil = add i8 %15, 48
  store i8 %conv133.epil, i8* %p.0272.epil, align 1, !tbaa !15
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %for.cond.cleanup114, label %for.body115.epil, !llvm.loop !305

for.cond.cleanup114:                              ; preds = %for.body115.epil, %for.cond.cleanup114.unr-lcssa
  %cmp124.lcssa = phi i1 [ %cmp124.lcssa.ph, %for.cond.cleanup114.unr-lcssa ], [ %cmp124.epil, %for.body115.epil ]
  br i1 %cmp124.lcssa, label %if.then135, label %if.end137

for.body115:                                      ; preds = %for.body115, %for.body115.preheader.new
  %p.0272.pn = phi i8* [ %call108, %for.body115.preheader.new ], [ %p.0272.3, %for.body115 ]
  %carry.0271 = phi i32 [ 0, %for.body115.preheader.new ], [ %carry.1.3, %for.body115 ]
  %niter = phi i64 [ %unroll_iter, %for.body115.preheader.new ], [ %niter.nsub.3, %for.body115 ]
  %p.0272 = getelementptr inbounds i8, i8* %p.0272.pn, i64 -1
  %16 = load i8, i8* %p.0272, align 1, !tbaa !15
  %sub117 = add i8 %16, -48
  %conv119 = sext i8 %sub117 to i32
  %mul120 = shl nsw i32 %conv119, 1
  %add121 = or i32 %mul120, %carry.0271
  %17 = trunc i32 %add121 to i8
  %cmp124 = icmp sgt i8 %17, 9
  %sub127 = add nsw i32 %add121, 246
  %carry.1 = zext i1 %cmp124 to i32
  %new_digit.0.in = select i1 %cmp124, i32 %sub127, i32 %add121
  %18 = trunc i32 %new_digit.0.in to i8
  %conv133 = add i8 %18, 48
  store i8 %conv133, i8* %p.0272, align 1, !tbaa !15
  %p.0272.1 = getelementptr inbounds i8, i8* %p.0272.pn, i64 -2
  %19 = load i8, i8* %p.0272.1, align 1, !tbaa !15
  %sub117.1 = add i8 %19, -48
  %conv119.1 = sext i8 %sub117.1 to i32
  %mul120.1 = shl nsw i32 %conv119.1, 1
  %add121.1 = or i32 %mul120.1, %carry.1
  %20 = trunc i32 %add121.1 to i8
  %cmp124.1 = icmp sgt i8 %20, 9
  %sub127.1 = add nsw i32 %add121.1, 246
  %carry.1.1 = zext i1 %cmp124.1 to i32
  %new_digit.0.in.1 = select i1 %cmp124.1, i32 %sub127.1, i32 %add121.1
  %21 = trunc i32 %new_digit.0.in.1 to i8
  %conv133.1 = add i8 %21, 48
  store i8 %conv133.1, i8* %p.0272.1, align 1, !tbaa !15
  %p.0272.2 = getelementptr inbounds i8, i8* %p.0272.pn, i64 -3
  %22 = load i8, i8* %p.0272.2, align 1, !tbaa !15
  %sub117.2 = add i8 %22, -48
  %conv119.2 = sext i8 %sub117.2 to i32
  %mul120.2 = shl nsw i32 %conv119.2, 1
  %add121.2 = or i32 %mul120.2, %carry.1.1
  %23 = trunc i32 %add121.2 to i8
  %cmp124.2 = icmp sgt i8 %23, 9
  %sub127.2 = add nsw i32 %add121.2, 246
  %carry.1.2 = zext i1 %cmp124.2 to i32
  %new_digit.0.in.2 = select i1 %cmp124.2, i32 %sub127.2, i32 %add121.2
  %24 = trunc i32 %new_digit.0.in.2 to i8
  %conv133.2 = add i8 %24, 48
  store i8 %conv133.2, i8* %p.0272.2, align 1, !tbaa !15
  %p.0272.3 = getelementptr inbounds i8, i8* %p.0272.pn, i64 -4
  %25 = load i8, i8* %p.0272.3, align 1, !tbaa !15
  %sub117.3 = add i8 %25, -48
  %conv119.3 = sext i8 %sub117.3 to i32
  %mul120.3 = shl nsw i32 %conv119.3, 1
  %add121.3 = or i32 %mul120.3, %carry.1.2
  %26 = trunc i32 %add121.3 to i8
  %cmp124.3 = icmp sgt i8 %26, 9
  %sub127.3 = add nsw i32 %add121.3, 246
  %carry.1.3 = zext i1 %cmp124.3 to i32
  %new_digit.0.in.3 = select i1 %cmp124.3, i32 %sub127.3, i32 %add121.3
  %27 = trunc i32 %new_digit.0.in.3 to i8
  %conv133.3 = add i8 %27, 48
  store i8 %conv133.3, i8* %p.0272.3, align 1, !tbaa !15
  %niter.nsub.3 = add i64 %niter, -4
  %niter.ncmp.3 = icmp eq i64 %niter.nsub.3, 0
  br i1 %niter.ncmp.3, label %for.cond.cleanup114.unr-lcssa, label %for.body115, !llvm.loop !306

if.then135:                                       ; preds = %for.cond.cleanup114
  %incdec.ptr136 = getelementptr inbounds i8, i8* %int_part_ptr.0275, i64 -1
  store i8 49, i8* %incdec.ptr136, align 1, !tbaa !15
  br label %if.end137

if.end137:                                        ; preds = %if.then135, %for.cond.cleanup114, %for.cond111.preheader
  %int_part_ptr.1 = phi i8* [ %incdec.ptr136, %if.then135 ], [ %int_part_ptr.0275, %for.cond.cleanup114 ], [ %call108, %for.cond111.preheader ]
  %inc139 = add nuw nsw i32 %i.0277, 1
  %exitcond.not = icmp eq i32 %inc139, %integer_exponent.0
  br i1 %exitcond.not, label %for.cond.cleanup, label %for.cond111.preheader, !llvm.loop !307

cleanup147:                                       ; preds = %for.cond.cleanup, %if.then63, %if.end58, %if.else30, %if.then28, %if.else24, %if.then22, %if.else13, %if.then11, %if.else, %if.then6
  %retval.1 = phi i8* [ %call7, %if.then6 ], [ %call8, %if.else ], [ %call12, %if.then11 ], [ %call14, %if.else13 ], [ %call23, %if.then22 ], [ %call25, %if.else24 ], [ %call29, %if.then28 ], [ %call31, %if.else30 ], [ %call64, %if.then63 ], [ %call60, %if.end58 ], [ %call143, %for.cond.cleanup ]
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %0) #11
  ret i8* %retval.1
}

; Function Attrs: mustprogress nounwind
define weak i8* @halide_pointer_to_string(i8* %dst, i8* %end, i8* %arg) local_unnamed_addr #0 {
entry:
  %buf = alloca [20 x i8], align 1
  %0 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 0
  call void @llvm.lifetime.start.p0i8(i64 20, i8* nonnull %0) #11
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 1 dereferenceable(20) %0, i8 0, i64 20, i1 false)
  %add.ptr = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 18
  %1 = ptrtoint i8* %arg to i64
  %and = and i64 %1, 15
  %arrayidx = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and
  %2 = load i8, i8* %arrayidx, align 1, !tbaa !15
  %incdec.ptr = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 17
  store i8 %2, i8* %add.ptr, align 1, !tbaa !15
  %tobool.not = icmp ult i8* %arg, inttoptr (i64 16 to i8*)
  br i1 %tobool.not, label %cleanup, label %for.inc

for.inc:                                          ; preds = %entry
  %shr = lshr i64 %1, 4
  %and.1 = and i64 %shr, 15
  %arrayidx.1 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.1
  %3 = load i8, i8* %arrayidx.1, align 1, !tbaa !15
  %incdec.ptr.1 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 16
  store i8 %3, i8* %incdec.ptr, align 1, !tbaa !15
  %tobool.not.1 = icmp ult i8* %arg, inttoptr (i64 256 to i8*)
  br i1 %tobool.not.1, label %cleanup, label %for.inc.1

cleanup:                                          ; preds = %for.inc.14, %for.inc.13, %for.inc.12, %for.inc.11, %for.inc.10, %for.inc.9, %for.inc.8, %for.inc.7, %for.inc.6, %for.inc.5, %for.inc.4, %for.inc.3, %for.inc.2, %for.inc.1, %for.inc, %entry
  %buf_ptr.016.lcssa = phi i8* [ %add.ptr, %entry ], [ %incdec.ptr, %for.inc ], [ %incdec.ptr.1, %for.inc.1 ], [ %incdec.ptr.2, %for.inc.2 ], [ %incdec.ptr.3, %for.inc.3 ], [ %incdec.ptr.4, %for.inc.4 ], [ %incdec.ptr.5, %for.inc.5 ], [ %incdec.ptr.6, %for.inc.6 ], [ %incdec.ptr.7, %for.inc.7 ], [ %incdec.ptr.8, %for.inc.8 ], [ %incdec.ptr.9, %for.inc.9 ], [ %incdec.ptr.10, %for.inc.10 ], [ %incdec.ptr.11, %for.inc.11 ], [ %incdec.ptr.12, %for.inc.12 ], [ %incdec.ptr.13, %for.inc.13 ], [ %incdec.ptr.14, %for.inc.14 ]
  %incdec.ptr.lcssa = phi i8* [ %incdec.ptr, %entry ], [ %incdec.ptr.1, %for.inc ], [ %incdec.ptr.2, %for.inc.1 ], [ %incdec.ptr.3, %for.inc.2 ], [ %incdec.ptr.4, %for.inc.3 ], [ %incdec.ptr.5, %for.inc.4 ], [ %incdec.ptr.6, %for.inc.5 ], [ %incdec.ptr.7, %for.inc.6 ], [ %incdec.ptr.8, %for.inc.7 ], [ %incdec.ptr.9, %for.inc.8 ], [ %incdec.ptr.10, %for.inc.9 ], [ %incdec.ptr.11, %for.inc.10 ], [ %incdec.ptr.12, %for.inc.11 ], [ %incdec.ptr.13, %for.inc.12 ], [ %incdec.ptr.14, %for.inc.13 ], [ %incdec.ptr.15, %for.inc.14 ]
  %incdec.ptr1 = getelementptr inbounds i8, i8* %buf_ptr.016.lcssa, i64 -2
  store i8 120, i8* %incdec.ptr.lcssa, align 1, !tbaa !15
  store i8 48, i8* %incdec.ptr1, align 1, !tbaa !15
  %call = call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* nonnull %incdec.ptr1) #17
  call void @llvm.lifetime.end.p0i8(i64 20, i8* nonnull %0) #11
  ret i8* %call

for.inc.1:                                        ; preds = %for.inc
  %shr.1 = lshr i64 %1, 8
  %and.2 = and i64 %shr.1, 15
  %arrayidx.2 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.2
  %4 = load i8, i8* %arrayidx.2, align 1, !tbaa !15
  %incdec.ptr.2 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 15
  store i8 %4, i8* %incdec.ptr.1, align 1, !tbaa !15
  %tobool.not.2 = icmp ult i8* %arg, inttoptr (i64 4096 to i8*)
  br i1 %tobool.not.2, label %cleanup, label %for.inc.2

for.inc.2:                                        ; preds = %for.inc.1
  %shr.2 = lshr i64 %1, 12
  %and.3 = and i64 %shr.2, 15
  %arrayidx.3 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.3
  %5 = load i8, i8* %arrayidx.3, align 1, !tbaa !15
  %incdec.ptr.3 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 14
  store i8 %5, i8* %incdec.ptr.2, align 1, !tbaa !15
  %tobool.not.3 = icmp ult i8* %arg, inttoptr (i64 65536 to i8*)
  br i1 %tobool.not.3, label %cleanup, label %for.inc.3

for.inc.3:                                        ; preds = %for.inc.2
  %shr.3 = lshr i64 %1, 16
  %and.4 = and i64 %shr.3, 15
  %arrayidx.4 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.4
  %6 = load i8, i8* %arrayidx.4, align 1, !tbaa !15
  %incdec.ptr.4 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 13
  store i8 %6, i8* %incdec.ptr.3, align 1, !tbaa !15
  %tobool.not.4 = icmp ult i8* %arg, inttoptr (i64 1048576 to i8*)
  br i1 %tobool.not.4, label %cleanup, label %for.inc.4

for.inc.4:                                        ; preds = %for.inc.3
  %shr.4 = lshr i64 %1, 20
  %and.5 = and i64 %shr.4, 15
  %arrayidx.5 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.5
  %7 = load i8, i8* %arrayidx.5, align 1, !tbaa !15
  %incdec.ptr.5 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 12
  store i8 %7, i8* %incdec.ptr.4, align 1, !tbaa !15
  %tobool.not.5 = icmp ult i8* %arg, inttoptr (i64 16777216 to i8*)
  br i1 %tobool.not.5, label %cleanup, label %for.inc.5

for.inc.5:                                        ; preds = %for.inc.4
  %shr.5 = lshr i64 %1, 24
  %and.6 = and i64 %shr.5, 15
  %arrayidx.6 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.6
  %8 = load i8, i8* %arrayidx.6, align 1, !tbaa !15
  %incdec.ptr.6 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 11
  store i8 %8, i8* %incdec.ptr.5, align 1, !tbaa !15
  %tobool.not.6 = icmp ult i8* %arg, inttoptr (i64 268435456 to i8*)
  br i1 %tobool.not.6, label %cleanup, label %for.inc.6

for.inc.6:                                        ; preds = %for.inc.5
  %shr.6 = lshr i64 %1, 28
  %and.7 = and i64 %shr.6, 15
  %arrayidx.7 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.7
  %9 = load i8, i8* %arrayidx.7, align 1, !tbaa !15
  %incdec.ptr.7 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 10
  store i8 %9, i8* %incdec.ptr.6, align 1, !tbaa !15
  %tobool.not.7 = icmp ult i8* %arg, inttoptr (i64 4294967296 to i8*)
  br i1 %tobool.not.7, label %cleanup, label %for.inc.7

for.inc.7:                                        ; preds = %for.inc.6
  %shr.7 = lshr i64 %1, 32
  %and.8 = and i64 %shr.7, 15
  %arrayidx.8 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.8
  %10 = load i8, i8* %arrayidx.8, align 1, !tbaa !15
  %incdec.ptr.8 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 9
  store i8 %10, i8* %incdec.ptr.7, align 1, !tbaa !15
  %tobool.not.8 = icmp ult i8* %arg, inttoptr (i64 68719476736 to i8*)
  br i1 %tobool.not.8, label %cleanup, label %for.inc.8

for.inc.8:                                        ; preds = %for.inc.7
  %shr.8 = lshr i64 %1, 36
  %and.9 = and i64 %shr.8, 15
  %arrayidx.9 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.9
  %11 = load i8, i8* %arrayidx.9, align 1, !tbaa !15
  %incdec.ptr.9 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 8
  store i8 %11, i8* %incdec.ptr.8, align 1, !tbaa !15
  %tobool.not.9 = icmp ult i8* %arg, inttoptr (i64 1099511627776 to i8*)
  br i1 %tobool.not.9, label %cleanup, label %for.inc.9

for.inc.9:                                        ; preds = %for.inc.8
  %shr.9 = lshr i64 %1, 40
  %and.10 = and i64 %shr.9, 15
  %arrayidx.10 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.10
  %12 = load i8, i8* %arrayidx.10, align 1, !tbaa !15
  %incdec.ptr.10 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 7
  store i8 %12, i8* %incdec.ptr.9, align 1, !tbaa !15
  %tobool.not.10 = icmp ult i8* %arg, inttoptr (i64 17592186044416 to i8*)
  br i1 %tobool.not.10, label %cleanup, label %for.inc.10

for.inc.10:                                       ; preds = %for.inc.9
  %shr.10 = lshr i64 %1, 44
  %and.11 = and i64 %shr.10, 15
  %arrayidx.11 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.11
  %13 = load i8, i8* %arrayidx.11, align 1, !tbaa !15
  %incdec.ptr.11 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 6
  store i8 %13, i8* %incdec.ptr.10, align 1, !tbaa !15
  %tobool.not.11 = icmp ult i8* %arg, inttoptr (i64 281474976710656 to i8*)
  br i1 %tobool.not.11, label %cleanup, label %for.inc.11

for.inc.11:                                       ; preds = %for.inc.10
  %shr.11 = lshr i64 %1, 48
  %and.12 = and i64 %shr.11, 15
  %arrayidx.12 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.12
  %14 = load i8, i8* %arrayidx.12, align 1, !tbaa !15
  %incdec.ptr.12 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 5
  store i8 %14, i8* %incdec.ptr.11, align 1, !tbaa !15
  %tobool.not.12 = icmp ult i8* %arg, inttoptr (i64 4503599627370496 to i8*)
  br i1 %tobool.not.12, label %cleanup, label %for.inc.12

for.inc.12:                                       ; preds = %for.inc.11
  %shr.12 = lshr i64 %1, 52
  %and.13 = and i64 %shr.12, 15
  %arrayidx.13 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.13
  %15 = load i8, i8* %arrayidx.13, align 1, !tbaa !15
  %incdec.ptr.13 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 4
  store i8 %15, i8* %incdec.ptr.12, align 1, !tbaa !15
  %tobool.not.13 = icmp ult i8* %arg, inttoptr (i64 72057594037927936 to i8*)
  br i1 %tobool.not.13, label %cleanup, label %for.inc.13

for.inc.13:                                       ; preds = %for.inc.12
  %shr.13 = lshr i64 %1, 56
  %and.14 = and i64 %shr.13, 15
  %arrayidx.14 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %and.14
  %16 = load i8, i8* %arrayidx.14, align 1, !tbaa !15
  %incdec.ptr.14 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 3
  store i8 %16, i8* %incdec.ptr.13, align 1, !tbaa !15
  %tobool.not.14 = icmp ult i8* %arg, inttoptr (i64 1152921504606846976 to i8*)
  br i1 %tobool.not.14, label %cleanup, label %for.inc.14

for.inc.14:                                       ; preds = %for.inc.13
  %shr.14 = lshr i64 %1, 60
  %arrayidx.15 = getelementptr inbounds [17 x i8], [17 x i8]* @.str.13.71, i64 0, i64 %shr.14
  %17 = load i8, i8* %arrayidx.15, align 1, !tbaa !15
  %incdec.ptr.15 = getelementptr inbounds [20 x i8], [20 x i8]* %buf, i64 0, i64 2
  store i8 %17, i8* %incdec.ptr.14, align 1, !tbaa !15
  br label %cleanup
}

; Function Attrs: mustprogress nounwind
define weak i8* @halide_type_to_string(i8* %dst, i8* %end, %struct.halide_type_t* %t) local_unnamed_addr #0 {
entry:
  %code = getelementptr inbounds %struct.halide_type_t, %struct.halide_type_t* %t, i64 0, i32 0
  %0 = load i8, i8* %code, align 2, !tbaa !308
  %1 = icmp ult i8 %0, 4
  br i1 %1, label %switch.lookup, label %sw.epilog

switch.lookup:                                    ; preds = %entry
  %2 = sext i8 %0 to i64
  %reltable.shift = shl i64 %2, 2
  %reltable.intrinsic = call i8* @llvm.load.relative.i64(i8* bitcast ([4 x i32]* @reltable.halide_type_to_string to i8*), i64 %reltable.shift)
  br label %sw.epilog

sw.epilog:                                        ; preds = %entry, %switch.lookup
  %code_name.0 = phi i8* [ %reltable.intrinsic, %switch.lookup ], [ getelementptr inbounds ([14 x i8], [14 x i8]* @.str.18.72, i64 0, i64 0), %entry ]
  %call = tail call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* nonnull %code_name.0) #17
  %bits = getelementptr inbounds %struct.halide_type_t, %struct.halide_type_t* %t, i64 0, i32 1
  %3 = load i8, i8* %bits, align 1, !tbaa !141
  %conv4 = zext i8 %3 to i64
  %call5 = tail call i8* @halide_uint64_to_string(i8* %call, i8* %end, i64 %conv4, i32 1) #17
  %lanes = getelementptr inbounds %struct.halide_type_t, %struct.halide_type_t* %t, i64 0, i32 2
  %4 = load i16, i16* %lanes, align 2, !tbaa !309
  %cmp.not = icmp eq i16 %4, 1
  br i1 %cmp.not, label %if.end, label %if.then

if.then:                                          ; preds = %sw.epilog
  %call7 = tail call i8* @halide_string_to_string(i8* %call5, i8* %end, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.19.77, i64 0, i64 0)) #17
  %5 = load i16, i16* %lanes, align 2, !tbaa !309
  %conv9 = zext i16 %5 to i64
  %call10 = tail call i8* @halide_uint64_to_string(i8* %call7, i8* %end, i64 %conv9, i32 1) #17
  br label %if.end

if.end:                                           ; preds = %if.then, %sw.epilog
  %dst.addr.0 = phi i8* [ %call10, %if.then ], [ %call5, %sw.epilog ]
  ret i8* %dst.addr.0
}

; Function Attrs: mustprogress nounwind
define weak i8* @halide_buffer_to_string(i8* %dst, i8* %end, %struct.halide_buffer_t* %buf) local_unnamed_addr #0 {
entry:
  %cmp = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  %call = tail call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.20.78, i64 0, i64 0)) #17
  br label %return

if.end:                                           ; preds = %entry
  %call1 = tail call i8* @halide_string_to_string(i8* %dst, i8* %end, i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.21.79, i64 0, i64 0)) #17
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %call2 = tail call i8* @halide_uint64_to_string(i8* %call1, i8* %end, i64 %0, i32 1) #17
  %call3 = tail call i8* @halide_string_to_string(i8* %call2, i8* %end, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.55, i64 0, i64 0)) #17
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %1 = bitcast %struct.halide_device_interface_t** %device_interface to i8**
  %2 = load i8*, i8** %1, align 8, !tbaa !310
  %call4 = tail call i8* @halide_pointer_to_string(i8* %call3, i8* %end, i8* %2) #17
  %call5 = tail call i8* @halide_string_to_string(i8* %call4, i8* %end, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.55, i64 0, i64 0)) #17
  %host = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 2
  %3 = load i8*, i8** %host, align 8, !tbaa !178
  %call6 = tail call i8* @halide_pointer_to_string(i8* %call5, i8* %end, i8* %3) #17
  %call7 = tail call i8* @halide_string_to_string(i8* %call6, i8* %end, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.55, i64 0, i64 0)) #17
  %flags = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %4 = load i64, i64* %flags, align 8, !tbaa !311
  %call8 = tail call i8* @halide_uint64_to_string(i8* %call7, i8* %end, i64 %4, i32 1) #17
  %call9 = tail call i8* @halide_string_to_string(i8* %call8, i8* %end, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.55, i64 0, i64 0)) #17
  %type = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 4
  %call10 = tail call i8* @halide_type_to_string(i8* %call9, i8* %end, %struct.halide_type_t* nonnull %type) #17
  %dimensions = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 5
  %dim = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 6
  %5 = load i32, i32* %dimensions, align 4, !tbaa !180
  %cmp1179 = icmp sgt i32 %5, 0
  br i1 %cmp1179, label %for.body, label %for.cond.cleanup

for.cond.cleanup:                                 ; preds = %for.body, %if.end
  %dst.addr.0.lcssa = phi i8* [ %call10, %if.end ], [ %call26, %for.body ]
  %call27 = tail call i8* @halide_string_to_string(i8* %dst.addr.0.lcssa, i8* %end, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.8.119, i64 0, i64 0)) #17
  br label %return

for.body:                                         ; preds = %if.end, %for.body
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.body ], [ 0, %if.end ]
  %dst.addr.080 = phi i8* [ %call26, %for.body ], [ %call10, %if.end ]
  %call12 = tail call i8* @halide_string_to_string(i8* %dst.addr.080, i8* %end, i8* getelementptr inbounds ([4 x i8], [4 x i8]* @.str.23.82, i64 0, i64 0)) #17
  %6 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim, align 8, !tbaa !181
  %min = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %6, i64 %indvars.iv, i32 0
  %7 = load i32, i32* %min, align 4, !tbaa !186
  %conv = sext i32 %7 to i64
  %call13 = tail call i8* @halide_int64_to_string(i8* %call12, i8* %end, i64 %conv, i32 1) #17
  %call14 = tail call i8* @halide_string_to_string(i8* %call13, i8* %end, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.55, i64 0, i64 0)) #17
  %8 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim, align 8, !tbaa !181
  %extent = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %8, i64 %indvars.iv, i32 1
  %9 = load i32, i32* %extent, align 4, !tbaa !183
  %conv18 = sext i32 %9 to i64
  %call19 = tail call i8* @halide_int64_to_string(i8* %call14, i8* %end, i64 %conv18, i32 1) #17
  %call20 = tail call i8* @halide_string_to_string(i8* %call19, i8* %end, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.55, i64 0, i64 0)) #17
  %10 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim, align 8, !tbaa !181
  %stride = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %10, i64 %indvars.iv, i32 2
  %11 = load i32, i32* %stride, align 4, !tbaa !187
  %conv24 = sext i32 %11 to i64
  %call25 = tail call i8* @halide_int64_to_string(i8* %call20, i8* %end, i64 %conv24, i32 1) #17
  %call26 = tail call i8* @halide_string_to_string(i8* %call25, i8* %end, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.24.83, i64 0, i64 0)) #17
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %12 = load i32, i32* %dimensions, align 4, !tbaa !180
  %13 = sext i32 %12 to i64
  %cmp11 = icmp slt i64 %indvars.iv.next, %13
  br i1 %cmp11, label %for.body, label %for.cond.cleanup, !llvm.loop !312

return:                                           ; preds = %for.cond.cleanup, %if.then
  %retval.0 = phi i8* [ %call, %if.then ], [ %call27, %for.cond.cleanup ]
  ret i8* %retval.0
}

; Function Attrs: alwaysinline mustprogress nounwind
define weak i32 @halide_malloc_alignment() local_unnamed_addr #7 {
entry:
  ret i32 64
}

; Function Attrs: nounwind
define weak i32 @halide_reuse_device_allocations(i8* %user_context, i1 zeroext %flag) local_unnamed_addr #3 {
entry:
  %frombool = zext i1 %flag to i8
  store i8 %frombool, i8* @_ZN6Halide7Runtime8Internal36halide_reuse_device_allocations_flagE, align 1, !tbaa !16
  br i1 %flag, label %if.end5, label %if.then

if.then:                                          ; preds = %entry
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal21allocation_pools_lockE) #16
  %p.014 = load %struct.halide_device_allocation_pool*, %struct.halide_device_allocation_pool** @_ZN6Halide7Runtime8Internal23device_allocation_poolsE, align 8, !tbaa !11
  %cmp.not15 = icmp eq %struct.halide_device_allocation_pool* %p.014, null
  br i1 %cmp.not15, label %for.cond.cleanup, label %for.body

for.cond.cleanup:                                 ; preds = %for.body, %if.then
  %err.0.lcssa = phi i32 [ 0, %if.then ], [ %spec.select, %for.body ]
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal21allocation_pools_lockE) #16
  br label %if.end5

for.body:                                         ; preds = %if.then, %for.body
  %p.017 = phi %struct.halide_device_allocation_pool* [ %p.0, %for.body ], [ %p.014, %if.then ]
  %err.016 = phi i32 [ %spec.select, %for.body ], [ 0, %if.then ]
  %release_unused = getelementptr inbounds %struct.halide_device_allocation_pool, %struct.halide_device_allocation_pool* %p.017, i64 0, i32 0
  %0 = load i32 (i8*)*, i32 (i8*)** %release_unused, align 8, !tbaa !313
  %call = tail call i32 %0(i8* %user_context) #16
  %tobool3.not = icmp eq i32 %call, 0
  %spec.select = select i1 %tobool3.not, i32 %err.016, i32 %call
  %next = getelementptr inbounds %struct.halide_device_allocation_pool, %struct.halide_device_allocation_pool* %p.017, i64 0, i32 1
  %p.0 = load %struct.halide_device_allocation_pool*, %struct.halide_device_allocation_pool** %next, align 8, !tbaa !11
  %cmp.not = icmp eq %struct.halide_device_allocation_pool* %p.0, null
  br i1 %cmp.not, label %for.cond.cleanup, label %for.body, !llvm.loop !315

if.end5:                                          ; preds = %for.cond.cleanup, %entry
  %err.2 = phi i32 [ 0, %entry ], [ %err.0.lcssa, %for.cond.cleanup ]
  ret i32 %err.2
}

; Function Attrs: mustprogress nounwind
define weak zeroext i1 @halide_can_reuse_device_allocations(i8* %user_context) local_unnamed_addr #0 {
entry:
  %0 = load i8, i8* @_ZN6Halide7Runtime8Internal36halide_reuse_device_allocations_flagE, align 1, !tbaa !16, !range !18
  %tobool = icmp ne i8 %0, 0
  ret i1 %tobool
}

; Function Attrs: nounwind
define weak void @halide_register_device_allocation_pool(%struct.halide_device_allocation_pool* %pool) local_unnamed_addr #3 {
entry:
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal21allocation_pools_lockE) #16
  %0 = load %struct.halide_device_allocation_pool*, %struct.halide_device_allocation_pool** @_ZN6Halide7Runtime8Internal23device_allocation_poolsE, align 8, !tbaa !11
  %next = getelementptr inbounds %struct.halide_device_allocation_pool, %struct.halide_device_allocation_pool* %pool, i64 0, i32 1
  store %struct.halide_device_allocation_pool* %0, %struct.halide_device_allocation_pool** %next, align 8, !tbaa !316
  store %struct.halide_device_allocation_pool* %pool, %struct.halide_device_allocation_pool** @_ZN6Halide7Runtime8Internal23device_allocation_poolsE, align 8, !tbaa !11
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal21allocation_pools_lockE) #16
  ret void
}

; Function Attrs: mustprogress nounwind
define linkonce i32 @_ZN6Halide7Runtime8Internal27copy_to_host_already_lockedEPvP15halide_buffer_t(i8* %user_context, %struct.halide_buffer_t* %buf) local_unnamed_addr #0 {
entry:
  %flags.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %0 = load i64, i64* %flags.i.i, align 8, !tbaa !311
  %and.i.i = and i64 %0, 2
  %cmp.i.i.not = icmp eq i64 %and.i.i, 0
  br i1 %cmp.i.i.not, label %return, label %if.end

if.end:                                           ; preds = %entry
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %1 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %and.i.i45 = and i64 %0, 1
  %cmp.i.i46.not = icmp eq i64 %and.i.i45, 0
  br i1 %cmp.i.i46.not, label %if.end9, label %return

if.end9:                                          ; preds = %if.end
  %cmp = icmp eq %struct.halide_device_interface_t* %1, null
  br i1 %cmp, label %return, label %if.end15

if.end15:                                         ; preds = %if.end9
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %1, i64 0, i32 15
  %2 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %copy_to_host = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %2, i64 0, i32 6
  %3 = load i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)** %copy_to_host, align 8, !tbaa !319
  %call16 = tail call i32 %3(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #16
  %cmp17.not = icmp eq i32 %call16, 0
  br i1 %cmp17.not, label %if.end23, label %return

if.end23:                                         ; preds = %if.end15
  %4 = load i64, i64* %flags.i.i, align 8, !tbaa !311
  %and.i.i48 = and i64 %4, -3
  store i64 %and.i.i48, i64* %flags.i.i, align 8, !tbaa !311
  %call24 = tail call i32 @halide_msan_annotate_buffer_is_initialized(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #16
  br label %return

return:                                           ; preds = %if.end23, %if.end15, %if.end9, %if.end, %entry
  %retval.2 = phi i32 [ 0, %entry ], [ 0, %if.end23 ], [ -14, %if.end ], [ -19, %if.end9 ], [ -14, %if.end15 ]
  ret i32 %retval.2
}

; Function Attrs: mustprogress nounwind
define weak void @halide_device_release(i8* %user_context, %struct.halide_device_interface_t* %device_interface) #0 {
entry:
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %device_interface, i64 0, i32 15
  %0 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %device_release = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %0, i64 0, i32 5
  %1 = load i32 (i8*)*, i32 (i8*)** %device_release, align 8, !tbaa !321
  %call = tail call i32 %1(i8* %user_context) #16
  ret void
}

; Function Attrs: nounwind
define weak i32 @halide_copy_to_host(i8* %user_context, %struct.halide_buffer_t* %buf) #3 {
entry:
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal17device_copy_mutexE) #16
  %cmp.i = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %call.i = tail call i32 @halide_error_buffer_is_null(i8* %user_context, i8* getelementptr inbounds ([20 x i8], [20 x i8]* @.str.6.88, i64 0, i64 0)) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end.i:                                         ; preds = %entry
  %device_interface.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface.i, align 8, !tbaa !310
  %cmp4.not.i = icmp eq %struct.halide_device_interface_t* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp5.not.i = icmp eq i64 %1, 0
  %cmp4.not.not.i = xor i1 %cmp4.not.i, true
  %brmerge.i = select i1 %cmp5.not.i, i1 true, i1 %cmp4.not.not.i
  br i1 %brmerge.i, label %if.end10.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.end.i
  %call9.i = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end10.i:                                       ; preds = %if.end.i
  %cmp5.not.not.i = xor i1 %cmp5.not.i, true
  %brmerge44.i = select i1 %cmp4.not.i, i1 true, i1 %cmp5.not.not.i
  br i1 %brmerge44.i, label %if.end16.i, label %if.then14.i

if.then14.i:                                      ; preds = %if.end10.i
  %call15.i = tail call i32 @halide_error_device_interface_no_device(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end16.i:                                       ; preds = %if.end10.i
  %flags.i.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %2 = load i64, i64* %flags.i.i.i, align 8, !tbaa !311
  %3 = and i64 %2, 3
  %.not.i = icmp eq i64 %3, 3
  br i1 %.not.i, label %if.then24.i, label %if.end16.i.split

if.end16.i.split:                                 ; preds = %if.end16.i
  %call11 = tail call i32 @_ZN6Halide7Runtime8Internal27copy_to_host_already_lockedEPvP15halide_buffer_t(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #17
  br label %cleanup

if.then24.i:                                      ; preds = %if.end16.i
  %call25.i = tail call i32 @halide_error_host_and_device_dirty(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit: ; preds = %if.then24.i, %if.then14.i, %if.then8.i, %if.then.i
  %retval.2.i = phi i32 [ %call.i, %if.then.i ], [ %call15.i, %if.then14.i ], [ %call9.i, %if.then8.i ], [ %call25.i, %if.then24.i ]
  %cmp.not = icmp eq i32 %retval.2.i, 0
  br i1 %cmp.not, label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.split, label %cleanup

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.split: ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %call12 = tail call i32 @_ZN6Halide7Runtime8Internal27copy_to_host_already_lockedEPvP15halide_buffer_t(i8* %user_context, %struct.halide_buffer_t* %buf) #17
  br label %cleanup

cleanup:                                          ; preds = %if.end16.i.split, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.split, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %retval.0 = phi i32 [ %retval.2.i, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit ], [ %call11, %if.end16.i.split ], [ %call12, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.split ]
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal17device_copy_mutexE) #16
  ret i32 %retval.0
}

; Function Attrs: mustprogress nounwind
define linkonce i32 @copy_to_device_already_locked(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* %device_interface) local_unnamed_addr #0 {
entry:
  %cmp.i = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %call.i = tail call i32 @halide_error_buffer_is_null(i8* %user_context, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.7.89, i64 0, i64 0)) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end.i:                                         ; preds = %entry
  %device_interface.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface.i, align 8, !tbaa !310
  %cmp4.not.i = icmp eq %struct.halide_device_interface_t* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp5.not.i = icmp eq i64 %1, 0
  %cmp4.not.not.i = xor i1 %cmp4.not.i, true
  %brmerge.i = select i1 %cmp5.not.i, i1 true, i1 %cmp4.not.not.i
  br i1 %brmerge.i, label %if.end10.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.end.i
  %call9.i = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end10.i:                                       ; preds = %if.end.i
  %cmp5.not.not.i = xor i1 %cmp5.not.i, true
  %brmerge44.i = select i1 %cmp4.not.i, i1 true, i1 %cmp5.not.not.i
  br i1 %brmerge44.i, label %if.end16.i, label %if.then14.i

if.then14.i:                                      ; preds = %if.end10.i
  %call15.i = tail call i32 @halide_error_device_interface_no_device(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end16.i:                                       ; preds = %if.end10.i
  %flags.i.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %2 = load i64, i64* %flags.i.i.i, align 8, !tbaa !311
  %3 = and i64 %2, 3
  %.not.i = icmp eq i64 %3, 3
  br i1 %.not.i, label %if.then24.i, label %if.end

if.then24.i:                                      ; preds = %if.end16.i
  %call25.i = tail call i32 @halide_error_host_and_device_dirty(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit: ; preds = %if.then24.i, %if.then14.i, %if.then8.i, %if.then.i
  %retval.2.i = phi i32 [ %call.i, %if.then.i ], [ %call15.i, %if.then14.i ], [ %call9.i, %if.then8.i ], [ %call25.i, %if.then24.i ]
  %cmp.not = icmp eq i32 %retval.2.i, 0
  br i1 %cmp.not, label %if.end, label %cleanup

if.end:                                           ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit, %if.end16.i
  %cmp1 = icmp eq %struct.halide_device_interface_t* %device_interface, null
  br i1 %cmp1, label %if.then2, label %if.end11

if.then2:                                         ; preds = %if.end
  %device_interface5 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %4 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface5, align 8, !tbaa !310
  %cmp6 = icmp eq %struct.halide_device_interface_t* %4, null
  br i1 %cmp6, label %if.then7, label %if.end11

if.then7:                                         ; preds = %if.then2
  %call8 = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %cleanup

if.end11:                                         ; preds = %if.then2, %if.end
  %device_interface.addr.0 = phi %struct.halide_device_interface_t* [ %device_interface, %if.end ], [ %4, %if.then2 ]
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %5 = load i64, i64* %device, align 8, !tbaa !245
  %tobool.not = icmp eq i64 %5, 0
  br i1 %tobool.not, label %if.then18, label %land.lhs.true

land.lhs.true:                                    ; preds = %if.end11
  %device_interface12 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %6 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface12, align 8, !tbaa !310
  %cmp13.not = icmp eq %struct.halide_device_interface_t* %6, %device_interface.addr.0
  br i1 %cmp13.not, label %if.end27, label %if.then14

if.then14:                                        ; preds = %land.lhs.true
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([61 x i8], [61 x i8]* @.str.9.90, i64 0, i64 0)) #16
  br label %cleanup

if.then18:                                        ; preds = %if.end11
  %call19 = tail call i32 @halide_device_malloc(i8* %user_context, %struct.halide_buffer_t* nonnull %buf, %struct.halide_device_interface_t* nonnull %device_interface.addr.0) #17
  %cmp20.not = icmp eq i32 %call19, 0
  br i1 %cmp20.not, label %if.end27, label %cleanup

if.end27:                                         ; preds = %if.then18, %land.lhs.true
  %flags.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %7 = load i64, i64* %flags.i.i, align 8, !tbaa !311
  %and.i.i = and i64 %7, 1
  %cmp.i.i.not = icmp eq i64 %and.i.i, 0
  br i1 %cmp.i.i.not, label %cleanup, label %if.then29

if.then29:                                        ; preds = %if.end27
  %and.i.i97 = and i64 %7, 2
  %cmp.i.i98.not = icmp eq i64 %and.i.i97, 0
  br i1 %cmp.i.i98.not, label %if.else, label %cleanup

if.else:                                          ; preds = %if.then29
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %device_interface.addr.0, i64 0, i32 15
  %8 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %copy_to_device = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %8, i64 0, i32 7
  %9 = load i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)** %copy_to_device, align 8, !tbaa !322
  %call44 = tail call i32 %9(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #16
  %cmp45 = icmp eq i32 %call44, 0
  br i1 %cmp45, label %if.then46, label %cleanup

if.then46:                                        ; preds = %if.else
  %10 = load i64, i64* %flags.i.i, align 8, !tbaa !311
  %and.i.i100 = and i64 %10, -2
  store i64 %and.i.i100, i64* %flags.i.i, align 8, !tbaa !311
  br label %cleanup

cleanup:                                          ; preds = %if.then46, %if.else, %if.then29, %if.end27, %if.then18, %if.then14, %if.then7, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %retval.0 = phi i32 [ %call8, %if.then7 ], [ -42, %if.then14 ], [ %retval.2.i, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit ], [ 0, %if.then46 ], [ %call19, %if.then18 ], [ -15, %if.then29 ], [ -15, %if.else ], [ 0, %if.end27 ]
  ret i32 %retval.0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_device_malloc(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* %device_interface) #0 {
entry:
  %cmp.i = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %call.i = tail call i32 @halide_error_buffer_is_null(i8* %user_context, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.17.91, i64 0, i64 0)) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end.i:                                         ; preds = %entry
  %device_interface.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface.i, align 8, !tbaa !310
  %cmp4.not.i = icmp eq %struct.halide_device_interface_t* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp5.not.i = icmp eq i64 %1, 0
  %cmp4.not.not.i = xor i1 %cmp4.not.i, true
  %brmerge.i = select i1 %cmp5.not.i, i1 true, i1 %cmp4.not.not.i
  br i1 %brmerge.i, label %if.end10.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.end.i
  %call9.i = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end10.i:                                       ; preds = %if.end.i
  %cmp5.not.not.i = xor i1 %cmp5.not.i, true
  %brmerge44.i = select i1 %cmp4.not.i, i1 true, i1 %cmp5.not.not.i
  br i1 %brmerge44.i, label %if.end16.i, label %if.then14.i

if.then14.i:                                      ; preds = %if.end10.i
  %call15.i = tail call i32 @halide_error_device_interface_no_device(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end16.i:                                       ; preds = %if.end10.i
  %flags.i.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %2 = load i64, i64* %flags.i.i.i, align 8, !tbaa !311
  %3 = and i64 %2, 3
  %.not.i = icmp eq i64 %3, 3
  br i1 %.not.i, label %if.then24.i, label %if.end

if.then24.i:                                      ; preds = %if.end16.i
  %call25.i = tail call i32 @halide_error_host_and_device_dirty(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit: ; preds = %if.then24.i, %if.then14.i, %if.then8.i, %if.then.i
  %retval.2.i = phi i32 [ %call.i, %if.then.i ], [ %call15.i, %if.then14.i ], [ %call9.i, %if.then8.i ], [ %call25.i, %if.then24.i ]
  %cmp.not = icmp eq i32 %retval.2.i, 0
  br i1 %cmp.not, label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, label %cleanup12

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge: ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %device_interface3.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %.pre = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface3.phi.trans.insert, align 8, !tbaa !310
  br label %if.end

if.end:                                           ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, %if.end16.i
  %4 = phi %struct.halide_device_interface_t* [ %.pre, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge ], [ %0, %if.end16.i ]
  %cmp4.not = icmp eq %struct.halide_device_interface_t* %4, null
  %cmp5.not = icmp eq %struct.halide_device_interface_t* %4, %device_interface
  %or.cond = select i1 %cmp4.not, i1 true, i1 %cmp5.not
  br i1 %or.cond, label %if.end7, label %if.then6

if.then6:                                         ; preds = %if.end
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([59 x i8], [59 x i8]* @.str.20.92, i64 0, i64 0)) #16
  br label %cleanup12

if.end7:                                          ; preds = %if.end
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %device_interface, i64 0, i32 15
  %5 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %5, i64 0, i32 0
  %6 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  tail call void %6() #16
  %7 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %device_malloc = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %7, i64 0, i32 2
  %8 = load i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)** %device_malloc, align 8, !tbaa !324
  %call9 = tail call i32 %8(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #16
  %9 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %release_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %9, i64 0, i32 1
  %10 = load void ()*, void ()** %release_module, align 8, !tbaa !325
  tail call void %10() #16
  %tobool.not = icmp eq i32 %call9, 0
  %. = select i1 %tobool.not, i32 0, i32 -16
  br label %cleanup12

cleanup12:                                        ; preds = %if.end7, %if.then6, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %retval.1 = phi i32 [ %retval.2.i, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit ], [ -42, %if.then6 ], [ %., %if.end7 ]
  ret i32 %retval.1
}

; Function Attrs: nounwind
define weak i32 @halide_copy_to_device(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* %device_interface) #3 {
entry:
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal17device_copy_mutexE) #16
  %call = tail call i32 @copy_to_device_already_locked(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* %device_interface) #17
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal17device_copy_mutexE) #16
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_device_sync(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %cmp.i = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %call.i = tail call i32 @halide_error_buffer_is_null(i8* %user_context, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.16.93, i64 0, i64 0)) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end.i:                                         ; preds = %entry
  %device_interface.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface.i, align 8, !tbaa !310
  %cmp4.not.i = icmp eq %struct.halide_device_interface_t* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp5.not.i = icmp eq i64 %1, 0
  %cmp4.not.not.i = xor i1 %cmp4.not.i, true
  %brmerge.i = select i1 %cmp5.not.i, i1 true, i1 %cmp4.not.not.i
  br i1 %brmerge.i, label %if.end10.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.end.i
  %call9.i = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end10.i:                                       ; preds = %if.end.i
  %cmp5.not.not.i = xor i1 %cmp5.not.i, true
  %brmerge44.i = select i1 %cmp4.not.i, i1 true, i1 %cmp5.not.not.i
  br i1 %brmerge44.i, label %if.end16.i, label %if.then14.i

if.then14.i:                                      ; preds = %if.end10.i
  %call15.i = tail call i32 @halide_error_device_interface_no_device(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end16.i:                                       ; preds = %if.end10.i
  %flags.i.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %2 = load i64, i64* %flags.i.i.i, align 8, !tbaa !311
  %3 = and i64 %2, 3
  %.not.i = icmp eq i64 %3, 3
  br i1 %.not.i, label %if.then24.i, label %if.end

if.then24.i:                                      ; preds = %if.end16.i
  %call25.i = tail call i32 @halide_error_host_and_device_dirty(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit: ; preds = %if.then24.i, %if.then14.i, %if.then8.i, %if.then.i
  %retval.2.i = phi i32 [ %call.i, %if.then.i ], [ %call15.i, %if.then14.i ], [ %call9.i, %if.then8.i ], [ %call25.i, %if.then24.i ]
  %cmp.not = icmp eq i32 %retval.2.i, 0
  br i1 %cmp.not, label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, label %cleanup8

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge: ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %device_interface1.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %.pre = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface1.phi.trans.insert, align 8, !tbaa !310
  br label %if.end

if.end:                                           ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, %if.end16.i
  %4 = phi %struct.halide_device_interface_t* [ %.pre, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge ], [ %0, %if.end16.i ]
  %cmp2 = icmp eq %struct.halide_device_interface_t* %4, null
  br i1 %cmp2, label %if.then3, label %if.end5

if.then3:                                         ; preds = %if.end
  %call4 = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %cleanup8

if.end5:                                          ; preds = %if.end
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %4, i64 0, i32 15
  %5 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %device_sync = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %5, i64 0, i32 4
  %6 = load i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)** %device_sync, align 8, !tbaa !326
  %call6 = tail call i32 %6(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #16
  %tobool.not = icmp eq i32 %call6, 0
  %. = select i1 %tobool.not, i32 0, i32 -17
  br label %cleanup8

cleanup8:                                         ; preds = %if.end5, %if.then3, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %retval.1 = phi i32 [ %retval.2.i, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit ], [ %call4, %if.then3 ], [ %., %if.end5 ]
  ret i32 %retval.1
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_device_free(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %cmp.i = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %call.i = tail call i32 @halide_error_buffer_is_null(i8* %user_context, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.21.96, i64 0, i64 0)) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end.i:                                         ; preds = %entry
  %device_interface.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface.i, align 8, !tbaa !310
  %cmp4.not.i = icmp eq %struct.halide_device_interface_t* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp5.not.i = icmp eq i64 %1, 0
  %cmp4.not.not.i = xor i1 %cmp4.not.i, true
  %brmerge.i = select i1 %cmp5.not.i, i1 true, i1 %cmp4.not.not.i
  br i1 %brmerge.i, label %if.end10.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.end.i
  %call9.i = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end10.i:                                       ; preds = %if.end.i
  %cmp5.not.not.i = xor i1 %cmp5.not.i, true
  %brmerge44.i = select i1 %cmp4.not.i, i1 true, i1 %cmp5.not.not.i
  br i1 %brmerge44.i, label %if.end16.i, label %if.then14.i

if.then14.i:                                      ; preds = %if.end10.i
  %call15.i = tail call i32 @halide_error_device_interface_no_device(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end16.i:                                       ; preds = %if.end10.i
  %flags.i.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %2 = load i64, i64* %flags.i.i.i, align 8, !tbaa !311
  %3 = and i64 %2, 3
  %.not.i = icmp eq i64 %3, 3
  br i1 %.not.i, label %if.then24.i, label %if.end

if.then24.i:                                      ; preds = %if.end16.i
  %call25.i = tail call i32 @halide_error_host_and_device_dirty(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit: ; preds = %if.then24.i, %if.then14.i, %if.then8.i, %if.then.i
  %retval.2.i = phi i32 [ %call.i, %if.then.i ], [ %call15.i, %if.then14.i ], [ %call9.i, %if.then8.i ], [ %call25.i, %if.then24.i ]
  %cmp.not = icmp eq i32 %retval.2.i, 0
  br i1 %cmp.not, label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, label %cleanup12

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge: ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %device_interface1.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %.pre = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface1.phi.trans.insert, align 8, !tbaa !310
  br label %if.end

if.end:                                           ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, %if.end16.i
  %4 = phi %struct.halide_device_interface_t* [ %.pre, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge ], [ %0, %if.end16.i ]
  %cmp2.not = icmp eq %struct.halide_device_interface_t* %4, null
  br i1 %cmp2.not, label %if.end11, label %if.then3

if.then3:                                         ; preds = %if.end
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %4, i64 0, i32 15
  %5 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %5, i64 0, i32 0
  %6 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  tail call void %6() #16
  %7 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %device_free = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %7, i64 0, i32 3
  %8 = load i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)** %device_free, align 8, !tbaa !327
  %call5 = tail call i32 %8(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #16
  %9 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %release_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %9, i64 0, i32 1
  %10 = load void ()*, void ()** %release_module, align 8, !tbaa !325
  tail call void %10() #16
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %11 = load i64, i64* %device, align 8, !tbaa !245
  %cmp7 = icmp eq i64 %11, 0
  br i1 %cmp7, label %do.end, label %if.then8

if.then8:                                         ; preds = %if.then3
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([103 x i8], [103 x i8]* @.str.22.97, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then8, %if.then3
  %tobool.not = icmp eq i32 %call5, 0
  %. = select i1 %tobool.not, i32 0, i32 -18
  br label %cleanup12

if.end11:                                         ; preds = %if.end
  %flags.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %12 = load i64, i64* %flags.i.i, align 8, !tbaa !311
  %and.i.i = and i64 %12, -3
  store i64 %and.i.i, i64* %flags.i.i, align 8, !tbaa !311
  br label %cleanup12

cleanup12:                                        ; preds = %if.end11, %do.end, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %retval.1 = phi i32 [ %retval.2.i, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit ], [ 0, %if.end11 ], [ %., %do.end ]
  ret i32 %retval.1
}

; Function Attrs: mustprogress nounwind
define weak void @halide_device_free_as_destructor(i8* %user_context, i8* %obj) local_unnamed_addr #0 {
entry:
  %0 = bitcast i8* %obj to %struct.halide_buffer_t*
  %call = tail call i32 @halide_device_free(i8* %user_context, %struct.halide_buffer_t* %0) #17
  ret void
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_device_and_host_malloc(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* %device_interface) #0 {
entry:
  %cmp.i = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %call.i = tail call i32 @halide_error_buffer_is_null(i8* %user_context, i8* getelementptr inbounds ([30 x i8], [30 x i8]* @.str.23.98, i64 0, i64 0)) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end.i:                                         ; preds = %entry
  %device_interface.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface.i, align 8, !tbaa !310
  %cmp4.not.i = icmp eq %struct.halide_device_interface_t* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp5.not.i = icmp eq i64 %1, 0
  %cmp4.not.not.i = xor i1 %cmp4.not.i, true
  %brmerge.i = select i1 %cmp5.not.i, i1 true, i1 %cmp4.not.not.i
  br i1 %brmerge.i, label %if.end10.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.end.i
  %call9.i = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end10.i:                                       ; preds = %if.end.i
  %cmp5.not.not.i = xor i1 %cmp5.not.i, true
  %brmerge44.i = select i1 %cmp4.not.i, i1 true, i1 %cmp5.not.not.i
  br i1 %brmerge44.i, label %if.end16.i, label %if.then14.i

if.then14.i:                                      ; preds = %if.end10.i
  %call15.i = tail call i32 @halide_error_device_interface_no_device(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end16.i:                                       ; preds = %if.end10.i
  %flags.i.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %2 = load i64, i64* %flags.i.i.i, align 8, !tbaa !311
  %3 = and i64 %2, 3
  %.not.i = icmp eq i64 %3, 3
  br i1 %.not.i, label %if.then24.i, label %if.end

if.then24.i:                                      ; preds = %if.end16.i
  %call25.i = tail call i32 @halide_error_host_and_device_dirty(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit: ; preds = %if.then24.i, %if.then14.i, %if.then8.i, %if.then.i
  %retval.2.i = phi i32 [ %call.i, %if.then.i ], [ %call15.i, %if.then14.i ], [ %call9.i, %if.then8.i ], [ %call25.i, %if.then24.i ]
  %cmp.not = icmp eq i32 %retval.2.i, 0
  br i1 %cmp.not, label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, label %cleanup14

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge: ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %device_interface3.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %.pre = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface3.phi.trans.insert, align 8, !tbaa !310
  br label %if.end

if.end:                                           ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, %if.end16.i
  %4 = phi %struct.halide_device_interface_t* [ %.pre, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge ], [ %0, %if.end16.i ]
  %cmp4.not = icmp eq %struct.halide_device_interface_t* %4, null
  %cmp5.not = icmp eq %struct.halide_device_interface_t* %4, %device_interface
  %or.cond = select i1 %cmp4.not, i1 true, i1 %cmp5.not
  br i1 %or.cond, label %if.end7, label %cleanup14.sink.split

if.end7:                                          ; preds = %if.end
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %device_interface, i64 0, i32 15
  %5 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %5, i64 0, i32 0
  %6 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  tail call void %6() #16
  %7 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %device_and_host_malloc = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %7, i64 0, i32 8
  %8 = load i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)** %device_and_host_malloc, align 8, !tbaa !328
  %call9 = tail call i32 %8(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #16
  %9 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %release_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %9, i64 0, i32 1
  %10 = load void ()*, void ()** %release_module, align 8, !tbaa !325
  tail call void %10() #16
  %cmp11.not = icmp eq i32 %call9, 0
  br i1 %cmp11.not, label %cleanup14, label %cleanup14.sink.split

cleanup14.sink.split:                             ; preds = %if.end7, %if.end
  %.sink = phi i8* [ getelementptr inbounds ([68 x i8], [68 x i8]* @.str.25.99, i64 0, i64 0), %if.end ], [ getelementptr inbounds ([42 x i8], [42 x i8]* @.str.26.100, i64 0, i64 0), %if.end7 ]
  %retval.1.ph = phi i32 [ -42, %if.end ], [ -16, %if.end7 ]
  tail call void @halide_error(i8* %user_context, i8* %.sink) #16
  br label %cleanup14

cleanup14:                                        ; preds = %cleanup14.sink.split, %if.end7, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %retval.1 = phi i32 [ %retval.2.i, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit ], [ 0, %if.end7 ], [ %retval.1.ph, %cleanup14.sink.split ]
  ret i32 %retval.1
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_device_and_host_free(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %cmp.i = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %call.i = tail call i32 @halide_error_buffer_is_null(i8* %user_context, i8* getelementptr inbounds ([28 x i8], [28 x i8]* @.str.27.101, i64 0, i64 0)) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end.i:                                         ; preds = %entry
  %device_interface.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface.i, align 8, !tbaa !310
  %cmp4.not.i = icmp eq %struct.halide_device_interface_t* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp5.not.i = icmp eq i64 %1, 0
  %cmp4.not.not.i = xor i1 %cmp4.not.i, true
  %brmerge.i = select i1 %cmp5.not.i, i1 true, i1 %cmp4.not.not.i
  br i1 %brmerge.i, label %if.end10.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.end.i
  %call9.i = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end10.i:                                       ; preds = %if.end.i
  %cmp5.not.not.i = xor i1 %cmp5.not.i, true
  %brmerge44.i = select i1 %cmp4.not.i, i1 true, i1 %cmp5.not.not.i
  br i1 %brmerge44.i, label %if.end16.i, label %if.then14.i

if.then14.i:                                      ; preds = %if.end10.i
  %call15.i = tail call i32 @halide_error_device_interface_no_device(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end16.i:                                       ; preds = %if.end10.i
  %flags.i.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %2 = load i64, i64* %flags.i.i.i, align 8, !tbaa !311
  %3 = and i64 %2, 3
  %.not.i = icmp eq i64 %3, 3
  br i1 %.not.i, label %if.then24.i, label %if.end

if.then24.i:                                      ; preds = %if.end16.i
  %call25.i = tail call i32 @halide_error_host_and_device_dirty(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit: ; preds = %if.then24.i, %if.then14.i, %if.then8.i, %if.then.i
  %retval.2.i = phi i32 [ %call.i, %if.then.i ], [ %call15.i, %if.then14.i ], [ %call9.i, %if.then8.i ], [ %call25.i, %if.then24.i ]
  %cmp.not = icmp eq i32 %retval.2.i, 0
  br i1 %cmp.not, label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, label %cleanup18

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge: ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %device_interface1.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %.pre = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface1.phi.trans.insert, align 8, !tbaa !310
  br label %if.end

if.end:                                           ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, %if.end16.i
  %4 = phi %struct.halide_device_interface_t* [ %.pre, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge ], [ %0, %if.end16.i ]
  %cmp2.not = icmp eq %struct.halide_device_interface_t* %4, null
  br i1 %cmp2.not, label %if.else11, label %if.then3

if.then3:                                         ; preds = %if.end
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %4, i64 0, i32 15
  %5 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %5, i64 0, i32 0
  %6 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  tail call void %6() #16
  %7 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %device_and_host_free = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %7, i64 0, i32 9
  %8 = load i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)** %device_and_host_free, align 8, !tbaa !329
  %call5 = tail call i32 %8(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #16
  %9 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %release_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %9, i64 0, i32 1
  %10 = load void ()*, void ()** %release_module, align 8, !tbaa !325
  tail call void %10() #16
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %11 = load i64, i64* %device, align 8, !tbaa !245
  %cmp7 = icmp eq i64 %11, 0
  br i1 %cmp7, label %do.end, label %if.then8

if.then8:                                         ; preds = %if.then3
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([103 x i8], [103 x i8]* @.str.28.102, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then8, %if.then3
  %tobool.not = icmp eq i32 %call5, 0
  %. = select i1 %tobool.not, i32 0, i32 -18
  br label %cleanup18

if.else11:                                        ; preds = %if.end
  %host = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 2
  %12 = load i8*, i8** %host, align 8, !tbaa !178
  %tobool12.not = icmp eq i8* %12, null
  br i1 %tobool12.not, label %if.end17, label %if.then13

if.then13:                                        ; preds = %if.else11
  tail call void @halide_free(i8* %user_context, i8* nonnull %12) #16
  store i8* null, i8** %host, align 8, !tbaa !178
  br label %if.end17

if.end17:                                         ; preds = %if.then13, %if.else11
  %flags.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %13 = load i64, i64* %flags.i.i, align 8, !tbaa !311
  %and.i.i = and i64 %13, -3
  store i64 %and.i.i, i64* %flags.i.i, align 8, !tbaa !311
  br label %cleanup18

cleanup18:                                        ; preds = %if.end17, %do.end, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %retval.1 = phi i32 [ %retval.2.i, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit ], [ 0, %if.end17 ], [ %., %do.end ]
  ret i32 %retval.1
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_device_and_host_malloc(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* %device_interface) local_unnamed_addr #0 {
entry:
  %cmp.i = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %call.i = tail call i32 @halide_error_buffer_is_null(i8* %user_context, i8* getelementptr inbounds ([38 x i8], [38 x i8]* @.str.29.103, i64 0, i64 0)) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end.i:                                         ; preds = %entry
  %device_interface.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface.i, align 8, !tbaa !310
  %cmp4.not.i = icmp eq %struct.halide_device_interface_t* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp5.not.i = icmp eq i64 %1, 0
  %cmp4.not.not.i = xor i1 %cmp4.not.i, true
  %brmerge.i = select i1 %cmp5.not.i, i1 true, i1 %cmp4.not.not.i
  br i1 %brmerge.i, label %if.end10.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.end.i
  %call9.i = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end10.i:                                       ; preds = %if.end.i
  %cmp5.not.not.i = xor i1 %cmp5.not.i, true
  %brmerge44.i = select i1 %cmp4.not.i, i1 true, i1 %cmp5.not.not.i
  br i1 %brmerge44.i, label %if.end16.i, label %if.then14.i

if.then14.i:                                      ; preds = %if.end10.i
  %call15.i = tail call i32 @halide_error_device_interface_no_device(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end16.i:                                       ; preds = %if.end10.i
  %flags.i.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %2 = load i64, i64* %flags.i.i.i, align 8, !tbaa !311
  %3 = and i64 %2, 3
  %.not.i = icmp eq i64 %3, 3
  br i1 %.not.i, label %if.then24.i, label %if.end

if.then24.i:                                      ; preds = %if.end16.i
  %call25.i = tail call i32 @halide_error_host_and_device_dirty(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit: ; preds = %if.then24.i, %if.then14.i, %if.then8.i, %if.then.i
  %retval.2.i = phi i32 [ %call.i, %if.then.i ], [ %call15.i, %if.then14.i ], [ %call9.i, %if.then8.i ], [ %call25.i, %if.then24.i ]
  %cmp.not = icmp eq i32 %retval.2.i, 0
  br i1 %cmp.not, label %if.end, label %cleanup13

if.end:                                           ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit, %if.end16.i
  %dimensions.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 5
  %4 = load i32, i32* %dimensions.i.i, align 4, !tbaa !180
  %dim.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 6
  %5 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i.i, align 8
  %cmp19.i.i = icmp sgt i32 %4, 0
  br i1 %cmp19.i.i, label %for.body.preheader.i.i, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

for.body.preheader.i.i:                           ; preds = %if.end
  %wide.trip.count.i.i = zext i32 %4 to i64
  %6 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter = and i64 %wide.trip.count.i.i, 3
  %7 = icmp ult i64 %6, 3
  br i1 %7, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.preheader.i.i.new

for.body.preheader.i.i.new:                       ; preds = %for.body.preheader.i.i
  %unroll_iter = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %if.end.i.i.3, %for.body.preheader.i.i.new
  %indvars.iv.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %niter = phi i64 [ %unroll_iter, %for.body.preheader.i.i.new ], [ %niter.nsub.3, %if.end.i.i.3 ]
  %stride2.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i.i, i32 2
  %8 = load i32, i32* %stride2.i.i, align 4, !tbaa !187
  %cmp3.i.i = icmp sgt i32 %8, 0
  br i1 %cmp3.i.i, label %if.then.i.i, label %if.end.i.i

if.then.i.i:                                      ; preds = %for.body.i.i
  %conv18.i.i = zext i32 %8 to i64
  %extent.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i.i, i32 1
  %9 = load i32, i32* %extent.i.i, align 4, !tbaa !183
  %sub.i.i = add nsw i32 %9, -1
  %conv7.i.i = sext i32 %sub.i.i to i64
  %mul.i.i = mul nsw i64 %conv7.i.i, %conv18.i.i
  %add.i.i = add nsw i64 %mul.i.i, %index.021.i.i
  br label %if.end.i.i

if.end.i.i:                                       ; preds = %if.then.i.i, %for.body.i.i
  %index.1.i.i = phi i64 [ %add.i.i, %if.then.i.i ], [ %index.021.i.i, %for.body.i.i ]
  %indvars.iv.next.i.i = or i64 %indvars.iv.i.i, 1
  %stride2.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i, i32 2
  %10 = load i32, i32* %stride2.i.i.1, align 4, !tbaa !187
  %cmp3.i.i.1 = icmp sgt i32 %10, 0
  br i1 %cmp3.i.i.1, label %if.then.i.i.1, label %if.end.i.i.1

for.body.i12.i.preheader.unr-lcssa:               ; preds = %if.end.i.i.3, %for.body.preheader.i.i
  %index.1.i.i.lcssa.ph = phi i64 [ undef, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %indvars.iv.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil

for.body.i.i.epil:                                ; preds = %for.body.i12.i.preheader.unr-lcssa, %if.end.i.i.epil
  %indvars.iv.i.i.epil = phi i64 [ %indvars.iv.next.i.i.epil, %if.end.i.i.epil ], [ %indvars.iv.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %index.021.i.i.epil = phi i64 [ %index.1.i.i.epil, %if.end.i.i.epil ], [ %index.021.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %if.end.i.i.epil ], [ %xtraiter, %for.body.i12.i.preheader.unr-lcssa ]
  %stride2.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i.i.epil, i32 2
  %11 = load i32, i32* %stride2.i.i.epil, align 4, !tbaa !187
  %cmp3.i.i.epil = icmp sgt i32 %11, 0
  br i1 %cmp3.i.i.epil, label %if.then.i.i.epil, label %if.end.i.i.epil

if.then.i.i.epil:                                 ; preds = %for.body.i.i.epil
  %conv18.i.i.epil = zext i32 %11 to i64
  %extent.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i.i.epil, i32 1
  %12 = load i32, i32* %extent.i.i.epil, align 4, !tbaa !183
  %sub.i.i.epil = add nsw i32 %12, -1
  %conv7.i.i.epil = sext i32 %sub.i.i.epil to i64
  %mul.i.i.epil = mul nsw i64 %conv7.i.i.epil, %conv18.i.i.epil
  %add.i.i.epil = add nsw i64 %mul.i.i.epil, %index.021.i.i.epil
  br label %if.end.i.i.epil

if.end.i.i.epil:                                  ; preds = %if.then.i.i.epil, %for.body.i.i.epil
  %index.1.i.i.epil = phi i64 [ %add.i.i.epil, %if.then.i.i.epil ], [ %index.021.i.i.epil, %for.body.i.i.epil ]
  %indvars.iv.next.i.i.epil = add nuw nsw i64 %indvars.iv.i.i.epil, 1
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil, !llvm.loop !330

for.body.i12.i.preheader:                         ; preds = %if.end.i.i.epil, %for.body.i12.i.preheader.unr-lcssa
  %index.1.i.i.lcssa = phi i64 [ %index.1.i.i.lcssa.ph, %for.body.i12.i.preheader.unr-lcssa ], [ %index.1.i.i.epil, %if.end.i.i.epil ]
  %13 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter4 = and i64 %wide.trip.count.i.i, 3
  %14 = icmp ult i64 %13, 3
  br i1 %14, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i.preheader.new

for.body.i12.i.preheader.new:                     ; preds = %for.body.i12.i.preheader
  %unroll_iter8 = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i12.i

for.body.i12.i:                                   ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader.new
  %indvars.iv.i9.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %niter9 = phi i64 [ %unroll_iter8, %for.body.i12.i.preheader.new ], [ %niter9.nsub.3, %if.end.i22.i.3 ]
  %stride2.i10.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i9.i, i32 2
  %15 = load i32, i32* %stride2.i10.i, align 4, !tbaa !187
  %cmp3.i11.i = icmp slt i32 %15, 0
  br i1 %cmp3.i11.i, label %if.then.i18.i, label %if.end.i22.i

if.then.i18.i:                                    ; preds = %for.body.i12.i
  %conv.i.i = sext i32 %15 to i64
  %extent.i13.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i9.i, i32 1
  %16 = load i32, i32* %extent.i13.i, align 4, !tbaa !183
  %sub.i14.i = add nsw i32 %16, -1
  %conv7.i15.i = sext i32 %sub.i14.i to i64
  %mul.i16.i = mul nsw i64 %conv7.i15.i, %conv.i.i
  %add.i17.i = add nsw i64 %mul.i16.i, %index.018.i.i
  br label %if.end.i22.i

if.end.i22.i:                                     ; preds = %if.then.i18.i, %for.body.i12.i
  %index.1.i19.i = phi i64 [ %add.i17.i, %if.then.i18.i ], [ %index.018.i.i, %for.body.i12.i ]
  %indvars.iv.next.i20.i = or i64 %indvars.iv.i9.i, 1
  %stride2.i10.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i, i32 2
  %17 = load i32, i32* %stride2.i10.i.1, align 4, !tbaa !187
  %cmp3.i11.i.1 = icmp slt i32 %17, 0
  br i1 %cmp3.i11.i.1, label %if.then.i18.i.1, label %if.end.i22.i.1

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa: ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader
  %index.1.i19.i.lcssa.ph = phi i64 [ undef, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %indvars.iv.i9.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %lcmp.mod6.not = icmp eq i64 %xtraiter4, 0
  br i1 %lcmp.mod6.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil

for.body.i12.i.epil:                              ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, %if.end.i22.i.epil
  %indvars.iv.i9.i.epil = phi i64 [ %indvars.iv.next.i20.i.epil, %if.end.i22.i.epil ], [ %indvars.iv.i9.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %index.018.i.i.epil = phi i64 [ %index.1.i19.i.epil, %if.end.i22.i.epil ], [ %index.018.i.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %epil.iter5 = phi i64 [ %epil.iter5.sub, %if.end.i22.i.epil ], [ %xtraiter4, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %stride2.i10.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i9.i.epil, i32 2
  %18 = load i32, i32* %stride2.i10.i.epil, align 4, !tbaa !187
  %cmp3.i11.i.epil = icmp slt i32 %18, 0
  br i1 %cmp3.i11.i.epil, label %if.then.i18.i.epil, label %if.end.i22.i.epil

if.then.i18.i.epil:                               ; preds = %for.body.i12.i.epil
  %conv.i.i.epil = sext i32 %18 to i64
  %extent.i13.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i9.i.epil, i32 1
  %19 = load i32, i32* %extent.i13.i.epil, align 4, !tbaa !183
  %sub.i14.i.epil = add nsw i32 %19, -1
  %conv7.i15.i.epil = sext i32 %sub.i14.i.epil to i64
  %mul.i16.i.epil = mul nsw i64 %conv7.i15.i.epil, %conv.i.i.epil
  %add.i17.i.epil = add nsw i64 %mul.i16.i.epil, %index.018.i.i.epil
  br label %if.end.i22.i.epil

if.end.i22.i.epil:                                ; preds = %if.then.i18.i.epil, %for.body.i12.i.epil
  %index.1.i19.i.epil = phi i64 [ %add.i17.i.epil, %if.then.i18.i.epil ], [ %index.018.i.i.epil, %for.body.i12.i.epil ]
  %indvars.iv.next.i20.i.epil = add nuw nsw i64 %indvars.iv.i9.i.epil, 1
  %epil.iter5.sub = add i64 %epil.iter5, -1
  %epil.iter5.cmp.not = icmp eq i64 %epil.iter5.sub, 0
  br i1 %epil.iter5.cmp.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil, !llvm.loop !331

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit: ; preds = %if.end.i22.i.epil, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa
  %index.1.i19.i.lcssa = phi i64 [ %index.1.i19.i.lcssa.ph, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ], [ %index.1.i19.i.epil, %if.end.i22.i.epil ]
  %add8.i.i = add nsw i64 %index.1.i.i.lcssa, 1
  br label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

_ZNK15halide_buffer_t13size_in_bytesEv.exit:      ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, %if.end
  %add8.i27.i = phi i64 [ 1, %if.end ], [ %add8.i.i, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %index.0.lcssa.i8.i = phi i64 [ 0, %if.end ], [ %index.1.i19.i.lcssa, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %sub.i = sub nsw i64 %add8.i27.i, %index.0.lcssa.i8.i
  %bits.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 4, i32 1
  %20 = load i8, i8* %bits.i.i, align 1, !tbaa !141
  %conv.i23.i = zext i8 %20 to i64
  %add.i24.i = add nuw nsw i64 %conv.i23.i, 7
  %div.i.i = lshr i64 %add.i24.i, 3
  %mul.i = mul i64 %div.i.i, %sub.i
  %call2 = tail call i8* @halide_malloc(i8* %user_context, i64 %mul.i) #16
  %host = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 2
  store i8* %call2, i8** %host, align 8, !tbaa !178
  %cmp4 = icmp eq i8* %call2, null
  br i1 %cmp4, label %cleanup13, label %if.end6

if.end6:                                          ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit
  %call7 = tail call i32 @halide_device_malloc(i8* %user_context, %struct.halide_buffer_t* nonnull %buf, %struct.halide_device_interface_t* %device_interface) #17
  %cmp8.not = icmp eq i32 %call7, 0
  br i1 %cmp8.not, label %cleanup13, label %if.then9

if.then9:                                         ; preds = %if.end6
  %21 = load i8*, i8** %host, align 8, !tbaa !178
  tail call void @halide_free(i8* %user_context, i8* %21) #16
  store i8* null, i8** %host, align 8, !tbaa !178
  br label %cleanup13

cleanup13:                                        ; preds = %if.then9, %if.end6, %_ZNK15halide_buffer_t13size_in_bytesEv.exit, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %retval.1 = phi i32 [ %retval.2.i, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit ], [ -1, %_ZNK15halide_buffer_t13size_in_bytesEv.exit ], [ %call7, %if.then9 ], [ 0, %if.end6 ]
  ret i32 %retval.1

if.then.i.i.1:                                    ; preds = %if.end.i.i
  %conv18.i.i.1 = zext i32 %10 to i64
  %extent.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i, i32 1
  %22 = load i32, i32* %extent.i.i.1, align 4, !tbaa !183
  %sub.i.i.1 = add nsw i32 %22, -1
  %conv7.i.i.1 = sext i32 %sub.i.i.1 to i64
  %mul.i.i.1 = mul nsw i64 %conv7.i.i.1, %conv18.i.i.1
  %add.i.i.1 = add nsw i64 %mul.i.i.1, %index.1.i.i
  br label %if.end.i.i.1

if.end.i.i.1:                                     ; preds = %if.then.i.i.1, %if.end.i.i
  %index.1.i.i.1 = phi i64 [ %add.i.i.1, %if.then.i.i.1 ], [ %index.1.i.i, %if.end.i.i ]
  %indvars.iv.next.i.i.1 = or i64 %indvars.iv.i.i, 2
  %stride2.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i.1, i32 2
  %23 = load i32, i32* %stride2.i.i.2, align 4, !tbaa !187
  %cmp3.i.i.2 = icmp sgt i32 %23, 0
  br i1 %cmp3.i.i.2, label %if.then.i.i.2, label %if.end.i.i.2

if.then.i.i.2:                                    ; preds = %if.end.i.i.1
  %conv18.i.i.2 = zext i32 %23 to i64
  %extent.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i.1, i32 1
  %24 = load i32, i32* %extent.i.i.2, align 4, !tbaa !183
  %sub.i.i.2 = add nsw i32 %24, -1
  %conv7.i.i.2 = sext i32 %sub.i.i.2 to i64
  %mul.i.i.2 = mul nsw i64 %conv7.i.i.2, %conv18.i.i.2
  %add.i.i.2 = add nsw i64 %mul.i.i.2, %index.1.i.i.1
  br label %if.end.i.i.2

if.end.i.i.2:                                     ; preds = %if.then.i.i.2, %if.end.i.i.1
  %index.1.i.i.2 = phi i64 [ %add.i.i.2, %if.then.i.i.2 ], [ %index.1.i.i.1, %if.end.i.i.1 ]
  %indvars.iv.next.i.i.2 = or i64 %indvars.iv.i.i, 3
  %stride2.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i.2, i32 2
  %25 = load i32, i32* %stride2.i.i.3, align 4, !tbaa !187
  %cmp3.i.i.3 = icmp sgt i32 %25, 0
  br i1 %cmp3.i.i.3, label %if.then.i.i.3, label %if.end.i.i.3

if.then.i.i.3:                                    ; preds = %if.end.i.i.2
  %conv18.i.i.3 = zext i32 %25 to i64
  %extent.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i.2, i32 1
  %26 = load i32, i32* %extent.i.i.3, align 4, !tbaa !183
  %sub.i.i.3 = add nsw i32 %26, -1
  %conv7.i.i.3 = sext i32 %sub.i.i.3 to i64
  %mul.i.i.3 = mul nsw i64 %conv7.i.i.3, %conv18.i.i.3
  %add.i.i.3 = add nsw i64 %mul.i.i.3, %index.1.i.i.2
  br label %if.end.i.i.3

if.end.i.i.3:                                     ; preds = %if.then.i.i.3, %if.end.i.i.2
  %index.1.i.i.3 = phi i64 [ %add.i.i.3, %if.then.i.i.3 ], [ %index.1.i.i.2, %if.end.i.i.2 ]
  %indvars.iv.next.i.i.3 = add nuw nsw i64 %indvars.iv.i.i, 4
  %niter.nsub.3 = add i64 %niter, -4
  %niter.ncmp.3 = icmp eq i64 %niter.nsub.3, 0
  br i1 %niter.ncmp.3, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.i.i, !llvm.loop !332

if.then.i18.i.1:                                  ; preds = %if.end.i22.i
  %conv.i.i.1 = sext i32 %17 to i64
  %extent.i13.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i, i32 1
  %27 = load i32, i32* %extent.i13.i.1, align 4, !tbaa !183
  %sub.i14.i.1 = add nsw i32 %27, -1
  %conv7.i15.i.1 = sext i32 %sub.i14.i.1 to i64
  %mul.i16.i.1 = mul nsw i64 %conv7.i15.i.1, %conv.i.i.1
  %add.i17.i.1 = add nsw i64 %mul.i16.i.1, %index.1.i19.i
  br label %if.end.i22.i.1

if.end.i22.i.1:                                   ; preds = %if.then.i18.i.1, %if.end.i22.i
  %index.1.i19.i.1 = phi i64 [ %add.i17.i.1, %if.then.i18.i.1 ], [ %index.1.i19.i, %if.end.i22.i ]
  %indvars.iv.next.i20.i.1 = or i64 %indvars.iv.i9.i, 2
  %stride2.i10.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i.1, i32 2
  %28 = load i32, i32* %stride2.i10.i.2, align 4, !tbaa !187
  %cmp3.i11.i.2 = icmp slt i32 %28, 0
  br i1 %cmp3.i11.i.2, label %if.then.i18.i.2, label %if.end.i22.i.2

if.then.i18.i.2:                                  ; preds = %if.end.i22.i.1
  %conv.i.i.2 = sext i32 %28 to i64
  %extent.i13.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i.1, i32 1
  %29 = load i32, i32* %extent.i13.i.2, align 4, !tbaa !183
  %sub.i14.i.2 = add nsw i32 %29, -1
  %conv7.i15.i.2 = sext i32 %sub.i14.i.2 to i64
  %mul.i16.i.2 = mul nsw i64 %conv7.i15.i.2, %conv.i.i.2
  %add.i17.i.2 = add nsw i64 %mul.i16.i.2, %index.1.i19.i.1
  br label %if.end.i22.i.2

if.end.i22.i.2:                                   ; preds = %if.then.i18.i.2, %if.end.i22.i.1
  %index.1.i19.i.2 = phi i64 [ %add.i17.i.2, %if.then.i18.i.2 ], [ %index.1.i19.i.1, %if.end.i22.i.1 ]
  %indvars.iv.next.i20.i.2 = or i64 %indvars.iv.i9.i, 3
  %stride2.i10.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i.2, i32 2
  %30 = load i32, i32* %stride2.i10.i.3, align 4, !tbaa !187
  %cmp3.i11.i.3 = icmp slt i32 %30, 0
  br i1 %cmp3.i11.i.3, label %if.then.i18.i.3, label %if.end.i22.i.3

if.then.i18.i.3:                                  ; preds = %if.end.i22.i.2
  %conv.i.i.3 = sext i32 %30 to i64
  %extent.i13.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i.2, i32 1
  %31 = load i32, i32* %extent.i13.i.3, align 4, !tbaa !183
  %sub.i14.i.3 = add nsw i32 %31, -1
  %conv7.i15.i.3 = sext i32 %sub.i14.i.3 to i64
  %mul.i16.i.3 = mul nsw i64 %conv7.i15.i.3, %conv.i.i.3
  %add.i17.i.3 = add nsw i64 %mul.i16.i.3, %index.1.i19.i.2
  br label %if.end.i22.i.3

if.end.i22.i.3:                                   ; preds = %if.then.i18.i.3, %if.end.i22.i.2
  %index.1.i19.i.3 = phi i64 [ %add.i17.i.3, %if.then.i18.i.3 ], [ %index.1.i19.i.2, %if.end.i22.i.2 ]
  %indvars.iv.next.i20.i.3 = add nuw nsw i64 %indvars.iv.i9.i, 4
  %niter9.nsub.3 = add i64 %niter9, -4
  %niter9.ncmp.3 = icmp eq i64 %niter9.nsub.3, 0
  br i1 %niter9.ncmp.3, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i, !llvm.loop !333
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_device_and_host_free(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* %device_interface) local_unnamed_addr #0 {
entry:
  %cmp.i = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %call.i = tail call i32 @halide_error_buffer_is_null(i8* %user_context, i8* getelementptr inbounds ([36 x i8], [36 x i8]* @.str.30.104, i64 0, i64 0)) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end.i:                                         ; preds = %entry
  %device_interface.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface.i, align 8, !tbaa !310
  %cmp4.not.i = icmp eq %struct.halide_device_interface_t* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp5.not.i = icmp eq i64 %1, 0
  %cmp4.not.not.i = xor i1 %cmp4.not.i, true
  %brmerge.i = select i1 %cmp5.not.i, i1 true, i1 %cmp4.not.not.i
  br i1 %brmerge.i, label %if.end10.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.end.i
  %call9.i = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end10.i:                                       ; preds = %if.end.i
  %cmp5.not.not.i = xor i1 %cmp5.not.i, true
  %brmerge44.i = select i1 %cmp4.not.i, i1 true, i1 %cmp5.not.not.i
  br i1 %brmerge44.i, label %if.end16.i, label %if.then14.i

if.then14.i:                                      ; preds = %if.end10.i
  %call15.i = tail call i32 @halide_error_device_interface_no_device(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end16.i:                                       ; preds = %if.end10.i
  %flags.i.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %2 = load i64, i64* %flags.i.i.i, align 8, !tbaa !311
  %3 = and i64 %2, 3
  %.not.i = icmp eq i64 %3, 3
  br i1 %.not.i, label %if.then24.i, label %if.end16.i.split

if.end16.i.split:                                 ; preds = %if.end16.i
  %call11 = tail call i32 @halide_device_free(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #17
  br label %if.end

if.then24.i:                                      ; preds = %if.end16.i
  %call25.i = tail call i32 @halide_error_host_and_device_dirty(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit: ; preds = %if.then24.i, %if.then14.i, %if.then8.i, %if.then.i
  %retval.2.i = phi i32 [ %call.i, %if.then.i ], [ %call15.i, %if.then14.i ], [ %call9.i, %if.then8.i ], [ %call25.i, %if.then24.i ]
  %cmp.not = icmp eq i32 %retval.2.i, 0
  br i1 %cmp.not, label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.split, label %cleanup

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.split: ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %call12 = tail call i32 @halide_device_free(i8* %user_context, %struct.halide_buffer_t* %buf) #17
  br label %if.end

if.end:                                           ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.split, %if.end16.i.split
  %phi.call = phi i32 [ %call11, %if.end16.i.split ], [ %call12, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.split ]
  %host = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 2
  %4 = load i8*, i8** %host, align 8, !tbaa !178
  %tobool.not = icmp eq i8* %4, null
  br i1 %tobool.not, label %if.end5, label %if.then2

if.then2:                                         ; preds = %if.end
  tail call void @halide_free(i8* %user_context, i8* nonnull %4) #16
  store i8* null, i8** %host, align 8, !tbaa !178
  br label %if.end5

if.end5:                                          ; preds = %if.then2, %if.end
  %flags.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %5 = load i64, i64* %flags.i.i, align 8, !tbaa !311
  %and.i.i18 = and i64 %5, -4
  store i64 %and.i.i18, i64* %flags.i.i, align 8, !tbaa !311
  br label %cleanup

cleanup:                                          ; preds = %if.end5, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %retval.0 = phi i32 [ %phi.call, %if.end5 ], [ %retval.2.i, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit ]
  ret i32 %retval.0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_device_wrap_native(i8* %user_context, %struct.halide_buffer_t* %buf, i64 %handle, %struct.halide_device_interface_t* %device_interface) #0 {
entry:
  %cmp.i = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %call.i = tail call i32 @halide_error_buffer_is_null(i8* %user_context, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.31.105, i64 0, i64 0)) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end.i:                                         ; preds = %entry
  %device_interface.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface.i, align 8, !tbaa !310
  %cmp4.not.i = icmp eq %struct.halide_device_interface_t* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp5.not.i = icmp eq i64 %1, 0
  %cmp4.not.not.i = xor i1 %cmp4.not.i, true
  %brmerge.i = select i1 %cmp5.not.i, i1 true, i1 %cmp4.not.not.i
  br i1 %brmerge.i, label %if.end10.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.end.i
  %call9.i = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end10.i:                                       ; preds = %if.end.i
  %cmp5.not.not.i = xor i1 %cmp5.not.i, true
  %brmerge44.i = select i1 %cmp4.not.i, i1 true, i1 %cmp5.not.not.i
  br i1 %brmerge44.i, label %if.end16.i, label %if.then14.i

if.then14.i:                                      ; preds = %if.end10.i
  %call15.i = tail call i32 @halide_error_device_interface_no_device(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end16.i:                                       ; preds = %if.end10.i
  %flags.i.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %2 = load i64, i64* %flags.i.i.i, align 8, !tbaa !311
  %3 = and i64 %2, 3
  %.not.i = icmp eq i64 %3, 3
  br i1 %.not.i, label %if.then24.i, label %if.end

if.then24.i:                                      ; preds = %if.end16.i
  %call25.i = tail call i32 @halide_error_host_and_device_dirty(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit: ; preds = %if.then24.i, %if.then14.i, %if.then8.i, %if.then.i
  %retval.2.i = phi i32 [ %call.i, %if.then.i ], [ %call15.i, %if.then14.i ], [ %call9.i, %if.then8.i ], [ %call25.i, %if.then24.i ]
  %cmp.not = icmp eq i32 %retval.2.i, 0
  br i1 %cmp.not, label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, label %cleanup12

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge: ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %device_interface1.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %.pre = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface1.phi.trans.insert, align 8, !tbaa !310
  br label %if.end

if.end:                                           ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, %if.end16.i
  %4 = phi %struct.halide_device_interface_t* [ %.pre, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge ], [ %0, %if.end16.i ]
  %cmp2.not = icmp eq %struct.halide_device_interface_t* %4, null
  %cmp3.not = icmp eq %struct.halide_device_interface_t* %4, %device_interface
  %or.cond = select i1 %cmp2.not, i1 true, i1 %cmp3.not
  br i1 %or.cond, label %if.end5, label %if.then4

if.then4:                                         ; preds = %if.end
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([64 x i8], [64 x i8]* @.str.32.106, i64 0, i64 0)) #16
  br label %cleanup12

if.end5:                                          ; preds = %if.end
  %device_interface1 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %device_interface, i64 0, i32 15
  %5 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %5, i64 0, i32 0
  %6 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  tail call void %6() #16
  store %struct.halide_device_interface_t* %device_interface, %struct.halide_device_interface_t** %device_interface1, align 8, !tbaa !310
  %7 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %wrap_native = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %7, i64 0, i32 14
  %8 = load i32 (i8*, %struct.halide_buffer_t*, i64)*, i32 (i8*, %struct.halide_buffer_t*, i64)** %wrap_native, align 8, !tbaa !334
  %call8 = tail call i32 %8(i8* %user_context, %struct.halide_buffer_t* nonnull %buf, i64 %handle) #16
  %9 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %release_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %9, i64 0, i32 1
  %10 = load void ()*, void ()** %release_module, align 8, !tbaa !325
  tail call void %10() #16
  %tobool.not = icmp eq i32 %call8, 0
  %. = select i1 %tobool.not, i32 0, i32 -16
  br label %cleanup12

cleanup12:                                        ; preds = %if.end5, %if.then4, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %retval.1 = phi i32 [ %retval.2.i, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit ], [ -42, %if.then4 ], [ %., %if.end5 ]
  ret i32 %retval.1
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_device_detach_native(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %cmp.i = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %call.i = tail call i32 @halide_error_buffer_is_null(i8* %user_context, i8* getelementptr inbounds ([28 x i8], [28 x i8]* @.str.33.107, i64 0, i64 0)) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end.i:                                         ; preds = %entry
  %device_interface.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface.i, align 8, !tbaa !310
  %cmp4.not.i = icmp eq %struct.halide_device_interface_t* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp5.not.i = icmp eq i64 %1, 0
  %cmp4.not.not.i = xor i1 %cmp4.not.i, true
  %brmerge.i = select i1 %cmp5.not.i, i1 true, i1 %cmp4.not.not.i
  br i1 %brmerge.i, label %if.end10.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.end.i
  %call9.i = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end10.i:                                       ; preds = %if.end.i
  %cmp5.not.not.i = xor i1 %cmp5.not.i, true
  %brmerge44.i = select i1 %cmp4.not.i, i1 true, i1 %cmp5.not.not.i
  br i1 %brmerge44.i, label %if.end16.i, label %if.then14.i

if.then14.i:                                      ; preds = %if.end10.i
  %call15.i = tail call i32 @halide_error_device_interface_no_device(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end16.i:                                       ; preds = %if.end10.i
  %flags.i.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %2 = load i64, i64* %flags.i.i.i, align 8, !tbaa !311
  %3 = and i64 %2, 3
  %.not.i = icmp eq i64 %3, 3
  br i1 %.not.i, label %if.then24.i, label %if.end

if.then24.i:                                      ; preds = %if.end16.i
  %call25.i = tail call i32 @halide_error_host_and_device_dirty(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit: ; preds = %if.then24.i, %if.then14.i, %if.then8.i, %if.then.i
  %retval.2.i = phi i32 [ %call.i, %if.then.i ], [ %call15.i, %if.then14.i ], [ %call9.i, %if.then8.i ], [ %call25.i, %if.then24.i ]
  %cmp.not = icmp eq i32 %retval.2.i, 0
  br i1 %cmp.not, label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, label %cleanup

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge: ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %device_interface1.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %.pre = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface1.phi.trans.insert, align 8, !tbaa !310
  br label %if.end

if.end:                                           ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, %if.end16.i
  %4 = phi %struct.halide_device_interface_t* [ %.pre, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge ], [ %0, %if.end16.i ]
  %cmp2.not = icmp eq %struct.halide_device_interface_t* %4, null
  br i1 %cmp2.not, label %cleanup, label %if.then3

if.then3:                                         ; preds = %if.end
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %4, i64 0, i32 15
  %5 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %5, i64 0, i32 0
  %6 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  tail call void %6() #16
  %7 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %detach_native = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %7, i64 0, i32 15
  %8 = load i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)** %detach_native, align 8, !tbaa !335
  %call5 = tail call i32 %8(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #16
  %9 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %release_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %9, i64 0, i32 1
  %10 = load void ()*, void ()** %release_module, align 8, !tbaa !325
  tail call void %10() #16
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %11 = load i64, i64* %device, align 8, !tbaa !245
  %cmp7 = icmp eq i64 %11, 0
  br i1 %cmp7, label %do.end, label %if.then8

if.then8:                                         ; preds = %if.then3
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([103 x i8], [103 x i8]* @.str.34.108, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then8, %if.then3
  %tobool.not = icmp eq i32 %call5, 0
  %spec.select = select i1 %tobool.not, i32 0, i32 -33
  br label %cleanup

cleanup:                                          ; preds = %do.end, %if.end, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %retval.0 = phi i32 [ %retval.2.i, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit ], [ 0, %if.end ], [ %spec.select, %do.end ]
  ret i32 %retval.0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_device_wrap_native(i8* %user_context, %struct.halide_buffer_t* %buf, i64 %handle) local_unnamed_addr #0 {
entry:
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %cmp.not = icmp eq i64 %0, 0
  br i1 %cmp.not, label %if.end, label %return

if.end:                                           ; preds = %entry
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %1 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %1, i64 0, i32 15
  %2 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %2, i64 0, i32 0
  %3 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  tail call void %3() #16
  store i64 %handle, i64* %device, align 8, !tbaa !245
  br label %return

return:                                           ; preds = %if.end, %entry
  %retval.0 = phi i32 [ 0, %if.end ], [ -32, %entry ]
  ret i32 %retval.0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_device_detach_native(i8* %user_context, %struct.halide_buffer_t* %buf) local_unnamed_addr #0 {
entry:
  %cmp.i = icmp eq %struct.halide_buffer_t* %buf, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %call.i = tail call i32 @halide_error_buffer_is_null(i8* %user_context, i8* getelementptr inbounds ([36 x i8], [36 x i8]* @.str.35, i64 0, i64 0)) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end.i:                                         ; preds = %entry
  %device_interface.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface.i, align 8, !tbaa !310
  %cmp4.not.i = icmp eq %struct.halide_device_interface_t* %0, null
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %1 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp5.not.i = icmp eq i64 %1, 0
  %cmp4.not.not.i = xor i1 %cmp4.not.i, true
  %brmerge.i = select i1 %cmp5.not.i, i1 true, i1 %cmp4.not.not.i
  br i1 %brmerge.i, label %if.end10.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.end.i
  %call9.i = tail call i32 @halide_error_no_device_interface(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end10.i:                                       ; preds = %if.end.i
  %cmp5.not.not.i = xor i1 %cmp5.not.i, true
  %brmerge44.i = select i1 %cmp4.not.i, i1 true, i1 %cmp5.not.not.i
  br i1 %brmerge44.i, label %if.end16.i, label %if.then14.i

if.then14.i:                                      ; preds = %if.end10.i
  %call15.i = tail call i32 @halide_error_device_interface_no_device(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

if.end16.i:                                       ; preds = %if.end10.i
  %flags.i.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 3
  %2 = load i64, i64* %flags.i.i.i, align 8, !tbaa !311
  %3 = and i64 %2, 3
  %.not.i = icmp eq i64 %3, 3
  br i1 %.not.i, label %if.then24.i, label %if.end

if.then24.i:                                      ; preds = %if.end16.i
  %call25.i = tail call i32 @halide_error_host_and_device_dirty(i8* %user_context) #16
  br label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit: ; preds = %if.then24.i, %if.then14.i, %if.then8.i, %if.then.i
  %retval.2.i = phi i32 [ %call.i, %if.then.i ], [ %call15.i, %if.then14.i ], [ %call9.i, %if.then8.i ], [ %call25.i, %if.then24.i ]
  %cmp.not = icmp eq i32 %retval.2.i, 0
  br i1 %cmp.not, label %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, label %cleanup

_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge: ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %device.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %.pre = load i64, i64* %device.phi.trans.insert, align 8, !tbaa !245
  br label %if.end

if.end:                                           ; preds = %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge, %if.end16.i
  %4 = phi i64 [ %.pre, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit.if.end_crit_edge ], [ %1, %if.end16.i ]
  %cmp1 = icmp eq i64 %4, 0
  br i1 %cmp1, label %cleanup, label %if.end3

if.end3:                                          ; preds = %if.end
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %5 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %5, i64 0, i32 15
  %6 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %release_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %6, i64 0, i32 1
  %7 = load void ()*, void ()** %release_module, align 8, !tbaa !325
  tail call void %7() #16
  store i64 0, i64* %device, align 8, !tbaa !245
  store %struct.halide_device_interface_t* null, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  br label %cleanup

cleanup:                                          ; preds = %if.end3, %if.end, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit
  %retval.0 = phi i32 [ 0, %if.end3 ], [ %retval.2.i, %_ZN12_GLOBAL__N_126debug_log_and_validate_bufEPvPK15halide_buffer_tPKc.exit ], [ 0, %if.end ]
  ret i32 %retval.0
}

; Function Attrs: mustprogress nounwind
define weak void @halide_device_and_host_free_as_destructor(i8* %user_context, i8* %obj) local_unnamed_addr #0 {
entry:
  %0 = bitcast i8* %obj to %struct.halide_buffer_t*
  %call = tail call i32 @halide_device_and_host_free(i8* %user_context, %struct.halide_buffer_t* %0) #17
  ret void
}

; Function Attrs: mustprogress nounwind
define weak void @halide_device_host_nop_free(i8* %user_context, i8* %obj) local_unnamed_addr #0 {
entry:
  ret void
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_buffer_copy(i8* %user_context, %struct.halide_buffer_t* %src, %struct.halide_device_interface_t* %dst_device_interface, %struct.halide_buffer_t* %dst) local_unnamed_addr #0 {
entry:
  ret i32 -39
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_buffer_copy_already_locked(i8* %user_context, %struct.halide_buffer_t* %src, %struct.halide_device_interface_t* %dst_device_interface, %struct.halide_buffer_t* %dst) local_unnamed_addr #0 {
entry:
  %c = alloca %"struct.Halide::Runtime::Internal::device_copy", align 8
  %tobool.not = icmp eq %struct.halide_device_interface_t* %dst_device_interface, null
  br i1 %tobool.not, label %if.end13, label %land.lhs.true

land.lhs.true:                                    ; preds = %entry
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 1
  %0 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %tobool1.not = icmp eq %struct.halide_device_interface_t* %0, null
  %cmp.not = icmp eq %struct.halide_device_interface_t* %0, %dst_device_interface
  %or.cond = select i1 %tobool1.not, i1 true, i1 %cmp.not
  br i1 %or.cond, label %land.lhs.true5, label %if.then

if.then:                                          ; preds = %land.lhs.true
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([64 x i8], [64 x i8]* @.str.41, i64 0, i64 0)) #16
  br label %cleanup143

land.lhs.true5:                                   ; preds = %land.lhs.true
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 0
  %1 = load i64, i64* %device, align 8, !tbaa !245
  %tobool6.not = icmp eq i64 %1, 0
  br i1 %tobool6.not, label %if.then7, label %if.end13

if.then7:                                         ; preds = %land.lhs.true5
  %call = tail call i32 @halide_device_malloc(i8* %user_context, %struct.halide_buffer_t* nonnull %dst, %struct.halide_device_interface_t* nonnull %dst_device_interface) #17
  %tobool10.not = icmp eq i32 %call, 0
  br i1 %tobool10.not, label %if.end13, label %cleanup143

if.end13:                                         ; preds = %if.then7, %land.lhs.true5, %entry
  %device14 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 0
  %2 = load i64, i64* %device14, align 8, !tbaa !245
  %cmp15.not = icmp eq i64 %2, 0
  %host22.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 2
  %.pre = load i8*, i8** %host22.phi.trans.insert, align 8, !tbaa !178
  %cmp23.not = icmp eq i8* %.pre, null
  br i1 %cmp15.not, label %land.end, label %land.rhs

land.rhs:                                         ; preds = %if.end13
  br i1 %cmp23.not, label %land.end32, label %land.end.thread268

land.end.thread268:                               ; preds = %land.rhs
  %flags.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 3
  %3 = load i64, i64* %flags.i.i, align 8, !tbaa !311
  %and.i.i = and i64 %3, 1
  %cmp.i.i.not = icmp ne i64 %and.i.i, 0
  br label %land.rhs26

land.end:                                         ; preds = %if.end13
  br i1 %cmp23.not, label %land.end32, label %land.end.land.rhs26_crit_edge

land.end.land.rhs26_crit_edge:                    ; preds = %land.end
  %flags.i.i241.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 3
  %.pre1 = load i64, i64* %flags.i.i241.phi.trans.insert, align 8, !tbaa !311
  br label %land.rhs26

land.rhs26:                                       ; preds = %land.end.land.rhs26_crit_edge, %land.end.thread268
  %4 = phi i64 [ %3, %land.end.thread268 ], [ %.pre1, %land.end.land.rhs26_crit_edge ]
  %5 = phi i1 [ %cmp.i.i.not, %land.end.thread268 ], [ true, %land.end.land.rhs26_crit_edge ]
  %and.i.i242 = and i64 %4, 2
  %cmp.i.i243.not = icmp eq i64 %and.i.i242, 0
  br i1 %cmp.i.i243.not, label %land.end32, label %lor.rhs28

lor.rhs28:                                        ; preds = %land.rhs26
  %device_interface29 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 1
  %6 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface29, align 8, !tbaa !310
  %cmp30 = icmp ne %struct.halide_device_interface_t* %6, null
  br label %land.end32

land.end32:                                       ; preds = %lor.rhs28, %land.rhs26, %land.end, %land.rhs
  %cmp23.not267 = phi i1 [ true, %land.end ], [ false, %land.rhs26 ], [ false, %lor.rhs28 ], [ true, %land.rhs ]
  %7 = phi i1 [ true, %land.end ], [ %5, %land.rhs26 ], [ %5, %lor.rhs28 ], [ false, %land.rhs ]
  %8 = phi i1 [ true, %land.end ], [ false, %land.rhs26 ], [ %cmp30, %lor.rhs28 ], [ true, %land.rhs ]
  %host34 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 2
  %9 = load i8*, i8** %host34, align 8, !tbaa !178
  %cmp35.not = icmp eq i8* %9, null
  %cmp20.not = xor i1 %tobool.not, true
  %10 = select i1 %tobool.not, i1 %cmp35.not, i1 false
  br i1 %10, label %cleanup143, label %if.end41

if.end41:                                         ; preds = %land.end32
  %brmerge229 = select i1 %7, i1 true, i1 %tobool.not
  br i1 %brmerge229, label %if.then51, label %if.end49

if.end49:                                         ; preds = %if.end41
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %dst_device_interface, i64 0, i32 15
  %11 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %buffer_copy = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %11, i64 0, i32 10
  %12 = load i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)** %buffer_copy, align 8, !tbaa !336
  %call48 = tail call i32 %12(i8* %user_context, %struct.halide_buffer_t* nonnull %src, %struct.halide_device_interface_t* nonnull %dst_device_interface, %struct.halide_buffer_t* nonnull %dst) #16
  %cmp50 = icmp eq i32 %call48, -42
  br i1 %cmp50, label %if.then51, label %if.end117

if.then51:                                        ; preds = %if.end49, %if.end41
  %13 = select i1 %cmp23.not267, i1 %cmp35.not, i1 false
  br i1 %13, label %cleanup143, label %if.end58

if.end58:                                         ; preds = %if.then51
  %brmerge234 = select i1 %cmp20.not, i1 true, i1 %8
  br i1 %brmerge234, label %if.else, label %if.end117.thread262

if.end117.thread262:                              ; preds = %if.end58
  %14 = bitcast %"struct.Halide::Runtime::Internal::device_copy"* %c to i8*
  call void @llvm.lifetime.start.p0i8(i64 416, i8* nonnull %14) #11
  call void @_ZN6Halide7Runtime8Internal16make_buffer_copyEPK15halide_buffer_tbS4_b(%"struct.Halide::Runtime::Internal::device_copy"* nonnull sret(%"struct.Halide::Runtime::Internal::device_copy") align 8 %c, %struct.halide_buffer_t* nonnull %src, i1 zeroext true, %struct.halide_buffer_t* nonnull %dst, i1 zeroext true) #17
  call void @_ZN6Halide7Runtime8Internal11copy_memoryERKNS1_11device_copyEPv(%"struct.Halide::Runtime::Internal::device_copy"* nonnull align 8 dereferenceable(416) %c, i8* %user_context) #17
  call void @llvm.lifetime.end.p0i8(i64 416, i8* nonnull %14) #11
  br label %land.lhs.true126

if.else:                                          ; preds = %if.end58
  %brmerge237 = select i1 %cmp20.not, i1 true, i1 %7
  br i1 %brmerge237, label %if.else81, label %if.then66

if.then66:                                        ; preds = %if.else
  %device_interface69 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 1
  %15 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface69, align 8, !tbaa !310
  %impl70 = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %15, i64 0, i32 15
  %16 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl70, align 8, !tbaa !317
  %buffer_copy71 = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %16, i64 0, i32 10
  %17 = load i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)** %buffer_copy71, align 8, !tbaa !336
  %call72 = tail call i32 %17(i8* %user_context, %struct.halide_buffer_t* nonnull %src, %struct.halide_device_interface_t* null, %struct.halide_buffer_t* nonnull %dst) #16
  %cmp73 = icmp eq i32 %call72, -42
  br i1 %cmp73, label %if.then74, label %if.end117

if.then74:                                        ; preds = %if.then66
  %call75 = tail call i32 @_ZN6Halide7Runtime8Internal27copy_to_host_already_lockedEPvP15halide_buffer_t(i8* %user_context, %struct.halide_buffer_t* nonnull %src) #17
  %tobool76.not = icmp eq i32 %call75, 0
  br i1 %tobool76.not, label %if.then77, label %cleanup143

if.then77:                                        ; preds = %if.then74
  %call78 = tail call i32 @halide_buffer_copy_already_locked(i8* %user_context, %struct.halide_buffer_t* nonnull %src, %struct.halide_device_interface_t* null, %struct.halide_buffer_t* nonnull %dst) #17
  br label %if.end117

if.else81:                                        ; preds = %if.else
  %brmerge239 = select i1 %7, i1 true, i1 %cmp35.not
  br i1 %brmerge239, label %if.else98, label %if.then85

if.then85:                                        ; preds = %if.else81
  %device_interface90 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 1
  %18 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface90, align 8, !tbaa !310
  %impl91 = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %18, i64 0, i32 15
  %19 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl91, align 8, !tbaa !317
  %buffer_copy92 = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %19, i64 0, i32 10
  %20 = load i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)** %buffer_copy92, align 8, !tbaa !336
  %call93 = tail call i32 %20(i8* %user_context, %struct.halide_buffer_t* nonnull %src, %struct.halide_device_interface_t* null, %struct.halide_buffer_t* nonnull %dst) #16
  %cmp94 = icmp eq i32 %call93, 0
  br i1 %cmp94, label %if.then95, label %cleanup143

if.then95:                                        ; preds = %if.then85
  %flags.i.i244 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 3
  %21 = load i64, i64* %flags.i.i244, align 8, !tbaa !311
  %or.i.sink.i = or i64 %21, 1
  store i64 %or.i.sink.i, i64* %flags.i.i244, align 8, !tbaa !311
  %call96 = tail call i32 @copy_to_device_already_locked(i8* %user_context, %struct.halide_buffer_t* nonnull %dst, %struct.halide_device_interface_t* %dst_device_interface) #17
  br label %if.end117

if.else98:                                        ; preds = %if.else81
  br i1 %tobool.not, label %cleanup143, label %if.then100

if.then100:                                       ; preds = %if.else98
  %call103 = tail call i32 @_ZN6Halide7Runtime8Internal27copy_to_host_already_lockedEPvP15halide_buffer_t(i8* %user_context, %struct.halide_buffer_t* nonnull %src) #17
  %cmp104 = icmp eq i32 %call103, 0
  br i1 %cmp104, label %if.then105, label %cleanup143

if.then105:                                       ; preds = %if.then100
  %impl106 = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %dst_device_interface, i64 0, i32 15
  %22 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl106, align 8, !tbaa !317
  %buffer_copy107 = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %22, i64 0, i32 10
  %23 = load i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_device_interface_t*, %struct.halide_buffer_t*)** %buffer_copy107, align 8, !tbaa !336
  %call108 = tail call i32 %23(i8* %user_context, %struct.halide_buffer_t* nonnull %src, %struct.halide_device_interface_t* nonnull %dst_device_interface, %struct.halide_buffer_t* nonnull %dst) #16
  br label %if.end117

if.end117:                                        ; preds = %if.then105, %if.then95, %if.then77, %if.then66, %if.end49
  %err.1 = phi i32 [ %call78, %if.then77 ], [ %call72, %if.then66 ], [ %call96, %if.then95 ], [ %call108, %if.then105 ], [ %call48, %if.end49 ]
  %cond = icmp eq i32 %err.1, 0
  br i1 %cond, label %land.lhs.true126, label %cleanup143

land.lhs.true126:                                 ; preds = %if.end117, %if.end117.thread262
  %cmp127.not.old = icmp eq %struct.halide_buffer_t* %dst, %src
  br i1 %cmp127.not.old, label %cleanup143, label %if.then128

if.then128:                                       ; preds = %land.lhs.true126
  %flags.i.i251 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 3
  %24 = load i64, i64* %flags.i.i251, align 8, !tbaa !311
  %or.i.sink.i253 = and i64 %24, -4
  br i1 %tobool.not, label %if.else133, label %if.then130

if.then130:                                       ; preds = %if.then128
  %or.i.sink.i250 = or i64 %or.i.sink.i253, 2
  store i64 %or.i.sink.i250, i64* %flags.i.i251, align 8, !tbaa !311
  br label %cleanup143

if.else133:                                       ; preds = %if.then128
  %and.i.i255 = or i64 %or.i.sink.i253, 1
  store i64 %and.i.i255, i64* %flags.i.i251, align 8, !tbaa !311
  br label %cleanup143

cleanup143:                                       ; preds = %if.else133, %if.then130, %land.lhs.true126, %if.end117, %if.then100, %if.else98, %if.then85, %if.then74, %if.then51, %land.end32, %if.then7, %if.then
  %retval.1 = phi i32 [ -42, %if.then ], [ %call, %if.then7 ], [ -34, %land.end32 ], [ 0, %if.then130 ], [ 0, %if.else133 ], [ 0, %land.lhs.true126 ], [ -42, %if.then51 ], [ %err.1, %if.end117 ], [ -42, %if.else98 ], [ %call103, %if.then100 ], [ %call93, %if.then85 ], [ %call75, %if.then74 ]
  ret i32 %retval.1
}

; Function Attrs: nounwind
define weak i32 @halide_buffer_copy(i8* %user_context, %struct.halide_buffer_t* %src, %struct.halide_device_interface_t* %dst_device_interface, %struct.halide_buffer_t* %dst) #3 {
entry:
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal17device_copy_mutexE) #16
  %tobool.not = icmp eq %struct.halide_device_interface_t* %dst_device_interface, null
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %dst_device_interface, i64 0, i32 15
  %0 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %0, i64 0, i32 0
  %1 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  tail call void %1() #16
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 1
  %2 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %tobool11.not = icmp eq %struct.halide_device_interface_t* %2, null
  br i1 %tobool11.not, label %if.end16, label %if.then12

if.then12:                                        ; preds = %if.end
  %impl14 = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %2, i64 0, i32 15
  %3 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl14, align 8, !tbaa !317
  %use_module15 = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %3, i64 0, i32 0
  %4 = load void ()*, void ()** %use_module15, align 8, !tbaa !323
  tail call void %4() #16
  br label %if.end16

if.end16:                                         ; preds = %if.then12, %if.end
  %call = tail call i32 @halide_buffer_copy_already_locked(i8* %user_context, %struct.halide_buffer_t* nonnull %src, %struct.halide_device_interface_t* %dst_device_interface, %struct.halide_buffer_t* %dst) #17
  br i1 %tobool.not, label %if.end20, label %if.then18

if.then18:                                        ; preds = %if.end16
  %impl19 = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %dst_device_interface, i64 0, i32 15
  %5 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl19, align 8, !tbaa !317
  %release_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %5, i64 0, i32 1
  %6 = load void ()*, void ()** %release_module, align 8, !tbaa !325
  tail call void %6() #16
  br label %if.end20

if.end20:                                         ; preds = %if.then18, %if.end16
  %7 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %tobool22.not = icmp eq %struct.halide_device_interface_t* %7, null
  br i1 %tobool22.not, label %if.end27, label %if.then23

if.then23:                                        ; preds = %if.end20
  %impl25 = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %7, i64 0, i32 15
  %8 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl25, align 8, !tbaa !317
  %release_module26 = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %8, i64 0, i32 1
  %9 = load void ()*, void ()** %release_module26, align 8, !tbaa !325
  tail call void %9() #16
  br label %if.end27

if.end27:                                         ; preds = %if.then23, %if.end20
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal17device_copy_mutexE) #16
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_device_crop(i8* %user_context, %struct.halide_buffer_t* %src, %struct.halide_buffer_t* %dst) local_unnamed_addr #0 {
entry:
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([44 x i8], [44 x i8]* @.str.58, i64 0, i64 0)) #16
  ret i32 -40
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_device_slice(i8* %user_context, %struct.halide_buffer_t* %src, i32 %slice_dim, i32 %slice_pos, %struct.halide_buffer_t* %dst) local_unnamed_addr #0 {
entry:
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([43 x i8], [43 x i8]* @.str.59, i64 0, i64 0)) #16
  ret i32 -40
}

; Function Attrs: nounwind
define weak i32 @halide_device_crop(i8* %user_context, %struct.halide_buffer_t* %src, %struct.halide_buffer_t* %dst) #3 {
entry:
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal17device_copy_mutexE) #16
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %tobool.not = icmp eq i64 %0, 0
  br i1 %tobool.not, label %cleanup, label %if.end

if.end:                                           ; preds = %entry
  %device1 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 0
  %1 = load i64, i64* %device1, align 8, !tbaa !245
  %tobool2.not = icmp eq i64 %1, 0
  br i1 %tobool2.not, label %if.end4, label %if.then3

if.then3:                                         ; preds = %if.end
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([52 x i8], [52 x i8]* @.str.60, i64 0, i64 0)) #16
  br label %cleanup

if.end4:                                          ; preds = %if.end
  %dimensions = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 5
  %2 = load i32, i32* %dimensions, align 4, !tbaa !180
  %dimensions5 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 5
  %3 = load i32, i32* %dimensions5, align 4, !tbaa !180
  %cmp.not = icmp eq i32 %2, %3
  br i1 %cmp.not, label %if.end7, label %if.then6

if.then6:                                         ; preds = %if.end4
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([48 x i8], [48 x i8]* @.str.61, i64 0, i64 0)) #16
  br label %cleanup

if.end7:                                          ; preds = %if.end4
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 1
  %4 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %4, i64 0, i32 15
  %5 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %5, i64 0, i32 0
  %6 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  tail call void %6() #16
  %7 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %impl9 = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %7, i64 0, i32 15
  %8 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl9, align 8, !tbaa !317
  %device_crop = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %8, i64 0, i32 11
  %9 = load i32 (i8*, %struct.halide_buffer_t*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, %struct.halide_buffer_t*)** %device_crop, align 8, !tbaa !337
  %call = tail call i32 %9(i8* %user_context, %struct.halide_buffer_t* nonnull %src, %struct.halide_buffer_t* nonnull %dst) #16
  br label %cleanup

cleanup:                                          ; preds = %if.end7, %if.then6, %if.then3, %entry
  %retval.0 = phi i32 [ -41, %if.then3 ], [ -41, %if.then6 ], [ %call, %if.end7 ], [ 0, %entry ]
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal17device_copy_mutexE) #16
  ret i32 %retval.0
}

; Function Attrs: nounwind
define weak i32 @halide_device_slice(i8* %user_context, %struct.halide_buffer_t* %src, i32 %slice_dim, i32 %slice_pos, %struct.halide_buffer_t* %dst) #3 {
entry:
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal17device_copy_mutexE) #16
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %tobool.not = icmp eq i64 %0, 0
  br i1 %tobool.not, label %cleanup, label %if.end

if.end:                                           ; preds = %entry
  %device1 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 0
  %1 = load i64, i64* %device1, align 8, !tbaa !245
  %tobool2.not = icmp eq i64 %1, 0
  br i1 %tobool2.not, label %if.end4, label %if.then3

if.then3:                                         ; preds = %if.end
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([52 x i8], [52 x i8]* @.str.60, i64 0, i64 0)) #16
  br label %cleanup

if.end4:                                          ; preds = %if.end
  %dimensions = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 5
  %2 = load i32, i32* %dimensions, align 4, !tbaa !180
  %dimensions5 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 5
  %3 = load i32, i32* %dimensions5, align 4, !tbaa !180
  %add = add nsw i32 %3, 1
  %cmp.not = icmp eq i32 %2, %add
  br i1 %cmp.not, label %if.end7, label %if.then6

if.then6:                                         ; preds = %if.end4
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([52 x i8], [52 x i8]* @.str.64, i64 0, i64 0)) #16
  br label %cleanup

if.end7:                                          ; preds = %if.end4
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 1
  %4 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %4, i64 0, i32 15
  %5 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %5, i64 0, i32 0
  %6 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  tail call void %6() #16
  %7 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %impl9 = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %7, i64 0, i32 15
  %8 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl9, align 8, !tbaa !317
  %device_slice = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %8, i64 0, i32 12
  %9 = load i32 (i8*, %struct.halide_buffer_t*, i32, i32, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*, i32, i32, %struct.halide_buffer_t*)** %device_slice, align 8, !tbaa !338
  %call = tail call i32 %9(i8* %user_context, %struct.halide_buffer_t* nonnull %src, i32 %slice_dim, i32 %slice_pos, %struct.halide_buffer_t* nonnull %dst) #16
  br label %cleanup

cleanup:                                          ; preds = %if.end7, %if.then6, %if.then3, %entry
  %retval.0 = phi i32 [ -41, %if.then3 ], [ -41, %if.then6 ], [ %call, %if.end7 ], [ 0, %entry ]
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal17device_copy_mutexE) #16
  ret i32 %retval.0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_default_device_release_crop(i8* %user_context, %struct.halide_buffer_t* %buf) local_unnamed_addr #0 {
entry:
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %tobool.not = icmp eq i64 %0, 0
  br i1 %tobool.not, label %return, label %if.end

if.end:                                           ; preds = %entry
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([44 x i8], [44 x i8]* @.str.58, i64 0, i64 0)) #16
  br label %return

return:                                           ; preds = %if.end, %entry
  %retval.0 = phi i32 [ -40, %if.end ], [ 0, %entry ]
  ret i32 %retval.0
}

; Function Attrs: nounwind
define weak i32 @halide_device_release_crop(i8* %user_context, %struct.halide_buffer_t* %buf) #3 {
entry:
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %tobool.not = icmp eq i64 %0, 0
  br i1 %tobool.not, label %return, label %if.then

if.then:                                          ; preds = %entry
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal17device_copy_mutexE) #16
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %1 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %1, i64 0, i32 15
  %2 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %device_release_crop = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %2, i64 0, i32 13
  %3 = load i32 (i8*, %struct.halide_buffer_t*)*, i32 (i8*, %struct.halide_buffer_t*)** %device_release_crop, align 8, !tbaa !339
  %call = tail call i32 %3(i8* %user_context, %struct.halide_buffer_t* nonnull %buf) #16
  store i64 0, i64* %device, align 8, !tbaa !245
  %4 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %release_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %4, i64 0, i32 1
  %5 = load void ()*, void ()** %release_module, align 8, !tbaa !325
  tail call void %5() #16
  store %struct.halide_device_interface_t* null, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal17device_copy_mutexE) #16
  br label %return

return:                                           ; preds = %if.then, %entry
  %retval.0 = phi i32 [ %call, %if.then ], [ 0, %entry ]
  ret i32 %retval.0
}

; Function Attrs: mustprogress nounwind
define weak float @halide_float16_bits_to_float(i16 zeroext %bits) local_unnamed_addr #0 {
entry:
  %conv = zext i16 %bits to i32
  %and2 = and i32 %conv, 1023
  %and4 = lshr i32 %conv, 10
  %0 = and i32 %and4, 31
  %cmp = icmp eq i32 %0, 0
  %cmp5 = icmp ne i32 %and2, 0
  %or.cond = select i1 %cmp, i1 %cmp5, i1 false
  br i1 %or.cond, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %1 = tail call i32 @llvm.ctlz.i32(i32 %and2, i1 true), !range !340
  %sub6 = xor i32 %1, 31
  %shl7 = shl nuw i32 1, %sub6
  %neg = xor i32 %shl7, -1
  %and8 = and i32 %and2, %neg
  %sub9 = sub nsw i32 23, %sub6
  %shl10 = shl i32 %and8, %sub9
  %add11.neg = mul nsw i32 %1, -8388608
  %shl12 = add nsw i32 %add11.neg, 1124073472
  br label %if.end28

if.else:                                          ; preds = %entry
  %shl14 = shl nuw nsw i32 %and2, 13
  br i1 %cmp, label %if.end28, label %if.else18

if.else18:                                        ; preds = %if.else
  %cmp19 = icmp eq i32 %0, 31
  br i1 %cmp19, label %if.end28, label %if.else21

if.else21:                                        ; preds = %if.else18
  %add22 = shl nuw nsw i32 %0, 23
  %phi.bo = add nuw nsw i32 %add22, 939524096
  br label %if.end28

if.end28:                                         ; preds = %if.else21, %if.else18, %if.else, %if.then
  %shl14.sink = phi i32 [ %shl12, %if.then ], [ %shl14, %if.else18 ], [ %shl14, %if.else ], [ %shl14, %if.else21 ]
  %reEncodedExponent15.0.sink = phi i32 [ %shl10, %if.then ], [ 2139095040, %if.else18 ], [ 0, %if.else ], [ %phi.bo, %if.else21 ]
  %bits.signext = sext i16 %bits to i32
  %shl = and i32 %bits.signext, -2147483648
  %or25 = or i32 %shl14.sink, %shl
  %or26 = or i32 %or25, %reEncodedExponent15.0.sink
  %result.sroa.0.0 = bitcast i32 %or26 to float
  ret float %result.sroa.0.0
}

; Function Attrs: mustprogress nofree nosync nounwind readnone speculatable willreturn
declare i32 @llvm.ctlz.i32(i32, i1 immarg) #5

; Function Attrs: mustprogress nounwind
define weak double @halide_float16_bits_to_double(i16 zeroext %bits) local_unnamed_addr #0 {
entry:
  %call = tail call float @halide_float16_bits_to_float(i16 zeroext %bits) #17
  %conv = fpext float %call to double
  ret double %conv
}

; Function Attrs: nounwind
define weak i32 @halide_error_bounds_inference_call_failed(i8* %user_context, i8* %extern_stage_name, i32 %result) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i71 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([41 x i8], [41 x i8]* @.str.111, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i72 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([41 x i8], [41 x i8]* @.str.111, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i71, %entry.split ], [ %call.i72, %if.then6.i ]
  %ref.tmp.sroa.16.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i10 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.16.0, i8* %extern_stage_name) #16
  %call.i13 = tail call i8* @halide_string_to_string(i8* %call.i10, i8* %ref.tmp.sroa.16.0, i8* getelementptr inbounds ([27 x i8], [27 x i8]* @.str.1.112, i64 0, i64 0)) #16
  %conv.i = sext i32 %result to i64
  %call.i16 = tail call i8* @halide_int64_to_string(i8* %call.i13, i8* %ref.tmp.sroa.16.0, i64 %conv.i, i32 1) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i16 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 %result
}

; Function Attrs: nounwind
define weak i32 @halide_error_extern_stage_failed(i8* %user_context, i8* %extern_stage_name, i32 %result) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i71 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.2.113, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i72 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.2.113, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i71, %entry.split ], [ %call.i72, %if.then6.i ]
  %ref.tmp.sroa.16.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i10 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.16.0, i8* %extern_stage_name) #16
  %call.i13 = tail call i8* @halide_string_to_string(i8* %call.i10, i8* %ref.tmp.sroa.16.0, i8* getelementptr inbounds ([27 x i8], [27 x i8]* @.str.1.112, i64 0, i64 0)) #16
  %conv.i = sext i32 %result to i64
  %call.i16 = tail call i8* @halide_int64_to_string(i8* %call.i13, i8* %ref.tmp.sroa.16.0, i64 %conv.i, i32 1) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i16 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 %result
}

; Function Attrs: nounwind
define weak i32 @halide_error_explicit_bounds_too_small(i8* %user_context, i8* %func_name, i8* %var_name, i32 %min_bound, i32 %max_bound, i32 %min_required, i32 %max_required) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i151 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @.str.3.114, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i152 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @.str.3.114, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i151, %entry.split ], [ %call.i152, %if.then6.i ]
  %ref.tmp.sroa.34.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i18 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.34.0, i8* %var_name) #16
  %call.i21 = tail call i8* @halide_string_to_string(i8* %call.i18, i8* %ref.tmp.sroa.34.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.4.115, i64 0, i64 0)) #16
  %call.i24 = tail call i8* @halide_string_to_string(i8* %call.i21, i8* %ref.tmp.sroa.34.0, i8* %func_name) #16
  %call.i27 = tail call i8* @halide_string_to_string(i8* %call.i24, i8* %ref.tmp.sroa.34.0, i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.5.116, i64 0, i64 0)) #16
  %conv.i = sext i32 %min_bound to i64
  %call.i30 = tail call i8* @halide_int64_to_string(i8* %call.i27, i8* %ref.tmp.sroa.34.0, i64 %conv.i, i32 1) #16
  %call.i33 = tail call i8* @halide_string_to_string(i8* %call.i30, i8* %ref.tmp.sroa.34.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.6.117, i64 0, i64 0)) #16
  %conv.i36 = sext i32 %max_bound to i64
  %call.i37 = tail call i8* @halide_int64_to_string(i8* %call.i33, i8* %ref.tmp.sroa.34.0, i64 %conv.i36, i32 1) #16
  %call.i40 = tail call i8* @halide_string_to_string(i8* %call.i37, i8* %ref.tmp.sroa.34.0, i8* getelementptr inbounds ([38 x i8], [38 x i8]* @.str.7.118, i64 0, i64 0)) #16
  %conv.i43 = sext i32 %min_required to i64
  %call.i44 = tail call i8* @halide_int64_to_string(i8* %call.i40, i8* %ref.tmp.sroa.34.0, i64 %conv.i43, i32 1) #16
  %call.i47 = tail call i8* @halide_string_to_string(i8* %call.i44, i8* %ref.tmp.sroa.34.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.6.117, i64 0, i64 0)) #16
  %conv.i50 = sext i32 %max_required to i64
  %call.i51 = tail call i8* @halide_int64_to_string(i8* %call.i47, i8* %ref.tmp.sroa.34.0, i64 %conv.i50, i32 1) #16
  %call.i54 = tail call i8* @halide_string_to_string(i8* %call.i51, i8* %ref.tmp.sroa.34.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.8.119, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i54 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -2
}

; Function Attrs: nounwind
define weak i32 @halide_error_bad_type(i8* %user_context, i8* %func_name, i32 %type_given_bits, i32 %correct_type_bits) local_unnamed_addr #3 {
entry:
  %type_given_bits.addr = alloca i32, align 4
  %correct_type_bits.addr = alloca i32, align 4
  %correct_type = alloca %struct.halide_type_t, align 2
  %type_given = alloca %struct.halide_type_t, align 2
  store i32 %type_given_bits, i32* %type_given_bits.addr, align 4, !tbaa !76
  store i32 %correct_type_bits, i32* %correct_type_bits.addr, align 4, !tbaa !76
  %0 = getelementptr inbounds %struct.halide_type_t, %struct.halide_type_t* %correct_type, i64 0, i32 0
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %0) #11
  store i8 0, i8* %0, align 2, !tbaa !308
  %bits.i = getelementptr inbounds %struct.halide_type_t, %struct.halide_type_t* %correct_type, i64 0, i32 1
  store i8 0, i8* %bits.i, align 1, !tbaa !141
  %lanes.i = getelementptr inbounds %struct.halide_type_t, %struct.halide_type_t* %correct_type, i64 0, i32 2
  store i16 0, i16* %lanes.i, align 2, !tbaa !309
  %1 = getelementptr inbounds %struct.halide_type_t, %struct.halide_type_t* %type_given, i64 0, i32 0
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %1) #11
  store i8 0, i8* %1, align 2, !tbaa !308
  %bits.i8 = getelementptr inbounds %struct.halide_type_t, %struct.halide_type_t* %type_given, i64 0, i32 1
  store i8 0, i8* %bits.i8, align 1, !tbaa !141
  %lanes.i9 = getelementptr inbounds %struct.halide_type_t, %struct.halide_type_t* %type_given, i64 0, i32 2
  store i16 0, i16* %lanes.i9, align 2, !tbaa !309
  %2 = bitcast i32* %correct_type_bits.addr to i8*
  %call = call i8* @memcpy(i8* nonnull %0, i8* nonnull %2, i64 4) #16
  %3 = bitcast i32* %type_given_bits.addr to i8*
  %call1 = call i8* @memcpy(i8* nonnull %1, i8* nonnull %3, i64 4) #16
  %call.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i121 = call i8* @halide_string_to_string(i8* null, i8* null, i8* %func_name) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i122 = call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* %func_name) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i121, %entry.split ], [ %call.i122, %if.then6.i ]
  %ref.tmp.sroa.18.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i15 = call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.18.0, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.9.120, i64 0, i64 0)) #16
  %call.i18 = call i8* @halide_type_to_string(i8* %call.i15, i8* %ref.tmp.sroa.18.0, %struct.halide_type_t* nonnull %correct_type) #16
  %call.i21 = call i8* @halide_string_to_string(i8* %call.i18, i8* %ref.tmp.sroa.18.0, i8* getelementptr inbounds ([38 x i8], [38 x i8]* @.str.10.121, i64 0, i64 0)) #16
  %call.i24 = call i8* @halide_type_to_string(i8* %call.i21, i8* %ref.tmp.sroa.18.0, %struct.halide_type_t* nonnull %type_given) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i24 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  call void @free(i8* %call.i) #16
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %1) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %0) #11
  ret i32 -3
}

; Function Attrs: nounwind
define weak i32 @halide_error_bad_dimensions(i8* %user_context, i8* %func_name, i32 %dimensions_given, i32 %correct_dimensions) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i81 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* %func_name) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i82 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* %func_name) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i81, %entry.split ], [ %call.i82, %if.then6.i ]
  %ref.tmp.sroa.20.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i11 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([31 x i8], [31 x i8]* @.str.11.122, i64 0, i64 0)) #16
  %conv.i = sext i32 %correct_dimensions to i64
  %call.i14 = tail call i8* @halide_int64_to_string(i8* %call.i11, i8* %ref.tmp.sroa.20.0, i64 %conv.i, i32 1) #16
  %call.i17 = tail call i8* @halide_string_to_string(i8* %call.i14, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([43 x i8], [43 x i8]* @.str.12.123, i64 0, i64 0)) #16
  %conv.i20 = sext i32 %dimensions_given to i64
  %call.i21 = tail call i8* @halide_int64_to_string(i8* %call.i17, i8* %ref.tmp.sroa.20.0, i64 %conv.i20, i32 1) #16
  %call.i24 = tail call i8* @halide_string_to_string(i8* %call.i21, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str.13.124, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i24 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -43
}

; Function Attrs: nounwind
define weak i32 @halide_error_access_out_of_bounds(i8* %user_context, i8* %func_name, i32 %dimension, i32 %min_touched, i32 %max_touched, i32 %min_valid, i32 %max_valid) local_unnamed_addr #3 {
entry:
  %cmp = icmp slt i32 %min_touched, %min_valid
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then.split, label %if.then6.i

if.then.split:                                    ; preds = %if.then
  %call.i271 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* %func_name) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %if.then
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i272 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* %func_name) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %if.then.split, %if.then6.i
  %phi.call = phi i8* [ %call.i271, %if.then.split ], [ %call.i272, %if.then6.i ]
  %ref.tmp.sroa.22.0 = phi i8* [ null, %if.then.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i30 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.22.0, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.14.125, i64 0, i64 0)) #16
  %conv.i = sext i32 %min_touched to i64
  %call.i33 = tail call i8* @halide_int64_to_string(i8* %call.i30, i8* %ref.tmp.sroa.22.0, i64 %conv.i, i32 1) #16
  %call.i36 = tail call i8* @halide_string_to_string(i8* %call.i33, i8* %ref.tmp.sroa.22.0, i8* getelementptr inbounds ([28 x i8], [28 x i8]* @.str.15.126, i64 0, i64 0)) #16
  %conv.i39 = sext i32 %min_valid to i64
  %call.i40 = tail call i8* @halide_int64_to_string(i8* %call.i36, i8* %ref.tmp.sroa.22.0, i64 %conv.i39, i32 1) #16
  %call.i43 = tail call i8* @halide_string_to_string(i8* %call.i40, i8* %ref.tmp.sroa.22.0, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.16.127, i64 0, i64 0)) #16
  %conv.i46 = sext i32 %dimension to i64
  %call.i47 = tail call i8* @halide_int64_to_string(i8* %call.i43, i8* %ref.tmp.sroa.22.0, i64 %conv.i46, i32 1) #16
  br i1 %tobool.not.i, label %if.end17.sink.split, label %if.end17.sink.split.sink.split

if.else:                                          ; preds = %entry
  %cmp7 = icmp sgt i32 %max_touched, %max_valid
  br i1 %cmp7, label %if.then8, label %if.end17

if.then8:                                         ; preds = %if.else
  %call.i53 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i56 = icmp eq i8* %call.i53, null
  br i1 %tobool.not.i56, label %if.then8.split, label %if.then6.i59

if.then8.split:                                   ; preds = %if.then8
  %call.i653 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* %func_name) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit62

if.then6.i59:                                     ; preds = %if.then8
  %add.ptr.i57 = getelementptr inbounds i8, i8* %call.i53, i64 1023
  store i8 0, i8* %add.ptr.i57, align 1, !tbaa !15
  %call.i654 = tail call i8* @halide_string_to_string(i8* nonnull %call.i53, i8* nonnull %add.ptr.i57, i8* %func_name) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit62

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit62: ; preds = %if.then8.split, %if.then6.i59
  %phi.call5 = phi i8* [ %call.i653, %if.then8.split ], [ %call.i654, %if.then6.i59 ]
  %ref.tmp9.sroa.22.0 = phi i8* [ null, %if.then8.split ], [ %add.ptr.i57, %if.then6.i59 ]
  %call.i68 = tail call i8* @halide_string_to_string(i8* %phi.call5, i8* %ref.tmp9.sroa.22.0, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.14.125, i64 0, i64 0)) #16
  %conv.i71 = sext i32 %max_touched to i64
  %call.i72 = tail call i8* @halide_int64_to_string(i8* %call.i68, i8* %ref.tmp9.sroa.22.0, i64 %conv.i71, i32 1) #16
  %call.i75 = tail call i8* @halide_string_to_string(i8* %call.i72, i8* %ref.tmp9.sroa.22.0, i8* getelementptr inbounds ([28 x i8], [28 x i8]* @.str.17.128, i64 0, i64 0)) #16
  %conv.i78 = sext i32 %max_valid to i64
  %call.i79 = tail call i8* @halide_int64_to_string(i8* %call.i75, i8* %ref.tmp9.sroa.22.0, i64 %conv.i78, i32 1) #16
  %call.i82 = tail call i8* @halide_string_to_string(i8* %call.i79, i8* %ref.tmp9.sroa.22.0, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.16.127, i64 0, i64 0)) #16
  %conv.i85 = sext i32 %dimension to i64
  %call.i86 = tail call i8* @halide_int64_to_string(i8* %call.i82, i8* %ref.tmp9.sroa.22.0, i64 %conv.i85, i32 1) #16
  br i1 %tobool.not.i56, label %if.end17.sink.split, label %if.end17.sink.split.sink.split

if.end17.sink.split.sink.split:                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit62, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %call.i86.sink = phi i8* [ %call.i47, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ], [ %call.i86, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit62 ]
  %call.i53.sink152 = phi i8* [ %call.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ], [ %call.i53, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit62 ]
  %sub.ptr.lhs.cast.i.i95 = ptrtoint i8* %call.i86.sink to i64
  %sub.ptr.rhs.cast.i.i96 = ptrtoint i8* %call.i53.sink152 to i64
  %sub.ptr.sub.i.i97 = add i64 %sub.ptr.lhs.cast.i.i95, 1
  %add.i.i98 = sub i64 %sub.ptr.sub.i.i97, %sub.ptr.rhs.cast.i.i96
  %call.i.i99 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i53.sink152, i64 %add.i.i98) #16
  br label %if.end17.sink.split

if.end17.sink.split:                              ; preds = %if.end17.sink.split.sink.split, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit62, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i101.sink = phi i8* [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit62 ], [ %call.i53.sink152, %if.end17.sink.split.sink.split ]
  %call.i53.sink = phi i8* [ null, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ], [ null, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit62 ], [ %call.i53.sink152, %if.end17.sink.split.sink.split ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i101.sink) #16
  tail call void @free(i8* %call.i53.sink) #16
  br label %if.end17

if.end17:                                         ; preds = %if.end17.sink.split, %if.else
  ret i32 -4
}

; Function Attrs: nounwind
define weak i32 @halide_error_buffer_allocation_too_large(i8* %user_context, i8* %buffer_name, i64 %allocation_size, i64 %max_size) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i81 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.18.129, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i82 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.18.129, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i81, %entry.split ], [ %call.i82, %if.then6.i ]
  %ref.tmp.sroa.20.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i11 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.20.0, i8* %buffer_name) #16
  %call.i14 = tail call i8* @halide_string_to_string(i8* %call.i11, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.19.130, i64 0, i64 0)) #16
  %call.i17 = tail call i8* @halide_uint64_to_string(i8* %call.i14, i8* %ref.tmp.sroa.20.0, i64 %allocation_size, i32 1) #16
  %call.i20 = tail call i8* @halide_string_to_string(i8* %call.i17, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([37 x i8], [37 x i8]* @.str.20.131, i64 0, i64 0)) #16
  %call.i23 = tail call i8* @halide_uint64_to_string(i8* %call.i20, i8* %ref.tmp.sroa.20.0, i64 %max_size, i32 1) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i23 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -5
}

; Function Attrs: nounwind
define weak i32 @halide_error_buffer_extents_negative(i8* %user_context, i8* %buffer_name, i32 %dimension, i32 %extent) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i91 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.21.132, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i92 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.21.132, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i91, %entry.split ], [ %call.i92, %if.then6.i ]
  %ref.tmp.sroa.22.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i12 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.22.0, i8* %buffer_name) #16
  %call.i15 = tail call i8* @halide_string_to_string(i8* %call.i12, i8* %ref.tmp.sroa.22.0, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str.22.133, i64 0, i64 0)) #16
  %conv.i = sext i32 %dimension to i64
  %call.i18 = tail call i8* @halide_int64_to_string(i8* %call.i15, i8* %ref.tmp.sroa.22.0, i64 %conv.i, i32 1) #16
  %call.i21 = tail call i8* @halide_string_to_string(i8* %call.i18, i8* %ref.tmp.sroa.22.0, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.23.134, i64 0, i64 0)) #16
  %conv.i24 = sext i32 %extent to i64
  %call.i25 = tail call i8* @halide_int64_to_string(i8* %call.i21, i8* %ref.tmp.sroa.22.0, i64 %conv.i24, i32 1) #16
  %call.i28 = tail call i8* @halide_string_to_string(i8* %call.i25, i8* %ref.tmp.sroa.22.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.8.119, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i28 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -28
}

; Function Attrs: nounwind
define weak i32 @halide_error_buffer_extents_too_large(i8* %user_context, i8* %buffer_name, i64 %actual_size, i64 %max_size) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i81 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([31 x i8], [31 x i8]* @.str.24.135, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i82 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([31 x i8], [31 x i8]* @.str.24.135, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i81, %entry.split ], [ %call.i82, %if.then6.i ]
  %ref.tmp.sroa.20.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i11 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.20.0, i8* %buffer_name) #16
  %call.i14 = tail call i8* @halide_string_to_string(i8* %call.i11, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.19.130, i64 0, i64 0)) #16
  %call.i17 = tail call i8* @halide_int64_to_string(i8* %call.i14, i8* %ref.tmp.sroa.20.0, i64 %actual_size, i32 1) #16
  %call.i20 = tail call i8* @halide_string_to_string(i8* %call.i17, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([37 x i8], [37 x i8]* @.str.20.131, i64 0, i64 0)) #16
  %call.i23 = tail call i8* @halide_int64_to_string(i8* %call.i20, i8* %ref.tmp.sroa.20.0, i64 %max_size, i32 1) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i23 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -6
}

; Function Attrs: nounwind
define weak i32 @halide_error_constraints_make_required_region_smaller(i8* %user_context, i8* %buffer_name, i32 %dimension, i32 %constrained_min, i32 %constrained_extent, i32 %required_min, i32 %required_extent) local_unnamed_addr #3 {
entry:
  %add = add i32 %required_min, -1
  %sub = add i32 %add, %required_extent
  %add1 = add i32 %constrained_min, -1
  %sub2 = add i32 %add1, %constrained_extent
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i231 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.25.136, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i232 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.25.136, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i231, %entry.split ], [ %call.i232, %if.then6.i ]
  %ref.tmp.sroa.38.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i26 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.38.0, i8* %buffer_name) #16
  %call.i29 = tail call i8* @halide_string_to_string(i8* %call.i26, i8* %ref.tmp.sroa.38.0, i8* getelementptr inbounds ([54 x i8], [54 x i8]* @.str.26.137, i64 0, i64 0)) #16
  %conv.i = sext i32 %dimension to i64
  %call.i32 = tail call i8* @halide_int64_to_string(i8* %call.i29, i8* %ref.tmp.sroa.38.0, i64 %conv.i, i32 1) #16
  %call.i35 = tail call i8* @halide_string_to_string(i8* %call.i32, i8* %ref.tmp.sroa.38.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.27.138, i64 0, i64 0)) #16
  %call.i38 = tail call i8* @halide_string_to_string(i8* %call.i35, i8* %ref.tmp.sroa.38.0, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.28.139, i64 0, i64 0)) #16
  %conv.i41 = sext i32 %required_min to i64
  %call.i42 = tail call i8* @halide_int64_to_string(i8* %call.i38, i8* %ref.tmp.sroa.38.0, i64 %conv.i41, i32 1) #16
  %call.i45 = tail call i8* @halide_string_to_string(i8* %call.i42, i8* %ref.tmp.sroa.38.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.6.117, i64 0, i64 0)) #16
  %conv.i48 = sext i32 %sub to i64
  %call.i49 = tail call i8* @halide_int64_to_string(i8* %call.i45, i8* %ref.tmp.sroa.38.0, i64 %conv.i48, i32 1) #16
  %call.i52 = tail call i8* @halide_string_to_string(i8* %call.i49, i8* %ref.tmp.sroa.38.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.27.138, i64 0, i64 0)) #16
  %call.i55 = tail call i8* @halide_string_to_string(i8* %call.i52, i8* %ref.tmp.sroa.38.0, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.29.140, i64 0, i64 0)) #16
  %conv.i58 = sext i32 %constrained_min to i64
  %call.i59 = tail call i8* @halide_int64_to_string(i8* %call.i55, i8* %ref.tmp.sroa.38.0, i64 %conv.i58, i32 1) #16
  %call.i62 = tail call i8* @halide_string_to_string(i8* %call.i59, i8* %ref.tmp.sroa.38.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.6.117, i64 0, i64 0)) #16
  %conv.i65 = sext i32 %sub2 to i64
  %call.i66 = tail call i8* @halide_int64_to_string(i8* %call.i62, i8* %ref.tmp.sroa.38.0, i64 %conv.i65, i32 1) #16
  %call.i69 = tail call i8* @halide_string_to_string(i8* %call.i66, i8* %ref.tmp.sroa.38.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.30.141, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i69 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -7
}

; Function Attrs: nounwind
define weak i32 @halide_error_constraint_violated(i8* %user_context, i8* %var, i32 %val, i8* %constrained_var, i32 %constrained_val) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i111 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.31.142, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i112 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.31.142, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i111, %entry.split ], [ %call.i112, %if.then6.i ]
  %ref.tmp.sroa.26.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i14 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.26.0, i8* %var) #16
  %call.i17 = tail call i8* @halide_string_to_string(i8* %call.i14, i8* %ref.tmp.sroa.26.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.32.143, i64 0, i64 0)) #16
  %conv.i = sext i32 %val to i64
  %call.i20 = tail call i8* @halide_int64_to_string(i8* %call.i17, i8* %ref.tmp.sroa.26.0, i64 %conv.i, i32 1) #16
  %call.i23 = tail call i8* @halide_string_to_string(i8* %call.i20, i8* %ref.tmp.sroa.26.0, i8* getelementptr inbounds ([6 x i8], [6 x i8]* @.str.33.144, i64 0, i64 0)) #16
  %call.i26 = tail call i8* @halide_string_to_string(i8* %call.i23, i8* %ref.tmp.sroa.26.0, i8* %constrained_var) #16
  %call.i29 = tail call i8* @halide_string_to_string(i8* %call.i26, i8* %ref.tmp.sroa.26.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.32.143, i64 0, i64 0)) #16
  %conv.i32 = sext i32 %constrained_val to i64
  %call.i33 = tail call i8* @halide_int64_to_string(i8* %call.i29, i8* %ref.tmp.sroa.26.0, i64 %conv.i32, i32 1) #16
  %call.i36 = tail call i8* @halide_string_to_string(i8* %call.i33, i8* %ref.tmp.sroa.26.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.8.119, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i36 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -8
}

; Function Attrs: nounwind
define weak i32 @halide_error_param_too_small_i64(i8* %user_context, i8* %param_name, i64 %val, i64 %min_val) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i81 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.34.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i82 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.34.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i81, %entry.split ], [ %call.i82, %if.then6.i ]
  %ref.tmp.sroa.20.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i11 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.20.0, i8* %param_name) #16
  %call.i14 = tail call i8* @halide_string_to_string(i8* %call.i11, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.19.130, i64 0, i64 0)) #16
  %call.i17 = tail call i8* @halide_int64_to_string(i8* %call.i14, i8* %ref.tmp.sroa.20.0, i64 %val, i32 1) #16
  %call.i20 = tail call i8* @halide_string_to_string(i8* %call.i17, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.35.146, i64 0, i64 0)) #16
  %call.i23 = tail call i8* @halide_int64_to_string(i8* %call.i20, i8* %ref.tmp.sroa.20.0, i64 %min_val, i32 1) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i23 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -9
}

; Function Attrs: nounwind
define weak i32 @halide_error_param_too_small_u64(i8* %user_context, i8* %param_name, i64 %val, i64 %min_val) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i81 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.34.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i82 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.34.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i81, %entry.split ], [ %call.i82, %if.then6.i ]
  %ref.tmp.sroa.20.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i11 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.20.0, i8* %param_name) #16
  %call.i14 = tail call i8* @halide_string_to_string(i8* %call.i11, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.19.130, i64 0, i64 0)) #16
  %call.i17 = tail call i8* @halide_uint64_to_string(i8* %call.i14, i8* %ref.tmp.sroa.20.0, i64 %val, i32 1) #16
  %call.i20 = tail call i8* @halide_string_to_string(i8* %call.i17, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.35.146, i64 0, i64 0)) #16
  %call.i23 = tail call i8* @halide_uint64_to_string(i8* %call.i20, i8* %ref.tmp.sroa.20.0, i64 %min_val, i32 1) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i23 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -9
}

; Function Attrs: nounwind
define weak i32 @halide_error_param_too_small_f64(i8* %user_context, i8* %param_name, double %val, double %min_val) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i81 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.34.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i82 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.34.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i81, %entry.split ], [ %call.i82, %if.then6.i ]
  %ref.tmp.sroa.20.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i11 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.20.0, i8* %param_name) #16
  %call.i14 = tail call i8* @halide_string_to_string(i8* %call.i11, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.19.130, i64 0, i64 0)) #16
  %call.i17 = tail call i8* @halide_double_to_string(i8* %call.i14, i8* %ref.tmp.sroa.20.0, double %val, i32 1) #16
  %call.i20 = tail call i8* @halide_string_to_string(i8* %call.i17, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.35.146, i64 0, i64 0)) #16
  %call.i23 = tail call i8* @halide_double_to_string(i8* %call.i20, i8* %ref.tmp.sroa.20.0, double %min_val, i32 1) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i23 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -9
}

; Function Attrs: nounwind
define weak i32 @halide_error_param_too_large_i64(i8* %user_context, i8* %param_name, i64 %val, i64 %max_val) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i81 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.34.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i82 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.34.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i81, %entry.split ], [ %call.i82, %if.then6.i ]
  %ref.tmp.sroa.20.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i11 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.20.0, i8* %param_name) #16
  %call.i14 = tail call i8* @halide_string_to_string(i8* %call.i11, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.19.130, i64 0, i64 0)) #16
  %call.i17 = tail call i8* @halide_int64_to_string(i8* %call.i14, i8* %ref.tmp.sroa.20.0, i64 %val, i32 1) #16
  %call.i20 = tail call i8* @halide_string_to_string(i8* %call.i17, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.36, i64 0, i64 0)) #16
  %call.i23 = tail call i8* @halide_int64_to_string(i8* %call.i20, i8* %ref.tmp.sroa.20.0, i64 %max_val, i32 1) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i23 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -10
}

; Function Attrs: nounwind
define weak i32 @halide_error_param_too_large_u64(i8* %user_context, i8* %param_name, i64 %val, i64 %max_val) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i81 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.34.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i82 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.34.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i81, %entry.split ], [ %call.i82, %if.then6.i ]
  %ref.tmp.sroa.20.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i11 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.20.0, i8* %param_name) #16
  %call.i14 = tail call i8* @halide_string_to_string(i8* %call.i11, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.19.130, i64 0, i64 0)) #16
  %call.i17 = tail call i8* @halide_uint64_to_string(i8* %call.i14, i8* %ref.tmp.sroa.20.0, i64 %val, i32 1) #16
  %call.i20 = tail call i8* @halide_string_to_string(i8* %call.i17, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.36, i64 0, i64 0)) #16
  %call.i23 = tail call i8* @halide_uint64_to_string(i8* %call.i20, i8* %ref.tmp.sroa.20.0, i64 %max_val, i32 1) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i23 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -10
}

; Function Attrs: nounwind
define weak i32 @halide_error_param_too_large_f64(i8* %user_context, i8* %param_name, double %val, double %max_val) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i81 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.34.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i82 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.34.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i81, %entry.split ], [ %call.i82, %if.then6.i ]
  %ref.tmp.sroa.20.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i11 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.20.0, i8* %param_name) #16
  %call.i14 = tail call i8* @halide_string_to_string(i8* %call.i11, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.19.130, i64 0, i64 0)) #16
  %call.i17 = tail call i8* @halide_double_to_string(i8* %call.i14, i8* %ref.tmp.sroa.20.0, double %val, i32 1) #16
  %call.i20 = tail call i8* @halide_string_to_string(i8* %call.i17, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.36, i64 0, i64 0)) #16
  %call.i23 = tail call i8* @halide_double_to_string(i8* %call.i20, i8* %ref.tmp.sroa.20.0, double %max_val, i32 1) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i23 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -10
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_error_out_of_memory(i8* %user_context) local_unnamed_addr #0 {
entry:
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([47 x i8], [47 x i8]* @.str.37, i64 0, i64 0)) #16
  ret i32 -11
}

; Function Attrs: nounwind
define weak i32 @halide_error_buffer_argument_is_null(i8* %user_context, i8* %buffer_name) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i51 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.38, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i52 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.38, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i51, %entry.split ], [ %call.i52, %if.then6.i ]
  %ref.tmp.sroa.14.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i8 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.14.0, i8* %buffer_name) #16
  %call.i11 = tail call i8* @halide_string_to_string(i8* %call.i8, i8* %ref.tmp.sroa.14.0, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str.39, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i11 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -12
}

; Function Attrs: nounwind
define weak i32 @halide_error_debug_to_file_failed(i8* %user_context, i8* %func, i8* %filename, i32 %error_code) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i81 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([25 x i8], [25 x i8]* @.str.40, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i82 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([25 x i8], [25 x i8]* @.str.40, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i81, %entry.split ], [ %call.i82, %if.then6.i ]
  %ref.tmp.sroa.20.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i11 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.20.0, i8* %func) #16
  %call.i14 = tail call i8* @halide_string_to_string(i8* %call.i11, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([10 x i8], [10 x i8]* @.str.41.147, i64 0, i64 0)) #16
  %call.i17 = tail call i8* @halide_string_to_string(i8* %call.i14, i8* %ref.tmp.sroa.20.0, i8* %filename) #16
  %call.i20 = tail call i8* @halide_string_to_string(i8* %call.i17, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([13 x i8], [13 x i8]* @.str.42, i64 0, i64 0)) #16
  %conv.i = sext i32 %error_code to i64
  %call.i23 = tail call i8* @halide_int64_to_string(i8* %call.i20, i8* %ref.tmp.sroa.20.0, i64 %conv.i, i32 1) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i23 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -13
}

; Function Attrs: nounwind
define weak i32 @halide_error_unaligned_host_ptr(i8* %user_context, i8* %func, i32 %alignment) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i71 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.43, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i72 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.43, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i71, %entry.split ], [ %call.i72, %if.then6.i ]
  %ref.tmp.sroa.18.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i10 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.18.0, i8* %func) #16
  %call.i13 = tail call i8* @halide_string_to_string(i8* %call.i10, i8* %ref.tmp.sroa.18.0, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.44, i64 0, i64 0)) #16
  %conv.i = sext i32 %alignment to i64
  %call.i16 = tail call i8* @halide_int64_to_string(i8* %call.i13, i8* %ref.tmp.sroa.18.0, i64 %conv.i, i32 1) #16
  %call.i19 = tail call i8* @halide_string_to_string(i8* %call.i16, i8* %ref.tmp.sroa.18.0, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.45, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i19 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -24
}

; Function Attrs: nounwind
define weak i32 @halide_error_device_dirty_with_no_device_support(i8* %user_context, i8* %func) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i61 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str.46, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i62 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str.46, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i61, %entry.split ], [ %call.i62, %if.then6.i ]
  %ref.tmp.sroa.16.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i9 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.16.0, i8* %func) #16
  %call.i12 = tail call i8* @halide_string_to_string(i8* %call.i9, i8* %ref.tmp.sroa.16.0, i8* getelementptr inbounds ([53 x i8], [53 x i8]* @.str.47, i64 0, i64 0)) #16
  %call.i15 = tail call i8* @halide_string_to_string(i8* %call.i12, i8* %ref.tmp.sroa.16.0, i8* getelementptr inbounds ([43 x i8], [43 x i8]* @.str.48, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i15 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -44
}

; Function Attrs: nounwind
define weak i32 @halide_error_host_is_null(i8* %user_context, i8* %func) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i51 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.43, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i52 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.43, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i51, %entry.split ], [ %call.i52, %if.then6.i ]
  %ref.tmp.sroa.14.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i8 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.14.0, i8* %func) #16
  %call.i11 = tail call i8* @halide_string_to_string(i8* %call.i8, i8* %ref.tmp.sroa.14.0, i8* getelementptr inbounds ([55 x i8], [55 x i8]* @.str.49, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i11 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -34
}

; Function Attrs: nounwind
define weak i32 @halide_error_bad_fold(i8* %user_context, i8* %func_name, i8* %var_name, i8* %loop_name) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i91 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([30 x i8], [30 x i8]* @.str.50.148, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i92 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([30 x i8], [30 x i8]* @.str.50.148, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i91, %entry.split ], [ %call.i92, %if.then6.i ]
  %ref.tmp.sroa.22.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i12 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.22.0, i8* %var_name) #16
  %call.i15 = tail call i8* @halide_string_to_string(i8* %call.i12, i8* %ref.tmp.sroa.22.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.51, i64 0, i64 0)) #16
  %call.i18 = tail call i8* @halide_string_to_string(i8* %call.i15, i8* %ref.tmp.sroa.22.0, i8* %func_name) #16
  %call.i21 = tail call i8* @halide_string_to_string(i8* %call.i18, i8* %ref.tmp.sroa.22.0, i8* getelementptr inbounds ([36 x i8], [36 x i8]* @.str.52, i64 0, i64 0)) #16
  %call.i24 = tail call i8* @halide_string_to_string(i8* %call.i21, i8* %ref.tmp.sroa.22.0, i8* %loop_name) #16
  %call.i27 = tail call i8* @halide_string_to_string(i8* %call.i24, i8* %ref.tmp.sroa.22.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.30.141, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i27 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -25
}

; Function Attrs: nounwind
define weak i32 @halide_error_bad_extern_fold(i8* %user_context, i8* %func_name, i32 %dim, i32 %min, i32 %extent, i32 %valid_min, i32 %fold_factor) local_unnamed_addr #3 {
entry:
  %cmp = icmp slt i32 %min, %valid_min
  br i1 %cmp, label %if.then, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %entry
  %add = add nsw i32 %extent, %min
  %add1 = add nsw i32 %fold_factor, %valid_min
  %cmp2 = icmp sgt i32 %add, %add1
  br i1 %cmp2, label %if.then, label %if.else

if.then:                                          ; preds = %lor.lhs.false, %entry
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then.split, label %if.then6.i

if.then.split:                                    ; preds = %if.then
  %call.i521 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.53, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %if.then
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i522 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.53, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %if.then.split, %if.then6.i
  %phi.call = phi i8* [ %call.i521, %if.then.split ], [ %call.i522, %if.then6.i ]
  %ref.tmp.sroa.36.0 = phi i8* [ null, %if.then.split ], [ %add.ptr.i, %if.then6.i ]
  %conv.i = sext i32 %dim to i64
  %call.i55 = tail call i8* @halide_int64_to_string(i8* %phi.call, i8* %ref.tmp.sroa.36.0, i64 %conv.i, i32 1) #16
  %call.i58 = tail call i8* @halide_string_to_string(i8* %call.i55, i8* %ref.tmp.sroa.36.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.51, i64 0, i64 0)) #16
  %call.i61 = tail call i8* @halide_string_to_string(i8* %call.i58, i8* %ref.tmp.sroa.36.0, i8* %func_name) #16
  %call.i64 = tail call i8* @halide_string_to_string(i8* %call.i61, i8* %ref.tmp.sroa.36.0, i8* getelementptr inbounds ([36 x i8], [36 x i8]* @.str.54, i64 0, i64 0)) #16
  %conv.i67 = sext i32 %min to i64
  %call.i68 = tail call i8* @halide_int64_to_string(i8* %call.i64, i8* %ref.tmp.sroa.36.0, i64 %conv.i67, i32 1) #16
  %call.i71 = tail call i8* @halide_string_to_string(i8* %call.i68, i8* %ref.tmp.sroa.36.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.55, i64 0, i64 0)) #16
  %add9 = add nsw i32 %extent, %min
  %sub = add nsw i32 %add9, -1
  %conv.i74 = sext i32 %sub to i64
  %call.i75 = tail call i8* @halide_int64_to_string(i8* %call.i71, i8* %ref.tmp.sroa.36.0, i64 %conv.i74, i32 1) #16
  %call.i78 = tail call i8* @halide_string_to_string(i8* %call.i75, i8* %ref.tmp.sroa.36.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.56, i64 0, i64 0)) #16
  %call.i81 = tail call i8* @halide_string_to_string(i8* %call.i78, i8* %ref.tmp.sroa.36.0, i8* getelementptr inbounds ([47 x i8], [47 x i8]* @.str.57, i64 0, i64 0)) #16
  %conv.i84 = sext i32 %valid_min to i64
  %call.i85 = tail call i8* @halide_int64_to_string(i8* %call.i81, i8* %ref.tmp.sroa.36.0, i64 %conv.i84, i32 1) #16
  %call.i88 = tail call i8* @halide_string_to_string(i8* %call.i85, i8* %ref.tmp.sroa.36.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.55, i64 0, i64 0)) #16
  %add15 = add nsw i32 %fold_factor, %valid_min
  %sub16 = add nsw i32 %add15, -1
  %conv.i91 = sext i32 %sub16 to i64
  %call.i92 = tail call i8* @halide_int64_to_string(i8* %call.i88, i8* %ref.tmp.sroa.36.0, i64 %conv.i91, i32 1) #16
  %call.i95 = tail call i8* @halide_string_to_string(i8* %call.i92, i8* %ref.tmp.sroa.36.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.58.149, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %if.end, label %if.end.sink.split

if.else:                                          ; preds = %lor.lhs.false
  %call.i101 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i104 = icmp eq i8* %call.i101, null
  br i1 %tobool.not.i104, label %if.else.split, label %if.then6.i107

if.else.split:                                    ; preds = %if.else
  %call.i1133 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.53, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit110

if.then6.i107:                                    ; preds = %if.else
  %add.ptr.i105 = getelementptr inbounds i8, i8* %call.i101, i64 1023
  store i8 0, i8* %add.ptr.i105, align 1, !tbaa !15
  %call.i1134 = tail call i8* @halide_string_to_string(i8* nonnull %call.i101, i8* nonnull %add.ptr.i105, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.53, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit110

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit110: ; preds = %if.else.split, %if.then6.i107
  %phi.call5 = phi i8* [ %call.i1133, %if.else.split ], [ %call.i1134, %if.then6.i107 ]
  %ref.tmp19.sroa.34.0 = phi i8* [ null, %if.else.split ], [ %add.ptr.i105, %if.then6.i107 ]
  %conv.i116 = sext i32 %dim to i64
  %call.i117 = tail call i8* @halide_int64_to_string(i8* %phi.call5, i8* %ref.tmp19.sroa.34.0, i64 %conv.i116, i32 1) #16
  %call.i120 = tail call i8* @halide_string_to_string(i8* %call.i117, i8* %ref.tmp19.sroa.34.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.51, i64 0, i64 0)) #16
  %call.i123 = tail call i8* @halide_string_to_string(i8* %call.i120, i8* %ref.tmp19.sroa.34.0, i8* %func_name) #16
  %call.i126 = tail call i8* @halide_string_to_string(i8* %call.i123, i8* %ref.tmp19.sroa.34.0, i8* getelementptr inbounds ([36 x i8], [36 x i8]* @.str.54, i64 0, i64 0)) #16
  %conv.i129 = sext i32 %min to i64
  %call.i130 = tail call i8* @halide_int64_to_string(i8* %call.i126, i8* %ref.tmp19.sroa.34.0, i64 %conv.i129, i32 1) #16
  %call.i133 = tail call i8* @halide_string_to_string(i8* %call.i130, i8* %ref.tmp19.sroa.34.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.55, i64 0, i64 0)) #16
  %sub28 = add nsw i32 %add, -1
  %conv.i136 = sext i32 %sub28 to i64
  %call.i137 = tail call i8* @halide_int64_to_string(i8* %call.i133, i8* %ref.tmp19.sroa.34.0, i64 %conv.i136, i32 1) #16
  %call.i140 = tail call i8* @halide_string_to_string(i8* %call.i137, i8* %ref.tmp19.sroa.34.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.56, i64 0, i64 0)) #16
  %call.i143 = tail call i8* @halide_string_to_string(i8* %call.i140, i8* %ref.tmp19.sroa.34.0, i8* getelementptr inbounds ([47 x i8], [47 x i8]* @.str.59.150, i64 0, i64 0)) #16
  %call.i146 = tail call i8* @halide_string_to_string(i8* %call.i143, i8* %ref.tmp19.sroa.34.0, i8* getelementptr inbounds ([30 x i8], [30 x i8]* @.str.60.151, i64 0, i64 0)) #16
  %conv.i149 = sext i32 %fold_factor to i64
  %call.i150 = tail call i8* @halide_int64_to_string(i8* %call.i146, i8* %ref.tmp19.sroa.34.0, i64 %conv.i149, i32 1) #16
  %call.i153 = tail call i8* @halide_string_to_string(i8* %call.i150, i8* %ref.tmp19.sroa.34.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.30.141, i64 0, i64 0)) #16
  br i1 %tobool.not.i104, label %if.end, label %if.end.sink.split

if.end.sink.split:                                ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit110, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %call.i153.sink = phi i8* [ %call.i95, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ], [ %call.i153, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit110 ]
  %call.i101.sink245 = phi i8* [ %call.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ], [ %call.i101, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit110 ]
  %sub.ptr.lhs.cast.i.i162 = ptrtoint i8* %call.i153.sink to i64
  %sub.ptr.rhs.cast.i.i163 = ptrtoint i8* %call.i101.sink245 to i64
  %sub.ptr.sub.i.i164 = add i64 %sub.ptr.lhs.cast.i.i162, 1
  %add.i.i165 = sub i64 %sub.ptr.sub.i.i164, %sub.ptr.rhs.cast.i.i163
  %call.i.i166 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i101.sink245, i64 %add.i.i165) #16
  br label %if.end

if.end:                                           ; preds = %if.end.sink.split, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit110, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i168.sink = phi i8* [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit110 ], [ %call.i101.sink245, %if.end.sink.split ]
  %call.i101.sink = phi i8* [ null, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ], [ null, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit110 ], [ %call.i101.sink245, %if.end.sink.split ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i168.sink) #16
  tail call void @free(i8* %call.i101.sink) #16
  ret i32 -35
}

; Function Attrs: nounwind
define weak i32 @halide_error_fold_factor_too_small(i8* %user_context, i8* %func_name, i8* %var_name, i32 %fold_factor, i8* %loop_name, i32 %required_extent) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i131 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @.str.61.152, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i132 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @.str.61.152, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i131, %entry.split ], [ %call.i132, %if.then6.i ]
  %ref.tmp.sroa.30.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %conv.i = sext i32 %fold_factor to i64
  %call.i16 = tail call i8* @halide_int64_to_string(i8* %phi.call, i8* %ref.tmp.sroa.30.0, i64 %conv.i, i32 1) #16
  %call.i19 = tail call i8* @halide_string_to_string(i8* %call.i16, i8* %ref.tmp.sroa.30.0, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.62, i64 0, i64 0)) #16
  %call.i22 = tail call i8* @halide_string_to_string(i8* %call.i19, i8* %ref.tmp.sroa.30.0, i8* %var_name) #16
  %call.i25 = tail call i8* @halide_string_to_string(i8* %call.i22, i8* %ref.tmp.sroa.30.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.51, i64 0, i64 0)) #16
  %call.i28 = tail call i8* @halide_string_to_string(i8* %call.i25, i8* %ref.tmp.sroa.30.0, i8* %func_name) #16
  %call.i31 = tail call i8* @halide_string_to_string(i8* %call.i28, i8* %ref.tmp.sroa.30.0, i8* getelementptr inbounds ([61 x i8], [61 x i8]* @.str.63, i64 0, i64 0)) #16
  %call.i34 = tail call i8* @halide_string_to_string(i8* %call.i31, i8* %ref.tmp.sroa.30.0, i8* %loop_name) #16
  %call.i37 = tail call i8* @halide_string_to_string(i8* %call.i34, i8* %ref.tmp.sroa.30.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.32.143, i64 0, i64 0)) #16
  %conv.i40 = sext i32 %required_extent to i64
  %call.i41 = tail call i8* @halide_int64_to_string(i8* %call.i37, i8* %ref.tmp.sroa.30.0, i64 %conv.i40, i32 1) #16
  %call.i44 = tail call i8* @halide_string_to_string(i8* %call.i41, i8* %ref.tmp.sroa.30.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.64.153, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i44 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -26
}

; Function Attrs: nounwind
define weak i32 @halide_error_requirement_failed(i8* %user_context, i8* %condition, i8* %message) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i61 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.65, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i62 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.65, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i61, %entry.split ], [ %call.i62, %if.then6.i ]
  %ref.tmp.sroa.16.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i9 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.16.0, i8* %condition) #16
  %call.i12 = tail call i8* @halide_string_to_string(i8* %call.i9, i8* %ref.tmp.sroa.16.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.66, i64 0, i64 0)) #16
  %call.i15 = tail call i8* @halide_string_to_string(i8* %call.i12, i8* %ref.tmp.sroa.16.0, i8* %message) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i15 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -27
}

; Function Attrs: nounwind
define weak i32 @halide_error_specialize_fail(i8* %user_context, i8* %message) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.thread, label %if.else.i

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.thread: ; preds = %entry
  %call.i41 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([59 x i8], [59 x i8]* @.str.67, i64 0, i64 0)) #16
  %call.i75 = tail call i8* @halide_string_to_string(i8* %call.i41, i8* null, i8* %message) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i42 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([59 x i8], [59 x i8]* @.str.67, i64 0, i64 0)) #16
  %call.i7 = tail call i8* @halide_string_to_string(i8* %call.i42, i8* nonnull %add.ptr.i, i8* %message) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i7 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.thread, %if.else.i
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.thread ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -31
}

; Function Attrs: nounwind
define weak i32 @halide_error_no_device_interface(i8* %user_context) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %entry
  %call.i317 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([55 x i8], [55 x i8]* @.str.68, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i3 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([55 x i8], [55 x i8]* @.str.68, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i3 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -19
}

; Function Attrs: nounwind
define weak i32 @halide_error_device_interface_no_device(i8* %user_context) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %entry
  %call.i317 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([57 x i8], [57 x i8]* @.str.69, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i3 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([57 x i8], [57 x i8]* @.str.69, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i3 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -36
}

; Function Attrs: nounwind
define weak i32 @halide_error_host_and_device_dirty(i8* %user_context) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %entry
  %call.i317 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([49 x i8], [49 x i8]* @.str.70, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i3 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([49 x i8], [49 x i8]* @.str.70, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i3 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -37
}

; Function Attrs: nounwind
define weak i32 @halide_error_buffer_is_null(i8* %user_context, i8* %routine) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i51 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.71, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i52 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.71, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i51, %entry.split ], [ %call.i52, %if.then6.i ]
  %ref.tmp.sroa.14.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i8 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.14.0, i8* %routine) #16
  %call.i11 = tail call i8* @halide_string_to_string(i8* %call.i8, i8* %ref.tmp.sroa.14.0, i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.72, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i11 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -38
}

; Function Attrs: nounwind
define weak i32 @halide_error_storage_bound_too_small(i8* %user_context, i8* %func_name, i8* %var_name, i32 %provided_size, i32 %required_size) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %entry.split, label %if.then6.i

entry.split:                                      ; preds = %entry
  %call.i111 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([32 x i8], [32 x i8]* @.str.73, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i112 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([32 x i8], [32 x i8]* @.str.73, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %entry.split, %if.then6.i
  %phi.call = phi i8* [ %call.i111, %entry.split ], [ %call.i112, %if.then6.i ]
  %ref.tmp.sroa.26.0 = phi i8* [ null, %entry.split ], [ %add.ptr.i, %if.then6.i ]
  %conv.i = sext i32 %provided_size to i64
  %call.i14 = tail call i8* @halide_int64_to_string(i8* %phi.call, i8* %ref.tmp.sroa.26.0, i64 %conv.i, i32 1) #16
  %call.i17 = tail call i8* @halide_string_to_string(i8* %call.i14, i8* %ref.tmp.sroa.26.0, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.62, i64 0, i64 0)) #16
  %call.i20 = tail call i8* @halide_string_to_string(i8* %call.i17, i8* %ref.tmp.sroa.26.0, i8* %var_name) #16
  %call.i23 = tail call i8* @halide_string_to_string(i8* %call.i20, i8* %ref.tmp.sroa.26.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.51, i64 0, i64 0)) #16
  %call.i26 = tail call i8* @halide_string_to_string(i8* %call.i23, i8* %ref.tmp.sroa.26.0, i8* %func_name) #16
  %call.i29 = tail call i8* @halide_string_to_string(i8* %call.i26, i8* %ref.tmp.sroa.26.0, i8* getelementptr inbounds ([45 x i8], [45 x i8]* @.str.74, i64 0, i64 0)) #16
  %conv.i32 = sext i32 %required_size to i64
  %call.i33 = tail call i8* @halide_int64_to_string(i8* %call.i29, i8* %ref.tmp.sroa.26.0, i64 %conv.i32, i32 1) #16
  %call.i36 = tail call i8* @halide_string_to_string(i8* %call.i33, i8* %ref.tmp.sroa.26.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.64.153, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i36 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -45
}

; Function Attrs: nounwind
define weak i32 @halide_error_device_crop_failed(i8* %user_context) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %entry
  %call.i317 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([77 x i8], [77 x i8]* @.str.75, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i3 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([77 x i8], [77 x i8]* @.str.75, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i3 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -41
}

; Function Attrs: mustprogress nounwind
define weak void @halide_profiler_shutdown() #0 {
entry:
  %call = tail call %struct.halide_profiler_state* @halide_profiler_get_state() #17
  %sampling_thread = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %call, i64 0, i32 7
  %0 = load %struct.halide_thread*, %struct.halide_thread** %sampling_thread, align 8, !tbaa !341
  %tobool.not = icmp eq %struct.halide_thread* %0, null
  br i1 %tobool.not, label %cleanup, label %if.end

if.end:                                           ; preds = %entry
  %current_func = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %call, i64 0, i32 3
  store i32 -2, i32* %current_func, align 8, !tbaa !343
  tail call void @halide_join_thread(%struct.halide_thread* nonnull %0) #16
  store %struct.halide_thread* null, %struct.halide_thread** %sampling_thread, align 8, !tbaa !341
  store i32 -1, i32* %current_func, align 8, !tbaa !343
  tail call void @halide_profiler_report_unlocked(i8* null, %struct.halide_profiler_state* nonnull %call) #17
  tail call void @halide_profiler_reset_unlocked(%struct.halide_profiler_state* nonnull %call) #17
  br label %cleanup

cleanup:                                          ; preds = %if.end, %entry
  ret void
}

; Function Attrs: mustprogress nounwind
define weak %struct.halide_profiler_state* @halide_profiler_get_state() local_unnamed_addr #0 {
entry:
  ret %struct.halide_profiler_state* @_ZZ25halide_profiler_get_stateE1s
}

; Function Attrs: nounwind
define weak void @halide_profiler_report_unlocked(i8* %user_context, %struct.halide_profiler_state* %s) local_unnamed_addr #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit, label %if.then6.i

if.then6.i:                                       ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit: ; preds = %if.then6.i, %entry
  %sstr.sroa.125.0 = phi i8* [ %add.ptr.i, %if.then6.i ], [ null, %entry ]
  %pipelines = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %s, i64 0, i32 5
  %sub.ptr.rhs.cast.i.i348 = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i349 = sub i64 1, %sub.ptr.rhs.cast.i.i348
  %p.0623 = load %struct.halide_profiler_pipeline_stats*, %struct.halide_profiler_pipeline_stats** %pipelines, align 8, !tbaa !11
  %tobool.not624 = icmp eq %struct.halide_profiler_pipeline_stats* %p.0623, null
  br i1 %tobool.not624, label %for.cond.cleanup, label %for.body

for.cond.cleanup:                                 ; preds = %cleanup181, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit
  %sstr.sroa.19.0.lcssa = phi i8* [ %call.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit ], [ %sstr.sroa.19.15, %cleanup181 ]
  br i1 %tobool.not.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %for.cond.cleanup
  tail call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %for.cond.cleanup
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %sstr.sroa.19.0.lcssa to i64
  %add.i.i = add i64 %sub.ptr.sub.i.i349, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i
  tail call void @free(i8* %call.i) #16
  ret void

for.body:                                         ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit, %cleanup181
  %p.0626 = phi %struct.halide_profiler_pipeline_stats* [ %p.0, %cleanup181 ], [ %p.0623, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit ]
  %sstr.sroa.19.0625 = phi i8* [ %sstr.sroa.19.15, %cleanup181 ], [ %call.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit ]
  %time = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 0
  %0 = load i64, i64* %time, align 8, !tbaa !344
  %conv = uitofp i64 %0 to float
  %div = fdiv float %conv, 1.000000e+06
  %runs = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 11
  %1 = load i32, i32* %runs, align 8, !tbaa !346
  %tobool1.not = icmp eq i32 %1, 0
  br i1 %tobool1.not, label %cleanup181, label %if.end

if.end:                                           ; preds = %for.body
  br i1 %tobool.not.i, label %if.end.split, label %if.then.i278

if.end.split:                                     ; preds = %if.end
  %active_threads_numerator1 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 4
  %2 = load i64, i64* %active_threads_numerator1, align 8, !tbaa !347
  %active_threads_denominator2 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 5
  %3 = load i64, i64* %active_threads_denominator2, align 8, !tbaa !348
  %cmp3 = icmp eq i64 %2, %3
  %name4 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 6
  %4 = load i8*, i8** %name4, align 8, !tbaa !349
  %call.i2825 = tail call i8* @halide_string_to_string(i8* null, i8* %sstr.sroa.125.0, i8* %4) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5clearEv.exit

if.then.i278:                                     ; preds = %if.end
  store i8 0, i8* %call.i, align 1, !tbaa !15
  %active_threads_numerator6 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 4
  %5 = load i64, i64* %active_threads_numerator6, align 8, !tbaa !347
  %active_threads_denominator7 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 5
  %6 = load i64, i64* %active_threads_denominator7, align 8, !tbaa !348
  %cmp8 = icmp eq i64 %5, %6
  %name9 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 6
  %7 = load i8*, i8** %name9, align 8, !tbaa !349
  %call.i28210 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* %sstr.sroa.125.0, i8* %7) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5clearEv.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5clearEv.exit: ; preds = %if.end.split, %if.then.i278
  %8 = phi i64 [ %2, %if.end.split ], [ %5, %if.then.i278 ]
  %9 = phi i64 [ %3, %if.end.split ], [ %6, %if.then.i278 ]
  %10 = phi i1 [ %cmp3, %if.end.split ], [ %cmp8, %if.then.i278 ]
  %phi.call = phi i8* [ %call.i2825, %if.end.split ], [ %call.i28210, %if.then.i278 ]
  %call.i285 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  %call.i288 = tail call i8* @halide_string_to_string(i8* %call.i285, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([14 x i8], [14 x i8]* @.str.8.165, i64 0, i64 0)) #16
  %conv.i = fpext float %div to double
  %call.i291 = tail call i8* @halide_double_to_string(i8* %call.i288, i8* %sstr.sroa.125.0, double %conv.i, i32 0) #16
  %call.i294 = tail call i8* @halide_string_to_string(i8* %call.i291, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([4 x i8], [4 x i8]* @.str.9.166, i64 0, i64 0)) #16
  %call.i297 = tail call i8* @halide_string_to_string(i8* %call.i294, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str.10.167, i64 0, i64 0)) #16
  %samples = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 12
  %11 = load i32, i32* %samples, align 4, !tbaa !350
  %conv.i300 = sext i32 %11 to i64
  %call.i301 = tail call i8* @halide_int64_to_string(i8* %call.i297, i8* %sstr.sroa.125.0, i64 %conv.i300, i32 1) #16
  %call.i304 = tail call i8* @halide_string_to_string(i8* %call.i301, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @.str.11.168, i64 0, i64 0)) #16
  %12 = load i32, i32* %runs, align 8, !tbaa !346
  %conv.i307 = sext i32 %12 to i64
  %call.i308 = tail call i8* @halide_int64_to_string(i8* %call.i304, i8* %sstr.sroa.125.0, i64 %conv.i307, i32 1) #16
  %call.i311 = tail call i8* @halide_string_to_string(i8* %call.i308, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([13 x i8], [13 x i8]* @.str.12.169, i64 0, i64 0)) #16
  %13 = load i32, i32* %runs, align 8, !tbaa !346
  %conv19 = sitofp i32 %13 to float
  %div20 = fdiv float %div, %conv19
  %conv.i314 = fpext float %div20 to double
  %call.i315 = tail call i8* @halide_double_to_string(i8* %call.i311, i8* %sstr.sroa.125.0, double %conv.i314, i32 0) #16
  %call.i318 = tail call i8* @halide_string_to_string(i8* %call.i315, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @.str.13.170, i64 0, i64 0)) #16
  br i1 %10, label %if.end28, label %if.then24

if.then24:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5clearEv.exit
  %conv3 = uitofp i64 %8 to double
  %conv5 = uitofp i64 %9 to double
  %add = fadd double %conv5, 1.000000e-10
  %div6 = fdiv double %conv3, %add
  %conv7 = fptrunc double %div6 to float
  %call.i321 = tail call i8* @halide_string_to_string(i8* %call.i318, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.14.171, i64 0, i64 0)) #16
  %conv.i324 = fpext float %conv7 to double
  %call.i325 = tail call i8* @halide_double_to_string(i8* %call.i321, i8* %sstr.sroa.125.0, double %conv.i324, i32 0) #16
  %call.i328 = tail call i8* @halide_string_to_string(i8* %call.i325, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br label %if.end28

if.end28:                                         ; preds = %if.then24, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5clearEv.exit
  %sstr.sroa.19.1 = phi i8* [ %call.i318, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5clearEv.exit ], [ %call.i328, %if.then24 ]
  %call.i331 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.1, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15.172, i64 0, i64 0)) #16
  %num_allocs = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 13
  %14 = load i32, i32* %num_allocs, align 8, !tbaa !351
  %conv.i334 = sext i32 %14 to i64
  %call.i335 = tail call i8* @halide_int64_to_string(i8* %call.i331, i8* %sstr.sroa.125.0, i64 %conv.i334, i32 1) #16
  %call.i338 = tail call i8* @halide_string_to_string(i8* %call.i335, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([20 x i8], [20 x i8]* @.str.16.173, i64 0, i64 0)) #16
  %memory_peak = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 2
  %15 = load i64, i64* %memory_peak, align 8, !tbaa !352
  %call.i341 = tail call i8* @halide_uint64_to_string(i8* %call.i338, i8* %sstr.sroa.125.0, i64 %15, i32 1) #16
  %call.i344 = tail call i8* @halide_string_to_string(i8* %call.i341, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.17.174, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit, label %if.then.i352

if.then.i352:                                     ; preds = %if.end28
  %sub.ptr.lhs.cast.i.i347 = ptrtoint i8* %call.i344 to i64
  %add.i.i350 = add i64 %sub.ptr.sub.i.i349, %sub.ptr.lhs.cast.i.i347
  %call.i.i351 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i350) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit: ; preds = %if.then.i352, %if.end28
  %retval.0.i = phi i8* [ %call.i, %if.then.i352 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.end28 ]
  tail call void @halide_print(i8* %user_context, i8* nonnull %retval.0.i) #16
  %16 = load i64, i64* %time, align 8, !tbaa !344
  %tobool36.not = icmp eq i64 %16, 0
  br i1 %tobool36.not, label %lor.end, label %for.cond53.preheader

lor.end:                                          ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit
  %memory_total = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 3
  %17 = load i64, i64* %memory_total, align 8, !tbaa !353
  %tobool37.not = icmp eq i64 %17, 0
  br i1 %tobool37.not, label %for.cond41.preheader, label %for.cond53.preheader

for.cond41.preheader:                             ; preds = %lor.end
  %num_funcs = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 9
  %18 = load i32, i32* %num_funcs, align 8, !tbaa !354
  %cmp42589 = icmp sgt i32 %18, 0
  br i1 %cmp42589, label %for.body44.lr.ph, label %cleanup181

for.body44.lr.ph:                                 ; preds = %for.cond41.preheader
  %funcs = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 7
  %19 = load %struct.halide_profiler_func_stats*, %struct.halide_profiler_func_stats** %funcs, align 8, !tbaa !355
  %wide.trip.count = zext i32 %18 to i64
  br label %for.body44

for.cond41:                                       ; preds = %for.body44
  %exitcond.not = icmp eq i64 %indvars.iv.next, %wide.trip.count
  br i1 %exitcond.not, label %cleanup181, label %for.body44, !llvm.loop !356

for.body44:                                       ; preds = %for.cond41, %for.body44.lr.ph
  %indvars.iv = phi i64 [ 0, %for.body44.lr.ph ], [ %indvars.iv.next, %for.cond41 ]
  %stack_peak = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %19, i64 %indvars.iv, i32 4
  %20 = load i64, i64* %stack_peak, align 8, !tbaa !357
  %tobool45.not = icmp eq i64 %20, 0
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  br i1 %tobool45.not, label %for.cond41, label %for.cond53.preheader

for.cond53.preheader:                             ; preds = %for.body44, %lor.end, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit
  %num_funcs54 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 9
  %funcs59 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 7
  %21 = load i32, i32* %num_funcs54, align 8, !tbaa !354
  %cmp55620 = icmp sgt i32 %21, 0
  br i1 %cmp55620, label %for.body57, label %cleanup181

for.body57:                                       ; preds = %for.cond53.preheader, %cleanup172
  %indvars.iv629 = phi i64 [ %indvars.iv.next630, %cleanup172 ], [ 0, %for.cond53.preheader ]
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5clearEv.exit358, label %if.then.i356

if.then.i356:                                     ; preds = %for.body57
  store i8 0, i8* %call.i, align 1, !tbaa !15
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5clearEv.exit358

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5clearEv.exit358: ; preds = %if.then.i356, %for.body57
  %22 = load %struct.halide_profiler_func_stats*, %struct.halide_profiler_func_stats** %funcs59, align 8, !tbaa !355
  %add.ptr61 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %22, i64 %indvars.iv629
  %cmp62 = icmp eq i64 %indvars.iv629, 0
  br i1 %cmp62, label %land.lhs.true, label %if.end66

land.lhs.true:                                    ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5clearEv.exit358
  %time63 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %add.ptr61, i64 0, i32 0
  %23 = load i64, i64* %time63, align 8, !tbaa !359
  %cmp64 = icmp eq i64 %23, 0
  br i1 %cmp64, label %cleanup172, label %if.end66

if.end66:                                         ; preds = %land.lhs.true, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5clearEv.exit358
  %call.i361 = tail call i8* @halide_string_to_string(i8* %call.i, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.18.175, i64 0, i64 0)) #16
  %name68 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %22, i64 %indvars.iv629, i32 7
  %24 = load i8*, i8** %name68, align 8, !tbaa !360
  %call.i364 = tail call i8* @halide_string_to_string(i8* %call.i361, i8* %sstr.sroa.125.0, i8* %24) #16
  %call.i367 = tail call i8* @halide_string_to_string(i8* %call.i364, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.19.176, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i591 = ptrtoint i8* %call.i367 to i64
  %sub.ptr.sub.i592 = sub i64 %sub.ptr.lhs.cast.i591, %sub.ptr.rhs.cast.i.i348
  %cmp73593 = icmp ult i64 %sub.ptr.sub.i592, 25
  br i1 %cmp73593, label %while.body, label %while.end

while.body:                                       ; preds = %if.end66, %while.body
  %sstr.sroa.19.3594 = phi i8* [ %call.i370, %while.body ], [ %call.i367, %if.end66 ]
  %call.i370 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.3594, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.72.209, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i = ptrtoint i8* %call.i370 to i64
  %sub.ptr.sub.i = sub i64 %sub.ptr.lhs.cast.i, %sub.ptr.rhs.cast.i.i348
  %cmp73 = icmp ult i64 %sub.ptr.sub.i, 25
  br i1 %cmp73, label %while.body, label %while.end, !llvm.loop !361

while.end:                                        ; preds = %while.body, %if.end66
  %sstr.sroa.19.3.lcssa = phi i8* [ %call.i367, %if.end66 ], [ %call.i370, %while.body ]
  %time75 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %add.ptr61, i64 0, i32 0
  %25 = load i64, i64* %time75, align 8, !tbaa !359
  %conv76 = uitofp i64 %25 to float
  %26 = load i32, i32* %runs, align 8, !tbaa !346
  %conv78 = sitofp i32 %26 to float
  %mul = fmul float %conv78, 1.000000e+06
  %div79 = fdiv float %conv76, %mul
  %conv.i373 = fpext float %div79 to double
  %call.i374 = tail call i8* @halide_double_to_string(i8* %sstr.sroa.19.3.lcssa, i8* %sstr.sroa.125.0, double %conv.i373, i32 0) #16
  %tobool.not.i376 = icmp eq i8* %call.i374, null
  br i1 %tobool.not.i376, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit, label %if.then.i379

if.then.i379:                                     ; preds = %while.end
  %add.ptr.i377 = getelementptr inbounds i8, i8* %call.i374, i64 -3
  %cmp.i = icmp ult i8* %add.ptr.i377, %call.i
  %spec.store.select.i = select i1 %cmp.i, i8* %call.i, i8* %add.ptr.i377
  store i8 0, i8* %spec.store.select.i, align 1, !tbaa !15
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit: ; preds = %if.then.i379, %while.end
  %sstr.sroa.19.4 = phi i8* [ null, %while.end ], [ %spec.store.select.i, %if.then.i379 ]
  %call.i382 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.4, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.21.178, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i383595 = ptrtoint i8* %call.i382 to i64
  %sub.ptr.sub.i385596 = sub i64 %sub.ptr.lhs.cast.i383595, %sub.ptr.rhs.cast.i.i348
  %cmp85597 = icmp ult i64 %sub.ptr.sub.i385596, 35
  br i1 %cmp85597, label %while.body86, label %while.end88

while.body86:                                     ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit, %while.body86
  %sstr.sroa.19.5598 = phi i8* [ %call.i388, %while.body86 ], [ %call.i382, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit ]
  %call.i388 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.5598, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.72.209, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i383 = ptrtoint i8* %call.i388 to i64
  %sub.ptr.sub.i385 = sub i64 %sub.ptr.lhs.cast.i383, %sub.ptr.rhs.cast.i.i348
  %cmp85 = icmp ult i64 %sub.ptr.sub.i385, 35
  br i1 %cmp85, label %while.body86, label %while.end88, !llvm.loop !362

while.end88:                                      ; preds = %while.body86, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit
  %sstr.sroa.19.5.lcssa = phi i8* [ %call.i382, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit ], [ %call.i388, %while.body86 ]
  %27 = load i64, i64* %time, align 8, !tbaa !344
  %cmp90.not = icmp eq i64 %27, 0
  br i1 %cmp90.not, label %if.end97, label %if.then91

if.then91:                                        ; preds = %while.end88
  %28 = load i64, i64* %time75, align 8, !tbaa !359
  %mul93 = mul i64 %28, 100
  %div95 = udiv i64 %mul93, %27
  br label %if.end97

if.end97:                                         ; preds = %if.then91, %while.end88
  %percent.0 = phi i64 [ %div95, %if.then91 ], [ 0, %while.end88 ]
  %call.i391 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.5.lcssa, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.22.179, i64 0, i64 0)) #16
  %sext = shl i64 %percent.0, 32
  %conv.i394 = ashr exact i64 %sext, 32
  %call.i395 = tail call i8* @halide_int64_to_string(i8* %call.i391, i8* %sstr.sroa.125.0, i64 %conv.i394, i32 1) #16
  %call.i398 = tail call i8* @halide_string_to_string(i8* %call.i395, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([3 x i8], [3 x i8]* @.str.23.180, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i399600 = ptrtoint i8* %call.i398 to i64
  %sub.ptr.sub.i401601 = sub i64 %sub.ptr.lhs.cast.i399600, %sub.ptr.rhs.cast.i.i348
  %cmp104602 = icmp ult i64 %sub.ptr.sub.i401601, 43
  br i1 %cmp104602, label %while.body105, label %while.end107

while.body105:                                    ; preds = %if.end97, %while.body105
  %sstr.sroa.19.6603 = phi i8* [ %call.i404, %while.body105 ], [ %call.i398, %if.end97 ]
  %call.i404 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.6603, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.72.209, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i399 = ptrtoint i8* %call.i404 to i64
  %sub.ptr.sub.i401 = sub i64 %sub.ptr.lhs.cast.i399, %sub.ptr.rhs.cast.i.i348
  %cmp104 = icmp ult i64 %sub.ptr.sub.i401, 43
  br i1 %cmp104, label %while.body105, label %while.end107, !llvm.loop !363

while.end107:                                     ; preds = %while.body105, %if.end97
  %sstr.sroa.19.6.lcssa = phi i8* [ %call.i398, %if.end97 ], [ %call.i404, %while.body105 ]
  br i1 %10, label %if.end127, label %if.then109

if.then109:                                       ; preds = %while.end107
  %active_threads_numerator111 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %22, i64 %indvars.iv629, i32 5
  %29 = load i64, i64* %active_threads_numerator111, align 8, !tbaa !364
  %conv112 = uitofp i64 %29 to double
  %active_threads_denominator113 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %22, i64 %indvars.iv629, i32 6
  %30 = load i64, i64* %active_threads_denominator113, align 8, !tbaa !365
  %conv114 = uitofp i64 %30 to double
  %add115 = fadd double %conv114, 1.000000e-10
  %div116 = fdiv double %conv112, %add115
  %conv117 = fptrunc double %div116 to float
  %call.i407 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.6.lcssa, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([10 x i8], [10 x i8]* @.str.24.181, i64 0, i64 0)) #16
  %conv.i410 = fpext float %conv117 to double
  %call.i411 = tail call i8* @halide_double_to_string(i8* %call.i407, i8* %sstr.sroa.125.0, double %conv.i410, i32 0) #16
  %tobool.not.i413 = icmp eq i8* %call.i411, null
  br i1 %tobool.not.i413, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit419, label %if.then.i418

if.then.i418:                                     ; preds = %if.then109
  %add.ptr.i414 = getelementptr inbounds i8, i8* %call.i411, i64 -3
  %cmp.i416 = icmp ult i8* %add.ptr.i414, %call.i
  %spec.store.select.i417 = select i1 %cmp.i416, i8* %call.i, i8* %add.ptr.i414
  store i8 0, i8* %spec.store.select.i417, align 1, !tbaa !15
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit419

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit419: ; preds = %if.then.i418, %if.then109
  %sstr.sroa.19.7 = phi i8* [ null, %if.then109 ], [ %spec.store.select.i417, %if.then.i418 ]
  %sub.ptr.lhs.cast.i420605 = ptrtoint i8* %sstr.sroa.19.7 to i64
  %sub.ptr.sub.i422606 = sub i64 %sub.ptr.lhs.cast.i420605, %sub.ptr.rhs.cast.i.i348
  %cmp123607 = icmp ult i64 %sub.ptr.sub.i422606, 58
  br i1 %cmp123607, label %while.body124, label %if.end127

while.body124:                                    ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit419, %while.body124
  %sstr.sroa.19.8608 = phi i8* [ %call.i425, %while.body124 ], [ %sstr.sroa.19.7, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit419 ]
  %call.i425 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.8608, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.72.209, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i420 = ptrtoint i8* %call.i425 to i64
  %sub.ptr.sub.i422 = sub i64 %sub.ptr.lhs.cast.i420, %sub.ptr.rhs.cast.i.i348
  %cmp123 = icmp ult i64 %sub.ptr.sub.i422, 58
  br i1 %cmp123, label %while.body124, label %if.end127, !llvm.loop !366

if.end127:                                        ; preds = %while.body124, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit419, %while.end107
  %sstr.sroa.19.9 = phi i8* [ %sstr.sroa.19.6.lcssa, %while.end107 ], [ %sstr.sroa.19.7, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit419 ], [ %call.i425, %while.body124 ]
  %cursor.0 = phi i64 [ 58, %while.end107 ], [ 73, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE5eraseEi.exit419 ], [ 73, %while.body124 ]
  %memory_peak128 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %22, i64 %indvars.iv629, i32 2
  %31 = load i64, i64* %memory_peak128, align 8, !tbaa !367
  %tobool129.not = icmp eq i64 %31, 0
  br i1 %tobool129.not, label %if.end162, label %if.then130

if.then130:                                       ; preds = %if.end127
  %call.i428 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.9, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.25.182, i64 0, i64 0)) #16
  %32 = load i64, i64* %memory_peak128, align 8, !tbaa !367
  %call.i431 = tail call i8* @halide_uint64_to_string(i8* %call.i428, i8* %sstr.sroa.125.0, i64 %32, i32 1) #16
  %sub.ptr.lhs.cast.i432610 = ptrtoint i8* %call.i431 to i64
  %sub.ptr.sub.i434611 = sub i64 %sub.ptr.lhs.cast.i432610, %sub.ptr.rhs.cast.i.i348
  %cmp137612 = icmp ult i64 %sub.ptr.sub.i434611, %cursor.0
  br i1 %cmp137612, label %while.body138, label %while.end140

while.body138:                                    ; preds = %if.then130, %while.body138
  %sstr.sroa.19.10613 = phi i8* [ %call.i437, %while.body138 ], [ %call.i431, %if.then130 ]
  %call.i437 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.10613, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.72.209, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i432 = ptrtoint i8* %call.i437 to i64
  %sub.ptr.sub.i434 = sub i64 %sub.ptr.lhs.cast.i432, %sub.ptr.rhs.cast.i.i348
  %cmp137 = icmp ult i64 %sub.ptr.sub.i434, %cursor.0
  br i1 %cmp137, label %while.body138, label %while.end140, !llvm.loop !368

while.end140:                                     ; preds = %while.body138, %if.then130
  %sstr.sroa.19.10.lcssa = phi i8* [ %call.i431, %if.then130 ], [ %call.i437, %while.body138 ]
  %call.i440 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.10.lcssa, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([7 x i8], [7 x i8]* @.str.26.183, i64 0, i64 0)) #16
  %num_allocs142 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %22, i64 %indvars.iv629, i32 8
  %33 = load i32, i32* %num_allocs142, align 8, !tbaa !369
  %conv.i443 = sext i32 %33 to i64
  %call.i444 = tail call i8* @halide_int64_to_string(i8* %call.i440, i8* %sstr.sroa.125.0, i64 %conv.i443, i32 1) #16
  %add144 = add nuw nsw i64 %cursor.0, 15
  %sub.ptr.lhs.cast.i445615 = ptrtoint i8* %call.i444 to i64
  %sub.ptr.sub.i447616 = sub i64 %sub.ptr.lhs.cast.i445615, %sub.ptr.rhs.cast.i.i348
  %cmp147617 = icmp ult i64 %sub.ptr.sub.i447616, %add144
  br i1 %cmp147617, label %while.body148, label %while.end150

while.body148:                                    ; preds = %while.end140, %while.body148
  %sstr.sroa.19.11618 = phi i8* [ %call.i450, %while.body148 ], [ %call.i444, %while.end140 ]
  %call.i450 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.11618, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.72.209, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i445 = ptrtoint i8* %call.i450 to i64
  %sub.ptr.sub.i447 = sub i64 %sub.ptr.lhs.cast.i445, %sub.ptr.rhs.cast.i.i348
  %cmp147 = icmp ult i64 %sub.ptr.sub.i447, %add144
  br i1 %cmp147, label %while.body148, label %while.end150, !llvm.loop !370

while.end150:                                     ; preds = %while.body148, %while.end140
  %sstr.sroa.19.11.lcssa = phi i8* [ %call.i444, %while.end140 ], [ %call.i450, %while.body148 ]
  %34 = load i32, i32* %num_allocs142, align 8, !tbaa !369
  %cmp152.not = icmp eq i32 %34, 0
  br i1 %cmp152.not, label %if.end159, label %if.then153

if.then153:                                       ; preds = %while.end150
  %memory_total154 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %22, i64 %indvars.iv629, i32 3
  %35 = load i64, i64* %memory_total154, align 8, !tbaa !371
  %conv156 = sext i32 %34 to i64
  %div157 = udiv i64 %35, %conv156
  br label %if.end159

if.end159:                                        ; preds = %if.then153, %while.end150
  %alloc_avg.0 = phi i64 [ %div157, %if.then153 ], [ 0, %while.end150 ]
  %call.i453 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.11.lcssa, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([7 x i8], [7 x i8]* @.str.27.184, i64 0, i64 0)) #16
  %sext586 = shl i64 %alloc_avg.0, 32
  %conv.i456 = ashr exact i64 %sext586, 32
  %call.i457 = tail call i8* @halide_int64_to_string(i8* %call.i453, i8* %sstr.sroa.125.0, i64 %conv.i456, i32 1) #16
  br label %if.end162

if.end162:                                        ; preds = %if.end159, %if.end127
  %sstr.sroa.19.12 = phi i8* [ %sstr.sroa.19.9, %if.end127 ], [ %call.i457, %if.end159 ]
  %stack_peak163 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %22, i64 %indvars.iv629, i32 4
  %36 = load i64, i64* %stack_peak163, align 8, !tbaa !357
  %cmp164.not = icmp eq i64 %36, 0
  br i1 %cmp164.not, label %if.end169, label %if.then165

if.then165:                                       ; preds = %if.end162
  %call.i460 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.12, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @.str.28.185, i64 0, i64 0)) #16
  %37 = load i64, i64* %stack_peak163, align 8, !tbaa !357
  %call.i463 = tail call i8* @halide_uint64_to_string(i8* %call.i460, i8* %sstr.sroa.125.0, i64 %37, i32 1) #16
  br label %if.end169

if.end169:                                        ; preds = %if.then165, %if.end162
  %sstr.sroa.19.13 = phi i8* [ %sstr.sroa.19.12, %if.end162 ], [ %call.i463, %if.then165 ]
  %call.i466 = tail call i8* @halide_string_to_string(i8* %sstr.sroa.19.13, i8* %sstr.sroa.125.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit480, label %if.then.i478

if.then.i478:                                     ; preds = %if.end169
  %sub.ptr.lhs.cast.i.i473 = ptrtoint i8* %call.i466 to i64
  %add.i.i476 = add i64 %sub.ptr.sub.i.i349, %sub.ptr.lhs.cast.i.i473
  %call.i.i477 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i476) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit480

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit480: ; preds = %if.then.i478, %if.end169
  %retval.0.i479 = phi i8* [ %call.i, %if.then.i478 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.end169 ]
  tail call void @halide_print(i8* %user_context, i8* nonnull %retval.0.i479) #16
  br label %cleanup172

cleanup172:                                       ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit480, %land.lhs.true
  %sstr.sroa.19.14 = phi i8* [ %call.i, %land.lhs.true ], [ %call.i466, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit480 ]
  %indvars.iv.next630 = add nuw nsw i64 %indvars.iv629, 1
  %38 = load i32, i32* %num_funcs54, align 8, !tbaa !354
  %39 = sext i32 %38 to i64
  %cmp55 = icmp slt i64 %indvars.iv.next630, %39
  br i1 %cmp55, label %for.body57, label %cleanup181, !llvm.loop !372

cleanup181:                                       ; preds = %for.cond41, %cleanup172, %for.cond53.preheader, %for.cond41.preheader, %for.body
  %sstr.sroa.19.15 = phi i8* [ %sstr.sroa.19.0625, %for.body ], [ %call.i344, %for.cond53.preheader ], [ %call.i344, %for.cond41.preheader ], [ %sstr.sroa.19.14, %cleanup172 ], [ %call.i344, %for.cond41 ]
  %next = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0626, i64 0, i32 8
  %40 = bitcast i8** %next to %struct.halide_profiler_pipeline_stats**
  %p.0 = load %struct.halide_profiler_pipeline_stats*, %struct.halide_profiler_pipeline_stats** %40, align 8, !tbaa !11
  %tobool.not = icmp eq %struct.halide_profiler_pipeline_stats* %p.0, null
  br i1 %tobool.not, label %for.cond.cleanup, label %for.body, !llvm.loop !373
}

; Function Attrs: mustprogress nounwind
define weak void @halide_profiler_reset_unlocked(%struct.halide_profiler_state* %s) local_unnamed_addr #0 {
entry:
  %pipelines = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %s, i64 0, i32 5
  %0 = load %struct.halide_profiler_pipeline_stats*, %struct.halide_profiler_pipeline_stats** %pipelines, align 8, !tbaa !374
  %tobool.not9 = icmp eq %struct.halide_profiler_pipeline_stats* %0, null
  br i1 %tobool.not9, label %while.end, label %while.body

while.body:                                       ; preds = %entry, %while.body
  %1 = phi %struct.halide_profiler_pipeline_stats* [ %7, %while.body ], [ %0, %entry ]
  %next = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %1, i64 0, i32 8
  %2 = bitcast i8** %next to %struct.halide_profiler_pipeline_stats**
  %3 = load %struct.halide_profiler_pipeline_stats*, %struct.halide_profiler_pipeline_stats** %2, align 8, !tbaa !375
  store %struct.halide_profiler_pipeline_stats* %3, %struct.halide_profiler_pipeline_stats** %pipelines, align 8, !tbaa !374
  %funcs = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %1, i64 0, i32 7
  %4 = bitcast %struct.halide_profiler_func_stats** %funcs to i8**
  %5 = load i8*, i8** %4, align 8, !tbaa !355
  tail call void @free(i8* %5) #16
  %6 = bitcast %struct.halide_profiler_pipeline_stats* %1 to i8*
  tail call void @free(i8* nonnull %6) #16
  %7 = load %struct.halide_profiler_pipeline_stats*, %struct.halide_profiler_pipeline_stats** %pipelines, align 8, !tbaa !374
  %tobool.not = icmp eq %struct.halide_profiler_pipeline_stats* %7, null
  br i1 %tobool.not, label %while.end, label %while.body, !llvm.loop !376

while.end:                                        ; preds = %while.body, %entry
  %first_free_id = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %s, i64 0, i32 2
  store i32 0, i32* %first_free_id, align 4, !tbaa !377
  ret void
}

; Function Attrs: mustprogress nounwind
define linkonce %struct.halide_profiler_pipeline_stats* @_ZN6Halide7Runtime8Internal23find_or_create_pipelineEPKciPKy(i8* %pipeline_name, i32 %num_funcs, i64* %func_names) local_unnamed_addr #0 {
entry:
  %call = tail call %struct.halide_profiler_state* @halide_profiler_get_state() #17
  %pipelines = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %call, i64 0, i32 5
  %p.0119 = load %struct.halide_profiler_pipeline_stats*, %struct.halide_profiler_pipeline_stats** %pipelines, align 8, !tbaa !11
  %tobool.not120 = icmp eq %struct.halide_profiler_pipeline_stats* %p.0119, null
  br i1 %tobool.not120, label %for.end, label %for.body

for.body:                                         ; preds = %entry, %for.inc
  %p.0121 = phi %struct.halide_profiler_pipeline_stats* [ %p.0, %for.inc ], [ %p.0119, %entry ]
  %name = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0121, i64 0, i32 6
  %0 = load i8*, i8** %name, align 8, !tbaa !349
  %cmp = icmp eq i8* %0, %pipeline_name
  br i1 %cmp, label %land.lhs.true, label %for.inc

land.lhs.true:                                    ; preds = %for.body
  %num_funcs1 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0121, i64 0, i32 9
  %1 = load i32, i32* %num_funcs1, align 8, !tbaa !354
  %cmp2 = icmp eq i32 %1, %num_funcs
  br i1 %cmp2, label %cleanup62, label %for.inc

for.inc:                                          ; preds = %land.lhs.true, %for.body
  %next = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.0121, i64 0, i32 8
  %2 = bitcast i8** %next to %struct.halide_profiler_pipeline_stats**
  %p.0 = load %struct.halide_profiler_pipeline_stats*, %struct.halide_profiler_pipeline_stats** %2, align 8, !tbaa !11
  %tobool.not = icmp eq %struct.halide_profiler_pipeline_stats* %p.0, null
  br i1 %tobool.not, label %for.end, label %for.body, !llvm.loop !378

for.end:                                          ; preds = %for.inc, %entry
  %call4 = tail call i8* @malloc(i64 96) #16
  %3 = bitcast i8* %call4 to %struct.halide_profiler_pipeline_stats*
  %tobool5.not = icmp eq i8* %call4, null
  br i1 %tobool5.not, label %cleanup62, label %if.end7

if.end7:                                          ; preds = %for.end
  %4 = bitcast %struct.halide_profiler_pipeline_stats** %pipelines to i8**
  %5 = load i8*, i8** %4, align 8, !tbaa !374
  %next9 = getelementptr inbounds i8, i8* %call4, i64 64
  %6 = bitcast i8* %next9 to i8**
  store i8* %5, i8** %6, align 8, !tbaa !375
  %name10 = getelementptr inbounds i8, i8* %call4, i64 48
  %7 = bitcast i8* %name10 to i8**
  store i8* %pipeline_name, i8** %7, align 8, !tbaa !349
  %first_free_id = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %call, i64 0, i32 2
  %8 = load i32, i32* %first_free_id, align 4, !tbaa !377
  %first_func_id = getelementptr inbounds i8, i8* %call4, i64 76
  %9 = bitcast i8* %first_func_id to i32*
  store i32 %8, i32* %9, align 4, !tbaa !379
  %num_funcs11 = getelementptr inbounds i8, i8* %call4, i64 72
  %10 = bitcast i8* %num_funcs11 to i32*
  store i32 %num_funcs, i32* %10, align 8, !tbaa !354
  %runs = getelementptr inbounds i8, i8* %call4, i64 80
  %11 = bitcast i8* %runs to i32*
  store i32 0, i32* %11, align 8, !tbaa !346
  %time = bitcast i8* %call4 to i64*
  store i64 0, i64* %time, align 8, !tbaa !344
  %samples = getelementptr inbounds i8, i8* %call4, i64 84
  %12 = bitcast i8* %samples to i32*
  store i32 0, i32* %12, align 4, !tbaa !350
  %memory_current = getelementptr inbounds i8, i8* %call4, i64 8
  %13 = bitcast i8* %memory_current to <2 x i64>*
  store <2 x i64> zeroinitializer, <2 x i64>* %13, align 8, !tbaa !115
  %memory_total = getelementptr inbounds i8, i8* %call4, i64 24
  %14 = bitcast i8* %memory_total to i64*
  store i64 0, i64* %14, align 8, !tbaa !353
  %num_allocs = getelementptr inbounds i8, i8* %call4, i64 88
  %15 = bitcast i8* %num_allocs to i32*
  store i32 0, i32* %15, align 8, !tbaa !351
  %active_threads_numerator = getelementptr inbounds i8, i8* %call4, i64 32
  %16 = bitcast i8* %active_threads_numerator to <2 x i64>*
  store <2 x i64> zeroinitializer, <2 x i64>* %16, align 8, !tbaa !115
  %conv = sext i32 %num_funcs to i64
  %mul = mul nsw i64 %conv, 72
  %call12 = tail call i8* @malloc(i64 %mul) #16
  %funcs = getelementptr inbounds i8, i8* %call4, i64 56
  %17 = bitcast i8* %funcs to i8**
  store i8* %call12, i8** %17, align 8, !tbaa !355
  %tobool14.not = icmp eq i8* %call12, null
  %18 = bitcast i8* %call12 to %struct.halide_profiler_func_stats*
  br i1 %tobool14.not, label %if.then15, label %for.cond17.preheader

for.cond17.preheader:                             ; preds = %if.end7
  %cmp18123 = icmp sgt i32 %num_funcs, 0
  br i1 %cmp18123, label %for.body20.lr.ph, label %for.cond.cleanup19

for.body20.lr.ph:                                 ; preds = %for.cond17.preheader
  %wide.trip.count = zext i32 %num_funcs to i64
  %xtraiter = and i64 %wide.trip.count, 1
  %19 = icmp eq i32 %num_funcs, 1
  br i1 %19, label %for.cond.cleanup19.loopexit.unr-lcssa, label %for.body20.lr.ph.new

for.body20.lr.ph.new:                             ; preds = %for.body20.lr.ph
  %unroll_iter = and i64 %wide.trip.count, 4294967294
  br label %for.body20

if.then15:                                        ; preds = %if.end7
  tail call void @free(i8* nonnull %call4) #16
  br label %cleanup62

for.cond.cleanup19.loopexit.unr-lcssa:            ; preds = %for.body20, %for.body20.lr.ph
  %indvars.iv.unr = phi i64 [ 0, %for.body20.lr.ph ], [ %indvars.iv.next.1, %for.body20 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.cond.cleanup19, label %for.body20.epil

for.body20.epil:                                  ; preds = %for.cond.cleanup19.loopexit.unr-lcssa
  %time22.epil = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.unr, i32 0
  store i64 0, i64* %time22.epil, align 8, !tbaa !359
  %arrayidx24.epil = getelementptr inbounds i64, i64* %func_names, i64 %indvars.iv.unr
  %20 = load i64, i64* %arrayidx24.epil, align 8, !tbaa !115
  %21 = inttoptr i64 %20 to i8*
  %name28.epil = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.unr, i32 7
  store i8* %21, i8** %name28.epil, align 8, !tbaa !360
  %memory_current32.epil = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.unr, i32 1
  %22 = bitcast i64* %memory_current32.epil to <2 x i64>*
  store <2 x i64> zeroinitializer, <2 x i64>* %22, align 8, !tbaa !115
  %memory_total40.epil = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.unr, i32 3
  store i64 0, i64* %memory_total40.epil, align 8, !tbaa !371
  %num_allocs44.epil = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.unr, i32 8
  store i32 0, i32* %num_allocs44.epil, align 8, !tbaa !369
  %stack_peak.epil = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.unr, i32 4
  %23 = bitcast i64* %stack_peak.epil to <2 x i64>*
  store <2 x i64> zeroinitializer, <2 x i64>* %23, align 8, !tbaa !115
  %active_threads_denominator55.epil = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.unr, i32 6
  store i64 0, i64* %active_threads_denominator55.epil, align 8, !tbaa !365
  br label %for.cond.cleanup19

for.cond.cleanup19:                               ; preds = %for.body20.epil, %for.cond.cleanup19.loopexit.unr-lcssa, %for.cond17.preheader
  %24 = load i32, i32* %first_free_id, align 4, !tbaa !377
  %add = add nsw i32 %24, %num_funcs
  store i32 %add, i32* %first_free_id, align 4, !tbaa !377
  store i8* %call4, i8** %4, align 8, !tbaa !374
  br label %cleanup62

for.body20:                                       ; preds = %for.body20, %for.body20.lr.ph.new
  %indvars.iv = phi i64 [ 0, %for.body20.lr.ph.new ], [ %indvars.iv.next.1, %for.body20 ]
  %niter = phi i64 [ %unroll_iter, %for.body20.lr.ph.new ], [ %niter.nsub.1, %for.body20 ]
  %time22 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv, i32 0
  store i64 0, i64* %time22, align 8, !tbaa !359
  %arrayidx24 = getelementptr inbounds i64, i64* %func_names, i64 %indvars.iv
  %25 = load i64, i64* %arrayidx24, align 8, !tbaa !115
  %26 = inttoptr i64 %25 to i8*
  %name28 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv, i32 7
  store i8* %26, i8** %name28, align 8, !tbaa !360
  %memory_current32 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv, i32 1
  %27 = bitcast i64* %memory_current32 to <2 x i64>*
  store <2 x i64> zeroinitializer, <2 x i64>* %27, align 8, !tbaa !115
  %memory_total40 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv, i32 3
  store i64 0, i64* %memory_total40, align 8, !tbaa !371
  %num_allocs44 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv, i32 8
  store i32 0, i32* %num_allocs44, align 8, !tbaa !369
  %stack_peak = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv, i32 4
  %28 = bitcast i64* %stack_peak to <2 x i64>*
  store <2 x i64> zeroinitializer, <2 x i64>* %28, align 8, !tbaa !115
  %active_threads_denominator55 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv, i32 6
  store i64 0, i64* %active_threads_denominator55, align 8, !tbaa !365
  %indvars.iv.next = or i64 %indvars.iv, 1
  %time22.1 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.next, i32 0
  store i64 0, i64* %time22.1, align 8, !tbaa !359
  %arrayidx24.1 = getelementptr inbounds i64, i64* %func_names, i64 %indvars.iv.next
  %29 = load i64, i64* %arrayidx24.1, align 8, !tbaa !115
  %30 = inttoptr i64 %29 to i8*
  %name28.1 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.next, i32 7
  store i8* %30, i8** %name28.1, align 8, !tbaa !360
  %memory_current32.1 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.next, i32 1
  %31 = bitcast i64* %memory_current32.1 to <2 x i64>*
  store <2 x i64> zeroinitializer, <2 x i64>* %31, align 8, !tbaa !115
  %memory_total40.1 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.next, i32 3
  store i64 0, i64* %memory_total40.1, align 8, !tbaa !371
  %num_allocs44.1 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.next, i32 8
  store i32 0, i32* %num_allocs44.1, align 8, !tbaa !369
  %stack_peak.1 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.next, i32 4
  %32 = bitcast i64* %stack_peak.1 to <2 x i64>*
  store <2 x i64> zeroinitializer, <2 x i64>* %32, align 8, !tbaa !115
  %active_threads_denominator55.1 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %18, i64 %indvars.iv.next, i32 6
  store i64 0, i64* %active_threads_denominator55.1, align 8, !tbaa !365
  %indvars.iv.next.1 = add nuw nsw i64 %indvars.iv, 2
  %niter.nsub.1 = add i64 %niter, -2
  %niter.ncmp.1 = icmp eq i64 %niter.nsub.1, 0
  br i1 %niter.ncmp.1, label %for.cond.cleanup19.loopexit.unr-lcssa, label %for.body20, !llvm.loop !380

cleanup62:                                        ; preds = %land.lhs.true, %for.cond.cleanup19, %if.then15, %for.end
  %retval.2 = phi %struct.halide_profiler_pipeline_stats* [ %3, %for.cond.cleanup19 ], [ null, %if.then15 ], [ null, %for.end ], [ %p.0121, %land.lhs.true ]
  ret %struct.halide_profiler_pipeline_stats* %retval.2
}

; Function Attrs: mustprogress nounwind
define linkonce void @_ZN6Halide7Runtime8Internal9bill_funcEP21halide_profiler_stateiyi(%struct.halide_profiler_state* %s, i32 %func_id, i64 %time, i32 %active_threads) local_unnamed_addr #0 {
entry:
  %pipelines = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %s, i64 0, i32 5
  %p.055 = load %struct.halide_profiler_pipeline_stats*, %struct.halide_profiler_pipeline_stats** %pipelines, align 8, !tbaa !11
  %tobool.not56 = icmp eq %struct.halide_profiler_pipeline_stats* %p.055, null
  br i1 %tobool.not56, label %cleanup25, label %for.body

for.body:                                         ; preds = %entry, %if.end23
  %p.058 = phi %struct.halide_profiler_pipeline_stats* [ %p.0, %if.end23 ], [ %p.055, %entry ]
  %p_prev.057 = phi %struct.halide_profiler_pipeline_stats* [ %p.058, %if.end23 ], [ null, %entry ]
  %first_func_id = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.058, i64 0, i32 10
  %0 = load i32, i32* %first_func_id, align 4, !tbaa !379
  %cmp.not = icmp sgt i32 %0, %func_id
  br i1 %cmp.not, label %if.end23, label %land.lhs.true

land.lhs.true:                                    ; preds = %for.body
  %num_funcs = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.058, i64 0, i32 9
  %1 = load i32, i32* %num_funcs, align 8, !tbaa !354
  %add = add nsw i32 %1, %0
  %cmp2 = icmp sgt i32 %add, %func_id
  br i1 %cmp2, label %if.then, label %if.end23

if.then:                                          ; preds = %land.lhs.true
  %tobool3.not = icmp eq %struct.halide_profiler_pipeline_stats* %p_prev.057, null
  br i1 %tobool3.not, label %if.end, label %if.then4

if.then4:                                         ; preds = %if.then
  %next = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.058, i64 0, i32 8
  %2 = load i8*, i8** %next, align 8, !tbaa !375
  %next5 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p_prev.057, i64 0, i32 8
  store i8* %2, i8** %next5, align 8, !tbaa !375
  %3 = bitcast i8** %next to %struct.halide_profiler_pipeline_stats**
  store %struct.halide_profiler_pipeline_stats* %p.055, %struct.halide_profiler_pipeline_stats** %3, align 8, !tbaa !375
  store %struct.halide_profiler_pipeline_stats* %p.058, %struct.halide_profiler_pipeline_stats** %pipelines, align 8, !tbaa !374
  br label %if.end

if.end:                                           ; preds = %if.then4, %if.then
  %funcs = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.058, i64 0, i32 7
  %4 = load %struct.halide_profiler_func_stats*, %struct.halide_profiler_func_stats** %funcs, align 8, !tbaa !355
  %idx.ext = sext i32 %func_id to i64
  %idx.ext10 = sext i32 %0 to i64
  %add.ptr11.idx = sub nsw i64 %idx.ext, %idx.ext10
  %time12 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %4, i64 %add.ptr11.idx, i32 0
  %5 = load i64, i64* %time12, align 8, !tbaa !359
  %add13 = add i64 %5, %time
  store i64 %add13, i64* %time12, align 8, !tbaa !359
  %conv = sext i32 %active_threads to i64
  %active_threads_numerator = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %4, i64 %add.ptr11.idx, i32 5
  %6 = bitcast i64* %active_threads_numerator to <2 x i64>*
  %7 = load <2 x i64>, <2 x i64>* %6, align 8, !tbaa !115
  %8 = insertelement <2 x i64> <i64 poison, i64 1>, i64 %conv, i32 0
  %9 = add <2 x i64> %7, %8
  %10 = bitcast i64* %active_threads_numerator to <2 x i64>*
  store <2 x i64> %9, <2 x i64>* %10, align 8, !tbaa !115
  %time16 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.058, i64 0, i32 0
  %11 = load i64, i64* %time16, align 8, !tbaa !344
  %add17 = add i64 %11, %time
  store i64 %add17, i64* %time16, align 8, !tbaa !344
  %samples = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.058, i64 0, i32 12
  %12 = load i32, i32* %samples, align 4, !tbaa !350
  %inc = add nsw i32 %12, 1
  store i32 %inc, i32* %samples, align 4, !tbaa !350
  %active_threads_numerator19 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.058, i64 0, i32 4
  %13 = bitcast i64* %active_threads_numerator19 to <2 x i64>*
  %14 = load <2 x i64>, <2 x i64>* %13, align 8, !tbaa !115
  %15 = add <2 x i64> %14, %8
  %16 = bitcast i64* %active_threads_numerator19 to <2 x i64>*
  store <2 x i64> %15, <2 x i64>* %16, align 8, !tbaa !115
  br label %cleanup25

if.end23:                                         ; preds = %land.lhs.true, %for.body
  %next24 = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.058, i64 0, i32 8
  %17 = bitcast i8** %next24 to %struct.halide_profiler_pipeline_stats**
  %p.0 = load %struct.halide_profiler_pipeline_stats*, %struct.halide_profiler_pipeline_stats** %17, align 8, !tbaa !11
  %tobool.not = icmp eq %struct.halide_profiler_pipeline_stats* %p.0, null
  br i1 %tobool.not, label %cleanup25, label %for.body, !llvm.loop !381

cleanup25:                                        ; preds = %if.end23, %if.end, %entry
  ret void
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_profiler_sample(%struct.halide_profiler_state* %s, i64* %prev_t) local_unnamed_addr #0 {
entry:
  %func = alloca i32, align 4
  %active_threads = alloca i32, align 4
  %0 = bitcast i32* %func to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %0) #11
  %1 = bitcast i32* %active_threads to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %1) #11
  %get_remote_profiler_state = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %s, i64 0, i32 6
  %2 = load void (i32*, i32*)*, void (i32*, i32*)** %get_remote_profiler_state, align 8, !tbaa !382
  %tobool.not = icmp eq void (i32*, i32*)* %2, null
  br i1 %tobool.not, label %if.else, label %if.then

if.then:                                          ; preds = %entry
  call void %2(i32* nonnull %func, i32* nonnull %active_threads) #16
  br label %if.end

if.else:                                          ; preds = %entry
  %current_func = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %s, i64 0, i32 3
  %3 = load i32, i32* %current_func, align 8, !tbaa !343
  store i32 %3, i32* %func, align 4, !tbaa !76
  %active_threads2 = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %s, i64 0, i32 4
  %4 = load i32, i32* %active_threads2, align 4, !tbaa !383
  store i32 %4, i32* %active_threads, align 4, !tbaa !76
  br label %if.end

if.end:                                           ; preds = %if.else, %if.then
  %call = call i64 @halide_current_time_ns(i8* null) #16
  %5 = load i32, i32* %func, align 4, !tbaa !76
  %cmp = icmp eq i32 %5, -2
  br i1 %cmp, label %cleanup, label %if.else4

if.else4:                                         ; preds = %if.end
  %cmp5 = icmp sgt i32 %5, -1
  br i1 %cmp5, label %if.then6, label %if.end8

if.then6:                                         ; preds = %if.else4
  %6 = load i64, i64* %prev_t, align 8, !tbaa !115
  %sub = sub i64 %call, %6
  %7 = load i32, i32* %active_threads, align 4, !tbaa !76
  call void @_ZN6Halide7Runtime8Internal9bill_funcEP21halide_profiler_stateiyi(%struct.halide_profiler_state* nonnull %s, i32 %5, i64 %sub, i32 %7) #17
  br label %if.end8

if.end8:                                          ; preds = %if.then6, %if.else4
  store i64 %call, i64* %prev_t, align 8, !tbaa !115
  %sleep_time = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %s, i64 0, i32 1
  %8 = load i32, i32* %sleep_time, align 8, !tbaa !384
  br label %cleanup

cleanup:                                          ; preds = %if.end8, %if.end
  %retval.0 = phi i32 [ %8, %if.end8 ], [ -1, %if.end ]
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %1) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %0) #11
  ret i32 %retval.0
}

; Function Attrs: mustprogress nounwind
define linkonce void @_ZN6Halide7Runtime8Internal24sampling_profiler_threadEPv(i8* %0) #0 {
entry:
  %t = alloca i64, align 8
  %call = tail call %struct.halide_profiler_state* @halide_profiler_get_state() #17
  %lock = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %call, i64 0, i32 0
  tail call void @halide_mutex_lock(%struct.halide_mutex* %lock) #16
  %current_func = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %call, i64 0, i32 3
  %1 = bitcast i64* %t to i8*
  %2 = load i32, i32* %current_func, align 8, !tbaa !343
  %cmp.not23 = icmp eq i32 %2, -2
  br i1 %cmp.not23, label %while.end8, label %while.body

while.body:                                       ; preds = %entry, %while.end
  %call1 = call i64 @halide_current_time_ns(i8* null) #16
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %1) #11
  store i64 %call1, i64* %t, align 8, !tbaa !115
  %call420 = call i32 @halide_profiler_sample(%struct.halide_profiler_state* nonnull %call, i64* nonnull %t) #17
  %cmp521 = icmp slt i32 %call420, 0
  br i1 %cmp521, label %while.end, label %if.end

if.end:                                           ; preds = %while.body, %if.end
  %call422 = phi i32 [ %call4, %if.end ], [ %call420, %while.body ]
  call void @halide_mutex_unlock(%struct.halide_mutex* %lock) #16
  call void @halide_sleep_ms(i8* null, i32 %call422) #16
  call void @halide_mutex_lock(%struct.halide_mutex* %lock) #16
  %call4 = call i32 @halide_profiler_sample(%struct.halide_profiler_state* %call, i64* nonnull %t) #17
  %cmp5 = icmp slt i32 %call4, 0
  br i1 %cmp5, label %while.end, label %if.end, !llvm.loop !385

while.end:                                        ; preds = %if.end, %while.body
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %1) #11
  %3 = load i32, i32* %current_func, align 8, !tbaa !343
  %cmp.not = icmp eq i32 %3, -2
  br i1 %cmp.not, label %while.end8, label %while.body, !llvm.loop !386

while.end8:                                       ; preds = %while.end, %entry
  call void @halide_mutex_unlock(%struct.halide_mutex* nonnull %lock) #16
  ret void
}

; Function Attrs: nounwind
define weak %struct.halide_profiler_pipeline_stats* @halide_profiler_get_pipeline_state(i8* %pipeline_name) local_unnamed_addr #3 {
entry:
  %call = tail call %struct.halide_profiler_state* @halide_profiler_get_state() #17
  %lock.i = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %call, i64 0, i32 0
  tail call void @halide_mutex_lock(%struct.halide_mutex* %lock.i) #16
  %pipelines = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %call, i64 0, i32 5
  %p.013 = load %struct.halide_profiler_pipeline_stats*, %struct.halide_profiler_pipeline_stats** %pipelines, align 8, !tbaa !11
  %tobool.not14 = icmp eq %struct.halide_profiler_pipeline_stats* %p.013, null
  br i1 %tobool.not14, label %cleanup, label %for.body

for.body:                                         ; preds = %entry, %for.inc
  %p.015 = phi %struct.halide_profiler_pipeline_stats* [ %p.0, %for.inc ], [ %p.013, %entry ]
  %name = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.015, i64 0, i32 6
  %0 = load i8*, i8** %name, align 8, !tbaa !349
  %cmp = icmp eq i8* %0, %pipeline_name
  br i1 %cmp, label %cleanup, label %for.inc

for.inc:                                          ; preds = %for.body
  %next = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %p.015, i64 0, i32 8
  %1 = bitcast i8** %next to %struct.halide_profiler_pipeline_stats**
  %p.0 = load %struct.halide_profiler_pipeline_stats*, %struct.halide_profiler_pipeline_stats** %1, align 8, !tbaa !11
  %tobool.not = icmp eq %struct.halide_profiler_pipeline_stats* %p.0, null
  br i1 %tobool.not, label %cleanup, label %for.body, !llvm.loop !387

cleanup:                                          ; preds = %for.inc, %for.body, %entry
  %p.0.lcssa = phi %struct.halide_profiler_pipeline_stats* [ null, %entry ], [ null, %for.inc ], [ %p.015, %for.body ]
  tail call void @halide_mutex_unlock(%struct.halide_mutex* %lock.i) #16
  ret %struct.halide_profiler_pipeline_stats* %p.0.lcssa
}

; Function Attrs: nounwind
define weak i32 @halide_profiler_pipeline_start(i8* %user_context, i8* %pipeline_name, i32 %num_funcs, i64* %func_names) local_unnamed_addr #3 {
entry:
  %call = tail call %struct.halide_profiler_state* @halide_profiler_get_state() #17
  %lock.i = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %call, i64 0, i32 0
  tail call void @halide_mutex_lock(%struct.halide_mutex* %lock.i) #16
  %sampling_thread = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %call, i64 0, i32 7
  %0 = load %struct.halide_thread*, %struct.halide_thread** %sampling_thread, align 8, !tbaa !341
  %tobool.not = icmp eq %struct.halide_thread* %0, null
  br i1 %tobool.not, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  %call1 = tail call i32 @halide_start_clock(i8* %user_context) #16
  %call2 = tail call %struct.halide_thread* @halide_spawn_thread(void (i8*)* nonnull @_ZN6Halide7Runtime8Internal24sampling_profiler_threadEPv, i8* null) #16
  store %struct.halide_thread* %call2, %struct.halide_thread** %sampling_thread, align 8, !tbaa !341
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  %call4 = tail call %struct.halide_profiler_pipeline_stats* @_ZN6Halide7Runtime8Internal23find_or_create_pipelineEPKciPKy(i8* %pipeline_name, i32 %num_funcs, i64* %func_names) #17
  %tobool5.not = icmp eq %struct.halide_profiler_pipeline_stats* %call4, null
  br i1 %tobool5.not, label %if.then6, label %if.end8

if.then6:                                         ; preds = %if.end
  %call7 = tail call i32 @halide_error_out_of_memory(i8* %user_context) #16
  br label %cleanup

if.end8:                                          ; preds = %if.end
  %runs = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %call4, i64 0, i32 11
  %1 = load i32, i32* %runs, align 8, !tbaa !346
  %inc = add nsw i32 %1, 1
  store i32 %inc, i32* %runs, align 8, !tbaa !346
  %first_func_id = getelementptr inbounds %struct.halide_profiler_pipeline_stats, %struct.halide_profiler_pipeline_stats* %call4, i64 0, i32 10
  %2 = load i32, i32* %first_func_id, align 4, !tbaa !379
  br label %cleanup

cleanup:                                          ; preds = %if.end8, %if.then6
  %retval.0 = phi i32 [ %2, %if.end8 ], [ %call7, %if.then6 ]
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull %lock.i) #16
  ret i32 %retval.0
}

; Function Attrs: mustprogress nounwind
define weak void @halide_profiler_stack_peak_update(i8* %user_context, i8* %pipeline_state, i64* %f_values) local_unnamed_addr #0 {
entry:
  %cmp.not = icmp eq i8* %pipeline_state, null
  br i1 %cmp.not, label %if.then, label %do.end

if.then:                                          ; preds = %entry
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([104 x i8], [104 x i8]* @.str.186, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then, %entry
  %num_funcs = getelementptr inbounds i8, i8* %pipeline_state, i64 72
  %0 = bitcast i8* %num_funcs to i32*
  %funcs = getelementptr inbounds i8, i8* %pipeline_state, i64 56
  %1 = bitcast i8* %funcs to %struct.halide_profiler_func_stats**
  %2 = load i32, i32* %0, align 8, !tbaa !354
  %cmp118 = icmp sgt i32 %2, 0
  br i1 %cmp118, label %for.body, label %for.cond.cleanup

for.cond.cleanup:                                 ; preds = %for.inc, %do.end
  ret void

for.body:                                         ; preds = %do.end, %for.inc
  %3 = phi i32 [ %9, %for.inc ], [ %2, %do.end ]
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc ], [ 0, %do.end ]
  %arrayidx = getelementptr inbounds i64, i64* %f_values, i64 %indvars.iv
  %4 = load i64, i64* %arrayidx, align 8, !tbaa !115
  %cmp2.not = icmp eq i64 %4, 0
  br i1 %cmp2.not, label %for.inc, label %if.then3

if.then3:                                         ; preds = %for.body
  %5 = load %struct.halide_profiler_func_stats*, %struct.halide_profiler_func_stats** %1, align 8, !tbaa !355
  %stack_peak = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %5, i64 %indvars.iv, i32 4
  %6 = load i64, i64* %stack_peak, align 8, !tbaa !115
  br label %while.cond.i

while.cond.i:                                     ; preds = %while.body.i, %if.then3
  %old_val.0.i = phi i64 [ %6, %if.then3 ], [ %8, %while.body.i ]
  %cmp.i = icmp ult i64 %old_val.0.i, %4
  br i1 %cmp.i, label %while.body.i, label %for.inc.loopexit

while.body.i:                                     ; preds = %while.cond.i
  %7 = cmpxchg i64* %stack_peak, i64 %old_val.0.i, i64 %4 seq_cst seq_cst, align 8
  %8 = extractvalue { i64, i1 } %7, 0
  %cmp1.i = icmp eq i64 %old_val.0.i, %8
  br i1 %cmp1.i, label %for.inc.loopexit, label %while.cond.i, !llvm.loop !388

for.inc.loopexit:                                 ; preds = %while.body.i, %while.cond.i
  %.pre = load i32, i32* %0, align 8, !tbaa !354
  br label %for.inc

for.inc:                                          ; preds = %for.inc.loopexit, %for.body
  %9 = phi i32 [ %.pre, %for.inc.loopexit ], [ %3, %for.body ]
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %10 = sext i32 %9 to i64
  %cmp1 = icmp slt i64 %indvars.iv.next, %10
  br i1 %cmp1, label %for.body, label %for.cond.cleanup, !llvm.loop !389
}

; Function Attrs: mustprogress nounwind
define weak void @halide_profiler_memory_allocate(i8* %user_context, i8* %pipeline_state, i32 %func_id, i64 %incr) local_unnamed_addr #0 {
entry:
  %cmp = icmp eq i64 %incr, 0
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %entry
  %cmp1.not = icmp eq i8* %pipeline_state, null
  br i1 %cmp1.not, label %if.then2, label %do.body4

if.then2:                                         ; preds = %if.end
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([104 x i8], [104 x i8]* @.str.1.187, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.body4

do.body4:                                         ; preds = %if.then2, %if.end
  %cmp5 = icmp sgt i32 %func_id, -1
  br i1 %cmp5, label %do.body10, label %if.then6

if.then6:                                         ; preds = %do.body4
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([98 x i8], [98 x i8]* @.str.2.188, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.body10

do.body10:                                        ; preds = %if.then6, %do.body4
  %num_funcs = getelementptr inbounds i8, i8* %pipeline_state, i64 72
  %0 = bitcast i8* %num_funcs to i32*
  %1 = load i32, i32* %0, align 8, !tbaa !354
  %cmp11 = icmp sgt i32 %1, %func_id
  br i1 %cmp11, label %do.end15, label %if.then12

if.then12:                                        ; preds = %do.body10
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([114 x i8], [114 x i8]* @.str.3.189, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end15

do.end15:                                         ; preds = %if.then12, %do.body10
  %funcs = getelementptr inbounds i8, i8* %pipeline_state, i64 56
  %2 = bitcast i8* %funcs to %struct.halide_profiler_func_stats**
  %3 = load %struct.halide_profiler_func_stats*, %struct.halide_profiler_func_stats** %2, align 8, !tbaa !355
  %idxprom = sext i32 %func_id to i64
  %num_allocs = getelementptr inbounds i8, i8* %pipeline_state, i64 88
  %4 = bitcast i8* %num_allocs to i32*
  %5 = atomicrmw add i32* %4, i32 1 seq_cst, align 4
  %memory_total = getelementptr inbounds i8, i8* %pipeline_state, i64 24
  %6 = bitcast i8* %memory_total to i64*
  %7 = atomicrmw add i64* %6, i64 %incr seq_cst, align 8
  %memory_current = getelementptr inbounds i8, i8* %pipeline_state, i64 8
  %8 = bitcast i8* %memory_current to i64*
  %9 = atomicrmw add i64* %8, i64 %incr seq_cst, align 8
  %10 = add i64 %9, %incr
  %memory_peak = getelementptr inbounds i8, i8* %pipeline_state, i64 16
  %11 = bitcast i8* %memory_peak to i64*
  %12 = load i64, i64* %11, align 8, !tbaa !115
  br label %while.cond.i

while.cond.i:                                     ; preds = %while.body.i, %do.end15
  %old_val.0.i = phi i64 [ %12, %do.end15 ], [ %14, %while.body.i ]
  %cmp.i = icmp ult i64 %old_val.0.i, %10
  br i1 %cmp.i, label %while.body.i, label %_ZN12_GLOBAL__N_125sync_compare_max_and_swapIyEEvPT_S1_.exit

while.body.i:                                     ; preds = %while.cond.i
  %13 = cmpxchg i64* %11, i64 %old_val.0.i, i64 %10 seq_cst seq_cst, align 8
  %14 = extractvalue { i64, i1 } %13, 0
  %cmp1.i = icmp eq i64 %old_val.0.i, %14
  br i1 %cmp1.i, label %_ZN12_GLOBAL__N_125sync_compare_max_and_swapIyEEvPT_S1_.exit, label %while.cond.i, !llvm.loop !388

_ZN12_GLOBAL__N_125sync_compare_max_and_swapIyEEvPT_S1_.exit: ; preds = %while.body.i, %while.cond.i
  %num_allocs16 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %3, i64 %idxprom, i32 8
  %15 = atomicrmw add i32* %num_allocs16, i32 1 seq_cst, align 4
  %memory_total17 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %3, i64 %idxprom, i32 3
  %16 = atomicrmw add i64* %memory_total17, i64 %incr seq_cst, align 8
  %memory_current18 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %3, i64 %idxprom, i32 1
  %17 = atomicrmw add i64* %memory_current18, i64 %incr seq_cst, align 8
  %18 = add i64 %17, %incr
  %memory_peak19 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %3, i64 %idxprom, i32 2
  %19 = load i64, i64* %memory_peak19, align 8, !tbaa !115
  br label %while.cond.i43

while.cond.i43:                                   ; preds = %while.body.i45, %_ZN12_GLOBAL__N_125sync_compare_max_and_swapIyEEvPT_S1_.exit
  %old_val.0.i41 = phi i64 [ %19, %_ZN12_GLOBAL__N_125sync_compare_max_and_swapIyEEvPT_S1_.exit ], [ %21, %while.body.i45 ]
  %cmp.i42 = icmp ult i64 %old_val.0.i41, %18
  br i1 %cmp.i42, label %while.body.i45, label %return

while.body.i45:                                   ; preds = %while.cond.i43
  %20 = cmpxchg i64* %memory_peak19, i64 %old_val.0.i41, i64 %18 seq_cst seq_cst, align 8
  %21 = extractvalue { i64, i1 } %20, 0
  %cmp1.i44 = icmp eq i64 %old_val.0.i41, %21
  br i1 %cmp1.i44, label %return, label %while.cond.i43, !llvm.loop !388

return:                                           ; preds = %while.body.i45, %while.cond.i43, %entry
  ret void
}

; Function Attrs: mustprogress nounwind
define weak void @halide_profiler_memory_free(i8* %user_context, i8* %pipeline_state, i32 %func_id, i64 %decr) local_unnamed_addr #0 {
entry:
  %cmp = icmp eq i64 %decr, 0
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %entry
  %cmp1.not = icmp eq i8* %pipeline_state, null
  br i1 %cmp1.not, label %if.then2, label %do.body4

if.then2:                                         ; preds = %if.end
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([104 x i8], [104 x i8]* @.str.4.190, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.body4

do.body4:                                         ; preds = %if.then2, %if.end
  %cmp5 = icmp sgt i32 %func_id, -1
  br i1 %cmp5, label %do.body10, label %if.then6

if.then6:                                         ; preds = %do.body4
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([98 x i8], [98 x i8]* @.str.5.191, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.body10

do.body10:                                        ; preds = %if.then6, %do.body4
  %num_funcs = getelementptr inbounds i8, i8* %pipeline_state, i64 72
  %0 = bitcast i8* %num_funcs to i32*
  %1 = load i32, i32* %0, align 8, !tbaa !354
  %cmp11 = icmp sgt i32 %1, %func_id
  br i1 %cmp11, label %do.end15, label %if.then12

if.then12:                                        ; preds = %do.body10
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([114 x i8], [114 x i8]* @.str.6.192, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end15

do.end15:                                         ; preds = %if.then12, %do.body10
  %funcs = getelementptr inbounds i8, i8* %pipeline_state, i64 56
  %2 = bitcast i8* %funcs to %struct.halide_profiler_func_stats**
  %3 = load %struct.halide_profiler_func_stats*, %struct.halide_profiler_func_stats** %2, align 8, !tbaa !355
  %idxprom = sext i32 %func_id to i64
  %memory_current = getelementptr inbounds i8, i8* %pipeline_state, i64 8
  %4 = bitcast i8* %memory_current to i64*
  %5 = atomicrmw sub i64* %4, i64 %decr seq_cst, align 8
  %memory_current16 = getelementptr inbounds %struct.halide_profiler_func_stats, %struct.halide_profiler_func_stats* %3, i64 %idxprom, i32 1
  %6 = atomicrmw sub i64* %memory_current16, i64 %decr seq_cst, align 8
  br label %return

return:                                           ; preds = %do.end15, %entry
  ret void
}

; Function Attrs: nounwind
define weak void @halide_profiler_report(i8* %user_context) local_unnamed_addr #3 {
entry:
  %call = tail call %struct.halide_profiler_state* @halide_profiler_get_state() #17
  %lock.i = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %call, i64 0, i32 0
  tail call void @halide_mutex_lock(%struct.halide_mutex* %lock.i) #16
  tail call void @halide_profiler_report_unlocked(i8* %user_context, %struct.halide_profiler_state* %call) #17
  tail call void @halide_mutex_unlock(%struct.halide_mutex* %lock.i) #16
  ret void
}

; Function Attrs: nounwind
define weak void @halide_profiler_reset() local_unnamed_addr #3 {
entry:
  %call = tail call %struct.halide_profiler_state* @halide_profiler_get_state() #17
  %lock.i = getelementptr inbounds %struct.halide_profiler_state, %struct.halide_profiler_state* %call, i64 0, i32 0
  tail call void @halide_mutex_lock(%struct.halide_mutex* %lock.i) #16
  tail call void @halide_profiler_reset_unlocked(%struct.halide_profiler_state* %call) #17
  tail call void @halide_mutex_unlock(%struct.halide_mutex* %lock.i) #16
  ret void
}

; Function Attrs: mustprogress nounwind
define weak void @halide_profiler_pipeline_end(i8* %user_context, i8* %state) local_unnamed_addr #0 {
entry:
  %current_func = getelementptr inbounds i8, i8* %state, i64 16
  %0 = bitcast i8* %current_func to i32*
  store i32 -1, i32* %0, align 8, !tbaa !343
  ret void
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* %ptr, i64 %len) local_unnamed_addr #0 {
entry:
  ret i32 0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_msan_check_memory_is_initialized(i8* %user_context, i8* %ptr, i64 %len, i8* %name) local_unnamed_addr #0 {
entry:
  ret i32 0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_msan_check_buffer_is_initialized(i8* %user_context, %struct.halide_buffer_t* %b, i8* %buf_name) local_unnamed_addr #0 {
entry:
  ret i32 0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_msan_annotate_buffer_is_initialized(i8* %user_context, %struct.halide_buffer_t* %b) local_unnamed_addr #0 {
entry:
  ret i32 0
}

; Function Attrs: mustprogress nounwind
define weak void @halide_msan_annotate_buffer_is_initialized_as_destructor(i8* %user_context, i8* %b) local_unnamed_addr #0 {
entry:
  ret void
}

; Function Attrs: nounwind
define weak i32 @halide_default_can_use_target_features(i32 %count, i64* %features) #3 {
entry:
  %tmp = alloca %"struct.Halide::Runtime::Internal::CpuFeatures", align 8
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal36halide_cpu_features_initialized_lockE) #16
  %0 = load i8, i8* @_ZN6Halide7Runtime8Internal31halide_cpu_features_initializedE, align 1, !tbaa !16, !range !18
  %tobool.not = icmp eq i8 %0, 0
  br i1 %tobool.not, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  %1 = bitcast %"struct.Halide::Runtime::Internal::CpuFeatures"* %tmp to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %1) #11
  call void @_ZN6Halide7Runtime8Internal23halide_get_cpu_featuresEv(%"struct.Halide::Runtime::Internal::CpuFeatures"* nonnull sret(%"struct.Halide::Runtime::Internal::CpuFeatures") align 8 %tmp) #16
  %call = call i8* @memcpy(i8* bitcast ([4 x i64]* @_ZN6Halide7Runtime8Internal27halide_cpu_features_storageE to i8*), i8* nonnull %1, i64 32) #16
  store i8 1, i8* @_ZN6Halide7Runtime8Internal31halide_cpu_features_initializedE, align 1, !tbaa !16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %1) #11
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  call void @halide_mutex_unlock(%struct.halide_mutex* nonnull @_ZN6Halide7Runtime8Internal36halide_cpu_features_initialized_lockE) #16
  %cmp.not = icmp eq i32 %count, 2
  br i1 %cmp.not, label %if.end2, label %if.then1

if.then1:                                         ; preds = %if.end
  call void @halide_error(i8* null, i8* getelementptr inbounds ([81 x i8], [81 x i8]* @.str.197, i64 0, i64 0)) #16
  br label %if.end2

if.end2:                                          ; preds = %if.then1, %if.end
  %2 = load i64, i64* %features, align 8, !tbaa !115
  %3 = load i64, i64* getelementptr inbounds ([4 x i64], [4 x i64]* @_ZN6Halide7Runtime8Internal27halide_cpu_features_storageE, i64 0, i64 0), align 8, !tbaa !115
  %and = and i64 %3, %2
  %cmp6.not = icmp eq i64 %and, 0
  br i1 %cmp6.not, label %for.inc.critedge, label %if.then7

if.then7:                                         ; preds = %if.end2
  %4 = load i64, i64* getelementptr inbounds ([4 x i64], [4 x i64]* @_ZN6Halide7Runtime8Internal27halide_cpu_features_storageE, i64 0, i64 2), align 8, !tbaa !115
  %and10 = and i64 %4, %and
  %cmp11.not = icmp eq i64 %and10, %and
  br i1 %cmp11.not, label %for.inc.critedge, label %cleanup15

for.inc.critedge:                                 ; preds = %if.then7, %if.end2
  %arrayidx.1 = getelementptr inbounds i64, i64* %features, i64 1
  %5 = load i64, i64* %arrayidx.1, align 8, !tbaa !115
  %6 = load i64, i64* getelementptr inbounds ([4 x i64], [4 x i64]* @_ZN6Halide7Runtime8Internal27halide_cpu_features_storageE, i64 0, i64 1), align 8, !tbaa !115
  %and.1 = and i64 %6, %5
  %cmp6.not.1 = icmp eq i64 %and.1, 0
  br i1 %cmp6.not.1, label %for.inc.critedge.1, label %if.then7.1

cleanup15:                                        ; preds = %for.inc.critedge.1, %if.then7.1, %if.then7
  %cmp3.lcssa = phi i32 [ 0, %if.then7 ], [ 0, %if.then7.1 ], [ 1, %for.inc.critedge.1 ]
  ret i32 %cmp3.lcssa

if.then7.1:                                       ; preds = %for.inc.critedge
  %7 = load i64, i64* getelementptr inbounds ([4 x i64], [4 x i64]* @_ZN6Halide7Runtime8Internal27halide_cpu_features_storageE, i64 0, i64 3), align 8, !tbaa !115
  %and10.1 = and i64 %7, %and.1
  %cmp11.not.1 = icmp eq i64 %and10.1, %and.1
  br i1 %cmp11.not.1, label %for.inc.critedge.1, label %cleanup15

for.inc.critedge.1:                               ; preds = %if.then7.1, %for.inc.critedge
  br label %cleanup15
}

; Function Attrs: mustprogress nounwind
define weak i32 (i32, i64*)* @halide_set_custom_can_use_target_features(i32 (i32, i64*)* %fn) local_unnamed_addr #0 {
entry:
  %0 = load i32 (i32, i64*)*, i32 (i32, i64*)** @_ZN6Halide7Runtime8Internal30custom_can_use_target_featuresE, align 8, !tbaa !11
  store i32 (i32, i64*)* %fn, i32 (i32, i64*)** @_ZN6Halide7Runtime8Internal30custom_can_use_target_featuresE, align 8, !tbaa !11
  ret i32 (i32, i64*)* %0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_can_use_target_features(i32 %count, i64* %features) local_unnamed_addr #0 {
entry:
  %0 = load i32 (i32, i64*)*, i32 (i32, i64*)** @_ZN6Halide7Runtime8Internal30custom_can_use_target_featuresE, align 8, !tbaa !11
  %call = tail call i32 %0(i32 %count, i64* %features) #16
  ret i32 %call
}

; Function Attrs: nounwind
define linkonce void @_ZN6Halide7Runtime8Internal23halide_get_cpu_featuresEv(%"struct.Halide::Runtime::Internal::CpuFeatures"* noalias sret(%"struct.Halide::Runtime::Internal::CpuFeatures") align 8 %agg.result) local_unnamed_addr #8 {
entry:
  %info = alloca [4 x i32], align 4
  %info2 = alloca [4 x i32], align 4
  %info3 = alloca [4 x i32], align 4
  %arrayidx3.i = getelementptr inbounds %"struct.Halide::Runtime::Internal::CpuFeatures", %"struct.Halide::Runtime::Internal::CpuFeatures"* %agg.result, i64 0, i32 1, i64 0
  %0 = bitcast %"struct.Halide::Runtime::Internal::CpuFeatures"* %agg.result to <4 x i64>*
  store <4 x i64> <i64 34084860461808, i64 0, i64 0, i64 0>, <4 x i64>* %0, align 8, !tbaa !115
  %1 = bitcast [4 x i32]* %info to i8*
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %1) #11
  %arraydecay = getelementptr inbounds [4 x i32], [4 x i32]* %info, i64 0, i64 0
  store i32 1, i32* %arraydecay, align 4, !tbaa !76
  %arrayidx1.i = getelementptr inbounds [4 x i32], [4 x i32]* %info, i64 0, i64 1
  store i32 0, i32* %arrayidx1.i, align 4, !tbaa !76
  call void asm sideeffect inteldialect "xchg rbx, rsi\0A\09mov eax, dword ptr $$0 $0\0A\09mov ecx, dword ptr $$4 $0\0A\09cpuid\0A\09mov dword ptr $$0 $0, eax\0A\09mov dword ptr $$4 $0, ebx\0A\09mov dword ptr $$8 $0, ecx\0A\09mov dword ptr $$12 $0, edx\0A\09xchg rbx, rsi", "=*m,~{eax},~{ebx},~{ecx},~{edx},~{esi},~{dirflag},~{fpsr},~{flags}"(i32* nonnull %arraydecay) #11
  %arrayidx = getelementptr inbounds [4 x i32], [4 x i32]* %info, i64 0, i64 2
  %2 = load i32, i32* %arrayidx, align 4, !tbaa !76
  %and = lshr i32 %2, 15
  %3 = and i32 %and, 16
  %and2 = lshr i32 %2, 23
  %4 = and i32 %and2, 32
  %5 = or i32 %4, %3
  %and6 = lshr i32 %2, 20
  %6 = and i32 %and6, 512
  %7 = or i32 %5, %6
  %and14 = lshr i32 %2, 5
  %8 = and i32 %and14, 128
  %9 = or i32 %7, %8
  %10 = zext i32 %9 to i64
  %11 = and i32 %2, 805834752
  %12 = icmp eq i32 %11, 0
  br i1 %12, label %14, label %13

13:                                               ; preds = %entry
  store i64 %10, i64* %arrayidx3.i, align 8, !tbaa !115
  br label %14

14:                                               ; preds = %13, %entry
  %15 = and i32 %2, 1879048192
  %.not = icmp eq i32 %15, 1879048192
  br i1 %.not, label %if.then30, label %if.end67

if.then30:                                        ; preds = %14
  %16 = bitcast [4 x i32]* %info2 to i8*
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %16) #11
  %arraydecay31 = getelementptr inbounds [4 x i32], [4 x i32]* %info2, i64 0, i64 0
  store i32 7, i32* %arraydecay31, align 4, !tbaa !76
  %arrayidx1.i113 = getelementptr inbounds [4 x i32], [4 x i32]* %info2, i64 0, i64 1
  store i32 0, i32* %arrayidx1.i113, align 4, !tbaa !76
  call void asm sideeffect inteldialect "xchg rbx, rsi\0A\09mov eax, dword ptr $$0 $0\0A\09mov ecx, dword ptr $$4 $0\0A\09cpuid\0A\09mov dword ptr $$0 $0, eax\0A\09mov dword ptr $$4 $0, ebx\0A\09mov dword ptr $$8 $0, ecx\0A\09mov dword ptr $$12 $0, edx\0A\09xchg rbx, rsi", "=*m,~{eax},~{ebx},~{ecx},~{edx},~{esi},~{dirflag},~{fpsr},~{flags}"(i32* nonnull %arraydecay31) #11
  %17 = load i32, i32* %arrayidx1.i113, align 4, !tbaa !76
  %and33 = and i32 %17, 32
  %cmp34.not = icmp eq i32 %and33, 0
  br i1 %cmp34.not, label %if.end36, label %if.then35

if.then35:                                        ; preds = %if.then30
  %or.i115 = or i64 %10, 64
  store i64 %or.i115, i64* %arrayidx3.i, align 8, !tbaa !115
  br label %if.end36

if.end36:                                         ; preds = %if.then35, %if.then30
  %18 = phi i64 [ %or.i115, %if.then35 ], [ %10, %if.then30 ]
  %and38 = and i32 %17, 268500992
  %cmp39 = icmp eq i32 %and38, 268500992
  br i1 %cmp39, label %if.then40, label %if.end66

if.then40:                                        ; preds = %if.end36
  %and42 = and i32 %17, 469827584
  %cmp43 = icmp eq i32 %and42, 469827584
  %spec.select.v = select i1 %cmp43, i64 3298534883328, i64 1099511627776
  %spec.select = or i64 %18, %spec.select.v
  %and47 = and i32 %17, -805109760
  %cmp48 = icmp eq i32 %and47, -805109760
  %or.i121 = or i64 %spec.select, 4398046511104
  %spec.select130 = select i1 %cmp48, i64 %or.i121, i64 %spec.select
  store i64 %spec.select130, i64* %arrayidx3.i, align 8, !tbaa !115
  %and52 = and i32 %17, -803012608
  %cmp53 = icmp eq i32 %and52, -803012608
  br i1 %cmp53, label %if.then54, label %if.end66

if.then54:                                        ; preds = %if.then40
  %or.i123 = or i64 %spec.select130, 8796093022208
  store i64 %or.i123, i64* %arrayidx3.i, align 8, !tbaa !115
  %19 = bitcast [4 x i32]* %info3 to i8*
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %19) #11
  %arraydecay55 = getelementptr inbounds [4 x i32], [4 x i32]* %info3, i64 0, i64 0
  store i32 7, i32* %arraydecay55, align 4, !tbaa !76
  %arrayidx1.i124 = getelementptr inbounds [4 x i32], [4 x i32]* %info3, i64 0, i64 1
  store i32 1, i32* %arrayidx1.i124, align 4, !tbaa !76
  call void asm sideeffect inteldialect "xchg rbx, rsi\0A\09mov eax, dword ptr $$0 $0\0A\09mov ecx, dword ptr $$4 $0\0A\09cpuid\0A\09mov dword ptr $$0 $0, eax\0A\09mov dword ptr $$4 $0, ebx\0A\09mov dword ptr $$8 $0, ecx\0A\09mov dword ptr $$12 $0, edx\0A\09xchg rbx, rsi", "=*m,~{eax},~{ebx},~{ecx},~{edx},~{esi},~{dirflag},~{fpsr},~{flags}"(i32* nonnull %arraydecay55) #11
  %arrayidx56 = getelementptr inbounds [4 x i32], [4 x i32]* %info2, i64 0, i64 2
  %20 = load i32, i32* %arrayidx56, align 4, !tbaa !76
  %and57 = and i32 %20, 2048
  %cmp58.not = icmp eq i32 %and57, 0
  br i1 %cmp58.not, label %if.end64, label %land.lhs.true59

land.lhs.true59:                                  ; preds = %if.then54
  %21 = load i32, i32* %arraydecay55, align 4, !tbaa !76
  %and61 = and i32 %21, 32
  %cmp62.not = icmp eq i32 %and61, 0
  br i1 %cmp62.not, label %if.end64, label %if.then63

if.then63:                                        ; preds = %land.lhs.true59
  %or.i126 = or i64 %spec.select130, 26388279066624
  store i64 %or.i126, i64* %arrayidx3.i, align 8, !tbaa !115
  br label %if.end64

if.end64:                                         ; preds = %if.then63, %land.lhs.true59, %if.then54
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %19) #11
  br label %if.end66

if.end66:                                         ; preds = %if.end64, %if.then40, %if.end36
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %16) #11
  br label %if.end67

if.end67:                                         ; preds = %if.end66, %14
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %1) #11
  ret void
}

; Function Attrs: mustprogress nounwind
define weak void @halide_use_jit_module() #0 {
entry:
  ret void
}

; Function Attrs: mustprogress nounwind
define weak void @halide_release_jit_module() #0 {
entry:
  ret void
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_compute_capability(i8* %user_context, i32* %major, i32* %minor) #3 {
entry:
  %ctx = alloca %"class.Halide::Runtime::Internal::OpenCL::ClContext", align 8
  %devices = alloca [1 x %struct._cl_device_id*], align 8
  %device_version = alloca [256 x i8], align 1
  %0 = load i8*, i8** @_ZN6Halide7Runtime8Internal6OpenCL10lib_openclE, align 8, !tbaa !11
  %tobool.not = icmp eq i8* %0, null
  br i1 %tobool.not, label %if.then, label %if.end3

if.then:                                          ; preds = %entry
  %call = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.15.222, i64 0, i64 0)) #17
  %tobool1.not = icmp eq i8* %call, null
  br i1 %tobool1.not, label %if.then2, label %if.end3

if.then2:                                         ; preds = %if.then
  store i32 0, i32* %minor, align 4, !tbaa !76
  store i32 0, i32* %major, align 4, !tbaa !76
  br label %return

if.end3:                                          ; preds = %if.then, %entry
  %1 = bitcast %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %1) #11
  %user_context2.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 0
  store i8* %user_context, i8** %user_context2.i, align 8, !tbaa !390
  %context.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 1
  store %struct._cl_context* null, %struct._cl_context** %context.i, align 8, !tbaa !392
  %cmd_queue.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  store %struct._cl_command_queue* null, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %error_code.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 3
  store i32 0, i32* %error_code.i, align 8, !tbaa !394
  %2 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp.i = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %2, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %if.end3
  tail call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #16
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %if.end3
  %call.i = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %context.i, %struct._cl_command_queue** nonnull %cmd_queue.i, i1 zeroext true) #16
  store i32 %call.i, i32* %error_code.i, align 8, !tbaa !394
  %3 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %tobool.not.i = icmp eq %struct._cl_context* %3, null
  %4 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8
  %tobool8.not.i = icmp eq %struct._cl_command_queue* %4, null
  %or.cond.i = select i1 %tobool.not.i, i1 true, i1 %tobool8.not.i
  br i1 %or.cond.i, label %if.then9.i, label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit

if.then9.i:                                       ; preds = %if.end.i
  %call.i.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then9.i
  %call.i1832.i = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

if.else.i.i:                                      ; preds = %if.then9.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i18.i = call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i18.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread: ; preds = %if.else.i.i, %if.then.i.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i.i ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  call void @free(i8* %call.i.i) #16
  store i32 -1, i32* %error_code.i, align 8, !tbaa !394
  br label %cleanup35

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit: ; preds = %if.end.i
  %cmp.not = icmp eq i32 %call.i, 0
  br i1 %cmp.not, label %if.end6, label %cleanup35

if.end6:                                          ; preds = %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit
  %5 = bitcast [1 x %struct._cl_device_id*]* %devices to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %5) #11
  %6 = load i32 (%struct._cl_context*, i32, i64, i8*, i64*)*, i32 (%struct._cl_context*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL16clGetContextInfoE, align 8, !tbaa !11
  %call7 = call i32 %6(%struct._cl_context* nonnull %3, i32 4225, i64 8, i8* nonnull %5, i64* null) #16
  %cmp8.not = icmp eq i32 %call7, 0
  br i1 %cmp8.not, label %if.end13, label %if.then9

if.then9:                                         ; preds = %if.end6
  %call.i57 = call i8* @malloc(i64 1024) #16
  %tobool.not.i58 = icmp eq i8* %call.i57, null
  br i1 %tobool.not.i58, label %if.then9.split, label %if.then6.i

if.then9.split:                                   ; preds = %if.then9
  %call.i611 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([30 x i8], [30 x i8]* @.str.108, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %if.then9
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i57, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i612 = call i8* @halide_string_to_string(i8* nonnull %call.i57, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([30 x i8], [30 x i8]* @.str.108, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %if.then9.split, %if.then6.i
  %phi.call = phi i8* [ %call.i611, %if.then9.split ], [ %call.i612, %if.then6.i ]
  %ref.tmp.sroa.12.0 = phi i8* [ null, %if.then9.split ], [ %add.ptr.i, %if.then6.i ]
  %call11 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %call7) #17
  %call.i64 = call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.12.0, i8* %call11) #16
  br i1 %tobool.not.i58, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i64 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i57 to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i68 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i57, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i57, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  call void @free(i8* %call.i57) #16
  br label %cleanup33

if.end13:                                         ; preds = %if.end6
  %arraydecay = getelementptr inbounds [1 x %struct._cl_device_id*], [1 x %struct._cl_device_id*]* %devices, i64 0, i64 0
  %7 = getelementptr inbounds [256 x i8], [256 x i8]* %device_version, i64 0, i64 0
  call void @llvm.lifetime.start.p0i8(i64 256, i8* nonnull %7) #11
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 1 dereferenceable(256) %7, i8 0, i64 256, i1 false)
  %8 = load i32 (%struct._cl_device_id*, i32, i64, i8*, i64*)*, i32 (%struct._cl_device_id*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL15clGetDeviceInfoE, align 8, !tbaa !11
  %9 = load %struct._cl_device_id*, %struct._cl_device_id** %arraydecay, align 8, !tbaa !11
  %call15 = call i32 %8(%struct._cl_device_id* %9, i32 4143, i64 256, i8* nonnull %7, i64* null) #16
  %cmp16.not = icmp eq i32 %call15, 0
  br i1 %cmp16.not, label %if.end22, label %if.then17

if.then17:                                        ; preds = %if.end13
  %call.i73 = call i8* @malloc(i64 1024) #16
  %tobool.not.i76 = icmp eq i8* %call.i73, null
  br i1 %tobool.not.i76, label %if.then17.split, label %if.then6.i79

if.then17.split:                                  ; preds = %if.then17
  %call.i853 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.109, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit82

if.then6.i79:                                     ; preds = %if.then17
  %add.ptr.i77 = getelementptr inbounds i8, i8* %call.i73, i64 1023
  store i8 0, i8* %add.ptr.i77, align 1, !tbaa !15
  %call.i854 = call i8* @halide_string_to_string(i8* nonnull %call.i73, i8* nonnull %add.ptr.i77, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.109, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit82

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit82: ; preds = %if.then17.split, %if.then6.i79
  %phi.call5 = phi i8* [ %call.i853, %if.then17.split ], [ %call.i854, %if.then6.i79 ]
  %ref.tmp18.sroa.12.0 = phi i8* [ null, %if.then17.split ], [ %add.ptr.i77, %if.then6.i79 ]
  %call20 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %call15) #17
  %call.i88 = call i8* @halide_string_to_string(i8* %phi.call5, i8* %ref.tmp18.sroa.12.0, i8* %call20) #16
  br i1 %tobool.not.i76, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit110, label %if.else.i102

if.else.i102:                                     ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit82
  %sub.ptr.lhs.cast.i.i97 = ptrtoint i8* %call.i88 to i64
  %sub.ptr.rhs.cast.i.i98 = ptrtoint i8* %call.i73 to i64
  %sub.ptr.sub.i.i99 = sub i64 1, %sub.ptr.rhs.cast.i.i98
  %add.i.i100 = add i64 %sub.ptr.sub.i.i99, %sub.ptr.lhs.cast.i.i97
  %call.i.i101 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i73, i64 %add.i.i100) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit110

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit110: ; preds = %if.else.i102, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit82
  %.sink10.i103 = phi i8* [ %call.i73, %if.else.i102 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit82 ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i103) #16
  call void @free(i8* %call.i73) #16
  br label %cleanup32

if.end22:                                         ; preds = %if.end13
  %call24 = call i64 @strlen(i8* nonnull %7) #16
  %cmp25 = icmp ult i64 %call24, 10
  br i1 %cmp25, label %cleanup32, label %if.end27

if.end27:                                         ; preds = %if.end22
  %arrayidx28 = getelementptr inbounds [256 x i8], [256 x i8]* %device_version, i64 0, i64 7
  %10 = load i8, i8* %arrayidx28, align 1, !tbaa !15
  %conv = sext i8 %10 to i32
  %sub = add nsw i32 %conv, -48
  store i32 %sub, i32* %major, align 4, !tbaa !76
  %arrayidx29 = getelementptr inbounds [256 x i8], [256 x i8]* %device_version, i64 0, i64 9
  %11 = load i8, i8* %arrayidx29, align 1, !tbaa !15
  %conv30 = sext i8 %11 to i32
  %sub31 = add nsw i32 %conv30, -48
  store i32 %sub31, i32* %minor, align 4, !tbaa !76
  br label %cleanup32

cleanup32:                                        ; preds = %if.end27, %if.end22, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit110
  %retval.2 = phi i32 [ %call15, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit110 ], [ 0, %if.end27 ], [ -1, %if.end22 ]
  %cleanup.dest.slot.1 = phi i32 [ 1, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit110 ], [ 0, %if.end27 ], [ 1, %if.end22 ]
  call void @llvm.lifetime.end.p0i8(i64 256, i8* nonnull %7) #11
  br label %cleanup33

cleanup33:                                        ; preds = %cleanup32, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit
  %retval.3 = phi i32 [ %call7, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ %retval.2, %cleanup32 ]
  %cleanup.dest.slot.2 = phi i32 [ 1, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ %cleanup.dest.slot.1, %cleanup32 ]
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %5) #11
  br label %cleanup35

cleanup35:                                        ; preds = %cleanup33, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread
  %retval.4 = phi i32 [ %retval.3, %cleanup33 ], [ %call.i, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit ], [ -1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread ]
  %cleanup.dest.slot.3 = phi i32 [ %cleanup.dest.slot.2, %cleanup33 ], [ 1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit ], [ 1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread ]
  %12 = load i8*, i8** %user_context2.i, align 8, !tbaa !390
  %call.i55 = call i32 @halide_release_cl_context(i8* %12) #16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %1) #11
  %switch40 = icmp eq i32 %cleanup.dest.slot.3, 0
  %spec.select = select i1 %switch40, i32 0, i32 %retval.4
  br label %return

return:                                           ; preds = %cleanup35, %if.then2
  %retval.5 = phi i32 [ 0, %if.then2 ], [ %spec.select, %cleanup35 ]
  ret i32 %retval.5
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_device_malloc(i8* %user_context, %struct.halide_buffer_t* %buf) #3 {
entry:
  %ctx = alloca %"class.Halide::Runtime::Internal::OpenCL::ClContext", align 8
  %err = alloca i32, align 4
  %0 = bitcast %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %0) #11
  %user_context2.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 0
  store i8* %user_context, i8** %user_context2.i, align 8, !tbaa !390
  %context.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 1
  store %struct._cl_context* null, %struct._cl_context** %context.i, align 8, !tbaa !392
  %cmd_queue.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  store %struct._cl_command_queue* null, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %error_code.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 3
  store i32 0, i32* %error_code.i, align 8, !tbaa !394
  %1 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp.i = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %1, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  tail call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #16
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %entry
  %call.i = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %context.i, %struct._cl_command_queue** nonnull %cmd_queue.i, i1 zeroext true) #16
  store i32 %call.i, i32* %error_code.i, align 8, !tbaa !394
  %2 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %tobool.not.i = icmp eq %struct._cl_context* %2, null
  %3 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8
  %tobool8.not.i = icmp eq %struct._cl_command_queue* %3, null
  %or.cond.i = select i1 %tobool.not.i, i1 true, i1 %tobool8.not.i
  br i1 %or.cond.i, label %if.then9.i, label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit

if.then9.i:                                       ; preds = %if.end.i
  %call.i.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then9.i
  %call.i1832.i = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

if.else.i.i:                                      ; preds = %if.then9.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i18.i = call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i18.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread: ; preds = %if.else.i.i, %if.then.i.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i.i ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  call void @free(i8* %call.i.i) #16
  store i32 -1, i32* %error_code.i, align 8, !tbaa !394
  br label %cleanup72

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit: ; preds = %if.end.i
  %cmp.not = icmp eq i32 %call.i, 0
  br i1 %cmp.not, label %if.end, label %cleanup72

if.end:                                           ; preds = %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit
  %dimensions.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 5
  %4 = load i32, i32* %dimensions.i.i, align 4, !tbaa !180
  %dim.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 6
  %5 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i.i, align 8
  %cmp19.i.i = icmp sgt i32 %4, 0
  br i1 %cmp19.i.i, label %for.body.preheader.i.i, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

for.body.preheader.i.i:                           ; preds = %if.end
  %wide.trip.count.i.i = zext i32 %4 to i64
  %6 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter = and i64 %wide.trip.count.i.i, 3
  %7 = icmp ult i64 %6, 3
  br i1 %7, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.preheader.i.i.new

for.body.preheader.i.i.new:                       ; preds = %for.body.preheader.i.i
  %unroll_iter = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %if.end.i.i.3, %for.body.preheader.i.i.new
  %indvars.iv.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %niter = phi i64 [ %unroll_iter, %for.body.preheader.i.i.new ], [ %niter.nsub.3, %if.end.i.i.3 ]
  %stride2.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i.i, i32 2
  %8 = load i32, i32* %stride2.i.i, align 4, !tbaa !187
  %cmp3.i.i = icmp sgt i32 %8, 0
  br i1 %cmp3.i.i, label %if.then.i.i118, label %if.end.i.i

if.then.i.i118:                                   ; preds = %for.body.i.i
  %conv18.i.i = zext i32 %8 to i64
  %extent.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i.i, i32 1
  %9 = load i32, i32* %extent.i.i, align 4, !tbaa !183
  %sub.i.i = add nsw i32 %9, -1
  %conv7.i.i = sext i32 %sub.i.i to i64
  %mul.i.i = mul nsw i64 %conv7.i.i, %conv18.i.i
  %add.i.i = add nsw i64 %mul.i.i, %index.021.i.i
  br label %if.end.i.i

if.end.i.i:                                       ; preds = %if.then.i.i118, %for.body.i.i
  %index.1.i.i = phi i64 [ %add.i.i, %if.then.i.i118 ], [ %index.021.i.i, %for.body.i.i ]
  %indvars.iv.next.i.i = or i64 %indvars.iv.i.i, 1
  %stride2.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i, i32 2
  %10 = load i32, i32* %stride2.i.i.1, align 4, !tbaa !187
  %cmp3.i.i.1 = icmp sgt i32 %10, 0
  br i1 %cmp3.i.i.1, label %if.then.i.i118.1, label %if.end.i.i.1

for.body.i12.i.preheader.unr-lcssa:               ; preds = %if.end.i.i.3, %for.body.preheader.i.i
  %index.1.i.i.lcssa.ph = phi i64 [ undef, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %indvars.iv.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil

for.body.i.i.epil:                                ; preds = %for.body.i12.i.preheader.unr-lcssa, %if.end.i.i.epil
  %indvars.iv.i.i.epil = phi i64 [ %indvars.iv.next.i.i.epil, %if.end.i.i.epil ], [ %indvars.iv.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %index.021.i.i.epil = phi i64 [ %index.1.i.i.epil, %if.end.i.i.epil ], [ %index.021.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %if.end.i.i.epil ], [ %xtraiter, %for.body.i12.i.preheader.unr-lcssa ]
  %stride2.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i.i.epil, i32 2
  %11 = load i32, i32* %stride2.i.i.epil, align 4, !tbaa !187
  %cmp3.i.i.epil = icmp sgt i32 %11, 0
  br i1 %cmp3.i.i.epil, label %if.then.i.i118.epil, label %if.end.i.i.epil

if.then.i.i118.epil:                              ; preds = %for.body.i.i.epil
  %conv18.i.i.epil = zext i32 %11 to i64
  %extent.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i.i.epil, i32 1
  %12 = load i32, i32* %extent.i.i.epil, align 4, !tbaa !183
  %sub.i.i.epil = add nsw i32 %12, -1
  %conv7.i.i.epil = sext i32 %sub.i.i.epil to i64
  %mul.i.i.epil = mul nsw i64 %conv7.i.i.epil, %conv18.i.i.epil
  %add.i.i.epil = add nsw i64 %mul.i.i.epil, %index.021.i.i.epil
  br label %if.end.i.i.epil

if.end.i.i.epil:                                  ; preds = %if.then.i.i118.epil, %for.body.i.i.epil
  %index.1.i.i.epil = phi i64 [ %add.i.i.epil, %if.then.i.i118.epil ], [ %index.021.i.i.epil, %for.body.i.i.epil ]
  %indvars.iv.next.i.i.epil = add nuw nsw i64 %indvars.iv.i.i.epil, 1
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil, !llvm.loop !395

for.body.i12.i.preheader:                         ; preds = %if.end.i.i.epil, %for.body.i12.i.preheader.unr-lcssa
  %index.1.i.i.lcssa = phi i64 [ %index.1.i.i.lcssa.ph, %for.body.i12.i.preheader.unr-lcssa ], [ %index.1.i.i.epil, %if.end.i.i.epil ]
  %13 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter7 = and i64 %wide.trip.count.i.i, 3
  %14 = icmp ult i64 %13, 3
  br i1 %14, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i.preheader.new

for.body.i12.i.preheader.new:                     ; preds = %for.body.i12.i.preheader
  %unroll_iter11 = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i12.i

for.body.i12.i:                                   ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader.new
  %indvars.iv.i9.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %niter12 = phi i64 [ %unroll_iter11, %for.body.i12.i.preheader.new ], [ %niter12.nsub.3, %if.end.i22.i.3 ]
  %stride2.i10.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i9.i, i32 2
  %15 = load i32, i32* %stride2.i10.i, align 4, !tbaa !187
  %cmp3.i11.i = icmp slt i32 %15, 0
  br i1 %cmp3.i11.i, label %if.then.i18.i, label %if.end.i22.i

if.then.i18.i:                                    ; preds = %for.body.i12.i
  %conv.i.i = sext i32 %15 to i64
  %extent.i13.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i9.i, i32 1
  %16 = load i32, i32* %extent.i13.i, align 4, !tbaa !183
  %sub.i14.i = add nsw i32 %16, -1
  %conv7.i15.i = sext i32 %sub.i14.i to i64
  %mul.i16.i = mul nsw i64 %conv7.i15.i, %conv.i.i
  %add.i17.i = add nsw i64 %mul.i16.i, %index.018.i.i
  br label %if.end.i22.i

if.end.i22.i:                                     ; preds = %if.then.i18.i, %for.body.i12.i
  %index.1.i19.i = phi i64 [ %add.i17.i, %if.then.i18.i ], [ %index.018.i.i, %for.body.i12.i ]
  %indvars.iv.next.i20.i = or i64 %indvars.iv.i9.i, 1
  %stride2.i10.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i, i32 2
  %17 = load i32, i32* %stride2.i10.i.1, align 4, !tbaa !187
  %cmp3.i11.i.1 = icmp slt i32 %17, 0
  br i1 %cmp3.i11.i.1, label %if.then.i18.i.1, label %if.end.i22.i.1

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa: ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader
  %index.1.i19.i.lcssa.ph = phi i64 [ undef, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %indvars.iv.i9.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %lcmp.mod9.not = icmp eq i64 %xtraiter7, 0
  br i1 %lcmp.mod9.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil

for.body.i12.i.epil:                              ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, %if.end.i22.i.epil
  %indvars.iv.i9.i.epil = phi i64 [ %indvars.iv.next.i20.i.epil, %if.end.i22.i.epil ], [ %indvars.iv.i9.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %index.018.i.i.epil = phi i64 [ %index.1.i19.i.epil, %if.end.i22.i.epil ], [ %index.018.i.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %epil.iter8 = phi i64 [ %epil.iter8.sub, %if.end.i22.i.epil ], [ %xtraiter7, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %stride2.i10.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i9.i.epil, i32 2
  %18 = load i32, i32* %stride2.i10.i.epil, align 4, !tbaa !187
  %cmp3.i11.i.epil = icmp slt i32 %18, 0
  br i1 %cmp3.i11.i.epil, label %if.then.i18.i.epil, label %if.end.i22.i.epil

if.then.i18.i.epil:                               ; preds = %for.body.i12.i.epil
  %conv.i.i.epil = sext i32 %18 to i64
  %extent.i13.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i9.i.epil, i32 1
  %19 = load i32, i32* %extent.i13.i.epil, align 4, !tbaa !183
  %sub.i14.i.epil = add nsw i32 %19, -1
  %conv7.i15.i.epil = sext i32 %sub.i14.i.epil to i64
  %mul.i16.i.epil = mul nsw i64 %conv7.i15.i.epil, %conv.i.i.epil
  %add.i17.i.epil = add nsw i64 %mul.i16.i.epil, %index.018.i.i.epil
  br label %if.end.i22.i.epil

if.end.i22.i.epil:                                ; preds = %if.then.i18.i.epil, %for.body.i12.i.epil
  %index.1.i19.i.epil = phi i64 [ %add.i17.i.epil, %if.then.i18.i.epil ], [ %index.018.i.i.epil, %for.body.i12.i.epil ]
  %indvars.iv.next.i20.i.epil = add nuw nsw i64 %indvars.iv.i9.i.epil, 1
  %epil.iter8.sub = add i64 %epil.iter8, -1
  %epil.iter8.cmp.not = icmp eq i64 %epil.iter8.sub, 0
  br i1 %epil.iter8.cmp.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil, !llvm.loop !396

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit: ; preds = %if.end.i22.i.epil, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa
  %index.1.i19.i.lcssa = phi i64 [ %index.1.i19.i.lcssa.ph, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ], [ %index.1.i19.i.epil, %if.end.i22.i.epil ]
  %add8.i.i = add nsw i64 %index.1.i.i.lcssa, 1
  br label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

_ZNK15halide_buffer_t13size_in_bytesEv.exit:      ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, %if.end
  %add8.i27.i = phi i64 [ 1, %if.end ], [ %add8.i.i, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %index.0.lcssa.i8.i = phi i64 [ 0, %if.end ], [ %index.1.i19.i.lcssa, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %sub.i = sub nsw i64 %add8.i27.i, %index.0.lcssa.i8.i
  %bits.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 4, i32 1
  %20 = load i8, i8* %bits.i.i, align 1, !tbaa !141
  %conv.i23.i = zext i8 %20 to i64
  %add.i24.i = add nuw nsw i64 %conv.i23.i, 7
  %div.i.i = lshr i64 %add.i24.i, 3
  %mul.i = mul i64 %div.i.i, %sub.i
  %cmp6.not = icmp eq i64 %mul.i, 0
  br i1 %cmp6.not, label %if.then7, label %do.end

if.then7:                                         ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([86 x i8], [86 x i8]* @.str.126, i64 0, i64 0)) #16
  call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then7, %_ZNK15halide_buffer_t13size_in_bytesEv.exit
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %21 = load i64, i64* %device, align 8, !tbaa !245
  %tobool.not = icmp eq i64 %21, 0
  br i1 %tobool.not, label %for.cond.preheader, label %do.body10

for.cond.preheader:                               ; preds = %do.end
  %22 = load i32, i32* %dimensions.i.i, align 4, !tbaa !180
  %cmp17148 = icmp sgt i32 %22, 0
  br i1 %cmp17148, label %do.body18, label %for.cond.cleanup

do.body10:                                        ; preds = %do.end
  %call11 = call zeroext i1 @_ZN6Halide7Runtime8Internal6OpenCL23validate_device_pointerEPvP15halide_buffer_tm(i8* %user_context, %struct.halide_buffer_t* nonnull %buf, i64 %mul.i) #17
  br i1 %call11, label %cleanup72, label %if.then12

if.then12:                                        ; preds = %do.body10
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([125 x i8], [125 x i8]* @.str.127, i64 0, i64 0)) #16
  call void @abort() #16
  br label %cleanup72

for.cond.cleanup:                                 ; preds = %for.inc, %for.cond.preheader
  %call28 = call i8* @malloc(i64 16) #16
  %cmp29 = icmp eq i8* %call28, null
  br i1 %cmp29, label %cleanup72, label %if.end31

do.body18:                                        ; preds = %for.cond.preheader, %for.inc
  %23 = phi i32 [ %26, %for.inc ], [ %22, %for.cond.preheader ]
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc ], [ 0, %for.cond.preheader ]
  %24 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i.i, align 8, !tbaa !181
  %stride = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %24, i64 %indvars.iv, i32 2
  %25 = load i32, i32* %stride, align 4, !tbaa !187
  %cmp19 = icmp sgt i32 %25, -1
  br i1 %cmp19, label %for.inc, label %if.then20

if.then20:                                        ; preds = %do.body18
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([100 x i8], [100 x i8]* @.str.128, i64 0, i64 0)) #16
  call void @abort() #16
  %.pre = load i32, i32* %dimensions.i.i, align 4, !tbaa !180
  br label %for.inc

for.inc:                                          ; preds = %if.then20, %do.body18
  %26 = phi i32 [ %23, %do.body18 ], [ %.pre, %if.then20 ]
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %27 = sext i32 %26 to i64
  %cmp17 = icmp slt i64 %indvars.iv.next, %27
  br i1 %cmp17, label %do.body18, label %for.cond.cleanup, !llvm.loop !397

if.end31:                                         ; preds = %for.cond.cleanup
  %28 = bitcast i32* %err to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %28) #11
  %29 = load %struct._cl_mem* (%struct._cl_context*, i64, i64, i8*, i32*)*, %struct._cl_mem* (%struct._cl_context*, i64, i64, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL14clCreateBufferE, align 8, !tbaa !11
  %30 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %call36 = call %struct._cl_mem* %29(%struct._cl_context* %30, i64 1, i64 %mul.i, i8* null, i32* nonnull %err) #16
  %31 = load i32, i32* %err, align 4, !tbaa !76
  %cmp37 = icmp ne i32 %31, 0
  %cmp38 = icmp eq %struct._cl_mem* %call36, null
  %or.cond = select i1 %cmp37, i1 true, i1 %cmp38
  br i1 %or.cond, label %if.then39, label %if.else

if.then39:                                        ; preds = %if.end31
  %call42 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %31) #17
  %call.i121 = call i8* @malloc(i64 1024) #16
  %tobool.not.i122 = icmp eq i8* %call.i121, null
  br i1 %tobool.not.i122, label %if.then39.split, label %if.then6.i

if.then39.split:                                  ; preds = %if.then39
  %call.i1251 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([28 x i8], [28 x i8]* @.str.131, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %if.then39
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i121, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i1252 = call i8* @halide_string_to_string(i8* nonnull %call.i121, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([28 x i8], [28 x i8]* @.str.131, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %if.then39.split, %if.then6.i
  %phi.call = phi i8* [ %call.i1251, %if.then39.split ], [ %call.i1252, %if.then6.i ]
  %ref.tmp44.sroa.12.0 = phi i8* [ null, %if.then39.split ], [ %add.ptr.i, %if.then6.i ]
  %32 = load i32, i32* %err, align 4, !tbaa !76
  %call46 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %32) #17
  %call.i128 = call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp44.sroa.12.0, i8* %call46) #16
  br i1 %tobool.not.i122, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i128 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i121 to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i132 = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i133 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i121, i64 %add.i.i132) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i121, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  call void @free(i8* %call.i121) #16
  call void @free(i8* nonnull %call28) #16
  %33 = load i32, i32* %err, align 4, !tbaa !76
  br label %cleanup

if.else:                                          ; preds = %if.end31
  %mem = getelementptr inbounds i8, i8* %call28, i64 8
  %34 = bitcast i8* %mem to %struct._cl_mem**
  store %struct._cl_mem* %call36, %struct._cl_mem** %34, align 8, !tbaa !398
  %offset = bitcast i8* %call28 to i64*
  store i64 0, i64* %offset, align 8, !tbaa !400
  %35 = ptrtoint i8* %call28 to i64
  store i64 %35, i64* %device, align 8, !tbaa !245
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  store %struct.halide_device_interface_t* @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %36 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** getelementptr inbounds (%struct.halide_device_interface_t, %struct.halide_device_interface_t* @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE, i64 0, i32 15), align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %36, i64 0, i32 0
  %37 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  call void %37() #16
  %call64 = call zeroext i1 @_ZN6Halide7Runtime8Internal6OpenCL23validate_device_pointerEPvP15halide_buffer_tm(i8* %user_context, %struct.halide_buffer_t* nonnull %buf, i64 %mul.i) #17
  br i1 %call64, label %cleanup, label %if.then65

if.then65:                                        ; preds = %if.else
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([125 x i8], [125 x i8]* @.str.135, i64 0, i64 0)) #16
  call void @abort() #16
  br label %cleanup

cleanup:                                          ; preds = %if.then65, %if.else, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit
  %retval.0 = phi i32 [ %33, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ 0, %if.then65 ], [ 0, %if.else ]
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %28) #11
  br label %cleanup72

cleanup72:                                        ; preds = %cleanup, %for.cond.cleanup, %if.then12, %do.body10, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread
  %retval.3 = phi i32 [ %call.i, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit ], [ 0, %if.then12 ], [ 0, %do.body10 ], [ %retval.0, %cleanup ], [ -6, %for.cond.cleanup ], [ -1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread ]
  %38 = load i8*, i8** %user_context2.i, align 8, !tbaa !390
  %call.i119 = call i32 @halide_release_cl_context(i8* %38) #16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %0) #11
  ret i32 %retval.3

if.then.i.i118.1:                                 ; preds = %if.end.i.i
  %conv18.i.i.1 = zext i32 %10 to i64
  %extent.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i, i32 1
  %39 = load i32, i32* %extent.i.i.1, align 4, !tbaa !183
  %sub.i.i.1 = add nsw i32 %39, -1
  %conv7.i.i.1 = sext i32 %sub.i.i.1 to i64
  %mul.i.i.1 = mul nsw i64 %conv7.i.i.1, %conv18.i.i.1
  %add.i.i.1 = add nsw i64 %mul.i.i.1, %index.1.i.i
  br label %if.end.i.i.1

if.end.i.i.1:                                     ; preds = %if.then.i.i118.1, %if.end.i.i
  %index.1.i.i.1 = phi i64 [ %add.i.i.1, %if.then.i.i118.1 ], [ %index.1.i.i, %if.end.i.i ]
  %indvars.iv.next.i.i.1 = or i64 %indvars.iv.i.i, 2
  %stride2.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i.1, i32 2
  %40 = load i32, i32* %stride2.i.i.2, align 4, !tbaa !187
  %cmp3.i.i.2 = icmp sgt i32 %40, 0
  br i1 %cmp3.i.i.2, label %if.then.i.i118.2, label %if.end.i.i.2

if.then.i.i118.2:                                 ; preds = %if.end.i.i.1
  %conv18.i.i.2 = zext i32 %40 to i64
  %extent.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i.1, i32 1
  %41 = load i32, i32* %extent.i.i.2, align 4, !tbaa !183
  %sub.i.i.2 = add nsw i32 %41, -1
  %conv7.i.i.2 = sext i32 %sub.i.i.2 to i64
  %mul.i.i.2 = mul nsw i64 %conv7.i.i.2, %conv18.i.i.2
  %add.i.i.2 = add nsw i64 %mul.i.i.2, %index.1.i.i.1
  br label %if.end.i.i.2

if.end.i.i.2:                                     ; preds = %if.then.i.i118.2, %if.end.i.i.1
  %index.1.i.i.2 = phi i64 [ %add.i.i.2, %if.then.i.i118.2 ], [ %index.1.i.i.1, %if.end.i.i.1 ]
  %indvars.iv.next.i.i.2 = or i64 %indvars.iv.i.i, 3
  %stride2.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i.2, i32 2
  %42 = load i32, i32* %stride2.i.i.3, align 4, !tbaa !187
  %cmp3.i.i.3 = icmp sgt i32 %42, 0
  br i1 %cmp3.i.i.3, label %if.then.i.i118.3, label %if.end.i.i.3

if.then.i.i118.3:                                 ; preds = %if.end.i.i.2
  %conv18.i.i.3 = zext i32 %42 to i64
  %extent.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i.2, i32 1
  %43 = load i32, i32* %extent.i.i.3, align 4, !tbaa !183
  %sub.i.i.3 = add nsw i32 %43, -1
  %conv7.i.i.3 = sext i32 %sub.i.i.3 to i64
  %mul.i.i.3 = mul nsw i64 %conv7.i.i.3, %conv18.i.i.3
  %add.i.i.3 = add nsw i64 %mul.i.i.3, %index.1.i.i.2
  br label %if.end.i.i.3

if.end.i.i.3:                                     ; preds = %if.then.i.i118.3, %if.end.i.i.2
  %index.1.i.i.3 = phi i64 [ %add.i.i.3, %if.then.i.i118.3 ], [ %index.1.i.i.2, %if.end.i.i.2 ]
  %indvars.iv.next.i.i.3 = add nuw nsw i64 %indvars.iv.i.i, 4
  %niter.nsub.3 = add i64 %niter, -4
  %niter.ncmp.3 = icmp eq i64 %niter.nsub.3, 0
  br i1 %niter.ncmp.3, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.i.i, !llvm.loop !401

if.then.i18.i.1:                                  ; preds = %if.end.i22.i
  %conv.i.i.1 = sext i32 %17 to i64
  %extent.i13.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i, i32 1
  %44 = load i32, i32* %extent.i13.i.1, align 4, !tbaa !183
  %sub.i14.i.1 = add nsw i32 %44, -1
  %conv7.i15.i.1 = sext i32 %sub.i14.i.1 to i64
  %mul.i16.i.1 = mul nsw i64 %conv7.i15.i.1, %conv.i.i.1
  %add.i17.i.1 = add nsw i64 %mul.i16.i.1, %index.1.i19.i
  br label %if.end.i22.i.1

if.end.i22.i.1:                                   ; preds = %if.then.i18.i.1, %if.end.i22.i
  %index.1.i19.i.1 = phi i64 [ %add.i17.i.1, %if.then.i18.i.1 ], [ %index.1.i19.i, %if.end.i22.i ]
  %indvars.iv.next.i20.i.1 = or i64 %indvars.iv.i9.i, 2
  %stride2.i10.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i.1, i32 2
  %45 = load i32, i32* %stride2.i10.i.2, align 4, !tbaa !187
  %cmp3.i11.i.2 = icmp slt i32 %45, 0
  br i1 %cmp3.i11.i.2, label %if.then.i18.i.2, label %if.end.i22.i.2

if.then.i18.i.2:                                  ; preds = %if.end.i22.i.1
  %conv.i.i.2 = sext i32 %45 to i64
  %extent.i13.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i.1, i32 1
  %46 = load i32, i32* %extent.i13.i.2, align 4, !tbaa !183
  %sub.i14.i.2 = add nsw i32 %46, -1
  %conv7.i15.i.2 = sext i32 %sub.i14.i.2 to i64
  %mul.i16.i.2 = mul nsw i64 %conv7.i15.i.2, %conv.i.i.2
  %add.i17.i.2 = add nsw i64 %mul.i16.i.2, %index.1.i19.i.1
  br label %if.end.i22.i.2

if.end.i22.i.2:                                   ; preds = %if.then.i18.i.2, %if.end.i22.i.1
  %index.1.i19.i.2 = phi i64 [ %add.i17.i.2, %if.then.i18.i.2 ], [ %index.1.i19.i.1, %if.end.i22.i.1 ]
  %indvars.iv.next.i20.i.2 = or i64 %indvars.iv.i9.i, 3
  %stride2.i10.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i.2, i32 2
  %47 = load i32, i32* %stride2.i10.i.3, align 4, !tbaa !187
  %cmp3.i11.i.3 = icmp slt i32 %47, 0
  br i1 %cmp3.i11.i.3, label %if.then.i18.i.3, label %if.end.i22.i.3

if.then.i18.i.3:                                  ; preds = %if.end.i22.i.2
  %conv.i.i.3 = sext i32 %47 to i64
  %extent.i13.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i.2, i32 1
  %48 = load i32, i32* %extent.i13.i.3, align 4, !tbaa !183
  %sub.i14.i.3 = add nsw i32 %48, -1
  %conv7.i15.i.3 = sext i32 %sub.i14.i.3 to i64
  %mul.i16.i.3 = mul nsw i64 %conv7.i15.i.3, %conv.i.i.3
  %add.i17.i.3 = add nsw i64 %mul.i16.i.3, %index.1.i19.i.2
  br label %if.end.i22.i.3

if.end.i22.i.3:                                   ; preds = %if.then.i18.i.3, %if.end.i22.i.2
  %index.1.i19.i.3 = phi i64 [ %add.i17.i.3, %if.then.i18.i.3 ], [ %index.1.i19.i.2, %if.end.i22.i.2 ]
  %indvars.iv.next.i20.i.3 = add nuw nsw i64 %indvars.iv.i9.i, 4
  %niter12.nsub.3 = add i64 %niter12, -4
  %niter12.ncmp.3 = icmp eq i64 %niter12.nsub.3, 0
  br i1 %niter12.ncmp.3, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i, !llvm.loop !402
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_device_free(i8* %user_context, %struct.halide_buffer_t* %buf) #3 {
entry:
  %ctx = alloca %"class.Halide::Runtime::Internal::OpenCL::ClContext", align 8
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %cmp = icmp eq i64 %0, 0
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %entry
  %1 = inttoptr i64 %0 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %1, i64 0, i32 1
  %2 = load %struct._cl_mem*, %struct._cl_mem** %mem, align 8, !tbaa !398
  %offset = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %1, i64 0, i32 0
  %3 = load i64, i64* %offset, align 8, !tbaa !400
  %cmp3 = icmp eq i64 %3, 0
  br i1 %cmp3, label %do.end, label %if.then4

if.then4:                                         ; preds = %if.end
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([196 x i8], [196 x i8]* @.str.102, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then4, %if.end
  %4 = bitcast %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %4) #11
  %user_context2.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 0
  store i8* %user_context, i8** %user_context2.i, align 8, !tbaa !390
  %context.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 1
  store %struct._cl_context* null, %struct._cl_context** %context.i, align 8, !tbaa !392
  %cmd_queue.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  store %struct._cl_command_queue* null, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %error_code.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 3
  store i32 0, i32* %error_code.i, align 8, !tbaa !394
  %5 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp.i = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %5, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %do.end
  tail call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #16
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %do.end
  %call.i = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %context.i, %struct._cl_command_queue** nonnull %cmd_queue.i, i1 zeroext true) #16
  store i32 %call.i, i32* %error_code.i, align 8, !tbaa !394
  %6 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %tobool.not.i = icmp eq %struct._cl_context* %6, null
  %7 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8
  %tobool8.not.i = icmp eq %struct._cl_command_queue* %7, null
  %or.cond.i = select i1 %tobool.not.i, i1 true, i1 %tobool8.not.i
  br i1 %or.cond.i, label %if.then9.i, label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit

if.then9.i:                                       ; preds = %if.end.i
  %call.i.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then9.i
  %call.i1832.i = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

if.else.i.i:                                      ; preds = %if.then9.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i18.i = call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i18.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread: ; preds = %if.else.i.i, %if.then.i.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i.i ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  call void @free(i8* %call.i.i) #16
  store i32 -1, i32* %error_code.i, align 8, !tbaa !394
  br label %cleanup32

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit: ; preds = %if.end.i
  %cmp12.not = icmp eq i32 %call.i, 0
  br i1 %cmp12.not, label %do.body16, label %cleanup32

do.body16:                                        ; preds = %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit
  %call = call zeroext i1 @_ZN6Halide7Runtime8Internal6OpenCL23validate_device_pointerEPvP15halide_buffer_tm(i8* %user_context, %struct.halide_buffer_t* nonnull %buf, i64 0) #17
  br i1 %call, label %do.end20, label %if.then17

if.then17:                                        ; preds = %do.body16
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([119 x i8], [119 x i8]* @.str.106, i64 0, i64 0)) #16
  call void @abort() #16
  br label %do.end20

do.end20:                                         ; preds = %if.then17, %do.body16
  %8 = load i32 (%struct._cl_mem*)*, i32 (%struct._cl_mem*)** @_ZN6Halide7Runtime8Internal6OpenCL18clReleaseMemObjectE, align 8, !tbaa !11
  %call25 = call i32 %8(%struct._cl_mem* %2) #16
  %9 = load i64, i64* %device, align 8, !tbaa !245
  %10 = inttoptr i64 %9 to i8*
  call void @free(i8* %10) #16
  store i64 0, i64* %device, align 8, !tbaa !245
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %11 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %11, i64 0, i32 15
  %12 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %release_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %12, i64 0, i32 1
  %13 = load void ()*, void ()** %release_module, align 8, !tbaa !325
  call void %13() #16
  store %struct.halide_device_interface_t* null, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  br label %cleanup32

cleanup32:                                        ; preds = %do.end20, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread
  %retval.1 = phi i32 [ %call25, %do.end20 ], [ %call.i, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit ], [ -1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread ]
  %14 = load i8*, i8** %user_context2.i, align 8, !tbaa !390
  %call.i55 = call i32 @halide_release_cl_context(i8* %14) #16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %4) #11
  br label %return

return:                                           ; preds = %cleanup32, %entry
  %retval.2 = phi i32 [ %retval.1, %cleanup32 ], [ 0, %entry ]
  ret i32 %retval.2
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_device_sync(i8* %user_context, %struct.halide_buffer_t* %0) #3 {
entry:
  %ctx = alloca %"class.Halide::Runtime::Internal::OpenCL::ClContext", align 8
  %1 = bitcast %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %1) #11
  %user_context2.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 0
  store i8* %user_context, i8** %user_context2.i, align 8, !tbaa !390
  %context.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 1
  store %struct._cl_context* null, %struct._cl_context** %context.i, align 8, !tbaa !392
  %cmd_queue.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  store %struct._cl_command_queue* null, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %error_code.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 3
  store i32 0, i32* %error_code.i, align 8, !tbaa !394
  %2 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp.i = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %2, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  tail call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #16
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %entry
  %call.i = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %context.i, %struct._cl_command_queue** nonnull %cmd_queue.i, i1 zeroext true) #16
  store i32 %call.i, i32* %error_code.i, align 8, !tbaa !394
  %3 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %tobool.not.i = icmp eq %struct._cl_context* %3, null
  %4 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8
  %tobool8.not.i = icmp eq %struct._cl_command_queue* %4, null
  %or.cond.i = select i1 %tobool.not.i, i1 true, i1 %tobool8.not.i
  br i1 %or.cond.i, label %if.then9.i, label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit

if.then9.i:                                       ; preds = %if.end.i
  %call.i.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then9.i
  %call.i1832.i = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

if.else.i.i:                                      ; preds = %if.then9.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i18.i = call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i18.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread: ; preds = %if.else.i.i, %if.then.i.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i.i ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  call void @free(i8* %call.i.i) #16
  store i32 -1, i32* %error_code.i, align 8, !tbaa !394
  br label %cleanup11

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit: ; preds = %if.end.i
  %cmp.not = icmp eq i32 %call.i, 0
  br i1 %cmp.not, label %if.end, label %cleanup11

if.end:                                           ; preds = %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit
  %5 = load i32 (%struct._cl_command_queue*)*, i32 (%struct._cl_command_queue*)** @_ZN6Halide7Runtime8Internal6OpenCL8clFinishE, align 8, !tbaa !11
  %call = call i32 %5(%struct._cl_command_queue* nonnull %4) #16
  %cmp4.not = icmp eq i32 %call, 0
  br i1 %cmp4.not, label %cleanup11, label %if.then5

if.then5:                                         ; preds = %if.end
  %call.i21 = call i8* @malloc(i64 1024) #16
  %tobool.not.i22 = icmp eq i8* %call.i21, null
  br i1 %tobool.not.i22, label %if.then5.split, label %if.then6.i

if.then5.split:                                   ; preds = %if.then5
  %call.i251 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.118, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %if.then5
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i21, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i252 = call i8* @halide_string_to_string(i8* nonnull %call.i21, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.118, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %if.then5.split, %if.then6.i
  %phi.call = phi i8* [ %call.i251, %if.then5.split ], [ %call.i252, %if.then6.i ]
  %ref.tmp6.sroa.12.0 = phi i8* [ null, %if.then5.split ], [ %add.ptr.i, %if.then6.i ]
  %call8 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %call) #17
  %call.i28 = call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp6.sroa.12.0, i8* %call8) #16
  br i1 %tobool.not.i22, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i28 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i21 to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i32 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i21, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i21, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  call void @free(i8* %call.i21) #16
  br label %cleanup11

cleanup11:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, %if.end, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread
  %retval.1 = phi i32 [ %call.i, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit ], [ %call, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ 0, %if.end ], [ -1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread ]
  %6 = load i8*, i8** %user_context2.i, align 8, !tbaa !390
  %call.i19 = call i32 @halide_release_cl_context(i8* %6) #16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %1) #11
  ret i32 %retval.1
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_device_release(i8* %user_context) #3 {
entry:
  %ctx = alloca %struct._cl_context*, align 8
  %q = alloca %struct._cl_command_queue*, align 8
  %0 = bitcast %struct._cl_context** %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %0) #11
  %1 = bitcast %struct._cl_command_queue** %q to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %1) #11
  %call = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %ctx, %struct._cl_command_queue** nonnull %q, i1 zeroext false) #17
  %cmp.not = icmp eq i32 %call, 0
  br i1 %cmp.not, label %if.end, label %cleanup

if.end:                                           ; preds = %entry
  %2 = load %struct._cl_context*, %struct._cl_context** %ctx, align 8, !tbaa !11
  %tobool.not = icmp eq %struct._cl_context* %2, null
  br i1 %tobool.not, label %if.end33, label %if.then3

if.then3:                                         ; preds = %if.end
  %3 = load i32 (%struct._cl_command_queue*)*, i32 (%struct._cl_command_queue*)** @_ZN6Halide7Runtime8Internal6OpenCL8clFinishE, align 8, !tbaa !11
  %4 = load %struct._cl_command_queue*, %struct._cl_command_queue** %q, align 8, !tbaa !11
  %call4 = call i32 %3(%struct._cl_command_queue* %4) #16
  %cmp5 = icmp eq i32 %call4, 0
  br i1 %cmp5, label %do.end, label %if.then6

if.then6:                                         ; preds = %if.then3
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([94 x i8], [94 x i8]* @.str.120, i64 0, i64 0)) #16
  call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then6, %if.then3
  %5 = load %struct._cl_context*, %struct._cl_context** %ctx, align 8, !tbaa !11
  call void @halide_mutex_lock(%struct.halide_mutex* nonnull getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 0)) #16
  %6 = load i32, i32* getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 3), align 8, !tbaa !403
  %cmp.i.i = icmp eq i32 %6, 0
  br i1 %cmp.i.i, label %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE14delete_contextIPFiS5_EEEvPvS3_RT_.exit, label %for.cond.preheader.i.i

for.cond.preheader.i.i:                           ; preds = %do.end
  %7 = load i32, i32* getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 1), align 8, !tbaa !405
  %cmp258.not.i.i = icmp eq i32 %7, 31
  br i1 %cmp258.not.i.i, label %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE14delete_contextIPFiS5_EEEvPvS3_RT_.exit, label %for.body.lr.ph.i.i

for.body.lr.ph.i.i:                               ; preds = %for.cond.preheader.i.i
  %.pre64.i.i = load %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"*, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 2), align 8, !tbaa !406
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %for.inc.i.i, %for.body.lr.ph.i.i
  %8 = phi i32 [ %17, %for.inc.i.i ], [ %7, %for.body.lr.ph.i.i ]
  %9 = phi %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* [ %18, %for.inc.i.i ], [ %.pre64.i.i, %for.body.lr.ph.i.i ]
  %indvars.iv.i.i = phi i64 [ %indvars.iv.next.i.i, %for.inc.i.i ], [ 0, %for.body.lr.ph.i.i ]
  %kernel_id.i.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %9, i64 %indvars.iv.i.i, i32 2
  %10 = load i32, i32* %kernel_id.i.i, align 8, !tbaa !407
  %cmp3.not.i.i = icmp eq i32 %10, 0
  br i1 %cmp3.not.i.i, label %for.inc.i.i, label %land.lhs.true.i.i

land.lhs.true.i.i:                                ; preds = %for.body.i.i
  %context7.i.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %9, i64 %indvars.iv.i.i, i32 0
  %11 = load %struct._cl_context*, %struct._cl_context** %context7.i.i, align 8, !tbaa !409
  %cmp8.i.i = icmp eq %struct._cl_context* %11, %5
  br i1 %cmp8.i.i, label %land.lhs.true9.i.i, label %for.inc.i.i

land.lhs.true9.i.i:                               ; preds = %land.lhs.true.i.i
  %use_count.i.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %9, i64 %indvars.iv.i.i, i32 3
  %12 = load i32, i32* %use_count.i.i, align 4, !tbaa !410
  %cmp13.i.i = icmp eq i32 %12, 0
  br i1 %cmp13.i.i, label %if.then14.i.i, label %for.inc.i.i

if.then14.i.i:                                    ; preds = %land.lhs.true9.i.i
  %13 = load i32 (%struct._cl_program*)*, i32 (%struct._cl_program*)** @_ZN6Halide7Runtime8Internal6OpenCL16clReleaseProgramE, align 8, !tbaa !11
  %module_state35.i.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %9, i64 %indvars.iv.i.i, i32 1
  %14 = load %struct._cl_program*, %struct._cl_program** %module_state35.i.i, align 8, !tbaa !411
  %call.i.i = call i32 %13(%struct._cl_program* %14) #16
  %15 = load %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"*, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 2), align 8, !tbaa !406
  %module_state39.i.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %15, i64 %indvars.iv.i.i, i32 1
  store %struct._cl_program* null, %struct._cl_program** %module_state39.i.i, align 8, !tbaa !411
  %kernel_id43.i.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %15, i64 %indvars.iv.i.i, i32 2
  store i32 1, i32* %kernel_id43.i.i, align 8, !tbaa !407
  %16 = load i32, i32* getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 3), align 8, !tbaa !403
  %dec.i.i = add nsw i32 %16, -1
  store i32 %dec.i.i, i32* getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 3), align 8, !tbaa !403
  %.pre63.i.i = load i32, i32* getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 1), align 8, !tbaa !405
  br label %for.inc.i.i

for.inc.i.i:                                      ; preds = %if.then14.i.i, %land.lhs.true9.i.i, %land.lhs.true.i.i, %for.body.i.i
  %17 = phi i32 [ %8, %for.body.i.i ], [ %8, %land.lhs.true.i.i ], [ %8, %land.lhs.true9.i.i ], [ %.pre63.i.i, %if.then14.i.i ]
  %18 = phi %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* [ %9, %for.body.i.i ], [ %9, %land.lhs.true.i.i ], [ %9, %land.lhs.true9.i.i ], [ %15, %if.then14.i.i ]
  %indvars.iv.next.i.i = add nuw nsw i64 %indvars.iv.i.i, 1
  %shl.i.i = shl nuw i32 1, %17
  %19 = sext i32 %shl.i.i to i64
  %cmp2.i.i = icmp slt i64 %indvars.iv.next.i.i, %19
  br i1 %cmp2.i.i, label %for.body.i.i, label %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE14delete_contextIPFiS5_EEEvPvS3_RT_.exit, !llvm.loop !412

_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE14delete_contextIPFiS5_EEEvPvS3_RT_.exit: ; preds = %for.inc.i.i, %for.cond.preheader.i.i, %do.end
  call void @halide_mutex_unlock(%struct.halide_mutex* nonnull getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 0)) #16
  %20 = load %struct._cl_context*, %struct._cl_context** %ctx, align 8, !tbaa !11
  %21 = load %struct._cl_context*, %struct._cl_context** @_ZN6Halide7Runtime8Internal6OpenCL7contextE, align 8, !tbaa !11
  %cmp8 = icmp eq %struct._cl_context* %20, %21
  br i1 %cmp8, label %if.then9, label %if.end33

if.then9:                                         ; preds = %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE14delete_contextIPFiS5_EEEvPvS3_RT_.exit
  %22 = load i32 (%struct._cl_command_queue*)*, i32 (%struct._cl_command_queue*)** @_ZN6Halide7Runtime8Internal6OpenCL21clReleaseCommandQueueE, align 8, !tbaa !11
  %23 = load %struct._cl_command_queue*, %struct._cl_command_queue** @_ZN6Halide7Runtime8Internal6OpenCL13command_queueE, align 8, !tbaa !11
  %call14 = call i32 %22(%struct._cl_command_queue* %23) #16
  %cmp16 = icmp eq i32 %call14, 0
  br i1 %cmp16, label %do.end20, label %if.then17

if.then17:                                        ; preds = %if.then9
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([94 x i8], [94 x i8]* @.str.122, i64 0, i64 0)) #16
  call void @abort() #16
  br label %do.end20

do.end20:                                         ; preds = %if.then17, %if.then9
  store %struct._cl_command_queue* null, %struct._cl_command_queue** @_ZN6Halide7Runtime8Internal6OpenCL13command_queueE, align 8, !tbaa !11
  %24 = load i32 (%struct._cl_context*)*, i32 (%struct._cl_context*)** @_ZN6Halide7Runtime8Internal6OpenCL16clReleaseContextE, align 8, !tbaa !11
  %25 = load %struct._cl_context*, %struct._cl_context** @_ZN6Halide7Runtime8Internal6OpenCL7contextE, align 8, !tbaa !11
  %call25 = call i32 %24(%struct._cl_context* %25) #16
  %cmp27 = icmp eq i32 %call25, 0
  br i1 %cmp27, label %do.end31, label %if.then28

if.then28:                                        ; preds = %do.end20
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([94 x i8], [94 x i8]* @.str.124, i64 0, i64 0)) #16
  call void @abort() #16
  br label %do.end31

do.end31:                                         ; preds = %if.then28, %do.end20
  store %struct._cl_context* null, %struct._cl_context** @_ZN6Halide7Runtime8Internal6OpenCL7contextE, align 8, !tbaa !11
  br label %if.end33

if.end33:                                         ; preds = %do.end31, %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE14delete_contextIPFiS5_EEEvPvS3_RT_.exit, %if.end
  %call34 = call i32 @halide_release_cl_context(i8* %user_context) #17
  br label %cleanup

cleanup:                                          ; preds = %if.end33, %entry
  %retval.0 = phi i32 [ 0, %if.end33 ], [ %call, %entry ]
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %1) #11
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %0) #11
  ret i32 %retval.0
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_opencl_copy_to_host(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %call = tail call i32 @halide_opencl_buffer_copy(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* null, %struct.halide_buffer_t* %buf) #17
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_opencl_copy_to_device(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %call = tail call i32 @halide_opencl_buffer_copy(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* nonnull @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE, %struct.halide_buffer_t* %buf) #17
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_opencl_device_and_host_malloc(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %call = tail call i32 @halide_default_device_and_host_malloc(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* nonnull @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE) #16
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_opencl_device_and_host_free(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %call = tail call i32 @halide_default_device_and_host_free(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* nonnull @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE) #16
  ret i32 %call
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_buffer_copy(i8* %user_context, %struct.halide_buffer_t* %src, %struct.halide_device_interface_t* %dst_device_interface, %struct.halide_buffer_t* %dst) #3 {
entry:
  %c = alloca %"struct.Halide::Runtime::Internal::device_copy", align 8
  %ctx = alloca %"class.Halide::Runtime::Internal::OpenCL::ClContext", align 8
  %cmp = icmp eq %struct.halide_device_interface_t* %dst_device_interface, null
  %cmp1 = icmp eq %struct.halide_device_interface_t* %dst_device_interface, @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE
  %or.cond = or i1 %cmp, %cmp1
  br i1 %or.cond, label %do.end, label %if.then

if.then:                                          ; preds = %entry
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([160 x i8], [160 x i8]* @.str.146, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then, %entry
  %flags.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 3
  %0 = load i64, i64* %flags.i.i, align 8, !tbaa !311
  %and.i.i = and i64 %0, 2
  %cmp.i.i.not = icmp eq i64 %and.i.i, 0
  br i1 %cmp.i.i.not, label %lor.lhs.false2, label %land.lhs.true

lor.lhs.false2:                                   ; preds = %do.end
  %host = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 2
  %1 = load i8*, i8** %host, align 8, !tbaa !178
  %cmp3 = icmp eq i8* %1, null
  br i1 %cmp3, label %land.lhs.true, label %if.end11

land.lhs.true:                                    ; preds = %lor.lhs.false2, %do.end
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 1
  %2 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %cmp4.not = icmp eq %struct.halide_device_interface_t* %2, @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE
  br i1 %cmp4.not, label %lor.lhs.false14, label %do.body6

do.body6:                                         ; preds = %land.lhs.true
  br i1 %cmp1, label %return, label %if.then8

if.then8:                                         ; preds = %do.body6
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([125 x i8], [125 x i8]* @.str.147, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %return

if.end11:                                         ; preds = %lor.lhs.false2
  %device_interface12.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 1
  %.pre = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface12.phi.trans.insert, align 8, !tbaa !310
  %phi.cmp = icmp eq %struct.halide_device_interface_t* %.pre, @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE
  br i1 %phi.cmp, label %lor.lhs.false14, label %do.body28

lor.lhs.false14:                                  ; preds = %if.end11, %land.lhs.true
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 0
  %3 = load i64, i64* %device, align 8, !tbaa !245
  %cmp15 = icmp eq i64 %3, 0
  br i1 %cmp15, label %do.body28, label %lor.rhs

lor.rhs:                                          ; preds = %lor.lhs.false14
  %and.i.i86 = and i64 %0, 1
  %cmp.i.i87.not = icmp eq i64 %and.i.i86, 0
  br i1 %cmp.i.i87.not, label %lor.lhs.false22, label %lor.end

lor.end:                                          ; preds = %lor.rhs
  %host17 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 2
  %4 = load i8*, i8** %host17, align 8, !tbaa !178
  %cmp18.not = icmp eq i8* %4, null
  br i1 %cmp18.not, label %lor.lhs.false22, label %do.body28

lor.lhs.false22:                                  ; preds = %lor.end, %lor.rhs
  br label %do.body28

do.body28:                                        ; preds = %lor.lhs.false22, %lor.end, %lor.lhs.false14, %if.end11
  %5 = phi i1 [ true, %lor.end ], [ false, %lor.lhs.false22 ], [ true, %lor.lhs.false14 ], [ true, %if.end11 ]
  br i1 %cmp, label %do.end36, label %lor.lhs.false30

lor.lhs.false30:                                  ; preds = %do.body28
  %device31 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 0
  %6 = load i64, i64* %device31, align 8, !tbaa !245
  %tobool32.not = icmp eq i64 %6, 0
  br i1 %tobool32.not, label %if.then33, label %do.end36

if.then33:                                        ; preds = %lor.lhs.false30
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([100 x i8], [100 x i8]* @.str.149, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end36

do.end36:                                         ; preds = %if.then33, %lor.lhs.false30, %do.body28
  %7 = bitcast %"struct.Halide::Runtime::Internal::device_copy"* %c to i8*
  call void @llvm.lifetime.start.p0i8(i64 416, i8* nonnull %7) #11
  call void @_ZN6Halide7Runtime8Internal16make_buffer_copyEPK15halide_buffer_tbS4_b(%"struct.Halide::Runtime::Internal::device_copy"* nonnull sret(%"struct.Halide::Runtime::Internal::device_copy") align 8 %c, %struct.halide_buffer_t* nonnull %src, i1 zeroext %5, %struct.halide_buffer_t* %dst, i1 zeroext %cmp) #17
  %8 = bitcast %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %8) #11
  %user_context2.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 0
  store i8* %user_context, i8** %user_context2.i, align 8, !tbaa !390
  %context.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 1
  store %struct._cl_context* null, %struct._cl_context** %context.i, align 8, !tbaa !392
  %cmd_queue.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  store %struct._cl_command_queue* null, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %error_code.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 3
  store i32 0, i32* %error_code.i, align 8, !tbaa !394
  %9 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp.i = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %9, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %do.end36
  call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #16
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %do.end36
  %call.i = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %context.i, %struct._cl_command_queue** nonnull %cmd_queue.i, i1 zeroext true) #16
  store i32 %call.i, i32* %error_code.i, align 8, !tbaa !394
  %10 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %tobool.not.i = icmp eq %struct._cl_context* %10, null
  %11 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8
  %tobool8.not.i = icmp eq %struct._cl_command_queue* %11, null
  %or.cond.i = select i1 %tobool.not.i, i1 true, i1 %tobool8.not.i
  br i1 %or.cond.i, label %if.then9.i, label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit

if.then9.i:                                       ; preds = %if.end.i
  %call.i.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then9.i
  %call.i1832.i = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

if.else.i.i:                                      ; preds = %if.then9.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i18.i = call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i18.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread: ; preds = %if.else.i.i, %if.then.i.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i.i ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  call void @free(i8* %call.i.i) #16
  store i32 -1, i32* %error_code.i, align 8, !tbaa !394
  br label %cleanup

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit: ; preds = %if.end.i
  %cmp39.not = icmp eq i32 %call.i, 0
  br i1 %cmp39.not, label %if.end42, label %cleanup

if.end42:                                         ; preds = %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit
  %src_begin = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 2
  %12 = load i64, i64* %src_begin, align 8, !tbaa !244
  %dimensions = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 5
  %13 = load i32, i32* %dimensions, align 4, !tbaa !180
  %call51 = call i32 @opencl_do_multidimensional_copy(i8* %user_context, %"class.Halide::Runtime::Internal::OpenCL::ClContext"* nonnull align 8 dereferenceable(28) %ctx, %"struct.Halide::Runtime::Internal::device_copy"* nonnull align 8 dereferenceable(416) %c, i64 %12, i64 0, i32 %13, i1 zeroext %5, i1 zeroext %cmp) #17
  %14 = load i32 (%struct._cl_command_queue*)*, i32 (%struct._cl_command_queue*)** @_ZN6Halide7Runtime8Internal6OpenCL8clFinishE, align 8, !tbaa !11
  %15 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %call52 = call i32 %14(%struct._cl_command_queue* %15) #16
  br label %cleanup

cleanup:                                          ; preds = %if.end42, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread
  %cmp39.not91 = phi i32 [ %call51, %if.end42 ], [ %call.i, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit ], [ -1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread ]
  %16 = load i8*, i8** %user_context2.i, align 8, !tbaa !390
  %call.i88 = call i32 @halide_release_cl_context(i8* %16) #16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %8) #11
  call void @llvm.lifetime.end.p0i8(i64 416, i8* nonnull %7) #11
  br label %return

return:                                           ; preds = %cleanup, %if.then8, %do.body6
  %retval.2 = phi i32 [ %cmp39.not91, %cleanup ], [ -42, %do.body6 ], [ -42, %if.then8 ]
  ret i32 %retval.2
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_opencl_device_crop(i8* %user_context, %struct.halide_buffer_t* %src, %struct.halide_buffer_t* %dst) #0 {
entry:
  %dimensions.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 5
  %0 = load i32, i32* %dimensions.i, align 4, !tbaa !180
  %cmp23.i = icmp sgt i32 %0, 0
  br i1 %cmp23.i, label %for.body.lr.ph.i, label %_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit

for.body.lr.ph.i:                                 ; preds = %entry
  %dim1.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 6
  %dim.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 6
  %1 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i, align 8, !tbaa !181
  %2 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim1.i, align 8, !tbaa !181
  %wide.trip.count.i = zext i32 %0 to i64
  %3 = add nsw i64 %wide.trip.count.i, -1
  %xtraiter = and i64 %wide.trip.count.i, 3
  %4 = icmp ult i64 %3, 3
  br i1 %4, label %_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit.loopexit.unr-lcssa, label %for.body.lr.ph.i.new

for.body.lr.ph.i.new:                             ; preds = %for.body.lr.ph.i
  %unroll_iter = and i64 %wide.trip.count.i, 4294967292
  br label %for.body.i

for.body.i:                                       ; preds = %for.body.i, %for.body.lr.ph.i.new
  %indvars.iv.i = phi i64 [ 0, %for.body.lr.ph.i.new ], [ %indvars.iv.next.i.3, %for.body.i ]
  %offset.024.i = phi i64 [ 0, %for.body.lr.ph.i.new ], [ %add.i.3, %for.body.i ]
  %niter = phi i64 [ %unroll_iter, %for.body.lr.ph.i.new ], [ %niter.nsub.3, %for.body.i ]
  %min.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv.i, i32 0
  %5 = load i32, i32* %min.i, align 4, !tbaa !186
  %min4.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv.i, i32 0
  %6 = load i32, i32* %min4.i, align 4, !tbaa !186
  %sub.i = sub nsw i32 %5, %6
  %conv.i = sext i32 %sub.i to i64
  %stride.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv.i, i32 2
  %7 = load i32, i32* %stride.i, align 4, !tbaa !187
  %conv8.i = sext i32 %7 to i64
  %mul.i = mul nsw i64 %conv.i, %conv8.i
  %add.i = add nsw i64 %mul.i, %offset.024.i
  %indvars.iv.next.i = or i64 %indvars.iv.i, 1
  %min.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv.next.i, i32 0
  %8 = load i32, i32* %min.i.1, align 4, !tbaa !186
  %min4.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv.next.i, i32 0
  %9 = load i32, i32* %min4.i.1, align 4, !tbaa !186
  %sub.i.1 = sub nsw i32 %8, %9
  %conv.i.1 = sext i32 %sub.i.1 to i64
  %stride.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv.next.i, i32 2
  %10 = load i32, i32* %stride.i.1, align 4, !tbaa !187
  %conv8.i.1 = sext i32 %10 to i64
  %mul.i.1 = mul nsw i64 %conv.i.1, %conv8.i.1
  %add.i.1 = add nsw i64 %mul.i.1, %add.i
  %indvars.iv.next.i.1 = or i64 %indvars.iv.i, 2
  %min.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv.next.i.1, i32 0
  %11 = load i32, i32* %min.i.2, align 4, !tbaa !186
  %min4.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv.next.i.1, i32 0
  %12 = load i32, i32* %min4.i.2, align 4, !tbaa !186
  %sub.i.2 = sub nsw i32 %11, %12
  %conv.i.2 = sext i32 %sub.i.2 to i64
  %stride.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv.next.i.1, i32 2
  %13 = load i32, i32* %stride.i.2, align 4, !tbaa !187
  %conv8.i.2 = sext i32 %13 to i64
  %mul.i.2 = mul nsw i64 %conv.i.2, %conv8.i.2
  %add.i.2 = add nsw i64 %mul.i.2, %add.i.1
  %indvars.iv.next.i.2 = or i64 %indvars.iv.i, 3
  %min.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv.next.i.2, i32 0
  %14 = load i32, i32* %min.i.3, align 4, !tbaa !186
  %min4.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv.next.i.2, i32 0
  %15 = load i32, i32* %min4.i.3, align 4, !tbaa !186
  %sub.i.3 = sub nsw i32 %14, %15
  %conv.i.3 = sext i32 %sub.i.3 to i64
  %stride.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv.next.i.2, i32 2
  %16 = load i32, i32* %stride.i.3, align 4, !tbaa !187
  %conv8.i.3 = sext i32 %16 to i64
  %mul.i.3 = mul nsw i64 %conv.i.3, %conv8.i.3
  %add.i.3 = add nsw i64 %mul.i.3, %add.i.2
  %indvars.iv.next.i.3 = add nuw nsw i64 %indvars.iv.i, 4
  %niter.nsub.3 = add i64 %niter, -4
  %niter.ncmp.3 = icmp eq i64 %niter.nsub.3, 0
  br i1 %niter.ncmp.3, label %_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit.loopexit.unr-lcssa, label %for.body.i, !llvm.loop !413

_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit.loopexit.unr-lcssa: ; preds = %for.body.i, %for.body.lr.ph.i
  %add.i.lcssa.ph = phi i64 [ undef, %for.body.lr.ph.i ], [ %add.i.3, %for.body.i ]
  %indvars.iv.i.unr = phi i64 [ 0, %for.body.lr.ph.i ], [ %indvars.iv.next.i.3, %for.body.i ]
  %offset.024.i.unr = phi i64 [ 0, %for.body.lr.ph.i ], [ %add.i.3, %for.body.i ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit, label %for.body.i.epil

for.body.i.epil:                                  ; preds = %_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit.loopexit.unr-lcssa, %for.body.i.epil
  %indvars.iv.i.epil = phi i64 [ %indvars.iv.next.i.epil, %for.body.i.epil ], [ %indvars.iv.i.unr, %_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit.loopexit.unr-lcssa ]
  %offset.024.i.epil = phi i64 [ %add.i.epil, %for.body.i.epil ], [ %offset.024.i.unr, %_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit.loopexit.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %for.body.i.epil ], [ %xtraiter, %_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit.loopexit.unr-lcssa ]
  %min.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv.i.epil, i32 0
  %17 = load i32, i32* %min.i.epil, align 4, !tbaa !186
  %min4.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv.i.epil, i32 0
  %18 = load i32, i32* %min4.i.epil, align 4, !tbaa !186
  %sub.i.epil = sub nsw i32 %17, %18
  %conv.i.epil = sext i32 %sub.i.epil to i64
  %stride.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv.i.epil, i32 2
  %19 = load i32, i32* %stride.i.epil, align 4, !tbaa !187
  %conv8.i.epil = sext i32 %19 to i64
  %mul.i.epil = mul nsw i64 %conv.i.epil, %conv8.i.epil
  %add.i.epil = add nsw i64 %mul.i.epil, %offset.024.i.epil
  %indvars.iv.next.i.epil = add nuw nsw i64 %indvars.iv.i.epil, 1
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit, label %for.body.i.epil, !llvm.loop !414

_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit: ; preds = %_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit.loopexit.unr-lcssa, %for.body.i.epil, %entry
  %offset.0.lcssa.i = phi i64 [ 0, %entry ], [ %add.i.lcssa.ph, %_ZN6Halide7Runtime8Internal28calc_device_crop_byte_offsetEPK15halide_buffer_tPS2_.exit.loopexit.unr-lcssa ], [ %add.i.epil, %for.body.i.epil ]
  %bits.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 4, i32 1
  %20 = load i8, i8* %bits.i.i, align 1, !tbaa !141
  %conv.i.i = zext i8 %20 to i64
  %add.i.i = add nuw nsw i64 %conv.i.i, 7
  %div.i.i = lshr i64 %add.i.i, 3
  %mul10.i = mul nsw i64 %div.i.i, %offset.0.lcssa.i
  %call1 = tail call i32 @opencl_device_crop_from_offset(i8* %user_context, %struct.halide_buffer_t* %src, i64 %mul10.i, %struct.halide_buffer_t* %dst) #17
  ret i32 %call1
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_opencl_device_slice(i8* %user_context, %struct.halide_buffer_t* %src, i32 %slice_dim, i32 %slice_pos, %struct.halide_buffer_t* %dst) #0 {
entry:
  %dim.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 6
  %0 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i, align 8, !tbaa !181
  %idxprom.i = sext i32 %slice_dim to i64
  %min.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %0, i64 %idxprom.i, i32 0
  %1 = load i32, i32* %min.i, align 4, !tbaa !186
  %sub.i = sub nsw i32 %slice_pos, %1
  %conv.i = sext i32 %sub.i to i64
  %stride.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %0, i64 %idxprom.i, i32 2
  %2 = load i32, i32* %stride.i, align 4, !tbaa !187
  %conv4.i = sext i32 %2 to i64
  %mul.i = mul nsw i64 %conv.i, %conv4.i
  %bits.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 4, i32 1
  %3 = load i8, i8* %bits.i.i, align 1, !tbaa !141
  %conv.i.i = zext i8 %3 to i64
  %add.i.i = add nuw nsw i64 %conv.i.i, 7
  %div.i.i = lshr i64 %add.i.i, 3
  %mul6.i = mul nsw i64 %mul.i, %div.i.i
  %call1 = tail call i32 @opencl_device_crop_from_offset(i8* %user_context, %struct.halide_buffer_t* %src, i64 %mul6.i, %struct.halide_buffer_t* %dst) #17
  ret i32 %call1
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_device_release_crop(i8* %user_context, %struct.halide_buffer_t* %buf) #3 {
entry:
  %ctx = alloca %"class.Halide::Runtime::Internal::OpenCL::ClContext", align 8
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %1 = inttoptr i64 %0 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %1, i64 0, i32 1
  %2 = load %struct._cl_mem*, %struct._cl_mem** %mem, align 8, !tbaa !398
  %3 = bitcast %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %3) #11
  %user_context2.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 0
  store i8* %user_context, i8** %user_context2.i, align 8, !tbaa !390
  %context.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 1
  store %struct._cl_context* null, %struct._cl_context** %context.i, align 8, !tbaa !392
  %cmd_queue.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  store %struct._cl_command_queue* null, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %error_code.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 3
  store i32 0, i32* %error_code.i, align 8, !tbaa !394
  %4 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp.i = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %4, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  tail call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #16
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %entry
  %call.i = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %context.i, %struct._cl_command_queue** nonnull %cmd_queue.i, i1 zeroext true) #16
  store i32 %call.i, i32* %error_code.i, align 8, !tbaa !394
  %5 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %tobool.not.i = icmp eq %struct._cl_context* %5, null
  %6 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8
  %tobool8.not.i = icmp eq %struct._cl_command_queue* %6, null
  %or.cond.i = select i1 %tobool.not.i, i1 true, i1 %tobool8.not.i
  br i1 %or.cond.i, label %if.then9.i, label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit

if.then9.i:                                       ; preds = %if.end.i
  %call.i.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then9.i
  %call.i1832.i = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

if.else.i.i:                                      ; preds = %if.then9.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i18.i = call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i18.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread: ; preds = %if.else.i.i, %if.then.i.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i.i ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  call void @free(i8* %call.i.i) #16
  store i32 -1, i32* %error_code.i, align 8, !tbaa !394
  br label %cleanup22

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit: ; preds = %if.end.i
  %cmp.not = icmp eq i32 %call.i, 0
  br i1 %cmp.not, label %do.body, label %cleanup22

do.body:                                          ; preds = %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit
  %call = call zeroext i1 @_ZN6Halide7Runtime8Internal6OpenCL23validate_device_pointerEPvP15halide_buffer_tm(i8* %user_context, %struct.halide_buffer_t* nonnull %buf, i64 0) #17
  br i1 %call, label %do.end, label %if.then11

if.then11:                                        ; preds = %do.body
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([120 x i8], [120 x i8]* @.str.182, i64 0, i64 0)) #16
  call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then11, %do.body
  %7 = load i32 (%struct._cl_mem*)*, i32 (%struct._cl_mem*)** @_ZN6Halide7Runtime8Internal6OpenCL18clReleaseMemObjectE, align 8, !tbaa !11
  %call17 = call i32 %7(%struct._cl_mem* %2) #16
  %8 = load i64, i64* %device, align 8, !tbaa !245
  %9 = inttoptr i64 %8 to i8*
  call void @free(i8* %9) #16
  br label %cleanup22

cleanup22:                                        ; preds = %do.end, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread
  %retval.1 = phi i32 [ %call17, %do.end ], [ %call.i, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit ], [ -1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread ]
  %10 = load i8*, i8** %user_context2.i, align 8, !tbaa !390
  %call.i39 = call i32 @halide_release_cl_context(i8* %10) #16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %3) #11
  ret i32 %retval.1
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_opencl_wrap_cl_mem(i8* %user_context, %struct.halide_buffer_t* %buf, i64 %mem) #0 {
entry:
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %cmp = icmp eq i64 %0, 0
  br i1 %cmp, label %if.end4, label %do.end

do.end:                                           ; preds = %entry
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([94 x i8], [94 x i8]* @.str.176, i64 0, i64 0)) #16
  tail call void @abort() #16
  %.pr = load i64, i64* %device, align 8, !tbaa !245
  %cmp2.not = icmp eq i64 %.pr, 0
  br i1 %cmp2.not, label %if.end4, label %return

if.end4:                                          ; preds = %do.end, %entry
  %call = tail call i8* @malloc(i64 16) #16
  %cmp5 = icmp eq i8* %call, null
  br i1 %cmp5, label %return, label %if.end7

if.end7:                                          ; preds = %if.end4
  %1 = inttoptr i64 %mem to %struct._cl_mem*
  %mem8 = getelementptr inbounds i8, i8* %call, i64 8
  %2 = bitcast i8* %mem8 to %struct._cl_mem**
  store %struct._cl_mem* %1, %struct._cl_mem** %2, align 8, !tbaa !398
  %offset = bitcast i8* %call to i64*
  store i64 0, i64* %offset, align 8, !tbaa !400
  %3 = ptrtoint i8* %call to i64
  store i64 %3, i64* %device, align 8, !tbaa !245
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  store %struct.halide_device_interface_t* @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %4 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** getelementptr inbounds (%struct.halide_device_interface_t, %struct.halide_device_interface_t* @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE, i64 0, i32 15), align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %4, i64 0, i32 0
  %5 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  tail call void %5() #16
  br label %return

return:                                           ; preds = %if.end7, %if.end4, %do.end
  %retval.1 = phi i32 [ -2, %do.end ], [ 0, %if.end7 ], [ -11, %if.end4 ]
  ret i32 %retval.1
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_opencl_detach_cl_mem(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %cmp = icmp eq i64 %0, 0
  br i1 %cmp, label %return, label %do.body

do.body:                                          ; preds = %entry
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %1 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %cmp1 = icmp eq %struct.halide_device_interface_t* %1, @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE
  %cmp3 = icmp eq %struct.halide_device_interface_t* %1, @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE
  %or.cond = or i1 %cmp1, %cmp3
  br i1 %or.cond, label %do.end, label %if.then4

if.then4:                                         ; preds = %do.body
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([186 x i8], [186 x i8]* @.str.177, i64 0, i64 0)) #16
  tail call void @abort() #16
  %.pre = load i64, i64* %device, align 8, !tbaa !245
  br label %do.end

do.end:                                           ; preds = %if.then4, %do.body
  %2 = phi i64 [ %0, %do.body ], [ %.pre, %if.then4 ]
  %3 = inttoptr i64 %2 to i8*
  tail call void @free(i8* %3) #16
  store i64 0, i64* %device, align 8, !tbaa !245
  %4 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %impl = getelementptr inbounds %struct.halide_device_interface_t, %struct.halide_device_interface_t* %4, i64 0, i32 15
  %5 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** %impl, align 8, !tbaa !317
  %release_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %5, i64 0, i32 1
  %6 = load void ()*, void ()** %release_module, align 8, !tbaa !325
  tail call void %6() #16
  store %struct.halide_device_interface_t* null, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  br label %return

return:                                           ; preds = %do.end, %entry
  ret i32 0
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_image_device_malloc(i8* %user_context, %struct.halide_buffer_t* %buf) #3 {
entry:
  %ctx = alloca %"class.Halide::Runtime::Internal::OpenCL::ClContext", align 8
  %format = alloca %struct._cl_image_format, align 4
  %desc = alloca %struct._cl_image_desc, align 8
  %type = alloca i32, align 4
  %tmpcast = bitcast i32* %type to %struct.halide_type_t*
  %ref.tmp158 = alloca %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", align 8
  %err = alloca i32, align 4
  %ref.tmp229 = alloca %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", align 8
  %0 = bitcast %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %0) #11
  %user_context2.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 0
  store i8* %user_context, i8** %user_context2.i, align 8, !tbaa !390
  %context.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 1
  store %struct._cl_context* null, %struct._cl_context** %context.i, align 8, !tbaa !392
  %cmd_queue.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  store %struct._cl_command_queue* null, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %error_code.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 3
  store i32 0, i32* %error_code.i, align 8, !tbaa !394
  %1 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp.i = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %1, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  tail call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #16
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %entry
  %call.i = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %context.i, %struct._cl_command_queue** nonnull %cmd_queue.i, i1 zeroext true) #16
  store i32 %call.i, i32* %error_code.i, align 8, !tbaa !394
  %2 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %tobool.not.i = icmp eq %struct._cl_context* %2, null
  %3 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8
  %tobool8.not.i = icmp eq %struct._cl_command_queue* %3, null
  %or.cond.i = select i1 %tobool.not.i, i1 true, i1 %tobool8.not.i
  br i1 %or.cond.i, label %if.then9.i, label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit

if.then9.i:                                       ; preds = %if.end.i
  %call.i.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then9.i
  %call.i1832.i = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

if.else.i.i:                                      ; preds = %if.then9.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i18.i = call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i18.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread: ; preds = %if.else.i.i, %if.then.i.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i.i ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  call void @free(i8* %call.i.i) #16
  store i32 -1, i32* %error_code.i, align 8, !tbaa !394
  br label %cleanup262

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit: ; preds = %if.end.i
  %cmp.not = icmp eq i32 %call.i, 0
  br i1 %cmp.not, label %if.end, label %cleanup262

if.end:                                           ; preds = %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit
  %dimensions.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 5
  %4 = load i32, i32* %dimensions.i.i, align 4, !tbaa !180
  %dim.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 6
  %5 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i.i, align 8
  %cmp19.i.i = icmp sgt i32 %4, 0
  br i1 %cmp19.i.i, label %for.body.preheader.i.i, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

for.body.preheader.i.i:                           ; preds = %if.end
  %wide.trip.count.i.i = zext i32 %4 to i64
  %6 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter = and i64 %wide.trip.count.i.i, 3
  %7 = icmp ult i64 %6, 3
  br i1 %7, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.preheader.i.i.new

for.body.preheader.i.i.new:                       ; preds = %for.body.preheader.i.i
  %unroll_iter = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %if.end.i.i.3, %for.body.preheader.i.i.new
  %indvars.iv.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %niter = phi i64 [ %unroll_iter, %for.body.preheader.i.i.new ], [ %niter.nsub.3, %if.end.i.i.3 ]
  %stride2.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i.i, i32 2
  %8 = load i32, i32* %stride2.i.i, align 4, !tbaa !187
  %cmp3.i.i = icmp sgt i32 %8, 0
  br i1 %cmp3.i.i, label %if.then.i.i332, label %if.end.i.i

if.then.i.i332:                                   ; preds = %for.body.i.i
  %conv18.i.i = zext i32 %8 to i64
  %extent.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i.i, i32 1
  %9 = load i32, i32* %extent.i.i, align 4, !tbaa !183
  %sub.i.i = add nsw i32 %9, -1
  %conv7.i.i = sext i32 %sub.i.i to i64
  %mul.i.i = mul nsw i64 %conv7.i.i, %conv18.i.i
  %add.i.i = add nsw i64 %mul.i.i, %index.021.i.i
  br label %if.end.i.i

if.end.i.i:                                       ; preds = %if.then.i.i332, %for.body.i.i
  %index.1.i.i = phi i64 [ %add.i.i, %if.then.i.i332 ], [ %index.021.i.i, %for.body.i.i ]
  %indvars.iv.next.i.i = or i64 %indvars.iv.i.i, 1
  %stride2.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i, i32 2
  %10 = load i32, i32* %stride2.i.i.1, align 4, !tbaa !187
  %cmp3.i.i.1 = icmp sgt i32 %10, 0
  br i1 %cmp3.i.i.1, label %if.then.i.i332.1, label %if.end.i.i.1

for.body.i12.i.preheader.unr-lcssa:               ; preds = %if.end.i.i.3, %for.body.preheader.i.i
  %index.1.i.i.lcssa.ph = phi i64 [ undef, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %indvars.iv.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil

for.body.i.i.epil:                                ; preds = %for.body.i12.i.preheader.unr-lcssa, %if.end.i.i.epil
  %indvars.iv.i.i.epil = phi i64 [ %indvars.iv.next.i.i.epil, %if.end.i.i.epil ], [ %indvars.iv.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %index.021.i.i.epil = phi i64 [ %index.1.i.i.epil, %if.end.i.i.epil ], [ %index.021.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %if.end.i.i.epil ], [ %xtraiter, %for.body.i12.i.preheader.unr-lcssa ]
  %stride2.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i.i.epil, i32 2
  %11 = load i32, i32* %stride2.i.i.epil, align 4, !tbaa !187
  %cmp3.i.i.epil = icmp sgt i32 %11, 0
  br i1 %cmp3.i.i.epil, label %if.then.i.i332.epil, label %if.end.i.i.epil

if.then.i.i332.epil:                              ; preds = %for.body.i.i.epil
  %conv18.i.i.epil = zext i32 %11 to i64
  %extent.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i.i.epil, i32 1
  %12 = load i32, i32* %extent.i.i.epil, align 4, !tbaa !183
  %sub.i.i.epil = add nsw i32 %12, -1
  %conv7.i.i.epil = sext i32 %sub.i.i.epil to i64
  %mul.i.i.epil = mul nsw i64 %conv7.i.i.epil, %conv18.i.i.epil
  %add.i.i.epil = add nsw i64 %mul.i.i.epil, %index.021.i.i.epil
  br label %if.end.i.i.epil

if.end.i.i.epil:                                  ; preds = %if.then.i.i332.epil, %for.body.i.i.epil
  %index.1.i.i.epil = phi i64 [ %add.i.i.epil, %if.then.i.i332.epil ], [ %index.021.i.i.epil, %for.body.i.i.epil ]
  %indvars.iv.next.i.i.epil = add nuw nsw i64 %indvars.iv.i.i.epil, 1
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil, !llvm.loop !415

for.body.i12.i.preheader:                         ; preds = %if.end.i.i.epil, %for.body.i12.i.preheader.unr-lcssa
  %index.1.i.i.lcssa = phi i64 [ %index.1.i.i.lcssa.ph, %for.body.i12.i.preheader.unr-lcssa ], [ %index.1.i.i.epil, %if.end.i.i.epil ]
  %13 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter20 = and i64 %wide.trip.count.i.i, 3
  %14 = icmp ult i64 %13, 3
  br i1 %14, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i.preheader.new

for.body.i12.i.preheader.new:                     ; preds = %for.body.i12.i.preheader
  %unroll_iter24 = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i12.i

for.body.i12.i:                                   ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader.new
  %indvars.iv.i9.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %niter25 = phi i64 [ %unroll_iter24, %for.body.i12.i.preheader.new ], [ %niter25.nsub.3, %if.end.i22.i.3 ]
  %stride2.i10.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i9.i, i32 2
  %15 = load i32, i32* %stride2.i10.i, align 4, !tbaa !187
  %cmp3.i11.i = icmp slt i32 %15, 0
  br i1 %cmp3.i11.i, label %if.then.i18.i, label %if.end.i22.i

if.then.i18.i:                                    ; preds = %for.body.i12.i
  %conv.i.i = sext i32 %15 to i64
  %extent.i13.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i9.i, i32 1
  %16 = load i32, i32* %extent.i13.i, align 4, !tbaa !183
  %sub.i14.i = add nsw i32 %16, -1
  %conv7.i15.i = sext i32 %sub.i14.i to i64
  %mul.i16.i = mul nsw i64 %conv7.i15.i, %conv.i.i
  %add.i17.i = add nsw i64 %mul.i16.i, %index.018.i.i
  br label %if.end.i22.i

if.end.i22.i:                                     ; preds = %if.then.i18.i, %for.body.i12.i
  %index.1.i19.i = phi i64 [ %add.i17.i, %if.then.i18.i ], [ %index.018.i.i, %for.body.i12.i ]
  %indvars.iv.next.i20.i = or i64 %indvars.iv.i9.i, 1
  %stride2.i10.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i, i32 2
  %17 = load i32, i32* %stride2.i10.i.1, align 4, !tbaa !187
  %cmp3.i11.i.1 = icmp slt i32 %17, 0
  br i1 %cmp3.i11.i.1, label %if.then.i18.i.1, label %if.end.i22.i.1

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa: ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader
  %index.1.i19.i.lcssa.ph = phi i64 [ undef, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %indvars.iv.i9.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %lcmp.mod22.not = icmp eq i64 %xtraiter20, 0
  br i1 %lcmp.mod22.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil

for.body.i12.i.epil:                              ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, %if.end.i22.i.epil
  %indvars.iv.i9.i.epil = phi i64 [ %indvars.iv.next.i20.i.epil, %if.end.i22.i.epil ], [ %indvars.iv.i9.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %index.018.i.i.epil = phi i64 [ %index.1.i19.i.epil, %if.end.i22.i.epil ], [ %index.018.i.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %epil.iter21 = phi i64 [ %epil.iter21.sub, %if.end.i22.i.epil ], [ %xtraiter20, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %stride2.i10.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i9.i.epil, i32 2
  %18 = load i32, i32* %stride2.i10.i.epil, align 4, !tbaa !187
  %cmp3.i11.i.epil = icmp slt i32 %18, 0
  br i1 %cmp3.i11.i.epil, label %if.then.i18.i.epil, label %if.end.i22.i.epil

if.then.i18.i.epil:                               ; preds = %for.body.i12.i.epil
  %conv.i.i.epil = sext i32 %18 to i64
  %extent.i13.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.i9.i.epil, i32 1
  %19 = load i32, i32* %extent.i13.i.epil, align 4, !tbaa !183
  %sub.i14.i.epil = add nsw i32 %19, -1
  %conv7.i15.i.epil = sext i32 %sub.i14.i.epil to i64
  %mul.i16.i.epil = mul nsw i64 %conv7.i15.i.epil, %conv.i.i.epil
  %add.i17.i.epil = add nsw i64 %mul.i16.i.epil, %index.018.i.i.epil
  br label %if.end.i22.i.epil

if.end.i22.i.epil:                                ; preds = %if.then.i18.i.epil, %for.body.i12.i.epil
  %index.1.i19.i.epil = phi i64 [ %add.i17.i.epil, %if.then.i18.i.epil ], [ %index.018.i.i.epil, %for.body.i12.i.epil ]
  %indvars.iv.next.i20.i.epil = add nuw nsw i64 %indvars.iv.i9.i.epil, 1
  %epil.iter21.sub = add i64 %epil.iter21, -1
  %epil.iter21.cmp.not = icmp eq i64 %epil.iter21.sub, 0
  br i1 %epil.iter21.cmp.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil, !llvm.loop !416

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit: ; preds = %if.end.i22.i.epil, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa
  %index.1.i19.i.lcssa = phi i64 [ %index.1.i19.i.lcssa.ph, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ], [ %index.1.i19.i.epil, %if.end.i22.i.epil ]
  %add8.i.i = add nsw i64 %index.1.i.i.lcssa, 1
  br label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

_ZNK15halide_buffer_t13size_in_bytesEv.exit:      ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, %if.end
  %add8.i27.i = phi i64 [ 1, %if.end ], [ %add8.i.i, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %index.0.lcssa.i8.i = phi i64 [ 0, %if.end ], [ %index.1.i19.i.lcssa, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %sub.i = sub nsw i64 %add8.i27.i, %index.0.lcssa.i8.i
  %bits.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 4, i32 1
  %20 = load i8, i8* %bits.i.i, align 1, !tbaa !141
  %conv.i23.i = zext i8 %20 to i64
  %add.i24.i = add nuw nsw i64 %conv.i23.i, 7
  %div.i.i = lshr i64 %add.i24.i, 3
  %mul.i = mul i64 %div.i.i, %sub.i
  %cmp6.not = icmp eq i64 %mul.i, 0
  br i1 %cmp6.not, label %if.then7, label %do.end

if.then7:                                         ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([87 x i8], [87 x i8]* @.str.244, i64 0, i64 0)) #16
  call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then7, %_ZNK15halide_buffer_t13size_in_bytesEv.exit
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %21 = load i64, i64* %device, align 8, !tbaa !245
  %tobool.not = icmp eq i64 %21, 0
  br i1 %tobool.not, label %for.cond.preheader, label %do.body10

for.cond.preheader:                               ; preds = %do.end
  %22 = load i32, i32* %dimensions.i.i, align 4, !tbaa !180
  %cmp17449 = icmp sgt i32 %22, 0
  br i1 %cmp17449, label %do.body18, label %for.cond.cleanup

do.body10:                                        ; preds = %do.end
  %call11 = call zeroext i1 @_ZN6Halide7Runtime8Internal6OpenCL23validate_device_pointerEPvP15halide_buffer_tm(i8* %user_context, %struct.halide_buffer_t* nonnull %buf, i64 %mul.i) #17
  br i1 %call11, label %cleanup262, label %if.then12

if.then12:                                        ; preds = %do.body10
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([126 x i8], [126 x i8]* @.str.245, i64 0, i64 0)) #16
  call void @abort() #16
  br label %cleanup262

for.cond.cleanup:                                 ; preds = %for.inc, %for.cond.preheader
  %call28 = call i8* @malloc(i64 16) #16
  %cmp29 = icmp eq i8* %call28, null
  br i1 %cmp29, label %cleanup262, label %if.end31

do.body18:                                        ; preds = %for.cond.preheader, %for.inc
  %23 = phi i32 [ %26, %for.inc ], [ %22, %for.cond.preheader ]
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc ], [ 0, %for.cond.preheader ]
  %24 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i.i, align 8, !tbaa !181
  %stride = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %24, i64 %indvars.iv, i32 2
  %25 = load i32, i32* %stride, align 4, !tbaa !187
  %cmp19 = icmp sgt i32 %25, -1
  br i1 %cmp19, label %for.inc, label %if.then20

if.then20:                                        ; preds = %do.body18
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([101 x i8], [101 x i8]* @.str.246, i64 0, i64 0)) #16
  call void @abort() #16
  %.pre = load i32, i32* %dimensions.i.i, align 4, !tbaa !180
  br label %for.inc

for.inc:                                          ; preds = %if.then20, %do.body18
  %26 = phi i32 [ %23, %do.body18 ], [ %.pre, %if.then20 ]
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %27 = sext i32 %26 to i64
  %cmp17 = icmp slt i64 %indvars.iv.next, %27
  br i1 %cmp17, label %do.body18, label %for.cond.cleanup, !llvm.loop !417

if.end31:                                         ; preds = %for.cond.cleanup
  %28 = bitcast %struct._cl_image_format* %format to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %28) #11
  %29 = bitcast %struct._cl_image_desc* %desc to i8*
  call void @llvm.lifetime.start.p0i8(i64 72, i8* nonnull %29) #11
  %30 = bitcast i32* %type to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %30) #11
  %31 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 4, i32 0
  %32 = bitcast i8* %31 to i32*
  %33 = load i32, i32* %32, align 8
  store i32 %33, i32* %type, align 4
  %image_channel_data_type = getelementptr inbounds %struct._cl_image_format, %struct._cl_image_format* %format, i64 0, i32 1
  store i32 65535, i32* %image_channel_data_type, align 4, !tbaa !418
  %34 = trunc i32 %33 to i8
  %35 = lshr i32 %33, 8
  %36 = trunc i32 %35 to i8
  switch i8 %34, label %if.then101 [
    i8 0, label %if.then34
    i8 1, label %if.then57
    i8 2, label %if.then82
  ]

if.then34:                                        ; preds = %if.end31
  switch i8 %36, label %if.then101 [
    i8 8, label %if.end105
    i8 16, label %if.then42
    i8 32, label %if.then48
  ]

if.then42:                                        ; preds = %if.then34
  br label %if.end105

if.then48:                                        ; preds = %if.then34
  br label %if.end105

if.then57:                                        ; preds = %if.end31
  switch i8 %36, label %if.then101 [
    i8 8, label %if.end105
    i8 16, label %if.then67
    i8 32, label %if.then73
  ]

if.then67:                                        ; preds = %if.then57
  br label %if.end105

if.then73:                                        ; preds = %if.then57
  br label %if.end105

if.then82:                                        ; preds = %if.end31
  switch i8 %36, label %if.then101 [
    i8 16, label %if.end105
    i8 32, label %if.then92
  ]

if.then92:                                        ; preds = %if.then82
  br label %if.end105

if.then101:                                       ; preds = %if.then82, %if.then57, %if.then34, %if.end31
  %call.i335 = call i8* @malloc(i64 1024) #16
  %tobool.not.i336 = icmp eq i8* %call.i335, null
  br i1 %tobool.not.i336, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.thread, label %if.else.i

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.thread: ; preds = %if.then101
  %call.i3391 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([47 x i8], [47 x i8]* @.str.247, i64 0, i64 0)) #16
  %call.i34216 = call i8* @halide_type_to_string(i8* %call.i3391, i8* null, %struct.halide_type_t* nonnull %tmpcast) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %if.then101
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i335, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i3392 = call i8* @halide_string_to_string(i8* nonnull %call.i335, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([47 x i8], [47 x i8]* @.str.247, i64 0, i64 0)) #16
  %call.i342 = call i8* @halide_type_to_string(i8* %call.i3392, i8* nonnull %add.ptr.i, %struct.halide_type_t* nonnull %tmpcast) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i342 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i335 to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i346 = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i347 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i335, i64 %add.i.i346) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.thread, %if.else.i
  %.sink10.i = phi i8* [ %call.i335, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.thread ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  call void @free(i8* %call.i335) #16
  br label %cleanup256

if.end105:                                        ; preds = %if.then92, %if.then82, %if.then73, %if.then67, %if.then57, %if.then48, %if.then42, %if.then34
  %.sink = phi i32 [ 4315, %if.then67 ], [ 4316, %if.then73 ], [ 4318, %if.then92 ], [ 4313, %if.then48 ], [ 4312, %if.then42 ], [ 4311, %if.then34 ], [ 4314, %if.then57 ], [ 4317, %if.then82 ]
  store i32 %.sink, i32* %image_channel_data_type, align 4, !tbaa !418
  %image_channel_order = getelementptr inbounds %struct._cl_image_format, %struct._cl_image_format* %format, i64 0, i32 0
  store i32 4272, i32* %image_channel_order, align 4, !tbaa !420
  %37 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i.i, align 8, !tbaa !181
  %stride116 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %37, i64 0, i32 2
  %38 = load i32, i32* %stride116, align 4, !tbaa !187
  %cmp117.not = icmp eq i32 %38, 1
  br i1 %cmp117.not, label %lor.lhs.false, label %if.then140

lor.lhs.false:                                    ; preds = %if.end105
  %39 = load i32, i32* %dimensions.i.i, align 4, !tbaa !180
  %cmp119 = icmp sgt i32 %39, 1
  br i1 %cmp119, label %land.lhs.true, label %if.end143

land.lhs.true:                                    ; preds = %lor.lhs.false
  %stride122 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %37, i64 1, i32 2
  %40 = load i32, i32* %stride122, align 4, !tbaa !187
  %extent = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %37, i64 0, i32 1
  %41 = load i32, i32* %extent, align 4, !tbaa !183
  %cmp125.not = icmp eq i32 %40, %41
  br i1 %cmp125.not, label %lor.lhs.false126, label %if.then140

lor.lhs.false126:                                 ; preds = %land.lhs.true
  %cmp128 = icmp sgt i32 %39, 2
  br i1 %cmp128, label %land.lhs.true129, label %cond.true.thread

land.lhs.true129:                                 ; preds = %lor.lhs.false126
  %stride132 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %37, i64 2, i32 2
  %42 = load i32, i32* %stride132, align 4, !tbaa !187
  %extent138 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %37, i64 1, i32 1
  %43 = load i32, i32* %extent138, align 4, !tbaa !183
  %mul = mul nsw i32 %43, %40
  %cmp139.not = icmp eq i32 %42, %mul
  br i1 %cmp139.not, label %if.end143, label %if.then140

if.then140:                                       ; preds = %land.lhs.true129, %land.lhs.true, %if.end105
  %call.i352 = call i8* @malloc(i64 1024) #16
  %tobool.not.i355 = icmp eq i8* %call.i352, null
  br i1 %tobool.not.i355, label %if.then.i368, label %if.else.i378

if.then.i368:                                     ; preds = %if.then140
  %call.i364445 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([46 x i8], [46 x i8]* @.str.249, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit386

if.else.i378:                                     ; preds = %if.then140
  %add.ptr.i356 = getelementptr inbounds i8, i8* %call.i352, i64 1023
  store i8 0, i8* %add.ptr.i356, align 1, !tbaa !15
  %call.i364 = call i8* @halide_string_to_string(i8* nonnull %call.i352, i8* nonnull %add.ptr.i356, i8* getelementptr inbounds ([46 x i8], [46 x i8]* @.str.249, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i373 = ptrtoint i8* %call.i364 to i64
  %sub.ptr.rhs.cast.i.i374 = ptrtoint i8* %call.i352 to i64
  %sub.ptr.sub.i.i375 = sub i64 1, %sub.ptr.rhs.cast.i.i374
  %add.i.i376 = add i64 %sub.ptr.sub.i.i375, %sub.ptr.lhs.cast.i.i373
  %call.i.i377 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i352, i64 %add.i.i376) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit386

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit386: ; preds = %if.else.i378, %if.then.i368
  %.sink10.i379 = phi i8* [ %call.i352, %if.else.i378 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i368 ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i379) #16
  call void @free(i8* %call.i352) #16
  br label %cleanup256

if.end143:                                        ; preds = %land.lhs.true129, %lor.lhs.false
  switch i32 %39, label %if.else157 [
    i32 1, label %if.then146
    i32 3, label %if.then155
  ]

if.then146:                                       ; preds = %if.end143
  %image_type = getelementptr inbounds %struct._cl_image_desc, %struct._cl_image_desc* %desc, i64 0, i32 0
  store i32 4340, i32* %image_type, align 8, !tbaa !421
  br label %if.end162

cond.true.thread:                                 ; preds = %lor.lhs.false126
  %image_type151 = getelementptr inbounds %struct._cl_image_desc, %struct._cl_image_desc* %desc, i64 0, i32 0
  store i32 4337, i32* %image_type151, align 8, !tbaa !421
  %conv166453 = sext i32 %40 to i64
  %image_width454 = getelementptr inbounds %struct._cl_image_desc, %struct._cl_image_desc* %desc, i64 0, i32 2
  store i64 %conv166453, i64* %image_width454, align 8, !tbaa !423
  %extent171459 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %37, i64 1, i32 1
  %44 = load i32, i32* %extent171459, align 4, !tbaa !183
  %phi.cast460 = sext i32 %44 to i64
  br label %cond.end180

if.then155:                                       ; preds = %if.end143
  %image_type156 = getelementptr inbounds %struct._cl_image_desc, %struct._cl_image_desc* %desc, i64 0, i32 0
  store i32 4338, i32* %image_type156, align 8, !tbaa !421
  br label %if.end162

if.else157:                                       ; preds = %if.end143
  %45 = bitcast %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp158 to i8*
  call void @llvm.lifetime.start.p0i8(i64 40, i8* nonnull %45) #11
  %user_context.i387 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp158, i64 0, i32 3
  store i8* %user_context, i8** %user_context.i387, align 8, !tbaa !424
  %own_mem.i388 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp158, i64 0, i32 4
  store i8 1, i8* %own_mem.i388, align 8, !tbaa !426
  %call.i389 = call i8* @malloc(i64 1024) #16
  %buf3.i390 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp158, i64 0, i32 0
  store i8* %call.i389, i8** %buf3.i390, align 8, !tbaa !427
  %dst.i391 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp158, i64 0, i32 1
  %tobool.not.i392 = icmp eq i8* %call.i389, null
  br i1 %tobool.not.i392, label %if.else157.split, label %if.then6.i395

if.else157.split:                                 ; preds = %if.else157
  %call.i4013 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([38 x i8], [38 x i8]* @.str.250, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit398

if.then6.i395:                                    ; preds = %if.else157
  %add.ptr.i393 = getelementptr inbounds i8, i8* %call.i389, i64 1023
  store i8 0, i8* %add.ptr.i393, align 1, !tbaa !15
  %call.i4014 = call i8* @halide_string_to_string(i8* nonnull %call.i389, i8* nonnull %add.ptr.i393, i8* getelementptr inbounds ([38 x i8], [38 x i8]* @.str.250, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit398

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit398: ; preds = %if.else157.split, %if.then6.i395
  %add.ptr.i393.sink = phi i8* [ null, %if.else157.split ], [ %add.ptr.i393, %if.then6.i395 ]
  %phi.call5 = phi i8* [ %call.i4013, %if.else157.split ], [ %call.i4014, %if.then6.i395 ]
  %46 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp158, i64 0, i32 2
  store i8* %add.ptr.i393.sink, i8** %46, align 8
  store i8* %phi.call5, i8** %dst.i391, align 8, !tbaa !428
  call fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nonnull align 8 dereferenceable(33) %ref.tmp158) #16
  call void @llvm.lifetime.end.p0i8(i64 40, i8* nonnull %45) #11
  br label %cleanup256

if.end162:                                        ; preds = %if.then155, %if.then146
  %extent165 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %37, i64 0, i32 1
  %47 = load i32, i32* %extent165, align 4, !tbaa !183
  %conv166 = sext i32 %47 to i64
  %image_width = getelementptr inbounds %struct._cl_image_desc, %struct._cl_image_desc* %desc, i64 0, i32 2
  store i64 %conv166, i64* %image_width, align 8, !tbaa !423
  br i1 %cmp119, label %cond.true, label %cond.end180

cond.true:                                        ; preds = %if.end162
  %extent171 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %37, i64 1, i32 1
  %48 = load i32, i32* %extent171, align 4, !tbaa !183
  %phi.cast = sext i32 %48 to i64
  br label %cond.end180

cond.end180:                                      ; preds = %if.end162, %cond.true, %cond.true.thread
  %.sink18 = phi i64 [ %phi.cast, %cond.true ], [ %phi.cast460, %cond.true.thread ], [ 1, %if.end162 ]
  %cond181 = phi i64 [ %phi.cast, %cond.true ], [ 1, %cond.true.thread ], [ 1, %if.end162 ]
  %image_height = getelementptr inbounds %struct._cl_image_desc, %struct._cl_image_desc* %desc, i64 0, i32 3
  store i64 %.sink18, i64* %image_height, align 8, !tbaa !429
  %image_depth = getelementptr inbounds %struct._cl_image_desc, %struct._cl_image_desc* %desc, i64 0, i32 4
  store i64 %cond181, i64* %image_depth, align 8, !tbaa !430
  %image_array_size = getelementptr inbounds %struct._cl_image_desc, %struct._cl_image_desc* %desc, i64 0, i32 5
  %49 = bitcast i64* %image_array_size to <2 x i64>*
  store <2 x i64> <i64 1, i64 0>, <2 x i64>* %49, align 8, !tbaa !19
  %image_slice_pitch = getelementptr inbounds %struct._cl_image_desc, %struct._cl_image_desc* %desc, i64 0, i32 7
  store i64 0, i64* %image_slice_pitch, align 8, !tbaa !431
  %num_mip_levels = getelementptr inbounds %struct._cl_image_desc, %struct._cl_image_desc* %desc, i64 0, i32 8
  store i32 0, i32* %num_mip_levels, align 8, !tbaa !432
  %num_samples = getelementptr inbounds %struct._cl_image_desc, %struct._cl_image_desc* %desc, i64 0, i32 9
  store i32 0, i32* %num_samples, align 4, !tbaa !433
  %buffer = getelementptr inbounds %struct._cl_image_desc, %struct._cl_image_desc* %desc, i64 0, i32 10
  store %struct._cl_mem* null, %struct._cl_mem** %buffer, align 8, !tbaa !434
  %50 = bitcast i32* %err to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %50) #11
  %51 = load %struct._cl_mem* (%struct._cl_context*, i64, %struct._cl_image_format*, %struct._cl_image_desc*, i8*, i32*)*, %struct._cl_mem* (%struct._cl_context*, i64, %struct._cl_image_format*, %struct._cl_image_desc*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL13clCreateImageE, align 8, !tbaa !11
  %52 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %call220 = call %struct._cl_mem* %51(%struct._cl_context* %52, i64 1, %struct._cl_image_format* nonnull %format, %struct._cl_image_desc* nonnull %desc, i8* null, i32* nonnull %err) #16
  %53 = load i32, i32* %err, align 4, !tbaa !76
  %cmp221 = icmp ne i32 %53, 0
  %cmp223 = icmp eq %struct._cl_mem* %call220, null
  %or.cond = select i1 %cmp221, i1 true, i1 %cmp223
  br i1 %or.cond, label %if.then224, label %if.else233

if.then224:                                       ; preds = %cond.end180
  %call227 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %53) #17
  %54 = bitcast %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp229 to i8*
  call void @llvm.lifetime.start.p0i8(i64 40, i8* nonnull %54) #11
  %user_context.i402 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp229, i64 0, i32 3
  store i8* %user_context, i8** %user_context.i402, align 8, !tbaa !424
  %own_mem.i403 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp229, i64 0, i32 4
  store i8 1, i8* %own_mem.i403, align 8, !tbaa !426
  %call.i404 = call i8* @malloc(i64 1024) #16
  %buf3.i405 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp229, i64 0, i32 0
  store i8* %call.i404, i8** %buf3.i405, align 8, !tbaa !427
  %dst.i406 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp229, i64 0, i32 1
  %tobool.not.i407 = icmp eq i8* %call.i404, null
  br i1 %tobool.not.i407, label %if.then224.split, label %if.then6.i410

if.then224.split:                                 ; preds = %if.then224
  %call.i4166 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([27 x i8], [27 x i8]* @.str.253, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit413

if.then6.i410:                                    ; preds = %if.then224
  %add.ptr.i408 = getelementptr inbounds i8, i8* %call.i404, i64 1023
  store i8 0, i8* %add.ptr.i408, align 1, !tbaa !15
  %call.i4167 = call i8* @halide_string_to_string(i8* nonnull %call.i404, i8* nonnull %add.ptr.i408, i8* getelementptr inbounds ([27 x i8], [27 x i8]* @.str.253, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit413

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit413: ; preds = %if.then224.split, %if.then6.i410
  %add.ptr.i408.sink17 = phi i8* [ null, %if.then224.split ], [ %add.ptr.i408, %if.then6.i410 ]
  %phi.call8 = phi i8* [ %call.i4166, %if.then224.split ], [ %call.i4167, %if.then6.i410 ]
  %55 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp229, i64 0, i32 2
  store i8* %add.ptr.i408.sink17, i8** %55, align 8
  %56 = load i32, i32* %err, align 4, !tbaa !76
  %call231 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %56) #17
  %call.i419 = call i8* @halide_string_to_string(i8* %phi.call8, i8* %add.ptr.i408.sink17, i8* %call231) #16
  store i8* %call.i419, i8** %dst.i406, align 8, !tbaa !428
  call fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nonnull align 8 dereferenceable(33) %ref.tmp229) #16
  call void @llvm.lifetime.end.p0i8(i64 40, i8* nonnull %54) #11
  call void @free(i8* nonnull %call28) #16
  %57 = load i32, i32* %err, align 4, !tbaa !76
  br label %cleanup

if.else233:                                       ; preds = %cond.end180
  %mem = getelementptr inbounds i8, i8* %call28, i64 8
  %58 = bitcast i8* %mem to %struct._cl_mem**
  store %struct._cl_mem* %call220, %struct._cl_mem** %58, align 8, !tbaa !398
  %offset = bitcast i8* %call28 to i64*
  store i64 0, i64* %offset, align 8, !tbaa !400
  %59 = ptrtoint i8* %call28 to i64
  store i64 %59, i64* %device, align 8, !tbaa !245
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  store %struct.halide_device_interface_t* @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %60 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** getelementptr inbounds (%struct.halide_device_interface_t, %struct.halide_device_interface_t* @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE, i64 0, i32 15), align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %60, i64 0, i32 0
  %61 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  call void %61() #16
  %call250 = call zeroext i1 @_ZN6Halide7Runtime8Internal6OpenCL23validate_device_pointerEPvP15halide_buffer_tm(i8* %user_context, %struct.halide_buffer_t* nonnull %buf, i64 %mul.i) #17
  br i1 %call250, label %cleanup, label %if.then251

if.then251:                                       ; preds = %if.else233
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([126 x i8], [126 x i8]* @.str.254, i64 0, i64 0)) #16
  call void @abort() #16
  br label %cleanup

cleanup:                                          ; preds = %if.then251, %if.else233, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit413
  %retval.0 = phi i32 [ %57, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit413 ], [ 0, %if.then251 ], [ 0, %if.else233 ]
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %50) #11
  br label %cleanup256

cleanup256:                                       ; preds = %cleanup, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit398, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit386, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit
  %retval.1 = phi i32 [ -16, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ -16, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit386 ], [ %retval.0, %cleanup ], [ -16, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit398 ]
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %30) #11
  call void @llvm.lifetime.end.p0i8(i64 72, i8* nonnull %29) #11
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %28) #11
  br label %cleanup262

cleanup262:                                       ; preds = %cleanup256, %for.cond.cleanup, %if.then12, %do.body10, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread
  %retval.4 = phi i32 [ %call.i, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit ], [ 0, %if.then12 ], [ 0, %do.body10 ], [ %retval.1, %cleanup256 ], [ -6, %for.cond.cleanup ], [ -1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread ]
  %62 = load i8*, i8** %user_context2.i, align 8, !tbaa !390
  %call.i333 = call i32 @halide_release_cl_context(i8* %62) #16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %0) #11
  ret i32 %retval.4

if.then.i.i332.1:                                 ; preds = %if.end.i.i
  %conv18.i.i.1 = zext i32 %10 to i64
  %extent.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i, i32 1
  %63 = load i32, i32* %extent.i.i.1, align 4, !tbaa !183
  %sub.i.i.1 = add nsw i32 %63, -1
  %conv7.i.i.1 = sext i32 %sub.i.i.1 to i64
  %mul.i.i.1 = mul nsw i64 %conv7.i.i.1, %conv18.i.i.1
  %add.i.i.1 = add nsw i64 %mul.i.i.1, %index.1.i.i
  br label %if.end.i.i.1

if.end.i.i.1:                                     ; preds = %if.then.i.i332.1, %if.end.i.i
  %index.1.i.i.1 = phi i64 [ %add.i.i.1, %if.then.i.i332.1 ], [ %index.1.i.i, %if.end.i.i ]
  %indvars.iv.next.i.i.1 = or i64 %indvars.iv.i.i, 2
  %stride2.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i.1, i32 2
  %64 = load i32, i32* %stride2.i.i.2, align 4, !tbaa !187
  %cmp3.i.i.2 = icmp sgt i32 %64, 0
  br i1 %cmp3.i.i.2, label %if.then.i.i332.2, label %if.end.i.i.2

if.then.i.i332.2:                                 ; preds = %if.end.i.i.1
  %conv18.i.i.2 = zext i32 %64 to i64
  %extent.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i.1, i32 1
  %65 = load i32, i32* %extent.i.i.2, align 4, !tbaa !183
  %sub.i.i.2 = add nsw i32 %65, -1
  %conv7.i.i.2 = sext i32 %sub.i.i.2 to i64
  %mul.i.i.2 = mul nsw i64 %conv7.i.i.2, %conv18.i.i.2
  %add.i.i.2 = add nsw i64 %mul.i.i.2, %index.1.i.i.1
  br label %if.end.i.i.2

if.end.i.i.2:                                     ; preds = %if.then.i.i332.2, %if.end.i.i.1
  %index.1.i.i.2 = phi i64 [ %add.i.i.2, %if.then.i.i332.2 ], [ %index.1.i.i.1, %if.end.i.i.1 ]
  %indvars.iv.next.i.i.2 = or i64 %indvars.iv.i.i, 3
  %stride2.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i.2, i32 2
  %66 = load i32, i32* %stride2.i.i.3, align 4, !tbaa !187
  %cmp3.i.i.3 = icmp sgt i32 %66, 0
  br i1 %cmp3.i.i.3, label %if.then.i.i332.3, label %if.end.i.i.3

if.then.i.i332.3:                                 ; preds = %if.end.i.i.2
  %conv18.i.i.3 = zext i32 %66 to i64
  %extent.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i.i.2, i32 1
  %67 = load i32, i32* %extent.i.i.3, align 4, !tbaa !183
  %sub.i.i.3 = add nsw i32 %67, -1
  %conv7.i.i.3 = sext i32 %sub.i.i.3 to i64
  %mul.i.i.3 = mul nsw i64 %conv7.i.i.3, %conv18.i.i.3
  %add.i.i.3 = add nsw i64 %mul.i.i.3, %index.1.i.i.2
  br label %if.end.i.i.3

if.end.i.i.3:                                     ; preds = %if.then.i.i332.3, %if.end.i.i.2
  %index.1.i.i.3 = phi i64 [ %add.i.i.3, %if.then.i.i332.3 ], [ %index.1.i.i.2, %if.end.i.i.2 ]
  %indvars.iv.next.i.i.3 = add nuw nsw i64 %indvars.iv.i.i, 4
  %niter.nsub.3 = add i64 %niter, -4
  %niter.ncmp.3 = icmp eq i64 %niter.nsub.3, 0
  br i1 %niter.ncmp.3, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.i.i, !llvm.loop !401

if.then.i18.i.1:                                  ; preds = %if.end.i22.i
  %conv.i.i.1 = sext i32 %17 to i64
  %extent.i13.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i, i32 1
  %68 = load i32, i32* %extent.i13.i.1, align 4, !tbaa !183
  %sub.i14.i.1 = add nsw i32 %68, -1
  %conv7.i15.i.1 = sext i32 %sub.i14.i.1 to i64
  %mul.i16.i.1 = mul nsw i64 %conv7.i15.i.1, %conv.i.i.1
  %add.i17.i.1 = add nsw i64 %mul.i16.i.1, %index.1.i19.i
  br label %if.end.i22.i.1

if.end.i22.i.1:                                   ; preds = %if.then.i18.i.1, %if.end.i22.i
  %index.1.i19.i.1 = phi i64 [ %add.i17.i.1, %if.then.i18.i.1 ], [ %index.1.i19.i, %if.end.i22.i ]
  %indvars.iv.next.i20.i.1 = or i64 %indvars.iv.i9.i, 2
  %stride2.i10.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i.1, i32 2
  %69 = load i32, i32* %stride2.i10.i.2, align 4, !tbaa !187
  %cmp3.i11.i.2 = icmp slt i32 %69, 0
  br i1 %cmp3.i11.i.2, label %if.then.i18.i.2, label %if.end.i22.i.2

if.then.i18.i.2:                                  ; preds = %if.end.i22.i.1
  %conv.i.i.2 = sext i32 %69 to i64
  %extent.i13.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i.1, i32 1
  %70 = load i32, i32* %extent.i13.i.2, align 4, !tbaa !183
  %sub.i14.i.2 = add nsw i32 %70, -1
  %conv7.i15.i.2 = sext i32 %sub.i14.i.2 to i64
  %mul.i16.i.2 = mul nsw i64 %conv7.i15.i.2, %conv.i.i.2
  %add.i17.i.2 = add nsw i64 %mul.i16.i.2, %index.1.i19.i.1
  br label %if.end.i22.i.2

if.end.i22.i.2:                                   ; preds = %if.then.i18.i.2, %if.end.i22.i.1
  %index.1.i19.i.2 = phi i64 [ %add.i17.i.2, %if.then.i18.i.2 ], [ %index.1.i19.i.1, %if.end.i22.i.1 ]
  %indvars.iv.next.i20.i.2 = or i64 %indvars.iv.i9.i, 3
  %stride2.i10.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i.2, i32 2
  %71 = load i32, i32* %stride2.i10.i.3, align 4, !tbaa !187
  %cmp3.i11.i.3 = icmp slt i32 %71, 0
  br i1 %cmp3.i11.i.3, label %if.then.i18.i.3, label %if.end.i22.i.3

if.then.i18.i.3:                                  ; preds = %if.end.i22.i.2
  %conv.i.i.3 = sext i32 %71 to i64
  %extent.i13.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %5, i64 %indvars.iv.next.i20.i.2, i32 1
  %72 = load i32, i32* %extent.i13.i.3, align 4, !tbaa !183
  %sub.i14.i.3 = add nsw i32 %72, -1
  %conv7.i15.i.3 = sext i32 %sub.i14.i.3 to i64
  %mul.i16.i.3 = mul nsw i64 %conv7.i15.i.3, %conv.i.i.3
  %add.i17.i.3 = add nsw i64 %mul.i16.i.3, %index.1.i19.i.2
  br label %if.end.i22.i.3

if.end.i22.i.3:                                   ; preds = %if.then.i18.i.3, %if.end.i22.i.2
  %index.1.i19.i.3 = phi i64 [ %add.i17.i.3, %if.then.i18.i.3 ], [ %index.1.i19.i.2, %if.end.i22.i.2 ]
  %indvars.iv.next.i20.i.3 = add nuw nsw i64 %indvars.iv.i9.i, 4
  %niter25.nsub.3 = add i64 %niter25, -4
  %niter25.ncmp.3 = icmp eq i64 %niter25.nsub.3, 0
  br i1 %niter25.ncmp.3, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i, !llvm.loop !402
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_opencl_image_copy_to_host(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %call = tail call i32 @halide_opencl_image_buffer_copy(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* null, %struct.halide_buffer_t* %buf) #17
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_opencl_image_copy_to_device(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %call = tail call i32 @halide_opencl_image_buffer_copy(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* nonnull @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE, %struct.halide_buffer_t* %buf) #17
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_opencl_image_device_and_host_malloc(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %call = tail call i32 @halide_default_device_and_host_malloc(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* nonnull @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE) #16
  ret i32 %call
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_opencl_image_device_and_host_free(i8* %user_context, %struct.halide_buffer_t* %buf) #0 {
entry:
  %call = tail call i32 @halide_default_device_and_host_free(i8* %user_context, %struct.halide_buffer_t* %buf, %struct.halide_device_interface_t* nonnull @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE) #16
  ret i32 %call
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_image_buffer_copy(i8* %user_context, %struct.halide_buffer_t* %src, %struct.halide_device_interface_t* %dst_device_interface, %struct.halide_buffer_t* %dst) #3 {
entry:
  %c = alloca %"struct.Halide::Runtime::Internal::device_copy", align 8
  %ctx = alloca %"class.Halide::Runtime::Internal::OpenCL::ClContext", align 8
  %offset = alloca [3 x i64], align 8
  %region = alloca [3 x i64], align 8
  %ref.tmp112 = alloca %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", align 8
  %ref.tmp129 = alloca %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", align 8
  %offset144 = alloca [3 x i64], align 8
  %region145 = alloca [3 x i64], align 8
  %ref.tmp182 = alloca %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", align 8
  %ref.tmp200 = alloca %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", align 8
  %ref.tmp220 = alloca %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", align 8
  %ref.tmp231 = alloca %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", align 8
  %cmp = icmp eq %struct.halide_device_interface_t* %dst_device_interface, null
  %cmp7 = icmp eq %struct.halide_device_interface_t* %dst_device_interface, @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE
  %or.cond = or i1 %cmp, %cmp7
  br i1 %or.cond, label %do.end, label %if.then

if.then:                                          ; preds = %entry
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([167 x i8], [167 x i8]* @.str.256, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then, %entry
  %flags.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 3
  %0 = load i64, i64* %flags.i.i, align 8, !tbaa !311
  %and.i.i = and i64 %0, 2
  %cmp.i.i.not = icmp eq i64 %and.i.i, 0
  br i1 %cmp.i.i.not, label %lor.lhs.false8, label %land.lhs.true

lor.lhs.false8:                                   ; preds = %do.end
  %host = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 2
  %1 = load i8*, i8** %host, align 8, !tbaa !178
  %cmp9 = icmp eq i8* %1, null
  br i1 %cmp9, label %land.lhs.true, label %if.end17

land.lhs.true:                                    ; preds = %lor.lhs.false8, %do.end
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 1
  %2 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %cmp10.not = icmp eq %struct.halide_device_interface_t* %2, @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE
  br i1 %cmp10.not, label %lor.lhs.false20, label %do.body12

do.body12:                                        ; preds = %land.lhs.true
  br i1 %cmp7, label %return, label %if.then14

if.then14:                                        ; preds = %do.body12
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([132 x i8], [132 x i8]* @.str.257, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %return

if.end17:                                         ; preds = %lor.lhs.false8
  %device_interface18.phi.trans.insert = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 1
  %.pre = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface18.phi.trans.insert, align 8, !tbaa !310
  %cmp19.not = icmp eq %struct.halide_device_interface_t* %.pre, @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE
  br i1 %cmp19.not, label %lor.lhs.false20, label %do.body34

lor.lhs.false20:                                  ; preds = %if.end17, %land.lhs.true
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 0
  %3 = load i64, i64* %device, align 8, !tbaa !245
  %cmp21 = icmp eq i64 %3, 0
  br i1 %cmp21, label %do.body34, label %lor.rhs

lor.rhs:                                          ; preds = %lor.lhs.false20
  %and.i.i329 = and i64 %0, 1
  %cmp.i.i330.not = icmp eq i64 %and.i.i329, 0
  br i1 %cmp.i.i330.not, label %lor.lhs.false28, label %lor.end

lor.end:                                          ; preds = %lor.rhs
  %host23 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 2
  %4 = load i8*, i8** %host23, align 8, !tbaa !178
  %cmp24.not = icmp eq i8* %4, null
  br i1 %cmp24.not, label %lor.lhs.false28, label %do.body34

lor.lhs.false28:                                  ; preds = %lor.end, %lor.rhs
  br label %do.body34

do.body34:                                        ; preds = %lor.lhs.false28, %lor.end, %lor.lhs.false20, %if.end17
  %5 = phi i1 [ true, %lor.end ], [ false, %lor.lhs.false28 ], [ true, %lor.lhs.false20 ], [ true, %if.end17 ]
  br i1 %cmp, label %do.end42, label %lor.lhs.false36

lor.lhs.false36:                                  ; preds = %do.body34
  %device37 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 0
  %6 = load i64, i64* %device37, align 8, !tbaa !245
  %tobool38.not = icmp eq i64 %6, 0
  br i1 %tobool38.not, label %if.then39, label %do.end42

if.then39:                                        ; preds = %lor.lhs.false36
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([100 x i8], [100 x i8]* @.str.259, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end42

do.end42:                                         ; preds = %if.then39, %lor.lhs.false36, %do.body34
  %7 = bitcast %"struct.Halide::Runtime::Internal::device_copy"* %c to i8*
  call void @llvm.lifetime.start.p0i8(i64 416, i8* nonnull %7) #11
  call void @_ZN6Halide7Runtime8Internal16make_buffer_copyEPK15halide_buffer_tbS4_b(%"struct.Halide::Runtime::Internal::device_copy"* nonnull sret(%"struct.Halide::Runtime::Internal::device_copy") align 8 %c, %struct.halide_buffer_t* nonnull %src, i1 zeroext %5, %struct.halide_buffer_t* %dst, i1 zeroext %cmp) #17
  %8 = bitcast %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %8) #11
  %user_context2.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 0
  store i8* %user_context, i8** %user_context2.i, align 8, !tbaa !390
  %context.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 1
  store %struct._cl_context* null, %struct._cl_context** %context.i, align 8, !tbaa !392
  %cmd_queue.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  store %struct._cl_command_queue* null, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %error_code.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 3
  store i32 0, i32* %error_code.i, align 8, !tbaa !394
  %9 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp.i = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %9, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %do.end42
  call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #16
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %do.end42
  %call.i = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %context.i, %struct._cl_command_queue** nonnull %cmd_queue.i, i1 zeroext true) #16
  store i32 %call.i, i32* %error_code.i, align 8, !tbaa !394
  %10 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %tobool.not.i = icmp eq %struct._cl_context* %10, null
  %11 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8
  %tobool8.not.i = icmp eq %struct._cl_command_queue* %11, null
  %or.cond.i = select i1 %tobool.not.i, i1 true, i1 %tobool8.not.i
  br i1 %or.cond.i, label %if.then9.i, label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit

if.then9.i:                                       ; preds = %if.end.i
  %call.i.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then9.i
  %call.i1832.i = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

if.else.i.i:                                      ; preds = %if.then9.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i18.i = call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i18.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread: ; preds = %if.else.i.i, %if.then.i.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i.i ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  call void @free(i8* %call.i.i) #16
  store i32 -1, i32* %error_code.i, align 8, !tbaa !394
  br label %cleanup238

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit: ; preds = %if.end.i
  %cmp45.not = icmp eq i32 %call.i, 0
  br i1 %cmp45.not, label %if.end48, label %cleanup238

if.end48:                                         ; preds = %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit
  %src67 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 0
  %dst68 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 1
  %dimensions.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 5
  %12 = load i32, i32* %dimensions.i.i, align 4, !tbaa !180
  %dim.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 6
  %13 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i.i, align 8
  %cmp19.i.i = icmp sgt i32 %12, 0
  br i1 %cmp19.i.i, label %for.body.preheader.i.i, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

for.body.preheader.i.i:                           ; preds = %if.end48
  %wide.trip.count.i.i = zext i32 %12 to i64
  %14 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter = and i64 %wide.trip.count.i.i, 3
  %15 = icmp ult i64 %14, 3
  br i1 %15, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.preheader.i.i.new

for.body.preheader.i.i.new:                       ; preds = %for.body.preheader.i.i
  %unroll_iter = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %if.end.i.i.3, %for.body.preheader.i.i.new
  %indvars.iv.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %niter = phi i64 [ %unroll_iter, %for.body.preheader.i.i.new ], [ %niter.nsub.3, %if.end.i.i.3 ]
  %stride2.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i.i, i32 2
  %16 = load i32, i32* %stride2.i.i, align 4, !tbaa !187
  %cmp3.i.i = icmp sgt i32 %16, 0
  br i1 %cmp3.i.i, label %if.then.i.i331, label %if.end.i.i

if.then.i.i331:                                   ; preds = %for.body.i.i
  %conv18.i.i = zext i32 %16 to i64
  %extent.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i.i, i32 1
  %17 = load i32, i32* %extent.i.i, align 4, !tbaa !183
  %sub.i.i = add nsw i32 %17, -1
  %conv7.i.i = sext i32 %sub.i.i to i64
  %mul.i.i = mul nsw i64 %conv7.i.i, %conv18.i.i
  %add.i.i = add nsw i64 %mul.i.i, %index.021.i.i
  br label %if.end.i.i

if.end.i.i:                                       ; preds = %if.then.i.i331, %for.body.i.i
  %index.1.i.i = phi i64 [ %add.i.i, %if.then.i.i331 ], [ %index.021.i.i, %for.body.i.i ]
  %indvars.iv.next.i.i = or i64 %indvars.iv.i.i, 1
  %stride2.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i.i, i32 2
  %18 = load i32, i32* %stride2.i.i.1, align 4, !tbaa !187
  %cmp3.i.i.1 = icmp sgt i32 %18, 0
  br i1 %cmp3.i.i.1, label %if.then.i.i331.1, label %if.end.i.i.1

for.body.i12.i.preheader.unr-lcssa:               ; preds = %if.end.i.i.3, %for.body.preheader.i.i
  %index.1.i.i.lcssa.ph = phi i64 [ undef, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %indvars.iv.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil

for.body.i.i.epil:                                ; preds = %for.body.i12.i.preheader.unr-lcssa, %if.end.i.i.epil
  %indvars.iv.i.i.epil = phi i64 [ %indvars.iv.next.i.i.epil, %if.end.i.i.epil ], [ %indvars.iv.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %index.021.i.i.epil = phi i64 [ %index.1.i.i.epil, %if.end.i.i.epil ], [ %index.021.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %if.end.i.i.epil ], [ %xtraiter, %for.body.i12.i.preheader.unr-lcssa ]
  %stride2.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i.i.epil, i32 2
  %19 = load i32, i32* %stride2.i.i.epil, align 4, !tbaa !187
  %cmp3.i.i.epil = icmp sgt i32 %19, 0
  br i1 %cmp3.i.i.epil, label %if.then.i.i331.epil, label %if.end.i.i.epil

if.then.i.i331.epil:                              ; preds = %for.body.i.i.epil
  %conv18.i.i.epil = zext i32 %19 to i64
  %extent.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i.i.epil, i32 1
  %20 = load i32, i32* %extent.i.i.epil, align 4, !tbaa !183
  %sub.i.i.epil = add nsw i32 %20, -1
  %conv7.i.i.epil = sext i32 %sub.i.i.epil to i64
  %mul.i.i.epil = mul nsw i64 %conv7.i.i.epil, %conv18.i.i.epil
  %add.i.i.epil = add nsw i64 %mul.i.i.epil, %index.021.i.i.epil
  br label %if.end.i.i.epil

if.end.i.i.epil:                                  ; preds = %if.then.i.i331.epil, %for.body.i.i.epil
  %index.1.i.i.epil = phi i64 [ %add.i.i.epil, %if.then.i.i331.epil ], [ %index.021.i.i.epil, %for.body.i.i.epil ]
  %indvars.iv.next.i.i.epil = add nuw nsw i64 %indvars.iv.i.i.epil, 1
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil, !llvm.loop !435

for.body.i12.i.preheader:                         ; preds = %if.end.i.i.epil, %for.body.i12.i.preheader.unr-lcssa
  %index.1.i.i.lcssa = phi i64 [ %index.1.i.i.lcssa.ph, %for.body.i12.i.preheader.unr-lcssa ], [ %index.1.i.i.epil, %if.end.i.i.epil ]
  %21 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter31 = and i64 %wide.trip.count.i.i, 3
  %22 = icmp ult i64 %21, 3
  br i1 %22, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i.preheader.new

for.body.i12.i.preheader.new:                     ; preds = %for.body.i12.i.preheader
  %unroll_iter35 = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i12.i

for.body.i12.i:                                   ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader.new
  %indvars.iv.i9.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %niter36 = phi i64 [ %unroll_iter35, %for.body.i12.i.preheader.new ], [ %niter36.nsub.3, %if.end.i22.i.3 ]
  %stride2.i10.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i9.i, i32 2
  %23 = load i32, i32* %stride2.i10.i, align 4, !tbaa !187
  %cmp3.i11.i = icmp slt i32 %23, 0
  br i1 %cmp3.i11.i, label %if.then.i18.i, label %if.end.i22.i

if.then.i18.i:                                    ; preds = %for.body.i12.i
  %conv.i.i = sext i32 %23 to i64
  %extent.i13.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i9.i, i32 1
  %24 = load i32, i32* %extent.i13.i, align 4, !tbaa !183
  %sub.i14.i = add nsw i32 %24, -1
  %conv7.i15.i = sext i32 %sub.i14.i to i64
  %mul.i16.i = mul nsw i64 %conv7.i15.i, %conv.i.i
  %add.i17.i = add nsw i64 %mul.i16.i, %index.018.i.i
  br label %if.end.i22.i

if.end.i22.i:                                     ; preds = %if.then.i18.i, %for.body.i12.i
  %index.1.i19.i = phi i64 [ %add.i17.i, %if.then.i18.i ], [ %index.018.i.i, %for.body.i12.i ]
  %indvars.iv.next.i20.i = or i64 %indvars.iv.i9.i, 1
  %stride2.i10.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i20.i, i32 2
  %25 = load i32, i32* %stride2.i10.i.1, align 4, !tbaa !187
  %cmp3.i11.i.1 = icmp slt i32 %25, 0
  br i1 %cmp3.i11.i.1, label %if.then.i18.i.1, label %if.end.i22.i.1

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa: ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader
  %index.1.i19.i.lcssa.ph = phi i64 [ undef, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %indvars.iv.i9.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %lcmp.mod33.not = icmp eq i64 %xtraiter31, 0
  br i1 %lcmp.mod33.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil

for.body.i12.i.epil:                              ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, %if.end.i22.i.epil
  %indvars.iv.i9.i.epil = phi i64 [ %indvars.iv.next.i20.i.epil, %if.end.i22.i.epil ], [ %indvars.iv.i9.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %index.018.i.i.epil = phi i64 [ %index.1.i19.i.epil, %if.end.i22.i.epil ], [ %index.018.i.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %epil.iter32 = phi i64 [ %epil.iter32.sub, %if.end.i22.i.epil ], [ %xtraiter31, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %stride2.i10.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i9.i.epil, i32 2
  %26 = load i32, i32* %stride2.i10.i.epil, align 4, !tbaa !187
  %cmp3.i11.i.epil = icmp slt i32 %26, 0
  br i1 %cmp3.i11.i.epil, label %if.then.i18.i.epil, label %if.end.i22.i.epil

if.then.i18.i.epil:                               ; preds = %for.body.i12.i.epil
  %conv.i.i.epil = sext i32 %26 to i64
  %extent.i13.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i9.i.epil, i32 1
  %27 = load i32, i32* %extent.i13.i.epil, align 4, !tbaa !183
  %sub.i14.i.epil = add nsw i32 %27, -1
  %conv7.i15.i.epil = sext i32 %sub.i14.i.epil to i64
  %mul.i16.i.epil = mul nsw i64 %conv7.i15.i.epil, %conv.i.i.epil
  %add.i17.i.epil = add nsw i64 %mul.i16.i.epil, %index.018.i.i.epil
  br label %if.end.i22.i.epil

if.end.i22.i.epil:                                ; preds = %if.then.i18.i.epil, %for.body.i12.i.epil
  %index.1.i19.i.epil = phi i64 [ %add.i17.i.epil, %if.then.i18.i.epil ], [ %index.018.i.i.epil, %for.body.i12.i.epil ]
  %indvars.iv.next.i20.i.epil = add nuw nsw i64 %indvars.iv.i9.i.epil, 1
  %epil.iter32.sub = add i64 %epil.iter32, -1
  %epil.iter32.cmp.not = icmp eq i64 %epil.iter32.sub, 0
  br i1 %epil.iter32.cmp.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil, !llvm.loop !436

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit: ; preds = %if.end.i22.i.epil, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa
  %index.1.i19.i.lcssa = phi i64 [ %index.1.i19.i.lcssa.ph, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ], [ %index.1.i19.i.epil, %if.end.i22.i.epil ]
  %add8.i.i = add nsw i64 %index.1.i.i.lcssa, 1
  br label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

_ZNK15halide_buffer_t13size_in_bytesEv.exit:      ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, %if.end48
  %add8.i27.i = phi i64 [ 1, %if.end48 ], [ %add8.i.i, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %index.0.lcssa.i8.i = phi i64 [ 0, %if.end48 ], [ %index.1.i19.i.lcssa, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %sub.i = sub nsw i64 %add8.i27.i, %index.0.lcssa.i8.i
  %bits.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 4, i32 1
  %28 = load i8, i8* %bits.i.i, align 1, !tbaa !141
  %conv.i23.i = zext i8 %28 to i64
  %add.i24.i = add nuw nsw i64 %conv.i23.i, 7
  %div.i.i = lshr i64 %add.i24.i, 3
  %mul.i = mul i64 %div.i.i, %sub.i
  %dimensions.i.i332 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 5
  %29 = load i32, i32* %dimensions.i.i332, align 4, !tbaa !180
  %dim.i.i333 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 6
  %30 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i.i333, align 8
  %cmp19.i.i334 = icmp sgt i32 %29, 0
  br i1 %cmp19.i.i334, label %for.body.preheader.i.i336, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit379

for.body.preheader.i.i336:                        ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit
  %wide.trip.count.i.i335 = zext i32 %29 to i64
  %31 = add nsw i64 %wide.trip.count.i.i335, -1
  %xtraiter37 = and i64 %wide.trip.count.i.i335, 3
  %32 = icmp ult i64 %31, 3
  br i1 %32, label %for.body.i12.i359.preheader.unr-lcssa, label %for.body.preheader.i.i336.new

for.body.preheader.i.i336.new:                    ; preds = %for.body.preheader.i.i336
  %unroll_iter41 = and i64 %wide.trip.count.i.i335, 4294967292
  br label %for.body.i.i341

for.body.i.i341:                                  ; preds = %if.end.i.i352.3, %for.body.preheader.i.i336.new
  %indvars.iv.i.i337 = phi i64 [ 0, %for.body.preheader.i.i336.new ], [ %indvars.iv.next.i.i350.3, %if.end.i.i352.3 ]
  %index.021.i.i338 = phi i64 [ 0, %for.body.preheader.i.i336.new ], [ %index.1.i.i349.3, %if.end.i.i352.3 ]
  %niter42 = phi i64 [ %unroll_iter41, %for.body.preheader.i.i336.new ], [ %niter42.nsub.3, %if.end.i.i352.3 ]
  %stride2.i.i339 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.i.i337, i32 2
  %33 = load i32, i32* %stride2.i.i339, align 4, !tbaa !187
  %cmp3.i.i340 = icmp sgt i32 %33, 0
  br i1 %cmp3.i.i340, label %if.then.i.i348, label %if.end.i.i352

if.then.i.i348:                                   ; preds = %for.body.i.i341
  %conv18.i.i342 = zext i32 %33 to i64
  %extent.i.i343 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.i.i337, i32 1
  %34 = load i32, i32* %extent.i.i343, align 4, !tbaa !183
  %sub.i.i344 = add nsw i32 %34, -1
  %conv7.i.i345 = sext i32 %sub.i.i344 to i64
  %mul.i.i346 = mul nsw i64 %conv7.i.i345, %conv18.i.i342
  %add.i.i347 = add nsw i64 %mul.i.i346, %index.021.i.i338
  br label %if.end.i.i352

if.end.i.i352:                                    ; preds = %if.then.i.i348, %for.body.i.i341
  %index.1.i.i349 = phi i64 [ %add.i.i347, %if.then.i.i348 ], [ %index.021.i.i338, %for.body.i.i341 ]
  %indvars.iv.next.i.i350 = or i64 %indvars.iv.i.i337, 1
  %stride2.i.i339.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.next.i.i350, i32 2
  %35 = load i32, i32* %stride2.i.i339.1, align 4, !tbaa !187
  %cmp3.i.i340.1 = icmp sgt i32 %35, 0
  br i1 %cmp3.i.i340.1, label %if.then.i.i348.1, label %if.end.i.i352.1

for.body.i12.i359.preheader.unr-lcssa:            ; preds = %if.end.i.i352.3, %for.body.preheader.i.i336
  %index.1.i.i349.lcssa.ph = phi i64 [ undef, %for.body.preheader.i.i336 ], [ %index.1.i.i349.3, %if.end.i.i352.3 ]
  %indvars.iv.i.i337.unr = phi i64 [ 0, %for.body.preheader.i.i336 ], [ %indvars.iv.next.i.i350.3, %if.end.i.i352.3 ]
  %index.021.i.i338.unr = phi i64 [ 0, %for.body.preheader.i.i336 ], [ %index.1.i.i349.3, %if.end.i.i352.3 ]
  %lcmp.mod39.not = icmp eq i64 %xtraiter37, 0
  br i1 %lcmp.mod39.not, label %for.body.i12.i359.preheader, label %for.body.i.i341.epil

for.body.i.i341.epil:                             ; preds = %for.body.i12.i359.preheader.unr-lcssa, %if.end.i.i352.epil
  %indvars.iv.i.i337.epil = phi i64 [ %indvars.iv.next.i.i350.epil, %if.end.i.i352.epil ], [ %indvars.iv.i.i337.unr, %for.body.i12.i359.preheader.unr-lcssa ]
  %index.021.i.i338.epil = phi i64 [ %index.1.i.i349.epil, %if.end.i.i352.epil ], [ %index.021.i.i338.unr, %for.body.i12.i359.preheader.unr-lcssa ]
  %epil.iter38 = phi i64 [ %epil.iter38.sub, %if.end.i.i352.epil ], [ %xtraiter37, %for.body.i12.i359.preheader.unr-lcssa ]
  %stride2.i.i339.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.i.i337.epil, i32 2
  %36 = load i32, i32* %stride2.i.i339.epil, align 4, !tbaa !187
  %cmp3.i.i340.epil = icmp sgt i32 %36, 0
  br i1 %cmp3.i.i340.epil, label %if.then.i.i348.epil, label %if.end.i.i352.epil

if.then.i.i348.epil:                              ; preds = %for.body.i.i341.epil
  %conv18.i.i342.epil = zext i32 %36 to i64
  %extent.i.i343.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.i.i337.epil, i32 1
  %37 = load i32, i32* %extent.i.i343.epil, align 4, !tbaa !183
  %sub.i.i344.epil = add nsw i32 %37, -1
  %conv7.i.i345.epil = sext i32 %sub.i.i344.epil to i64
  %mul.i.i346.epil = mul nsw i64 %conv7.i.i345.epil, %conv18.i.i342.epil
  %add.i.i347.epil = add nsw i64 %mul.i.i346.epil, %index.021.i.i338.epil
  br label %if.end.i.i352.epil

if.end.i.i352.epil:                               ; preds = %if.then.i.i348.epil, %for.body.i.i341.epil
  %index.1.i.i349.epil = phi i64 [ %add.i.i347.epil, %if.then.i.i348.epil ], [ %index.021.i.i338.epil, %for.body.i.i341.epil ]
  %indvars.iv.next.i.i350.epil = add nuw nsw i64 %indvars.iv.i.i337.epil, 1
  %epil.iter38.sub = add i64 %epil.iter38, -1
  %epil.iter38.cmp.not = icmp eq i64 %epil.iter38.sub, 0
  br i1 %epil.iter38.cmp.not, label %for.body.i12.i359.preheader, label %for.body.i.i341.epil, !llvm.loop !437

for.body.i12.i359.preheader:                      ; preds = %if.end.i.i352.epil, %for.body.i12.i359.preheader.unr-lcssa
  %index.1.i.i349.lcssa = phi i64 [ %index.1.i.i349.lcssa.ph, %for.body.i12.i359.preheader.unr-lcssa ], [ %index.1.i.i349.epil, %if.end.i.i352.epil ]
  %38 = add nsw i64 %wide.trip.count.i.i335, -1
  %xtraiter43 = and i64 %wide.trip.count.i.i335, 3
  %39 = icmp ult i64 %38, 3
  br i1 %39, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit.unr-lcssa, label %for.body.i12.i359.preheader.new

for.body.i12.i359.preheader.new:                  ; preds = %for.body.i12.i359.preheader
  %unroll_iter47 = and i64 %wide.trip.count.i.i335, 4294967292
  br label %for.body.i12.i359

for.body.i12.i359:                                ; preds = %if.end.i22.i370.3, %for.body.i12.i359.preheader.new
  %indvars.iv.i9.i355 = phi i64 [ 0, %for.body.i12.i359.preheader.new ], [ %indvars.iv.next.i20.i368.3, %if.end.i22.i370.3 ]
  %index.018.i.i356 = phi i64 [ 0, %for.body.i12.i359.preheader.new ], [ %index.1.i19.i367.3, %if.end.i22.i370.3 ]
  %niter48 = phi i64 [ %unroll_iter47, %for.body.i12.i359.preheader.new ], [ %niter48.nsub.3, %if.end.i22.i370.3 ]
  %stride2.i10.i357 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.i9.i355, i32 2
  %40 = load i32, i32* %stride2.i10.i357, align 4, !tbaa !187
  %cmp3.i11.i358 = icmp slt i32 %40, 0
  br i1 %cmp3.i11.i358, label %if.then.i18.i366, label %if.end.i22.i370

if.then.i18.i366:                                 ; preds = %for.body.i12.i359
  %conv.i.i360 = sext i32 %40 to i64
  %extent.i13.i361 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.i9.i355, i32 1
  %41 = load i32, i32* %extent.i13.i361, align 4, !tbaa !183
  %sub.i14.i362 = add nsw i32 %41, -1
  %conv7.i15.i363 = sext i32 %sub.i14.i362 to i64
  %mul.i16.i364 = mul nsw i64 %conv7.i15.i363, %conv.i.i360
  %add.i17.i365 = add nsw i64 %mul.i16.i364, %index.018.i.i356
  br label %if.end.i22.i370

if.end.i22.i370:                                  ; preds = %if.then.i18.i366, %for.body.i12.i359
  %index.1.i19.i367 = phi i64 [ %add.i17.i365, %if.then.i18.i366 ], [ %index.018.i.i356, %for.body.i12.i359 ]
  %indvars.iv.next.i20.i368 = or i64 %indvars.iv.i9.i355, 1
  %stride2.i10.i357.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.next.i20.i368, i32 2
  %42 = load i32, i32* %stride2.i10.i357.1, align 4, !tbaa !187
  %cmp3.i11.i358.1 = icmp slt i32 %42, 0
  br i1 %cmp3.i11.i358.1, label %if.then.i18.i366.1, label %if.end.i22.i370.1

_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit.unr-lcssa: ; preds = %if.end.i22.i370.3, %for.body.i12.i359.preheader
  %index.1.i19.i367.lcssa.ph = phi i64 [ undef, %for.body.i12.i359.preheader ], [ %index.1.i19.i367.3, %if.end.i22.i370.3 ]
  %indvars.iv.i9.i355.unr = phi i64 [ 0, %for.body.i12.i359.preheader ], [ %indvars.iv.next.i20.i368.3, %if.end.i22.i370.3 ]
  %index.018.i.i356.unr = phi i64 [ 0, %for.body.i12.i359.preheader ], [ %index.1.i19.i367.3, %if.end.i22.i370.3 ]
  %lcmp.mod45.not = icmp eq i64 %xtraiter43, 0
  br i1 %lcmp.mod45.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit, label %for.body.i12.i359.epil

for.body.i12.i359.epil:                           ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit.unr-lcssa, %if.end.i22.i370.epil
  %indvars.iv.i9.i355.epil = phi i64 [ %indvars.iv.next.i20.i368.epil, %if.end.i22.i370.epil ], [ %indvars.iv.i9.i355.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit.unr-lcssa ]
  %index.018.i.i356.epil = phi i64 [ %index.1.i19.i367.epil, %if.end.i22.i370.epil ], [ %index.018.i.i356.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit.unr-lcssa ]
  %epil.iter44 = phi i64 [ %epil.iter44.sub, %if.end.i22.i370.epil ], [ %xtraiter43, %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit.unr-lcssa ]
  %stride2.i10.i357.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.i9.i355.epil, i32 2
  %43 = load i32, i32* %stride2.i10.i357.epil, align 4, !tbaa !187
  %cmp3.i11.i358.epil = icmp slt i32 %43, 0
  br i1 %cmp3.i11.i358.epil, label %if.then.i18.i366.epil, label %if.end.i22.i370.epil

if.then.i18.i366.epil:                            ; preds = %for.body.i12.i359.epil
  %conv.i.i360.epil = sext i32 %43 to i64
  %extent.i13.i361.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.i9.i355.epil, i32 1
  %44 = load i32, i32* %extent.i13.i361.epil, align 4, !tbaa !183
  %sub.i14.i362.epil = add nsw i32 %44, -1
  %conv7.i15.i363.epil = sext i32 %sub.i14.i362.epil to i64
  %mul.i16.i364.epil = mul nsw i64 %conv7.i15.i363.epil, %conv.i.i360.epil
  %add.i17.i365.epil = add nsw i64 %mul.i16.i364.epil, %index.018.i.i356.epil
  br label %if.end.i22.i370.epil

if.end.i22.i370.epil:                             ; preds = %if.then.i18.i366.epil, %for.body.i12.i359.epil
  %index.1.i19.i367.epil = phi i64 [ %add.i17.i365.epil, %if.then.i18.i366.epil ], [ %index.018.i.i356.epil, %for.body.i12.i359.epil ]
  %indvars.iv.next.i20.i368.epil = add nuw nsw i64 %indvars.iv.i9.i355.epil, 1
  %epil.iter44.sub = add i64 %epil.iter44, -1
  %epil.iter44.cmp.not = icmp eq i64 %epil.iter44.sub, 0
  br i1 %epil.iter44.cmp.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit, label %for.body.i12.i359.epil, !llvm.loop !438

_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit: ; preds = %if.end.i22.i370.epil, %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit.unr-lcssa
  %index.1.i19.i367.lcssa = phi i64 [ %index.1.i19.i367.lcssa.ph, %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit.unr-lcssa ], [ %index.1.i19.i367.epil, %if.end.i22.i370.epil ]
  %add8.i.i353 = add nsw i64 %index.1.i.i349.lcssa, 1
  br label %_ZNK15halide_buffer_t13size_in_bytesEv.exit379

_ZNK15halide_buffer_t13size_in_bytesEv.exit379:   ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit, %_ZNK15halide_buffer_t13size_in_bytesEv.exit
  %add8.i27.i371 = phi i64 [ 1, %_ZNK15halide_buffer_t13size_in_bytesEv.exit ], [ %add8.i.i353, %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit ]
  %index.0.lcssa.i8.i372 = phi i64 [ 0, %_ZNK15halide_buffer_t13size_in_bytesEv.exit ], [ %index.1.i19.i367.lcssa, %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit ]
  %sub.i373 = sub nsw i64 %add8.i27.i371, %index.0.lcssa.i8.i372
  %bits.i.i374 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 4, i32 1
  %45 = load i8, i8* %bits.i.i374, align 1, !tbaa !141
  %conv.i23.i375 = zext i8 %45 to i64
  %add.i24.i376 = add nuw nsw i64 %conv.i23.i375, 7
  %div.i.i377 = lshr i64 %add.i24.i376, 3
  %mul.i378 = mul i64 %div.i.i377, %sub.i373
  %cmp72.not = icmp eq i64 %mul.i, %mul.i378
  br i1 %cmp72.not, label %lor.lhs.false73, label %if.then77

lor.lhs.false73:                                  ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit379
  %chunk_size = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 6
  %46 = load i64, i64* %chunk_size, align 8, !tbaa !242
  br i1 %cmp19.i.i, label %for.body.preheader.i.i384, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit427

for.body.preheader.i.i384:                        ; preds = %lor.lhs.false73
  %wide.trip.count.i.i383 = zext i32 %12 to i64
  %47 = add nsw i64 %wide.trip.count.i.i383, -1
  %xtraiter49 = and i64 %wide.trip.count.i.i383, 3
  %48 = icmp ult i64 %47, 3
  br i1 %48, label %for.body.i12.i407.preheader.unr-lcssa, label %for.body.preheader.i.i384.new

for.body.preheader.i.i384.new:                    ; preds = %for.body.preheader.i.i384
  %unroll_iter53 = and i64 %wide.trip.count.i.i383, 4294967292
  br label %for.body.i.i389

for.body.i.i389:                                  ; preds = %if.end.i.i400.3, %for.body.preheader.i.i384.new
  %indvars.iv.i.i385 = phi i64 [ 0, %for.body.preheader.i.i384.new ], [ %indvars.iv.next.i.i398.3, %if.end.i.i400.3 ]
  %index.021.i.i386 = phi i64 [ 0, %for.body.preheader.i.i384.new ], [ %index.1.i.i397.3, %if.end.i.i400.3 ]
  %niter54 = phi i64 [ %unroll_iter53, %for.body.preheader.i.i384.new ], [ %niter54.nsub.3, %if.end.i.i400.3 ]
  %stride2.i.i387 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i.i385, i32 2
  %49 = load i32, i32* %stride2.i.i387, align 4, !tbaa !187
  %cmp3.i.i388 = icmp sgt i32 %49, 0
  br i1 %cmp3.i.i388, label %if.then.i.i396, label %if.end.i.i400

if.then.i.i396:                                   ; preds = %for.body.i.i389
  %conv18.i.i390 = zext i32 %49 to i64
  %extent.i.i391 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i.i385, i32 1
  %50 = load i32, i32* %extent.i.i391, align 4, !tbaa !183
  %sub.i.i392 = add nsw i32 %50, -1
  %conv7.i.i393 = sext i32 %sub.i.i392 to i64
  %mul.i.i394 = mul nsw i64 %conv7.i.i393, %conv18.i.i390
  %add.i.i395 = add nsw i64 %mul.i.i394, %index.021.i.i386
  br label %if.end.i.i400

if.end.i.i400:                                    ; preds = %if.then.i.i396, %for.body.i.i389
  %index.1.i.i397 = phi i64 [ %add.i.i395, %if.then.i.i396 ], [ %index.021.i.i386, %for.body.i.i389 ]
  %indvars.iv.next.i.i398 = or i64 %indvars.iv.i.i385, 1
  %stride2.i.i387.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i.i398, i32 2
  %51 = load i32, i32* %stride2.i.i387.1, align 4, !tbaa !187
  %cmp3.i.i388.1 = icmp sgt i32 %51, 0
  br i1 %cmp3.i.i388.1, label %if.then.i.i396.1, label %if.end.i.i400.1

for.body.i12.i407.preheader.unr-lcssa:            ; preds = %if.end.i.i400.3, %for.body.preheader.i.i384
  %index.1.i.i397.lcssa.ph = phi i64 [ undef, %for.body.preheader.i.i384 ], [ %index.1.i.i397.3, %if.end.i.i400.3 ]
  %indvars.iv.i.i385.unr = phi i64 [ 0, %for.body.preheader.i.i384 ], [ %indvars.iv.next.i.i398.3, %if.end.i.i400.3 ]
  %index.021.i.i386.unr = phi i64 [ 0, %for.body.preheader.i.i384 ], [ %index.1.i.i397.3, %if.end.i.i400.3 ]
  %lcmp.mod51.not = icmp eq i64 %xtraiter49, 0
  br i1 %lcmp.mod51.not, label %for.body.i12.i407.preheader, label %for.body.i.i389.epil

for.body.i.i389.epil:                             ; preds = %for.body.i12.i407.preheader.unr-lcssa, %if.end.i.i400.epil
  %indvars.iv.i.i385.epil = phi i64 [ %indvars.iv.next.i.i398.epil, %if.end.i.i400.epil ], [ %indvars.iv.i.i385.unr, %for.body.i12.i407.preheader.unr-lcssa ]
  %index.021.i.i386.epil = phi i64 [ %index.1.i.i397.epil, %if.end.i.i400.epil ], [ %index.021.i.i386.unr, %for.body.i12.i407.preheader.unr-lcssa ]
  %epil.iter50 = phi i64 [ %epil.iter50.sub, %if.end.i.i400.epil ], [ %xtraiter49, %for.body.i12.i407.preheader.unr-lcssa ]
  %stride2.i.i387.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i.i385.epil, i32 2
  %52 = load i32, i32* %stride2.i.i387.epil, align 4, !tbaa !187
  %cmp3.i.i388.epil = icmp sgt i32 %52, 0
  br i1 %cmp3.i.i388.epil, label %if.then.i.i396.epil, label %if.end.i.i400.epil

if.then.i.i396.epil:                              ; preds = %for.body.i.i389.epil
  %conv18.i.i390.epil = zext i32 %52 to i64
  %extent.i.i391.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i.i385.epil, i32 1
  %53 = load i32, i32* %extent.i.i391.epil, align 4, !tbaa !183
  %sub.i.i392.epil = add nsw i32 %53, -1
  %conv7.i.i393.epil = sext i32 %sub.i.i392.epil to i64
  %mul.i.i394.epil = mul nsw i64 %conv7.i.i393.epil, %conv18.i.i390.epil
  %add.i.i395.epil = add nsw i64 %mul.i.i394.epil, %index.021.i.i386.epil
  br label %if.end.i.i400.epil

if.end.i.i400.epil:                               ; preds = %if.then.i.i396.epil, %for.body.i.i389.epil
  %index.1.i.i397.epil = phi i64 [ %add.i.i395.epil, %if.then.i.i396.epil ], [ %index.021.i.i386.epil, %for.body.i.i389.epil ]
  %indvars.iv.next.i.i398.epil = add nuw nsw i64 %indvars.iv.i.i385.epil, 1
  %epil.iter50.sub = add i64 %epil.iter50, -1
  %epil.iter50.cmp.not = icmp eq i64 %epil.iter50.sub, 0
  br i1 %epil.iter50.cmp.not, label %for.body.i12.i407.preheader, label %for.body.i.i389.epil, !llvm.loop !439

for.body.i12.i407.preheader:                      ; preds = %if.end.i.i400.epil, %for.body.i12.i407.preheader.unr-lcssa
  %index.1.i.i397.lcssa = phi i64 [ %index.1.i.i397.lcssa.ph, %for.body.i12.i407.preheader.unr-lcssa ], [ %index.1.i.i397.epil, %if.end.i.i400.epil ]
  %54 = add nsw i64 %wide.trip.count.i.i383, -1
  %xtraiter55 = and i64 %wide.trip.count.i.i383, 3
  %55 = icmp ult i64 %54, 3
  br i1 %55, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit.unr-lcssa, label %for.body.i12.i407.preheader.new

for.body.i12.i407.preheader.new:                  ; preds = %for.body.i12.i407.preheader
  %unroll_iter59 = and i64 %wide.trip.count.i.i383, 4294967292
  br label %for.body.i12.i407

for.body.i12.i407:                                ; preds = %if.end.i22.i418.3, %for.body.i12.i407.preheader.new
  %indvars.iv.i9.i403 = phi i64 [ 0, %for.body.i12.i407.preheader.new ], [ %indvars.iv.next.i20.i416.3, %if.end.i22.i418.3 ]
  %index.018.i.i404 = phi i64 [ 0, %for.body.i12.i407.preheader.new ], [ %index.1.i19.i415.3, %if.end.i22.i418.3 ]
  %niter60 = phi i64 [ %unroll_iter59, %for.body.i12.i407.preheader.new ], [ %niter60.nsub.3, %if.end.i22.i418.3 ]
  %stride2.i10.i405 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i9.i403, i32 2
  %56 = load i32, i32* %stride2.i10.i405, align 4, !tbaa !187
  %cmp3.i11.i406 = icmp slt i32 %56, 0
  br i1 %cmp3.i11.i406, label %if.then.i18.i414, label %if.end.i22.i418

if.then.i18.i414:                                 ; preds = %for.body.i12.i407
  %conv.i.i408 = sext i32 %56 to i64
  %extent.i13.i409 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i9.i403, i32 1
  %57 = load i32, i32* %extent.i13.i409, align 4, !tbaa !183
  %sub.i14.i410 = add nsw i32 %57, -1
  %conv7.i15.i411 = sext i32 %sub.i14.i410 to i64
  %mul.i16.i412 = mul nsw i64 %conv7.i15.i411, %conv.i.i408
  %add.i17.i413 = add nsw i64 %mul.i16.i412, %index.018.i.i404
  br label %if.end.i22.i418

if.end.i22.i418:                                  ; preds = %if.then.i18.i414, %for.body.i12.i407
  %index.1.i19.i415 = phi i64 [ %add.i17.i413, %if.then.i18.i414 ], [ %index.018.i.i404, %for.body.i12.i407 ]
  %indvars.iv.next.i20.i416 = or i64 %indvars.iv.i9.i403, 1
  %stride2.i10.i405.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i20.i416, i32 2
  %58 = load i32, i32* %stride2.i10.i405.1, align 4, !tbaa !187
  %cmp3.i11.i406.1 = icmp slt i32 %58, 0
  br i1 %cmp3.i11.i406.1, label %if.then.i18.i414.1, label %if.end.i22.i418.1

_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit.unr-lcssa: ; preds = %if.end.i22.i418.3, %for.body.i12.i407.preheader
  %index.1.i19.i415.lcssa.ph = phi i64 [ undef, %for.body.i12.i407.preheader ], [ %index.1.i19.i415.3, %if.end.i22.i418.3 ]
  %indvars.iv.i9.i403.unr = phi i64 [ 0, %for.body.i12.i407.preheader ], [ %indvars.iv.next.i20.i416.3, %if.end.i22.i418.3 ]
  %index.018.i.i404.unr = phi i64 [ 0, %for.body.i12.i407.preheader ], [ %index.1.i19.i415.3, %if.end.i22.i418.3 ]
  %lcmp.mod57.not = icmp eq i64 %xtraiter55, 0
  br i1 %lcmp.mod57.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit, label %for.body.i12.i407.epil

for.body.i12.i407.epil:                           ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit.unr-lcssa, %if.end.i22.i418.epil
  %indvars.iv.i9.i403.epil = phi i64 [ %indvars.iv.next.i20.i416.epil, %if.end.i22.i418.epil ], [ %indvars.iv.i9.i403.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit.unr-lcssa ]
  %index.018.i.i404.epil = phi i64 [ %index.1.i19.i415.epil, %if.end.i22.i418.epil ], [ %index.018.i.i404.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit.unr-lcssa ]
  %epil.iter56 = phi i64 [ %epil.iter56.sub, %if.end.i22.i418.epil ], [ %xtraiter55, %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit.unr-lcssa ]
  %stride2.i10.i405.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i9.i403.epil, i32 2
  %59 = load i32, i32* %stride2.i10.i405.epil, align 4, !tbaa !187
  %cmp3.i11.i406.epil = icmp slt i32 %59, 0
  br i1 %cmp3.i11.i406.epil, label %if.then.i18.i414.epil, label %if.end.i22.i418.epil

if.then.i18.i414.epil:                            ; preds = %for.body.i12.i407.epil
  %conv.i.i408.epil = sext i32 %59 to i64
  %extent.i13.i409.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.i9.i403.epil, i32 1
  %60 = load i32, i32* %extent.i13.i409.epil, align 4, !tbaa !183
  %sub.i14.i410.epil = add nsw i32 %60, -1
  %conv7.i15.i411.epil = sext i32 %sub.i14.i410.epil to i64
  %mul.i16.i412.epil = mul nsw i64 %conv7.i15.i411.epil, %conv.i.i408.epil
  %add.i17.i413.epil = add nsw i64 %mul.i16.i412.epil, %index.018.i.i404.epil
  br label %if.end.i22.i418.epil

if.end.i22.i418.epil:                             ; preds = %if.then.i18.i414.epil, %for.body.i12.i407.epil
  %index.1.i19.i415.epil = phi i64 [ %add.i17.i413.epil, %if.then.i18.i414.epil ], [ %index.018.i.i404.epil, %for.body.i12.i407.epil ]
  %indvars.iv.next.i20.i416.epil = add nuw nsw i64 %indvars.iv.i9.i403.epil, 1
  %epil.iter56.sub = add i64 %epil.iter56, -1
  %epil.iter56.cmp.not = icmp eq i64 %epil.iter56.sub, 0
  br i1 %epil.iter56.cmp.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit, label %for.body.i12.i407.epil, !llvm.loop !440

_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit: ; preds = %if.end.i22.i418.epil, %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit.unr-lcssa
  %index.1.i19.i415.lcssa = phi i64 [ %index.1.i19.i415.lcssa.ph, %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit.unr-lcssa ], [ %index.1.i19.i415.epil, %if.end.i22.i418.epil ]
  %add8.i.i401 = add nsw i64 %index.1.i.i397.lcssa, 1
  br label %_ZNK15halide_buffer_t13size_in_bytesEv.exit427

_ZNK15halide_buffer_t13size_in_bytesEv.exit427:   ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit, %lor.lhs.false73
  %add8.i27.i419 = phi i64 [ 1, %lor.lhs.false73 ], [ %add8.i.i401, %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit ]
  %index.0.lcssa.i8.i420 = phi i64 [ 0, %lor.lhs.false73 ], [ %index.1.i19.i415.lcssa, %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit ]
  %sub.i421 = sub nsw i64 %add8.i27.i419, %index.0.lcssa.i8.i420
  %mul.i426 = mul i64 %sub.i421, %div.i.i
  %cmp76.not = icmp eq i64 %46, %mul.i426
  br i1 %cmp76.not, label %if.end80, label %if.then77

if.then77:                                        ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit427, %_ZNK15halide_buffer_t13size_in_bytesEv.exit379
  %call.i430 = call i8* @malloc(i64 1024) #16
  %tobool.not.i431 = icmp eq i8* %call.i430, null
  br i1 %tobool.not.i431, label %if.then.i437, label %if.else.i

if.then.i437:                                     ; preds = %if.then77
  %call.i434547 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([45 x i8], [45 x i8]* @.str.260, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %if.then77
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i430, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i434 = call i8* @halide_string_to_string(i8* nonnull %call.i430, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([45 x i8], [45 x i8]* @.str.260, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i434 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i430 to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i438 = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i439 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i430, i64 %add.i.i438) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i437
  %.sink10.i = phi i8* [ %call.i430, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i437 ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  call void @free(i8* %call.i430) #16
  br label %cleanup238

if.end80:                                         ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit427
  %tobool.not.not = xor i1 %cmp, true
  %brmerge = select i1 %5, i1 true, i1 %tobool.not.not
  br i1 %brmerge, label %if.else, label %if.then84

if.then84:                                        ; preds = %if.end80
  %61 = bitcast [3 x i64]* %offset to i8*
  call void @llvm.lifetime.start.p0i8(i64 24, i8* nonnull %61) #11
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(24) %61, i8 0, i64 24, i1 false)
  %62 = bitcast [3 x i64]* %region to i8*
  call void @llvm.lifetime.start.p0i8(i64 24, i8* nonnull %62) #11
  %arrayinit.begin = getelementptr inbounds [3 x i64], [3 x i64]* %region, i64 0, i64 0
  %extent = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 0, i32 1
  %63 = load i32, i32* %extent, align 4, !tbaa !183
  %conv = sext i32 %63 to i64
  store i64 %conv, i64* %arrayinit.begin, align 8, !tbaa !19
  %arrayinit.element = getelementptr inbounds [3 x i64], [3 x i64]* %region, i64 0, i64 1
  %cmp86 = icmp sgt i32 %29, 1
  br i1 %cmp86, label %cond.end, label %cond.end100

cond.end:                                         ; preds = %if.then84
  %extent89 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 1, i32 1
  %64 = load i32, i32* %extent89, align 4, !tbaa !183
  %conv90 = sext i32 %64 to i64
  store i64 %conv90, i64* %arrayinit.element, align 8, !tbaa !19
  %arrayinit.element92 = getelementptr inbounds [3 x i64], [3 x i64]* %region, i64 0, i64 2
  %cmp93.not = icmp eq i32 %29, 2
  br i1 %cmp93.not, label %land.lhs.true104, label %land.lhs.true104.thread

cond.end100:                                      ; preds = %if.then84
  %65 = bitcast i64* %arrayinit.element to <2 x i64>*
  store <2 x i64> <i64 1, i64 1>, <2 x i64>* %65, align 8, !tbaa !19
  br label %cleanup

land.lhs.true104:                                 ; preds = %cond.end
  store i64 1, i64* %arrayinit.element92, align 8, !tbaa !19
  %stride = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 1, i32 2
  %66 = load i32, i32* %stride, align 4, !tbaa !187
  %cmp110.not = icmp eq i32 %66, %63
  br i1 %cmp110.not, label %cleanup, label %if.then111

land.lhs.true104.thread:                          ; preds = %cond.end
  %extent97 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 2, i32 1
  %67 = load i32, i32* %extent97, align 4, !tbaa !183
  %conv98 = sext i32 %67 to i64
  store i64 %conv98, i64* %arrayinit.element92, align 8, !tbaa !19
  %stride577 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 1, i32 2
  %68 = load i32, i32* %stride577, align 4, !tbaa !187
  %cmp110.not578 = icmp eq i32 %68, %63
  br i1 %cmp110.not578, label %land.lhs.true117, label %if.then111

if.then111:                                       ; preds = %land.lhs.true104.thread, %land.lhs.true104
  %69 = bitcast %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp112 to i8*
  call void @llvm.lifetime.start.p0i8(i64 40, i8* nonnull %69) #11
  %user_context.i442 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp112, i64 0, i32 3
  store i8* %user_context, i8** %user_context.i442, align 8, !tbaa !424
  %own_mem.i443 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp112, i64 0, i32 4
  store i8 1, i8* %own_mem.i443, align 8, !tbaa !426
  %call.i444 = call i8* @malloc(i64 1024) #16
  %buf3.i445 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp112, i64 0, i32 0
  store i8* %call.i444, i8** %buf3.i445, align 8, !tbaa !427
  %dst.i446 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp112, i64 0, i32 1
  %tobool.not.i447 = icmp eq i8* %call.i444, null
  br i1 %tobool.not.i447, label %if.then111.split, label %if.then6.i450

if.then111.split:                                 ; preds = %if.then111
  %call.i4561 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([53 x i8], [53 x i8]* @.str.261, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit453

if.then6.i450:                                    ; preds = %if.then111
  %add.ptr.i448 = getelementptr inbounds i8, i8* %call.i444, i64 1023
  store i8 0, i8* %add.ptr.i448, align 1, !tbaa !15
  %call.i4562 = call i8* @halide_string_to_string(i8* nonnull %call.i444, i8* nonnull %add.ptr.i448, i8* getelementptr inbounds ([53 x i8], [53 x i8]* @.str.261, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit453

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit453: ; preds = %if.then111.split, %if.then6.i450
  %add.ptr.i448.sink = phi i8* [ null, %if.then111.split ], [ %add.ptr.i448, %if.then6.i450 ]
  %phi.call = phi i8* [ %call.i4561, %if.then111.split ], [ %call.i4562, %if.then6.i450 ]
  %70 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp112, i64 0, i32 2
  store i8* %add.ptr.i448.sink, i8** %70, align 8
  store i8* %phi.call, i8** %dst.i446, align 8, !tbaa !428
  call fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nonnull align 8 dereferenceable(33) %ref.tmp112) #16
  call void @llvm.lifetime.end.p0i8(i64 40, i8* nonnull %69) #11
  br label %cleanup.thread

land.lhs.true117:                                 ; preds = %land.lhs.true104.thread
  %stride120 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 2, i32 2
  %71 = load i32, i32* %stride120, align 4, !tbaa !187
  %mul = mul nsw i32 %64, %63
  %cmp127.not = icmp eq i32 %71, %mul
  br i1 %cmp127.not, label %cleanup, label %if.then128

if.then128:                                       ; preds = %land.lhs.true117
  %72 = bitcast %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp129 to i8*
  call void @llvm.lifetime.start.p0i8(i64 40, i8* nonnull %72) #11
  %user_context.i457 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp129, i64 0, i32 3
  store i8* %user_context, i8** %user_context.i457, align 8, !tbaa !424
  %own_mem.i458 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp129, i64 0, i32 4
  store i8 1, i8* %own_mem.i458, align 8, !tbaa !426
  %call.i459 = call i8* @malloc(i64 1024) #16
  %buf3.i460 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp129, i64 0, i32 0
  store i8* %call.i459, i8** %buf3.i460, align 8, !tbaa !427
  %dst.i461 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp129, i64 0, i32 1
  %tobool.not.i462 = icmp eq i8* %call.i459, null
  br i1 %tobool.not.i462, label %if.then128.split, label %if.then6.i465

if.then128.split:                                 ; preds = %if.then128
  %call.i4713 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([53 x i8], [53 x i8]* @.str.261, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit468

if.then6.i465:                                    ; preds = %if.then128
  %add.ptr.i463 = getelementptr inbounds i8, i8* %call.i459, i64 1023
  store i8 0, i8* %add.ptr.i463, align 1, !tbaa !15
  %call.i4714 = call i8* @halide_string_to_string(i8* nonnull %call.i459, i8* nonnull %add.ptr.i463, i8* getelementptr inbounds ([53 x i8], [53 x i8]* @.str.261, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit468

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit468: ; preds = %if.then128.split, %if.then6.i465
  %add.ptr.i463.sink = phi i8* [ null, %if.then128.split ], [ %add.ptr.i463, %if.then6.i465 ]
  %phi.call5 = phi i8* [ %call.i4713, %if.then128.split ], [ %call.i4714, %if.then6.i465 ]
  %73 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp129, i64 0, i32 2
  store i8* %add.ptr.i463.sink, i8** %73, align 8
  store i8* %phi.call5, i8** %dst.i461, align 8, !tbaa !428
  call fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nonnull align 8 dereferenceable(33) %ref.tmp129) #16
  call void @llvm.lifetime.end.p0i8(i64 40, i8* nonnull %72) #11
  br label %cleanup.thread

cleanup.thread:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit468, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit453
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %62) #11
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %61) #11
  br label %cleanup238

cleanup:                                          ; preds = %land.lhs.true117, %land.lhs.true104, %cond.end100
  %74 = load i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64*, i64*, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)*, i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64*, i64*, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL18clEnqueueReadImageE, align 8, !tbaa !11
  %75 = load i64, i64* %src67, align 8, !tbaa !239
  %76 = inttoptr i64 %75 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %76, i64 0, i32 1
  %77 = load %struct._cl_mem*, %struct._cl_mem** %mem, align 8, !tbaa !398
  %arraydecay = getelementptr inbounds [3 x i64], [3 x i64]* %offset, i64 0, i64 0
  %host134 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 2
  %78 = load i8*, i8** %host134, align 8, !tbaa !178
  %call135 = call i32 %74(%struct._cl_command_queue* %11, %struct._cl_mem* %77, i32 0, i64* nonnull %arraydecay, i64* nonnull %arrayinit.begin, i64 0, i64 0, i8* %78, i32 0, %struct._cl_event** null, %struct._cl_event** null) #16
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %62) #11
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %61) #11
  br label %if.end224

if.else:                                          ; preds = %if.end80
  %.not = xor i1 %5, true
  %brmerge326 = select i1 %.not, i1 true, i1 %cmp
  br i1 %brmerge326, label %if.else215, label %if.then141

if.then141:                                       ; preds = %if.else
  %79 = bitcast [3 x i64]* %offset144 to i8*
  call void @llvm.lifetime.start.p0i8(i64 24, i8* nonnull %79) #11
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(24) %79, i8 0, i64 24, i1 false)
  %80 = bitcast [3 x i64]* %region145 to i8*
  call void @llvm.lifetime.start.p0i8(i64 24, i8* nonnull %80) #11
  %arrayinit.begin146 = getelementptr inbounds [3 x i64], [3 x i64]* %region145, i64 0, i64 0
  %extent149 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 0, i32 1
  %81 = load i32, i32* %extent149, align 4, !tbaa !183
  %conv150 = sext i32 %81 to i64
  store i64 %conv150, i64* %arrayinit.begin146, align 8, !tbaa !19
  %arrayinit.element151 = getelementptr inbounds [3 x i64], [3 x i64]* %region145, i64 0, i64 1
  %cmp152 = icmp sgt i32 %12, 1
  br i1 %cmp152, label %cond.end159, label %cond.end169

cond.end159:                                      ; preds = %if.then141
  %extent156 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 1, i32 1
  %82 = load i32, i32* %extent156, align 4, !tbaa !183
  %conv157 = sext i32 %82 to i64
  store i64 %conv157, i64* %arrayinit.element151, align 8, !tbaa !19
  %arrayinit.element161 = getelementptr inbounds [3 x i64], [3 x i64]* %region145, i64 0, i64 2
  %cmp162.not = icmp eq i32 %12, 2
  br i1 %cmp162.not, label %land.lhs.true173, label %land.lhs.true173.thread

cond.end169:                                      ; preds = %if.then141
  %83 = bitcast i64* %arrayinit.element151 to <2 x i64>*
  store <2 x i64> <i64 1, i64 1>, <2 x i64>* %83, align 8, !tbaa !19
  br label %cleanup210

land.lhs.true173:                                 ; preds = %cond.end159
  store i64 1, i64* %arrayinit.element161, align 8, !tbaa !19
  %stride176 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 1, i32 2
  %84 = load i32, i32* %stride176, align 4, !tbaa !187
  %cmp180.not = icmp eq i32 %84, %81
  br i1 %cmp180.not, label %cleanup210, label %if.then181

land.lhs.true173.thread:                          ; preds = %cond.end159
  %extent166 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 2, i32 1
  %85 = load i32, i32* %extent166, align 4, !tbaa !183
  %conv167 = sext i32 %85 to i64
  store i64 %conv167, i64* %arrayinit.element161, align 8, !tbaa !19
  %stride176580 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 1, i32 2
  %86 = load i32, i32* %stride176580, align 4, !tbaa !187
  %cmp180.not581 = icmp eq i32 %86, %81
  br i1 %cmp180.not581, label %land.lhs.true187, label %if.then181

if.then181:                                       ; preds = %land.lhs.true173.thread, %land.lhs.true173
  %87 = bitcast %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp182 to i8*
  call void @llvm.lifetime.start.p0i8(i64 40, i8* nonnull %87) #11
  %user_context.i472 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp182, i64 0, i32 3
  store i8* %user_context, i8** %user_context.i472, align 8, !tbaa !424
  %own_mem.i473 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp182, i64 0, i32 4
  store i8 1, i8* %own_mem.i473, align 8, !tbaa !426
  %call.i474 = call i8* @malloc(i64 1024) #16
  %buf3.i475 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp182, i64 0, i32 0
  store i8* %call.i474, i8** %buf3.i475, align 8, !tbaa !427
  %dst.i476 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp182, i64 0, i32 1
  %tobool.not.i477 = icmp eq i8* %call.i474, null
  br i1 %tobool.not.i477, label %if.then181.split, label %if.then6.i480

if.then181.split:                                 ; preds = %if.then181
  %call.i4866 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([53 x i8], [53 x i8]* @.str.261, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit483

if.then6.i480:                                    ; preds = %if.then181
  %add.ptr.i478 = getelementptr inbounds i8, i8* %call.i474, i64 1023
  store i8 0, i8* %add.ptr.i478, align 1, !tbaa !15
  %call.i4867 = call i8* @halide_string_to_string(i8* nonnull %call.i474, i8* nonnull %add.ptr.i478, i8* getelementptr inbounds ([53 x i8], [53 x i8]* @.str.261, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit483

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit483: ; preds = %if.then181.split, %if.then6.i480
  %add.ptr.i478.sink = phi i8* [ null, %if.then181.split ], [ %add.ptr.i478, %if.then6.i480 ]
  %phi.call8 = phi i8* [ %call.i4866, %if.then181.split ], [ %call.i4867, %if.then6.i480 ]
  %88 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp182, i64 0, i32 2
  store i8* %add.ptr.i478.sink, i8** %88, align 8
  store i8* %phi.call8, i8** %dst.i476, align 8, !tbaa !428
  call fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nonnull align 8 dereferenceable(33) %ref.tmp182) #16
  call void @llvm.lifetime.end.p0i8(i64 40, i8* nonnull %87) #11
  br label %cleanup210.thread

land.lhs.true187:                                 ; preds = %land.lhs.true173.thread
  %stride190 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 2, i32 2
  %89 = load i32, i32* %stride190, align 4, !tbaa !187
  %mul197 = mul nsw i32 %82, %81
  %cmp198.not = icmp eq i32 %89, %mul197
  br i1 %cmp198.not, label %cleanup210, label %if.then199

if.then199:                                       ; preds = %land.lhs.true187
  %90 = bitcast %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp200 to i8*
  call void @llvm.lifetime.start.p0i8(i64 40, i8* nonnull %90) #11
  %user_context.i487 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp200, i64 0, i32 3
  store i8* %user_context, i8** %user_context.i487, align 8, !tbaa !424
  %own_mem.i488 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp200, i64 0, i32 4
  store i8 1, i8* %own_mem.i488, align 8, !tbaa !426
  %call.i489 = call i8* @malloc(i64 1024) #16
  %buf3.i490 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp200, i64 0, i32 0
  store i8* %call.i489, i8** %buf3.i490, align 8, !tbaa !427
  %dst.i491 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp200, i64 0, i32 1
  %tobool.not.i492 = icmp eq i8* %call.i489, null
  br i1 %tobool.not.i492, label %if.then199.split, label %if.then6.i495

if.then199.split:                                 ; preds = %if.then199
  %call.i5019 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([53 x i8], [53 x i8]* @.str.261, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit498

if.then6.i495:                                    ; preds = %if.then199
  %add.ptr.i493 = getelementptr inbounds i8, i8* %call.i489, i64 1023
  store i8 0, i8* %add.ptr.i493, align 1, !tbaa !15
  %call.i50110 = call i8* @halide_string_to_string(i8* nonnull %call.i489, i8* nonnull %add.ptr.i493, i8* getelementptr inbounds ([53 x i8], [53 x i8]* @.str.261, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit498

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit498: ; preds = %if.then199.split, %if.then6.i495
  %add.ptr.i493.sink = phi i8* [ null, %if.then199.split ], [ %add.ptr.i493, %if.then6.i495 ]
  %phi.call11 = phi i8* [ %call.i5019, %if.then199.split ], [ %call.i50110, %if.then6.i495 ]
  %91 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp200, i64 0, i32 2
  store i8* %add.ptr.i493.sink, i8** %91, align 8
  store i8* %phi.call11, i8** %dst.i491, align 8, !tbaa !428
  call fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nonnull align 8 dereferenceable(33) %ref.tmp200) #16
  call void @llvm.lifetime.end.p0i8(i64 40, i8* nonnull %90) #11
  br label %cleanup210.thread

cleanup210.thread:                                ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit498, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit483
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %80) #11
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %79) #11
  br label %cleanup238

cleanup210:                                       ; preds = %land.lhs.true187, %land.lhs.true173, %cond.end169
  %92 = load i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64*, i64*, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)*, i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64*, i64*, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL19clEnqueueWriteImageE, align 8, !tbaa !11
  %93 = load i64, i64* %dst68, align 8, !tbaa !241
  %94 = inttoptr i64 %93 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem205 = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %94, i64 0, i32 1
  %95 = load %struct._cl_mem*, %struct._cl_mem** %mem205, align 8, !tbaa !398
  %arraydecay206 = getelementptr inbounds [3 x i64], [3 x i64]* %offset144, i64 0, i64 0
  %host208 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 2
  %96 = load i8*, i8** %host208, align 8, !tbaa !178
  %call209 = call i32 %92(%struct._cl_command_queue* %11, %struct._cl_mem* %95, i32 0, i64* nonnull %arraydecay206, i64* nonnull %arrayinit.begin146, i64 0, i64 0, i8* %96, i32 0, %struct._cl_event** null, %struct._cl_event** null) #16
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %80) #11
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %79) #11
  br label %if.end224

if.else215:                                       ; preds = %if.else
  %brmerge327 = select i1 %5, i1 true, i1 %cmp
  br i1 %brmerge327, label %if.end235, label %if.then219

if.then219:                                       ; preds = %if.else215
  %97 = bitcast %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp220 to i8*
  call void @llvm.lifetime.start.p0i8(i64 40, i8* nonnull %97) #11
  %user_context.i502 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp220, i64 0, i32 3
  store i8* %user_context, i8** %user_context.i502, align 8, !tbaa !424
  %own_mem.i503 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp220, i64 0, i32 4
  store i8 1, i8* %own_mem.i503, align 8, !tbaa !426
  %call.i504 = call i8* @malloc(i64 1024) #16
  %buf3.i505 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp220, i64 0, i32 0
  store i8* %call.i504, i8** %buf3.i505, align 8, !tbaa !427
  %dst.i506 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp220, i64 0, i32 1
  %tobool.not.i507 = icmp eq i8* %call.i504, null
  br i1 %tobool.not.i507, label %if.then219.split, label %if.then6.i510

if.then219.split:                                 ; preds = %if.then219
  %call.i51612 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([38 x i8], [38 x i8]* @.str.262, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit513

if.then6.i510:                                    ; preds = %if.then219
  %add.ptr.i508 = getelementptr inbounds i8, i8* %call.i504, i64 1023
  store i8 0, i8* %add.ptr.i508, align 1, !tbaa !15
  %call.i51613 = call i8* @halide_string_to_string(i8* nonnull %call.i504, i8* nonnull %add.ptr.i508, i8* getelementptr inbounds ([38 x i8], [38 x i8]* @.str.262, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit513

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit513: ; preds = %if.then219.split, %if.then6.i510
  %add.ptr.i508.sink = phi i8* [ null, %if.then219.split ], [ %add.ptr.i508, %if.then6.i510 ]
  %phi.call14 = phi i8* [ %call.i51612, %if.then219.split ], [ %call.i51613, %if.then6.i510 ]
  %98 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp220, i64 0, i32 2
  store i8* %add.ptr.i508.sink, i8** %98, align 8
  store i8* %phi.call14, i8** %dst.i506, align 8, !tbaa !428
  call fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nonnull align 8 dereferenceable(33) %ref.tmp220) #16
  call void @llvm.lifetime.end.p0i8(i64 40, i8* nonnull %97) #11
  br label %cleanup238

if.end224:                                        ; preds = %cleanup210, %cleanup
  %err.2 = phi i32 [ %call209, %cleanup210 ], [ %call135, %cleanup ]
  %cmp225.not = icmp eq i32 %err.2, 0
  br i1 %cmp225.not, label %if.end224.if.end235_crit_edge, label %if.then226

if.end224.if.end235_crit_edge:                    ; preds = %if.end224
  %.pre574 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  br label %if.end235

if.then226:                                       ; preds = %if.end224
  %call229 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %err.2) #17
  %99 = bitcast %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp231 to i8*
  call void @llvm.lifetime.start.p0i8(i64 40, i8* nonnull %99) #11
  %user_context.i517 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp231, i64 0, i32 3
  store i8* %user_context, i8** %user_context.i517, align 8, !tbaa !424
  %own_mem.i518 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp231, i64 0, i32 4
  store i8 1, i8* %own_mem.i518, align 8, !tbaa !426
  %call.i519 = call i8* @malloc(i64 1024) #16
  %buf3.i520 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp231, i64 0, i32 0
  store i8* %call.i519, i8** %buf3.i520, align 8, !tbaa !427
  %dst.i521 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp231, i64 0, i32 1
  %tobool.not.i522 = icmp eq i8* %call.i519, null
  br i1 %tobool.not.i522, label %if.then226.split, label %if.then6.i525

if.then226.split:                                 ; preds = %if.then226
  %call.i53115 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.263, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit528

if.then6.i525:                                    ; preds = %if.then226
  %add.ptr.i523 = getelementptr inbounds i8, i8* %call.i519, i64 1023
  store i8 0, i8* %add.ptr.i523, align 1, !tbaa !15
  %call.i53116 = call i8* @halide_string_to_string(i8* nonnull %call.i519, i8* nonnull %add.ptr.i523, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.263, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit528

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit528: ; preds = %if.then226.split, %if.then6.i525
  %add.ptr.i523.sink29 = phi i8* [ null, %if.then226.split ], [ %add.ptr.i523, %if.then6.i525 ]
  %phi.call17 = phi i8* [ %call.i53115, %if.then226.split ], [ %call.i53116, %if.then6.i525 ]
  %100 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp231, i64 0, i32 2
  store i8* %add.ptr.i523.sink29, i8** %100, align 8
  %call233 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %err.2) #17
  %call.i534 = call i8* @halide_string_to_string(i8* %phi.call17, i8* %add.ptr.i523.sink29, i8* %call233) #16
  store i8* %call.i534, i8** %dst.i521, align 8, !tbaa !428
  call fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nonnull align 8 dereferenceable(33) %ref.tmp231) #16
  call void @llvm.lifetime.end.p0i8(i64 40, i8* nonnull %99) #11
  br label %cleanup238

if.end235:                                        ; preds = %if.end224.if.end235_crit_edge, %if.else215
  %101 = phi %struct._cl_command_queue* [ %.pre574, %if.end224.if.end235_crit_edge ], [ %11, %if.else215 ]
  %102 = load i32 (%struct._cl_command_queue*)*, i32 (%struct._cl_command_queue*)** @_ZN6Halide7Runtime8Internal6OpenCL8clFinishE, align 8, !tbaa !11
  %call237 = call i32 %102(%struct._cl_command_queue* %101) #16
  br label %cleanup238

cleanup238:                                       ; preds = %if.end235, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit528, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit513, %cleanup210.thread, %cleanup.thread, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread
  %cond247 = phi i32 [ 0, %if.end235 ], [ %err.2, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit528 ], [ -39, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit513 ], [ -39, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ %call.i, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit ], [ -1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread ], [ -39, %cleanup.thread ], [ -39, %cleanup210.thread ]
  %103 = load i8*, i8** %user_context2.i, align 8, !tbaa !390
  %call.i428 = call i32 @halide_release_cl_context(i8* %103) #16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %8) #11
  call void @llvm.lifetime.end.p0i8(i64 416, i8* nonnull %7) #11
  br label %return

return:                                           ; preds = %cleanup238, %if.then14, %do.body12
  %retval.5 = phi i32 [ %cond247, %cleanup238 ], [ -42, %do.body12 ], [ -42, %if.then14 ]
  ret i32 %retval.5

if.then.i.i331.1:                                 ; preds = %if.end.i.i
  %conv18.i.i.1 = zext i32 %18 to i64
  %extent.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i.i, i32 1
  %104 = load i32, i32* %extent.i.i.1, align 4, !tbaa !183
  %sub.i.i.1 = add nsw i32 %104, -1
  %conv7.i.i.1 = sext i32 %sub.i.i.1 to i64
  %mul.i.i.1 = mul nsw i64 %conv7.i.i.1, %conv18.i.i.1
  %add.i.i.1 = add nsw i64 %mul.i.i.1, %index.1.i.i
  br label %if.end.i.i.1

if.end.i.i.1:                                     ; preds = %if.then.i.i331.1, %if.end.i.i
  %index.1.i.i.1 = phi i64 [ %add.i.i.1, %if.then.i.i331.1 ], [ %index.1.i.i, %if.end.i.i ]
  %indvars.iv.next.i.i.1 = or i64 %indvars.iv.i.i, 2
  %stride2.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i.i.1, i32 2
  %105 = load i32, i32* %stride2.i.i.2, align 4, !tbaa !187
  %cmp3.i.i.2 = icmp sgt i32 %105, 0
  br i1 %cmp3.i.i.2, label %if.then.i.i331.2, label %if.end.i.i.2

if.then.i.i331.2:                                 ; preds = %if.end.i.i.1
  %conv18.i.i.2 = zext i32 %105 to i64
  %extent.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i.i.1, i32 1
  %106 = load i32, i32* %extent.i.i.2, align 4, !tbaa !183
  %sub.i.i.2 = add nsw i32 %106, -1
  %conv7.i.i.2 = sext i32 %sub.i.i.2 to i64
  %mul.i.i.2 = mul nsw i64 %conv7.i.i.2, %conv18.i.i.2
  %add.i.i.2 = add nsw i64 %mul.i.i.2, %index.1.i.i.1
  br label %if.end.i.i.2

if.end.i.i.2:                                     ; preds = %if.then.i.i331.2, %if.end.i.i.1
  %index.1.i.i.2 = phi i64 [ %add.i.i.2, %if.then.i.i331.2 ], [ %index.1.i.i.1, %if.end.i.i.1 ]
  %indvars.iv.next.i.i.2 = or i64 %indvars.iv.i.i, 3
  %stride2.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i.i.2, i32 2
  %107 = load i32, i32* %stride2.i.i.3, align 4, !tbaa !187
  %cmp3.i.i.3 = icmp sgt i32 %107, 0
  br i1 %cmp3.i.i.3, label %if.then.i.i331.3, label %if.end.i.i.3

if.then.i.i331.3:                                 ; preds = %if.end.i.i.2
  %conv18.i.i.3 = zext i32 %107 to i64
  %extent.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i.i.2, i32 1
  %108 = load i32, i32* %extent.i.i.3, align 4, !tbaa !183
  %sub.i.i.3 = add nsw i32 %108, -1
  %conv7.i.i.3 = sext i32 %sub.i.i.3 to i64
  %mul.i.i.3 = mul nsw i64 %conv7.i.i.3, %conv18.i.i.3
  %add.i.i.3 = add nsw i64 %mul.i.i.3, %index.1.i.i.2
  br label %if.end.i.i.3

if.end.i.i.3:                                     ; preds = %if.then.i.i331.3, %if.end.i.i.2
  %index.1.i.i.3 = phi i64 [ %add.i.i.3, %if.then.i.i331.3 ], [ %index.1.i.i.2, %if.end.i.i.2 ]
  %indvars.iv.next.i.i.3 = add nuw nsw i64 %indvars.iv.i.i, 4
  %niter.nsub.3 = add i64 %niter, -4
  %niter.ncmp.3 = icmp eq i64 %niter.nsub.3, 0
  br i1 %niter.ncmp.3, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.i.i, !llvm.loop !401

if.then.i18.i.1:                                  ; preds = %if.end.i22.i
  %conv.i.i.1 = sext i32 %25 to i64
  %extent.i13.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i20.i, i32 1
  %109 = load i32, i32* %extent.i13.i.1, align 4, !tbaa !183
  %sub.i14.i.1 = add nsw i32 %109, -1
  %conv7.i15.i.1 = sext i32 %sub.i14.i.1 to i64
  %mul.i16.i.1 = mul nsw i64 %conv7.i15.i.1, %conv.i.i.1
  %add.i17.i.1 = add nsw i64 %mul.i16.i.1, %index.1.i19.i
  br label %if.end.i22.i.1

if.end.i22.i.1:                                   ; preds = %if.then.i18.i.1, %if.end.i22.i
  %index.1.i19.i.1 = phi i64 [ %add.i17.i.1, %if.then.i18.i.1 ], [ %index.1.i19.i, %if.end.i22.i ]
  %indvars.iv.next.i20.i.1 = or i64 %indvars.iv.i9.i, 2
  %stride2.i10.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i20.i.1, i32 2
  %110 = load i32, i32* %stride2.i10.i.2, align 4, !tbaa !187
  %cmp3.i11.i.2 = icmp slt i32 %110, 0
  br i1 %cmp3.i11.i.2, label %if.then.i18.i.2, label %if.end.i22.i.2

if.then.i18.i.2:                                  ; preds = %if.end.i22.i.1
  %conv.i.i.2 = sext i32 %110 to i64
  %extent.i13.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i20.i.1, i32 1
  %111 = load i32, i32* %extent.i13.i.2, align 4, !tbaa !183
  %sub.i14.i.2 = add nsw i32 %111, -1
  %conv7.i15.i.2 = sext i32 %sub.i14.i.2 to i64
  %mul.i16.i.2 = mul nsw i64 %conv7.i15.i.2, %conv.i.i.2
  %add.i17.i.2 = add nsw i64 %mul.i16.i.2, %index.1.i19.i.1
  br label %if.end.i22.i.2

if.end.i22.i.2:                                   ; preds = %if.then.i18.i.2, %if.end.i22.i.1
  %index.1.i19.i.2 = phi i64 [ %add.i17.i.2, %if.then.i18.i.2 ], [ %index.1.i19.i.1, %if.end.i22.i.1 ]
  %indvars.iv.next.i20.i.2 = or i64 %indvars.iv.i9.i, 3
  %stride2.i10.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i20.i.2, i32 2
  %112 = load i32, i32* %stride2.i10.i.3, align 4, !tbaa !187
  %cmp3.i11.i.3 = icmp slt i32 %112, 0
  br i1 %cmp3.i11.i.3, label %if.then.i18.i.3, label %if.end.i22.i.3

if.then.i18.i.3:                                  ; preds = %if.end.i22.i.2
  %conv.i.i.3 = sext i32 %112 to i64
  %extent.i13.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i20.i.2, i32 1
  %113 = load i32, i32* %extent.i13.i.3, align 4, !tbaa !183
  %sub.i14.i.3 = add nsw i32 %113, -1
  %conv7.i15.i.3 = sext i32 %sub.i14.i.3 to i64
  %mul.i16.i.3 = mul nsw i64 %conv7.i15.i.3, %conv.i.i.3
  %add.i17.i.3 = add nsw i64 %mul.i16.i.3, %index.1.i19.i.2
  br label %if.end.i22.i.3

if.end.i22.i.3:                                   ; preds = %if.then.i18.i.3, %if.end.i22.i.2
  %index.1.i19.i.3 = phi i64 [ %add.i17.i.3, %if.then.i18.i.3 ], [ %index.1.i19.i.2, %if.end.i22.i.2 ]
  %indvars.iv.next.i20.i.3 = add nuw nsw i64 %indvars.iv.i9.i, 4
  %niter36.nsub.3 = add i64 %niter36, -4
  %niter36.ncmp.3 = icmp eq i64 %niter36.nsub.3, 0
  br i1 %niter36.ncmp.3, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i, !llvm.loop !402

if.then.i.i348.1:                                 ; preds = %if.end.i.i352
  %conv18.i.i342.1 = zext i32 %35 to i64
  %extent.i.i343.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.next.i.i350, i32 1
  %114 = load i32, i32* %extent.i.i343.1, align 4, !tbaa !183
  %sub.i.i344.1 = add nsw i32 %114, -1
  %conv7.i.i345.1 = sext i32 %sub.i.i344.1 to i64
  %mul.i.i346.1 = mul nsw i64 %conv7.i.i345.1, %conv18.i.i342.1
  %add.i.i347.1 = add nsw i64 %mul.i.i346.1, %index.1.i.i349
  br label %if.end.i.i352.1

if.end.i.i352.1:                                  ; preds = %if.then.i.i348.1, %if.end.i.i352
  %index.1.i.i349.1 = phi i64 [ %add.i.i347.1, %if.then.i.i348.1 ], [ %index.1.i.i349, %if.end.i.i352 ]
  %indvars.iv.next.i.i350.1 = or i64 %indvars.iv.i.i337, 2
  %stride2.i.i339.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.next.i.i350.1, i32 2
  %115 = load i32, i32* %stride2.i.i339.2, align 4, !tbaa !187
  %cmp3.i.i340.2 = icmp sgt i32 %115, 0
  br i1 %cmp3.i.i340.2, label %if.then.i.i348.2, label %if.end.i.i352.2

if.then.i.i348.2:                                 ; preds = %if.end.i.i352.1
  %conv18.i.i342.2 = zext i32 %115 to i64
  %extent.i.i343.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.next.i.i350.1, i32 1
  %116 = load i32, i32* %extent.i.i343.2, align 4, !tbaa !183
  %sub.i.i344.2 = add nsw i32 %116, -1
  %conv7.i.i345.2 = sext i32 %sub.i.i344.2 to i64
  %mul.i.i346.2 = mul nsw i64 %conv7.i.i345.2, %conv18.i.i342.2
  %add.i.i347.2 = add nsw i64 %mul.i.i346.2, %index.1.i.i349.1
  br label %if.end.i.i352.2

if.end.i.i352.2:                                  ; preds = %if.then.i.i348.2, %if.end.i.i352.1
  %index.1.i.i349.2 = phi i64 [ %add.i.i347.2, %if.then.i.i348.2 ], [ %index.1.i.i349.1, %if.end.i.i352.1 ]
  %indvars.iv.next.i.i350.2 = or i64 %indvars.iv.i.i337, 3
  %stride2.i.i339.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.next.i.i350.2, i32 2
  %117 = load i32, i32* %stride2.i.i339.3, align 4, !tbaa !187
  %cmp3.i.i340.3 = icmp sgt i32 %117, 0
  br i1 %cmp3.i.i340.3, label %if.then.i.i348.3, label %if.end.i.i352.3

if.then.i.i348.3:                                 ; preds = %if.end.i.i352.2
  %conv18.i.i342.3 = zext i32 %117 to i64
  %extent.i.i343.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.next.i.i350.2, i32 1
  %118 = load i32, i32* %extent.i.i343.3, align 4, !tbaa !183
  %sub.i.i344.3 = add nsw i32 %118, -1
  %conv7.i.i345.3 = sext i32 %sub.i.i344.3 to i64
  %mul.i.i346.3 = mul nsw i64 %conv7.i.i345.3, %conv18.i.i342.3
  %add.i.i347.3 = add nsw i64 %mul.i.i346.3, %index.1.i.i349.2
  br label %if.end.i.i352.3

if.end.i.i352.3:                                  ; preds = %if.then.i.i348.3, %if.end.i.i352.2
  %index.1.i.i349.3 = phi i64 [ %add.i.i347.3, %if.then.i.i348.3 ], [ %index.1.i.i349.2, %if.end.i.i352.2 ]
  %indvars.iv.next.i.i350.3 = add nuw nsw i64 %indvars.iv.i.i337, 4
  %niter42.nsub.3 = add i64 %niter42, -4
  %niter42.ncmp.3 = icmp eq i64 %niter42.nsub.3, 0
  br i1 %niter42.ncmp.3, label %for.body.i12.i359.preheader.unr-lcssa, label %for.body.i.i341, !llvm.loop !401

if.then.i18.i366.1:                               ; preds = %if.end.i22.i370
  %conv.i.i360.1 = sext i32 %42 to i64
  %extent.i13.i361.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.next.i20.i368, i32 1
  %119 = load i32, i32* %extent.i13.i361.1, align 4, !tbaa !183
  %sub.i14.i362.1 = add nsw i32 %119, -1
  %conv7.i15.i363.1 = sext i32 %sub.i14.i362.1 to i64
  %mul.i16.i364.1 = mul nsw i64 %conv7.i15.i363.1, %conv.i.i360.1
  %add.i17.i365.1 = add nsw i64 %mul.i16.i364.1, %index.1.i19.i367
  br label %if.end.i22.i370.1

if.end.i22.i370.1:                                ; preds = %if.then.i18.i366.1, %if.end.i22.i370
  %index.1.i19.i367.1 = phi i64 [ %add.i17.i365.1, %if.then.i18.i366.1 ], [ %index.1.i19.i367, %if.end.i22.i370 ]
  %indvars.iv.next.i20.i368.1 = or i64 %indvars.iv.i9.i355, 2
  %stride2.i10.i357.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.next.i20.i368.1, i32 2
  %120 = load i32, i32* %stride2.i10.i357.2, align 4, !tbaa !187
  %cmp3.i11.i358.2 = icmp slt i32 %120, 0
  br i1 %cmp3.i11.i358.2, label %if.then.i18.i366.2, label %if.end.i22.i370.2

if.then.i18.i366.2:                               ; preds = %if.end.i22.i370.1
  %conv.i.i360.2 = sext i32 %120 to i64
  %extent.i13.i361.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.next.i20.i368.1, i32 1
  %121 = load i32, i32* %extent.i13.i361.2, align 4, !tbaa !183
  %sub.i14.i362.2 = add nsw i32 %121, -1
  %conv7.i15.i363.2 = sext i32 %sub.i14.i362.2 to i64
  %mul.i16.i364.2 = mul nsw i64 %conv7.i15.i363.2, %conv.i.i360.2
  %add.i17.i365.2 = add nsw i64 %mul.i16.i364.2, %index.1.i19.i367.1
  br label %if.end.i22.i370.2

if.end.i22.i370.2:                                ; preds = %if.then.i18.i366.2, %if.end.i22.i370.1
  %index.1.i19.i367.2 = phi i64 [ %add.i17.i365.2, %if.then.i18.i366.2 ], [ %index.1.i19.i367.1, %if.end.i22.i370.1 ]
  %indvars.iv.next.i20.i368.2 = or i64 %indvars.iv.i9.i355, 3
  %stride2.i10.i357.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.next.i20.i368.2, i32 2
  %122 = load i32, i32* %stride2.i10.i357.3, align 4, !tbaa !187
  %cmp3.i11.i358.3 = icmp slt i32 %122, 0
  br i1 %cmp3.i11.i358.3, label %if.then.i18.i366.3, label %if.end.i22.i370.3

if.then.i18.i366.3:                               ; preds = %if.end.i22.i370.2
  %conv.i.i360.3 = sext i32 %122 to i64
  %extent.i13.i361.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %30, i64 %indvars.iv.next.i20.i368.2, i32 1
  %123 = load i32, i32* %extent.i13.i361.3, align 4, !tbaa !183
  %sub.i14.i362.3 = add nsw i32 %123, -1
  %conv7.i15.i363.3 = sext i32 %sub.i14.i362.3 to i64
  %mul.i16.i364.3 = mul nsw i64 %conv7.i15.i363.3, %conv.i.i360.3
  %add.i17.i365.3 = add nsw i64 %mul.i16.i364.3, %index.1.i19.i367.2
  br label %if.end.i22.i370.3

if.end.i22.i370.3:                                ; preds = %if.then.i18.i366.3, %if.end.i22.i370.2
  %index.1.i19.i367.3 = phi i64 [ %add.i17.i365.3, %if.then.i18.i366.3 ], [ %index.1.i19.i367.2, %if.end.i22.i370.2 ]
  %indvars.iv.next.i20.i368.3 = add nuw nsw i64 %indvars.iv.i9.i355, 4
  %niter48.nsub.3 = add i64 %niter48, -4
  %niter48.ncmp.3 = icmp eq i64 %niter48.nsub.3, 0
  br i1 %niter48.ncmp.3, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit379.loopexit.unr-lcssa, label %for.body.i12.i359, !llvm.loop !402

if.then.i.i396.1:                                 ; preds = %if.end.i.i400
  %conv18.i.i390.1 = zext i32 %51 to i64
  %extent.i.i391.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i.i398, i32 1
  %124 = load i32, i32* %extent.i.i391.1, align 4, !tbaa !183
  %sub.i.i392.1 = add nsw i32 %124, -1
  %conv7.i.i393.1 = sext i32 %sub.i.i392.1 to i64
  %mul.i.i394.1 = mul nsw i64 %conv7.i.i393.1, %conv18.i.i390.1
  %add.i.i395.1 = add nsw i64 %mul.i.i394.1, %index.1.i.i397
  br label %if.end.i.i400.1

if.end.i.i400.1:                                  ; preds = %if.then.i.i396.1, %if.end.i.i400
  %index.1.i.i397.1 = phi i64 [ %add.i.i395.1, %if.then.i.i396.1 ], [ %index.1.i.i397, %if.end.i.i400 ]
  %indvars.iv.next.i.i398.1 = or i64 %indvars.iv.i.i385, 2
  %stride2.i.i387.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i.i398.1, i32 2
  %125 = load i32, i32* %stride2.i.i387.2, align 4, !tbaa !187
  %cmp3.i.i388.2 = icmp sgt i32 %125, 0
  br i1 %cmp3.i.i388.2, label %if.then.i.i396.2, label %if.end.i.i400.2

if.then.i.i396.2:                                 ; preds = %if.end.i.i400.1
  %conv18.i.i390.2 = zext i32 %125 to i64
  %extent.i.i391.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i.i398.1, i32 1
  %126 = load i32, i32* %extent.i.i391.2, align 4, !tbaa !183
  %sub.i.i392.2 = add nsw i32 %126, -1
  %conv7.i.i393.2 = sext i32 %sub.i.i392.2 to i64
  %mul.i.i394.2 = mul nsw i64 %conv7.i.i393.2, %conv18.i.i390.2
  %add.i.i395.2 = add nsw i64 %mul.i.i394.2, %index.1.i.i397.1
  br label %if.end.i.i400.2

if.end.i.i400.2:                                  ; preds = %if.then.i.i396.2, %if.end.i.i400.1
  %index.1.i.i397.2 = phi i64 [ %add.i.i395.2, %if.then.i.i396.2 ], [ %index.1.i.i397.1, %if.end.i.i400.1 ]
  %indvars.iv.next.i.i398.2 = or i64 %indvars.iv.i.i385, 3
  %stride2.i.i387.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i.i398.2, i32 2
  %127 = load i32, i32* %stride2.i.i387.3, align 4, !tbaa !187
  %cmp3.i.i388.3 = icmp sgt i32 %127, 0
  br i1 %cmp3.i.i388.3, label %if.then.i.i396.3, label %if.end.i.i400.3

if.then.i.i396.3:                                 ; preds = %if.end.i.i400.2
  %conv18.i.i390.3 = zext i32 %127 to i64
  %extent.i.i391.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i.i398.2, i32 1
  %128 = load i32, i32* %extent.i.i391.3, align 4, !tbaa !183
  %sub.i.i392.3 = add nsw i32 %128, -1
  %conv7.i.i393.3 = sext i32 %sub.i.i392.3 to i64
  %mul.i.i394.3 = mul nsw i64 %conv7.i.i393.3, %conv18.i.i390.3
  %add.i.i395.3 = add nsw i64 %mul.i.i394.3, %index.1.i.i397.2
  br label %if.end.i.i400.3

if.end.i.i400.3:                                  ; preds = %if.then.i.i396.3, %if.end.i.i400.2
  %index.1.i.i397.3 = phi i64 [ %add.i.i395.3, %if.then.i.i396.3 ], [ %index.1.i.i397.2, %if.end.i.i400.2 ]
  %indvars.iv.next.i.i398.3 = add nuw nsw i64 %indvars.iv.i.i385, 4
  %niter54.nsub.3 = add i64 %niter54, -4
  %niter54.ncmp.3 = icmp eq i64 %niter54.nsub.3, 0
  br i1 %niter54.ncmp.3, label %for.body.i12.i407.preheader.unr-lcssa, label %for.body.i.i389, !llvm.loop !401

if.then.i18.i414.1:                               ; preds = %if.end.i22.i418
  %conv.i.i408.1 = sext i32 %58 to i64
  %extent.i13.i409.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i20.i416, i32 1
  %129 = load i32, i32* %extent.i13.i409.1, align 4, !tbaa !183
  %sub.i14.i410.1 = add nsw i32 %129, -1
  %conv7.i15.i411.1 = sext i32 %sub.i14.i410.1 to i64
  %mul.i16.i412.1 = mul nsw i64 %conv7.i15.i411.1, %conv.i.i408.1
  %add.i17.i413.1 = add nsw i64 %mul.i16.i412.1, %index.1.i19.i415
  br label %if.end.i22.i418.1

if.end.i22.i418.1:                                ; preds = %if.then.i18.i414.1, %if.end.i22.i418
  %index.1.i19.i415.1 = phi i64 [ %add.i17.i413.1, %if.then.i18.i414.1 ], [ %index.1.i19.i415, %if.end.i22.i418 ]
  %indvars.iv.next.i20.i416.1 = or i64 %indvars.iv.i9.i403, 2
  %stride2.i10.i405.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i20.i416.1, i32 2
  %130 = load i32, i32* %stride2.i10.i405.2, align 4, !tbaa !187
  %cmp3.i11.i406.2 = icmp slt i32 %130, 0
  br i1 %cmp3.i11.i406.2, label %if.then.i18.i414.2, label %if.end.i22.i418.2

if.then.i18.i414.2:                               ; preds = %if.end.i22.i418.1
  %conv.i.i408.2 = sext i32 %130 to i64
  %extent.i13.i409.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i20.i416.1, i32 1
  %131 = load i32, i32* %extent.i13.i409.2, align 4, !tbaa !183
  %sub.i14.i410.2 = add nsw i32 %131, -1
  %conv7.i15.i411.2 = sext i32 %sub.i14.i410.2 to i64
  %mul.i16.i412.2 = mul nsw i64 %conv7.i15.i411.2, %conv.i.i408.2
  %add.i17.i413.2 = add nsw i64 %mul.i16.i412.2, %index.1.i19.i415.1
  br label %if.end.i22.i418.2

if.end.i22.i418.2:                                ; preds = %if.then.i18.i414.2, %if.end.i22.i418.1
  %index.1.i19.i415.2 = phi i64 [ %add.i17.i413.2, %if.then.i18.i414.2 ], [ %index.1.i19.i415.1, %if.end.i22.i418.1 ]
  %indvars.iv.next.i20.i416.2 = or i64 %indvars.iv.i9.i403, 3
  %stride2.i10.i405.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i20.i416.2, i32 2
  %132 = load i32, i32* %stride2.i10.i405.3, align 4, !tbaa !187
  %cmp3.i11.i406.3 = icmp slt i32 %132, 0
  br i1 %cmp3.i11.i406.3, label %if.then.i18.i414.3, label %if.end.i22.i418.3

if.then.i18.i414.3:                               ; preds = %if.end.i22.i418.2
  %conv.i.i408.3 = sext i32 %132 to i64
  %extent.i13.i409.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %13, i64 %indvars.iv.next.i20.i416.2, i32 1
  %133 = load i32, i32* %extent.i13.i409.3, align 4, !tbaa !183
  %sub.i14.i410.3 = add nsw i32 %133, -1
  %conv7.i15.i411.3 = sext i32 %sub.i14.i410.3 to i64
  %mul.i16.i412.3 = mul nsw i64 %conv7.i15.i411.3, %conv.i.i408.3
  %add.i17.i413.3 = add nsw i64 %mul.i16.i412.3, %index.1.i19.i415.2
  br label %if.end.i22.i418.3

if.end.i22.i418.3:                                ; preds = %if.then.i18.i414.3, %if.end.i22.i418.2
  %index.1.i19.i415.3 = phi i64 [ %add.i17.i413.3, %if.then.i18.i414.3 ], [ %index.1.i19.i415.2, %if.end.i22.i418.2 ]
  %indvars.iv.next.i20.i416.3 = add nuw nsw i64 %indvars.iv.i9.i403, 4
  %niter60.nsub.3 = add i64 %niter60, -4
  %niter60.ncmp.3 = icmp eq i64 %niter60.nsub.3, 0
  br i1 %niter60.ncmp.3, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit427.loopexit.unr-lcssa, label %for.body.i12.i407, !llvm.loop !402
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_image_device_crop(i8* %user_context, %struct.halide_buffer_t* %src, %struct.halide_buffer_t* %dst) #3 {
entry:
  %dimensions = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 5
  %0 = load i32, i32* %dimensions, align 4, !tbaa !180
  %cmp29 = icmp sgt i32 %0, 0
  br i1 %cmp29, label %for.body.lr.ph, label %cleanup

for.body.lr.ph:                                   ; preds = %entry
  %dim2 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 6
  %dim1 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 6
  %1 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim1, align 8, !tbaa !181
  %2 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim2, align 8, !tbaa !181
  %wide.trip.count = zext i32 %0 to i64
  br label %for.body

for.cond:                                         ; preds = %_ZNK18halide_dimension_tneERKS_.exit
  %exitcond.not = icmp eq i64 %indvars.iv.next, %wide.trip.count
  br i1 %exitcond.not, label %cleanup, label %for.body, !llvm.loop !441

for.body:                                         ; preds = %for.cond, %for.body.lr.ph
  %indvars.iv = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next, %for.cond ]
  %min.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv, i32 0
  %3 = load i32, i32* %min.i.i, align 4, !tbaa !186
  %min2.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv, i32 0
  %4 = load i32, i32* %min2.i.i, align 4, !tbaa !186
  %cmp.i.i = icmp eq i32 %3, %4
  br i1 %cmp.i.i, label %land.lhs.true.i.i, label %if.then

land.lhs.true.i.i:                                ; preds = %for.body
  %extent.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv, i32 1
  %5 = load i32, i32* %extent.i.i, align 4, !tbaa !183
  %extent3.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv, i32 1
  %6 = load i32, i32* %extent3.i.i, align 4, !tbaa !183
  %cmp4.i.i = icmp eq i32 %5, %6
  br i1 %cmp4.i.i, label %land.lhs.true5.i.i, label %if.then

land.lhs.true5.i.i:                               ; preds = %land.lhs.true.i.i
  %stride.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv, i32 2
  %7 = load i32, i32* %stride.i.i, align 4, !tbaa !187
  %stride6.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv, i32 2
  %8 = load i32, i32* %stride6.i.i, align 4, !tbaa !187
  %cmp7.i.i = icmp eq i32 %7, %8
  br i1 %cmp7.i.i, label %_ZNK18halide_dimension_tneERKS_.exit, label %if.then

_ZNK18halide_dimension_tneERKS_.exit:             ; preds = %land.lhs.true5.i.i
  %flags.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %1, i64 %indvars.iv, i32 3
  %9 = load i32, i32* %flags.i.i, align 4, !tbaa !255
  %flags8.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %2, i64 %indvars.iv, i32 3
  %10 = load i32, i32* %flags8.i.i, align 4, !tbaa !255
  %cmp9.i.i.not = icmp eq i32 %9, %10
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  br i1 %cmp9.i.i.not, label %for.cond, label %if.then

if.then:                                          ; preds = %_ZNK18halide_dimension_tneERKS_.exit, %land.lhs.true5.i.i, %land.lhs.true.i.i, %for.body
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %if.then
  %call.i1428 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([43 x i8], [43 x i8]* @.str.267, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %if.then
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i14 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([43 x i8], [43 x i8]* @.str.267, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i14 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  br label %cleanup

cleanup:                                          ; preds = %for.cond, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, %entry
  %spec.select = phi i32 [ -40, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ 0, %entry ], [ 0, %for.cond ]
  ret i32 %spec.select
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_image_device_slice(i8* %user_context, %struct.halide_buffer_t* %src, i32 %slice_dim, i32 %slice_pos, %struct.halide_buffer_t* %dst) #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %entry
  %call.i317 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([44 x i8], [44 x i8]* @.str.268, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i3 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([44 x i8], [44 x i8]* @.str.268, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i3 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -40
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_image_device_release_crop(i8* %user_context, %struct.halide_buffer_t* %buf) #3 {
entry:
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %entry
  %call.i317 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([43 x i8], [43 x i8]* @.str.267, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %entry
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i3 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([43 x i8], [43 x i8]* @.str.267, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i3 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  ret i32 -40
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_image_wrap_cl_mem(i8* %user_context, %struct.halide_buffer_t* %buf, i64 %mem) #3 {
entry:
  %mem_type = alloca i32, align 4
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %cmp = icmp eq i64 %0, 0
  br i1 %cmp, label %if.end4, label %do.end

do.end:                                           ; preds = %entry
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([94 x i8], [94 x i8]* @.str.264, i64 0, i64 0)) #16
  tail call void @abort() #16
  %.pr = load i64, i64* %device, align 8, !tbaa !245
  %cmp2.not = icmp eq i64 %.pr, 0
  br i1 %cmp2.not, label %if.end4, label %return

if.end4:                                          ; preds = %do.end, %entry
  %call = tail call i8* @malloc(i64 16) #16
  %cmp5 = icmp eq i8* %call, null
  br i1 %cmp5, label %return, label %if.end7

if.end7:                                          ; preds = %if.end4
  %1 = bitcast i32* %mem_type to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %1) #11
  store i32 0, i32* %mem_type, align 4, !tbaa !76
  %2 = load i32 (%struct._cl_mem*, i32, i64, i8*, i64*)*, i32 (%struct._cl_mem*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL18clGetMemObjectInfoE, align 8, !tbaa !11
  %3 = inttoptr i64 %mem to %struct._cl_mem*
  %call8 = call i32 %2(%struct._cl_mem* %3, i32 4352, i64 4, i8* nonnull %1, i64* null) #16
  %cmp9.not = icmp eq i32 %call8, 0
  br i1 %cmp9.not, label %lor.lhs.false, label %if.then14

lor.lhs.false:                                    ; preds = %if.end7
  %4 = load i32, i32* %mem_type, align 4, !tbaa !76
  switch i32 %4, label %if.then14 [
    i32 4340, label %if.end22
    i32 4338, label %if.end22
    i32 4337, label %if.end22
  ]

if.then14:                                        ; preds = %lor.lhs.false, %if.end7
  %call.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then14.split, label %if.then6.i

if.then14.split:                                  ; preds = %if.then14
  %call.i441 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([67 x i8], [67 x i8]* @.str.265, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %if.then14
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i442 = call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([67 x i8], [67 x i8]* @.str.265, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %if.then14.split, %if.then6.i
  %phi.call = phi i8* [ %call.i441, %if.then14.split ], [ %call.i442, %if.then6.i ]
  %ref.tmp.sroa.20.0 = phi i8* [ null, %if.then14.split ], [ %add.ptr.i, %if.then6.i ]
  %5 = inttoptr i64 %mem to i8*
  %call.i47 = call i8* @halide_pointer_to_string(i8* %phi.call, i8* %ref.tmp.sroa.20.0, i8* %5) #16
  %call.i50 = call i8* @halide_string_to_string(i8* %call.i47, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([31 x i8], [31 x i8]* @.str.61.200, i64 0, i64 0)) #16
  %call18 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %call8) #17
  %call.i53 = call i8* @halide_string_to_string(i8* %call.i50, i8* %ref.tmp.sroa.20.0, i8* %call18) #16
  %call.i56 = call i8* @halide_string_to_string(i8* %call.i53, i8* %ref.tmp.sroa.20.0, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str.266, i64 0, i64 0)) #16
  %6 = load i32, i32* %mem_type, align 4, !tbaa !76
  %conv.i = sext i32 %6 to i64
  %call.i59 = call i8* @halide_int64_to_string(i8* %call.i56, i8* %ref.tmp.sroa.20.0, i64 %conv.i, i32 1) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i59 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  call void @free(i8* %call.i) #16
  br label %cleanup

if.end22:                                         ; preds = %lor.lhs.false, %lor.lhs.false, %lor.lhs.false
  %mem23 = getelementptr inbounds i8, i8* %call, i64 8
  %7 = bitcast i8* %mem23 to %struct._cl_mem**
  store %struct._cl_mem* %3, %struct._cl_mem** %7, align 8, !tbaa !398
  %offset = bitcast i8* %call to i64*
  store i64 0, i64* %offset, align 8, !tbaa !400
  %8 = ptrtoint i8* %call to i64
  store i64 %8, i64* %device, align 8, !tbaa !245
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  store %struct.halide_device_interface_t* @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %9 = load %struct.halide_device_interface_impl_t*, %struct.halide_device_interface_impl_t** getelementptr inbounds (%struct.halide_device_interface_t, %struct.halide_device_interface_t* @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE, i64 0, i32 15), align 8, !tbaa !317
  %use_module = getelementptr inbounds %struct.halide_device_interface_impl_t, %struct.halide_device_interface_impl_t* %9, i64 0, i32 0
  %10 = load void ()*, void ()** %use_module, align 8, !tbaa !323
  call void %10() #16
  br label %cleanup

cleanup:                                          ; preds = %if.end22, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit
  %retval.0 = phi i32 [ -32, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ 0, %if.end22 ]
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %1) #11
  br label %return

return:                                           ; preds = %cleanup, %if.end4, %do.end
  %retval.2 = phi i32 [ -2, %do.end ], [ %retval.0, %cleanup ], [ -11, %if.end4 ]
  ret i32 %retval.2
}

; Function Attrs: mustprogress nounwind
define linkonce i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %err) local_unnamed_addr #0 {
entry:
  %switch.tableidx = add i32 %err, 68
  %0 = icmp ult i32 %switch.tableidx, 69
  br i1 %0, label %switch.lookup, label %return

switch.lookup:                                    ; preds = %entry
  %1 = sext i32 %switch.tableidx to i64
  %reltable.shift = shl i64 %1, 2
  %reltable.intrinsic = call i8* @llvm.load.relative.i64(i8* bitcast ([69 x i32]* @reltable._ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi to i8*), i64 %reltable.shift)
  br label %return

return:                                           ; preds = %entry, %switch.lookup
  %retval.0 = phi i8* [ %reltable.intrinsic, %switch.lookup ], [ getelementptr inbounds ([16 x i8], [16 x i8]* @.str.242, i64 0, i64 0), %entry ]
  ret i8* %retval.0
}

; Function Attrs: nounwind
define linkonce void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) local_unnamed_addr #3 {
entry:
  %0 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %0, null
  br i1 %cmp, label %do.end, label %if.then

if.then:                                          ; preds = %entry
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([102 x i8], [102 x i8]* @.str.7.213, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end

do.end:                                           ; preds = %if.then, %entry
  %call.i = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.8.214, i64 0, i64 0)) #16
  %tobool.not.i.not = icmp eq i8* %call.i, null
  br i1 %tobool.not.i.not, label %if.then.i, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFijPP15_cl_platform_idPjEEET_PvPKcb.exit

if.then.i:                                        ; preds = %do.end
  %call.i.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.split, label %if.then6.i.i

if.then.i.split:                                  ; preds = %if.then.i
  %call.i11.i1 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i

if.then6.i.i:                                     ; preds = %if.then.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i11.i2 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i: ; preds = %if.then.i.split, %if.then6.i.i
  %phi.call = phi i8* [ %call.i11.i1, %if.then.i.split ], [ %call.i11.i2, %if.then6.i.i ]
  %ref.tmp.sroa.14.0.i = phi i8* [ null, %if.then.i.split ], [ %add.ptr.i.i, %if.then6.i.i ]
  %call.i14.i = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.14.0.i, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.8.214, i64 0, i64 0)) #16
  %call.i17.i = tail call i8* @halide_string_to_string(i8* %call.i14.i, i8* %ref.tmp.sroa.14.0.i, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i, label %if.else.i.i

if.else.i.i:                                      ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i17.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i: ; preds = %if.else.i.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  tail call void @free(i8* %call.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFijPP15_cl_platform_idPjEEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFijPP15_cl_platform_idPjEEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i, %do.end
  store i8* %call.i, i8** bitcast (i32 (i32, %struct._cl_platform_id**, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL16clGetPlatformIDsE to i8**), align 8, !tbaa !11
  %call.i98 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @.str.9.216, i64 0, i64 0)) #16
  %tobool.not.i99.not = icmp eq i8* %call.i98, null
  br i1 %tobool.not.i99.not, label %if.then.i102, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP15_cl_platform_idjmPvPmEEET_S6_PKcb.exit

if.then.i102:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFijPP15_cl_platform_idPjEEET_PvPKcb.exit
  %call.i.i100 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i101 = icmp eq i8* %call.i.i100, null
  br i1 %tobool.not.i.i101, label %if.then.i102.split, label %if.then6.i.i104

if.then.i102.split:                               ; preds = %if.then.i102
  %call.i11.i1063 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i109

if.then6.i.i104:                                  ; preds = %if.then.i102
  %add.ptr.i.i103 = getelementptr inbounds i8, i8* %call.i.i100, i64 1023
  store i8 0, i8* %add.ptr.i.i103, align 1, !tbaa !15
  %call.i11.i1064 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i100, i8* nonnull %add.ptr.i.i103, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i109

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i109: ; preds = %if.then.i102.split, %if.then6.i.i104
  %phi.call5 = phi i8* [ %call.i11.i1063, %if.then.i102.split ], [ %call.i11.i1064, %if.then6.i.i104 ]
  %ref.tmp.sroa.14.0.i105 = phi i8* [ null, %if.then.i102.split ], [ %add.ptr.i.i103, %if.then6.i.i104 ]
  %call.i14.i107 = tail call i8* @halide_string_to_string(i8* %phi.call5, i8* %ref.tmp.sroa.14.0.i105, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @.str.9.216, i64 0, i64 0)) #16
  %call.i17.i108 = tail call i8* @halide_string_to_string(i8* %call.i14.i107, i8* %ref.tmp.sroa.14.0.i105, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i101, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i117, label %if.else.i.i115

if.else.i.i115:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i109
  %sub.ptr.lhs.cast.i.i.i110 = ptrtoint i8* %call.i17.i108 to i64
  %sub.ptr.rhs.cast.i.i.i111 = ptrtoint i8* %call.i.i100 to i64
  %sub.ptr.sub.i.i.i112 = sub i64 1, %sub.ptr.rhs.cast.i.i.i111
  %add.i.i.i113 = add i64 %sub.ptr.sub.i.i.i112, %sub.ptr.lhs.cast.i.i.i110
  %call.i.i.i114 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i100, i64 %add.i.i.i113) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i117

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i117: ; preds = %if.else.i.i115, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i109
  %.sink10.i.i116 = phi i8* [ %call.i.i100, %if.else.i.i115 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i109 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i116) #16
  tail call void @free(i8* %call.i.i100) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP15_cl_platform_idjmPvPmEEET_S6_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP15_cl_platform_idjmPvPmEEET_S6_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i117, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFijPP15_cl_platform_idPjEEET_PvPKcb.exit
  store i8* %call.i98, i8** bitcast (i32 (%struct._cl_platform_id*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL17clGetPlatformInfoE to i8**), align 8, !tbaa !11
  %call.i118 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.10.217, i64 0, i64 0)) #16
  %tobool.not.i119.not = icmp eq i8* %call.i118, null
  br i1 %tobool.not.i119.not, label %if.then.i122, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP15_cl_platform_idyjPP13_cl_device_idPjEEET_PvPKcb.exit

if.then.i122:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP15_cl_platform_idjmPvPmEEET_S6_PKcb.exit
  %call.i.i120 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i121 = icmp eq i8* %call.i.i120, null
  br i1 %tobool.not.i.i121, label %if.then.i122.split, label %if.then6.i.i124

if.then.i122.split:                               ; preds = %if.then.i122
  %call.i11.i1266 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i129

if.then6.i.i124:                                  ; preds = %if.then.i122
  %add.ptr.i.i123 = getelementptr inbounds i8, i8* %call.i.i120, i64 1023
  store i8 0, i8* %add.ptr.i.i123, align 1, !tbaa !15
  %call.i11.i1267 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i120, i8* nonnull %add.ptr.i.i123, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i129

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i129: ; preds = %if.then.i122.split, %if.then6.i.i124
  %phi.call8 = phi i8* [ %call.i11.i1266, %if.then.i122.split ], [ %call.i11.i1267, %if.then6.i.i124 ]
  %ref.tmp.sroa.14.0.i125 = phi i8* [ null, %if.then.i122.split ], [ %add.ptr.i.i123, %if.then6.i.i124 ]
  %call.i14.i127 = tail call i8* @halide_string_to_string(i8* %phi.call8, i8* %ref.tmp.sroa.14.0.i125, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.10.217, i64 0, i64 0)) #16
  %call.i17.i128 = tail call i8* @halide_string_to_string(i8* %call.i14.i127, i8* %ref.tmp.sroa.14.0.i125, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i121, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i137, label %if.else.i.i135

if.else.i.i135:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i129
  %sub.ptr.lhs.cast.i.i.i130 = ptrtoint i8* %call.i17.i128 to i64
  %sub.ptr.rhs.cast.i.i.i131 = ptrtoint i8* %call.i.i120 to i64
  %sub.ptr.sub.i.i.i132 = sub i64 1, %sub.ptr.rhs.cast.i.i.i131
  %add.i.i.i133 = add i64 %sub.ptr.sub.i.i.i132, %sub.ptr.lhs.cast.i.i.i130
  %call.i.i.i134 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i120, i64 %add.i.i.i133) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i137

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i137: ; preds = %if.else.i.i135, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i129
  %.sink10.i.i136 = phi i8* [ %call.i.i120, %if.else.i.i135 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i129 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i136) #16
  tail call void @free(i8* %call.i.i120) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP15_cl_platform_idyjPP13_cl_device_idPjEEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP15_cl_platform_idyjPP13_cl_device_idPjEEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i137, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP15_cl_platform_idjmPvPmEEET_S6_PKcb.exit
  store i8* %call.i118, i8** bitcast (i32 (%struct._cl_platform_id*, i64, i32, %struct._cl_device_id**, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL14clGetDeviceIDsE to i8**), align 8, !tbaa !11
  %call.i138 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.11.218, i64 0, i64 0)) #16
  %tobool.not.i139.not = icmp eq i8* %call.i138, null
  br i1 %tobool.not.i139.not, label %if.then.i142, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP13_cl_device_idjmPvPmEEET_S6_PKcb.exit

if.then.i142:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP15_cl_platform_idyjPP13_cl_device_idPjEEET_PvPKcb.exit
  %call.i.i140 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i141 = icmp eq i8* %call.i.i140, null
  br i1 %tobool.not.i.i141, label %if.then.i142.split, label %if.then6.i.i144

if.then.i142.split:                               ; preds = %if.then.i142
  %call.i11.i1469 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i149

if.then6.i.i144:                                  ; preds = %if.then.i142
  %add.ptr.i.i143 = getelementptr inbounds i8, i8* %call.i.i140, i64 1023
  store i8 0, i8* %add.ptr.i.i143, align 1, !tbaa !15
  %call.i11.i14610 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i140, i8* nonnull %add.ptr.i.i143, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i149

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i149: ; preds = %if.then.i142.split, %if.then6.i.i144
  %phi.call11 = phi i8* [ %call.i11.i1469, %if.then.i142.split ], [ %call.i11.i14610, %if.then6.i.i144 ]
  %ref.tmp.sroa.14.0.i145 = phi i8* [ null, %if.then.i142.split ], [ %add.ptr.i.i143, %if.then6.i.i144 ]
  %call.i14.i147 = tail call i8* @halide_string_to_string(i8* %phi.call11, i8* %ref.tmp.sroa.14.0.i145, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.11.218, i64 0, i64 0)) #16
  %call.i17.i148 = tail call i8* @halide_string_to_string(i8* %call.i14.i147, i8* %ref.tmp.sroa.14.0.i145, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i141, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i157, label %if.else.i.i155

if.else.i.i155:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i149
  %sub.ptr.lhs.cast.i.i.i150 = ptrtoint i8* %call.i17.i148 to i64
  %sub.ptr.rhs.cast.i.i.i151 = ptrtoint i8* %call.i.i140 to i64
  %sub.ptr.sub.i.i.i152 = sub i64 1, %sub.ptr.rhs.cast.i.i.i151
  %add.i.i.i153 = add i64 %sub.ptr.sub.i.i.i152, %sub.ptr.lhs.cast.i.i.i150
  %call.i.i.i154 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i140, i64 %add.i.i.i153) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i157

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i157: ; preds = %if.else.i.i155, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i149
  %.sink10.i.i156 = phi i8* [ %call.i.i140, %if.else.i.i155 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i149 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i156) #16
  tail call void @free(i8* %call.i.i140) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP13_cl_device_idjmPvPmEEET_S6_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP13_cl_device_idjmPvPmEEET_S6_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i157, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP15_cl_platform_idyjPP13_cl_device_idPjEEET_PvPKcb.exit
  store i8* %call.i138, i8** bitcast (i32 (%struct._cl_device_id*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL15clGetDeviceInfoE to i8**), align 8, !tbaa !11
  %call.i158 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.12.219, i64 0, i64 0)) #16
  store i8* %call.i158, i8** bitcast (i32 (%struct._cl_device_id*, i64*, i32, %struct._cl_device_id**, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL18clCreateSubDevicesE to i8**), align 8, !tbaa !11
  %call.i160 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.13.220, i64 0, i64 0)) #16
  store i8* %call.i160, i8** bitcast (i32 (%struct._cl_device_id*)** @_ZN6Halide7Runtime8Internal6OpenCL14clRetainDeviceE to i8**), align 8, !tbaa !11
  %call.i162 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.14.221, i64 0, i64 0)) #16
  store i8* %call.i162, i8** bitcast (i32 (%struct._cl_device_id*)** @_ZN6Halide7Runtime8Internal6OpenCL15clReleaseDeviceE to i8**), align 8, !tbaa !11
  %call.i164 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.15.222, i64 0, i64 0)) #16
  %tobool.not.i165.not = icmp eq i8* %call.i164, null
  br i1 %tobool.not.i165.not, label %if.then.i168, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_contextPKxjPKP13_cl_device_idPFvPKcPKvmPvESG_PiEEET_SG_SD_b.exit

if.then.i168:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP13_cl_device_idjmPvPmEEET_S6_PKcb.exit
  %call.i.i166 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i167 = icmp eq i8* %call.i.i166, null
  br i1 %tobool.not.i.i167, label %if.then.i168.split, label %if.then6.i.i170

if.then.i168.split:                               ; preds = %if.then.i168
  %call.i11.i17212 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i175

if.then6.i.i170:                                  ; preds = %if.then.i168
  %add.ptr.i.i169 = getelementptr inbounds i8, i8* %call.i.i166, i64 1023
  store i8 0, i8* %add.ptr.i.i169, align 1, !tbaa !15
  %call.i11.i17213 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i166, i8* nonnull %add.ptr.i.i169, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i175

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i175: ; preds = %if.then.i168.split, %if.then6.i.i170
  %phi.call14 = phi i8* [ %call.i11.i17212, %if.then.i168.split ], [ %call.i11.i17213, %if.then6.i.i170 ]
  %ref.tmp.sroa.14.0.i171 = phi i8* [ null, %if.then.i168.split ], [ %add.ptr.i.i169, %if.then6.i.i170 ]
  %call.i14.i173 = tail call i8* @halide_string_to_string(i8* %phi.call14, i8* %ref.tmp.sroa.14.0.i171, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.15.222, i64 0, i64 0)) #16
  %call.i17.i174 = tail call i8* @halide_string_to_string(i8* %call.i14.i173, i8* %ref.tmp.sroa.14.0.i171, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i167, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i183, label %if.else.i.i181

if.else.i.i181:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i175
  %sub.ptr.lhs.cast.i.i.i176 = ptrtoint i8* %call.i17.i174 to i64
  %sub.ptr.rhs.cast.i.i.i177 = ptrtoint i8* %call.i.i166 to i64
  %sub.ptr.sub.i.i.i178 = sub i64 1, %sub.ptr.rhs.cast.i.i.i177
  %add.i.i.i179 = add i64 %sub.ptr.sub.i.i.i178, %sub.ptr.lhs.cast.i.i.i176
  %call.i.i.i180 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i166, i64 %add.i.i.i179) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i183

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i183: ; preds = %if.else.i.i181, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i175
  %.sink10.i.i182 = phi i8* [ %call.i.i166, %if.else.i.i181 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i175 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i182) #16
  tail call void @free(i8* %call.i.i166) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_contextPKxjPKP13_cl_device_idPFvPKcPKvmPvESG_PiEEET_SG_SD_b.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_contextPKxjPKP13_cl_device_idPFvPKcPKvmPvESG_PiEEET_SG_SD_b.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i183, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP13_cl_device_idjmPvPmEEET_S6_PKcb.exit
  store i8* %call.i164, i8** bitcast (%struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE to i8**), align 8, !tbaa !11
  %call.i184 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.16.223, i64 0, i64 0)) #16
  %tobool.not.i185.not = icmp eq i8* %call.i184, null
  br i1 %tobool.not.i185.not, label %if.then.i188, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_contextPKxyPFvPKcPKvmPvESC_PiEEET_SC_S9_b.exit

if.then.i188:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_contextPKxjPKP13_cl_device_idPFvPKcPKvmPvESG_PiEEET_SG_SD_b.exit
  %call.i.i186 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i187 = icmp eq i8* %call.i.i186, null
  br i1 %tobool.not.i.i187, label %if.then.i188.split, label %if.then6.i.i190

if.then.i188.split:                               ; preds = %if.then.i188
  %call.i11.i19215 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i195

if.then6.i.i190:                                  ; preds = %if.then.i188
  %add.ptr.i.i189 = getelementptr inbounds i8, i8* %call.i.i186, i64 1023
  store i8 0, i8* %add.ptr.i.i189, align 1, !tbaa !15
  %call.i11.i19216 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i186, i8* nonnull %add.ptr.i.i189, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i195

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i195: ; preds = %if.then.i188.split, %if.then6.i.i190
  %phi.call17 = phi i8* [ %call.i11.i19215, %if.then.i188.split ], [ %call.i11.i19216, %if.then6.i.i190 ]
  %ref.tmp.sroa.14.0.i191 = phi i8* [ null, %if.then.i188.split ], [ %add.ptr.i.i189, %if.then6.i.i190 ]
  %call.i14.i193 = tail call i8* @halide_string_to_string(i8* %phi.call17, i8* %ref.tmp.sroa.14.0.i191, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.16.223, i64 0, i64 0)) #16
  %call.i17.i194 = tail call i8* @halide_string_to_string(i8* %call.i14.i193, i8* %ref.tmp.sroa.14.0.i191, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i187, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i203, label %if.else.i.i201

if.else.i.i201:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i195
  %sub.ptr.lhs.cast.i.i.i196 = ptrtoint i8* %call.i17.i194 to i64
  %sub.ptr.rhs.cast.i.i.i197 = ptrtoint i8* %call.i.i186 to i64
  %sub.ptr.sub.i.i.i198 = sub i64 1, %sub.ptr.rhs.cast.i.i.i197
  %add.i.i.i199 = add i64 %sub.ptr.sub.i.i.i198, %sub.ptr.lhs.cast.i.i.i196
  %call.i.i.i200 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i186, i64 %add.i.i.i199) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i203

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i203: ; preds = %if.else.i.i201, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i195
  %.sink10.i.i202 = phi i8* [ %call.i.i186, %if.else.i.i201 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i195 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i202) #16
  tail call void @free(i8* %call.i.i186) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_contextPKxyPFvPKcPKvmPvESC_PiEEET_SC_S9_b.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_contextPKxyPFvPKcPKvmPvESC_PiEEET_SC_S9_b.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i203, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_contextPKxjPKP13_cl_device_idPFvPKcPKvmPvESG_PiEEET_SG_SD_b.exit
  store i8* %call.i184, i8** bitcast (%struct._cl_context* (i64*, i64, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL23clCreateContextFromTypeE to i8**), align 8, !tbaa !11
  %call.i204 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.17.224, i64 0, i64 0)) #16
  %tobool.not.i205.not = icmp eq i8* %call.i204, null
  br i1 %tobool.not.i205.not, label %if.then.i208, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextEEET_PvPKcb.exit

if.then.i208:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_contextPKxyPFvPKcPKvmPvESC_PiEEET_SC_S9_b.exit
  %call.i.i206 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i207 = icmp eq i8* %call.i.i206, null
  br i1 %tobool.not.i.i207, label %if.then.i208.split, label %if.then6.i.i210

if.then.i208.split:                               ; preds = %if.then.i208
  %call.i11.i21218 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i215

if.then6.i.i210:                                  ; preds = %if.then.i208
  %add.ptr.i.i209 = getelementptr inbounds i8, i8* %call.i.i206, i64 1023
  store i8 0, i8* %add.ptr.i.i209, align 1, !tbaa !15
  %call.i11.i21219 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i206, i8* nonnull %add.ptr.i.i209, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i215

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i215: ; preds = %if.then.i208.split, %if.then6.i.i210
  %phi.call20 = phi i8* [ %call.i11.i21218, %if.then.i208.split ], [ %call.i11.i21219, %if.then6.i.i210 ]
  %ref.tmp.sroa.14.0.i211 = phi i8* [ null, %if.then.i208.split ], [ %add.ptr.i.i209, %if.then6.i.i210 ]
  %call.i14.i213 = tail call i8* @halide_string_to_string(i8* %phi.call20, i8* %ref.tmp.sroa.14.0.i211, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.17.224, i64 0, i64 0)) #16
  %call.i17.i214 = tail call i8* @halide_string_to_string(i8* %call.i14.i213, i8* %ref.tmp.sroa.14.0.i211, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i207, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i223, label %if.else.i.i221

if.else.i.i221:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i215
  %sub.ptr.lhs.cast.i.i.i216 = ptrtoint i8* %call.i17.i214 to i64
  %sub.ptr.rhs.cast.i.i.i217 = ptrtoint i8* %call.i.i206 to i64
  %sub.ptr.sub.i.i.i218 = sub i64 1, %sub.ptr.rhs.cast.i.i.i217
  %add.i.i.i219 = add i64 %sub.ptr.sub.i.i.i218, %sub.ptr.lhs.cast.i.i.i216
  %call.i.i.i220 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i206, i64 %add.i.i.i219) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i223

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i223: ; preds = %if.else.i.i221, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i215
  %.sink10.i.i222 = phi i8* [ %call.i.i206, %if.else.i.i221 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i215 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i222) #16
  tail call void @free(i8* %call.i.i206) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextEEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextEEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i223, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_contextPKxyPFvPKcPKvmPvESC_PiEEET_SC_S9_b.exit
  store i8* %call.i204, i8** bitcast (i32 (%struct._cl_context*)** @_ZN6Halide7Runtime8Internal6OpenCL15clRetainContextE to i8**), align 8, !tbaa !11
  %call.i224 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.18.225, i64 0, i64 0)) #16
  %tobool.not.i225.not = icmp eq i8* %call.i224, null
  br i1 %tobool.not.i225.not, label %if.then.i228, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextEEET_PvPKcb.exit244

if.then.i228:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextEEET_PvPKcb.exit
  %call.i.i226 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i227 = icmp eq i8* %call.i.i226, null
  br i1 %tobool.not.i.i227, label %if.then.i228.split, label %if.then6.i.i230

if.then.i228.split:                               ; preds = %if.then.i228
  %call.i11.i23221 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i235

if.then6.i.i230:                                  ; preds = %if.then.i228
  %add.ptr.i.i229 = getelementptr inbounds i8, i8* %call.i.i226, i64 1023
  store i8 0, i8* %add.ptr.i.i229, align 1, !tbaa !15
  %call.i11.i23222 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i226, i8* nonnull %add.ptr.i.i229, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i235

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i235: ; preds = %if.then.i228.split, %if.then6.i.i230
  %phi.call23 = phi i8* [ %call.i11.i23221, %if.then.i228.split ], [ %call.i11.i23222, %if.then6.i.i230 ]
  %ref.tmp.sroa.14.0.i231 = phi i8* [ null, %if.then.i228.split ], [ %add.ptr.i.i229, %if.then6.i.i230 ]
  %call.i14.i233 = tail call i8* @halide_string_to_string(i8* %phi.call23, i8* %ref.tmp.sroa.14.0.i231, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.18.225, i64 0, i64 0)) #16
  %call.i17.i234 = tail call i8* @halide_string_to_string(i8* %call.i14.i233, i8* %ref.tmp.sroa.14.0.i231, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i227, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i243, label %if.else.i.i241

if.else.i.i241:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i235
  %sub.ptr.lhs.cast.i.i.i236 = ptrtoint i8* %call.i17.i234 to i64
  %sub.ptr.rhs.cast.i.i.i237 = ptrtoint i8* %call.i.i226 to i64
  %sub.ptr.sub.i.i.i238 = sub i64 1, %sub.ptr.rhs.cast.i.i.i237
  %add.i.i.i239 = add i64 %sub.ptr.sub.i.i.i238, %sub.ptr.lhs.cast.i.i.i236
  %call.i.i.i240 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i226, i64 %add.i.i.i239) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i243

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i243: ; preds = %if.else.i.i241, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i235
  %.sink10.i.i242 = phi i8* [ %call.i.i226, %if.else.i.i241 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i235 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i242) #16
  tail call void @free(i8* %call.i.i226) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextEEET_PvPKcb.exit244

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextEEET_PvPKcb.exit244: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i243, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextEEET_PvPKcb.exit
  store i8* %call.i224, i8** bitcast (i32 (%struct._cl_context*)** @_ZN6Halide7Runtime8Internal6OpenCL16clReleaseContextE to i8**), align 8, !tbaa !11
  %call.i245 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.19.226, i64 0, i64 0)) #16
  %tobool.not.i246.not = icmp eq i8* %call.i245, null
  br i1 %tobool.not.i246.not, label %if.then.i249, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextjmPvPmEEET_S6_PKcb.exit

if.then.i249:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextEEET_PvPKcb.exit244
  %call.i.i247 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i248 = icmp eq i8* %call.i.i247, null
  br i1 %tobool.not.i.i248, label %if.then.i249.split, label %if.then6.i.i251

if.then.i249.split:                               ; preds = %if.then.i249
  %call.i11.i25324 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i256

if.then6.i.i251:                                  ; preds = %if.then.i249
  %add.ptr.i.i250 = getelementptr inbounds i8, i8* %call.i.i247, i64 1023
  store i8 0, i8* %add.ptr.i.i250, align 1, !tbaa !15
  %call.i11.i25325 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i247, i8* nonnull %add.ptr.i.i250, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i256

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i256: ; preds = %if.then.i249.split, %if.then6.i.i251
  %phi.call26 = phi i8* [ %call.i11.i25324, %if.then.i249.split ], [ %call.i11.i25325, %if.then6.i.i251 ]
  %ref.tmp.sroa.14.0.i252 = phi i8* [ null, %if.then.i249.split ], [ %add.ptr.i.i250, %if.then6.i.i251 ]
  %call.i14.i254 = tail call i8* @halide_string_to_string(i8* %phi.call26, i8* %ref.tmp.sroa.14.0.i252, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.19.226, i64 0, i64 0)) #16
  %call.i17.i255 = tail call i8* @halide_string_to_string(i8* %call.i14.i254, i8* %ref.tmp.sroa.14.0.i252, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i248, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i264, label %if.else.i.i262

if.else.i.i262:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i256
  %sub.ptr.lhs.cast.i.i.i257 = ptrtoint i8* %call.i17.i255 to i64
  %sub.ptr.rhs.cast.i.i.i258 = ptrtoint i8* %call.i.i247 to i64
  %sub.ptr.sub.i.i.i259 = sub i64 1, %sub.ptr.rhs.cast.i.i.i258
  %add.i.i.i260 = add i64 %sub.ptr.sub.i.i.i259, %sub.ptr.lhs.cast.i.i.i257
  %call.i.i.i261 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i247, i64 %add.i.i.i260) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i264

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i264: ; preds = %if.else.i.i262, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i256
  %.sink10.i.i263 = phi i8* [ %call.i.i247, %if.else.i.i262 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i256 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i263) #16
  tail call void @free(i8* %call.i.i247) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextjmPvPmEEET_S6_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextjmPvPmEEET_S6_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i264, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextEEET_PvPKcb.exit244
  store i8* %call.i245, i8** bitcast (i32 (%struct._cl_context*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL16clGetContextInfoE to i8**), align 8, !tbaa !11
  %call.i265 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.20.227, i64 0, i64 0)) #16
  %tobool.not.i266.not = icmp eq i8* %call.i265, null
  br i1 %tobool.not.i266.not, label %if.then.i269, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP17_cl_command_queueP11_cl_contextP13_cl_device_idyPiEEET_PvPKcb.exit

if.then.i269:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextjmPvPmEEET_S6_PKcb.exit
  %call.i.i267 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i268 = icmp eq i8* %call.i.i267, null
  br i1 %tobool.not.i.i268, label %if.then.i269.split, label %if.then6.i.i271

if.then.i269.split:                               ; preds = %if.then.i269
  %call.i11.i27327 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i276

if.then6.i.i271:                                  ; preds = %if.then.i269
  %add.ptr.i.i270 = getelementptr inbounds i8, i8* %call.i.i267, i64 1023
  store i8 0, i8* %add.ptr.i.i270, align 1, !tbaa !15
  %call.i11.i27328 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i267, i8* nonnull %add.ptr.i.i270, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i276

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i276: ; preds = %if.then.i269.split, %if.then6.i.i271
  %phi.call29 = phi i8* [ %call.i11.i27327, %if.then.i269.split ], [ %call.i11.i27328, %if.then6.i.i271 ]
  %ref.tmp.sroa.14.0.i272 = phi i8* [ null, %if.then.i269.split ], [ %add.ptr.i.i270, %if.then6.i.i271 ]
  %call.i14.i274 = tail call i8* @halide_string_to_string(i8* %phi.call29, i8* %ref.tmp.sroa.14.0.i272, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.20.227, i64 0, i64 0)) #16
  %call.i17.i275 = tail call i8* @halide_string_to_string(i8* %call.i14.i274, i8* %ref.tmp.sroa.14.0.i272, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i268, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i284, label %if.else.i.i282

if.else.i.i282:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i276
  %sub.ptr.lhs.cast.i.i.i277 = ptrtoint i8* %call.i17.i275 to i64
  %sub.ptr.rhs.cast.i.i.i278 = ptrtoint i8* %call.i.i267 to i64
  %sub.ptr.sub.i.i.i279 = sub i64 1, %sub.ptr.rhs.cast.i.i.i278
  %add.i.i.i280 = add i64 %sub.ptr.sub.i.i.i279, %sub.ptr.lhs.cast.i.i.i277
  %call.i.i.i281 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i267, i64 %add.i.i.i280) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i284

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i284: ; preds = %if.else.i.i282, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i276
  %.sink10.i.i283 = phi i8* [ %call.i.i267, %if.else.i.i282 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i276 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i283) #16
  tail call void @free(i8* %call.i.i267) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP17_cl_command_queueP11_cl_contextP13_cl_device_idyPiEEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP17_cl_command_queueP11_cl_contextP13_cl_device_idyPiEEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i284, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextjmPvPmEEET_S6_PKcb.exit
  store i8* %call.i265, i8** bitcast (%struct._cl_command_queue* (%struct._cl_context*, %struct._cl_device_id*, i64, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL20clCreateCommandQueueE to i8**), align 8, !tbaa !11
  %call.i285 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.21.228, i64 0, i64 0)) #16
  %tobool.not.i286.not = icmp eq i8* %call.i285, null
  br i1 %tobool.not.i286.not, label %if.then.i289, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit

if.then.i289:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP17_cl_command_queueP11_cl_contextP13_cl_device_idyPiEEET_PvPKcb.exit
  %call.i.i287 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i288 = icmp eq i8* %call.i.i287, null
  br i1 %tobool.not.i.i288, label %if.then.i289.split, label %if.then6.i.i291

if.then.i289.split:                               ; preds = %if.then.i289
  %call.i11.i29330 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i296

if.then6.i.i291:                                  ; preds = %if.then.i289
  %add.ptr.i.i290 = getelementptr inbounds i8, i8* %call.i.i287, i64 1023
  store i8 0, i8* %add.ptr.i.i290, align 1, !tbaa !15
  %call.i11.i29331 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i287, i8* nonnull %add.ptr.i.i290, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i296

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i296: ; preds = %if.then.i289.split, %if.then6.i.i291
  %phi.call32 = phi i8* [ %call.i11.i29330, %if.then.i289.split ], [ %call.i11.i29331, %if.then6.i.i291 ]
  %ref.tmp.sroa.14.0.i292 = phi i8* [ null, %if.then.i289.split ], [ %add.ptr.i.i290, %if.then6.i.i291 ]
  %call.i14.i294 = tail call i8* @halide_string_to_string(i8* %phi.call32, i8* %ref.tmp.sroa.14.0.i292, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.21.228, i64 0, i64 0)) #16
  %call.i17.i295 = tail call i8* @halide_string_to_string(i8* %call.i14.i294, i8* %ref.tmp.sroa.14.0.i292, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i288, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i304, label %if.else.i.i302

if.else.i.i302:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i296
  %sub.ptr.lhs.cast.i.i.i297 = ptrtoint i8* %call.i17.i295 to i64
  %sub.ptr.rhs.cast.i.i.i298 = ptrtoint i8* %call.i.i287 to i64
  %sub.ptr.sub.i.i.i299 = sub i64 1, %sub.ptr.rhs.cast.i.i.i298
  %add.i.i.i300 = add i64 %sub.ptr.sub.i.i.i299, %sub.ptr.lhs.cast.i.i.i297
  %call.i.i.i301 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i287, i64 %add.i.i.i300) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i304

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i304: ; preds = %if.else.i.i302, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i296
  %.sink10.i.i303 = phi i8* [ %call.i.i287, %if.else.i.i302 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i296 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i303) #16
  tail call void @free(i8* %call.i.i287) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i304, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP17_cl_command_queueP11_cl_contextP13_cl_device_idyPiEEET_PvPKcb.exit
  store i8* %call.i285, i8** bitcast (i32 (%struct._cl_command_queue*)** @_ZN6Halide7Runtime8Internal6OpenCL20clRetainCommandQueueE to i8**), align 8, !tbaa !11
  %call.i305 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.22.229, i64 0, i64 0)) #16
  %tobool.not.i306.not = icmp eq i8* %call.i305, null
  br i1 %tobool.not.i306.not, label %if.then.i309, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit325

if.then.i309:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit
  %call.i.i307 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i308 = icmp eq i8* %call.i.i307, null
  br i1 %tobool.not.i.i308, label %if.then.i309.split, label %if.then6.i.i311

if.then.i309.split:                               ; preds = %if.then.i309
  %call.i11.i31333 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i316

if.then6.i.i311:                                  ; preds = %if.then.i309
  %add.ptr.i.i310 = getelementptr inbounds i8, i8* %call.i.i307, i64 1023
  store i8 0, i8* %add.ptr.i.i310, align 1, !tbaa !15
  %call.i11.i31334 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i307, i8* nonnull %add.ptr.i.i310, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i316

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i316: ; preds = %if.then.i309.split, %if.then6.i.i311
  %phi.call35 = phi i8* [ %call.i11.i31333, %if.then.i309.split ], [ %call.i11.i31334, %if.then6.i.i311 ]
  %ref.tmp.sroa.14.0.i312 = phi i8* [ null, %if.then.i309.split ], [ %add.ptr.i.i310, %if.then6.i.i311 ]
  %call.i14.i314 = tail call i8* @halide_string_to_string(i8* %phi.call35, i8* %ref.tmp.sroa.14.0.i312, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.22.229, i64 0, i64 0)) #16
  %call.i17.i315 = tail call i8* @halide_string_to_string(i8* %call.i14.i314, i8* %ref.tmp.sroa.14.0.i312, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i308, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i324, label %if.else.i.i322

if.else.i.i322:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i316
  %sub.ptr.lhs.cast.i.i.i317 = ptrtoint i8* %call.i17.i315 to i64
  %sub.ptr.rhs.cast.i.i.i318 = ptrtoint i8* %call.i.i307 to i64
  %sub.ptr.sub.i.i.i319 = sub i64 1, %sub.ptr.rhs.cast.i.i.i318
  %add.i.i.i320 = add i64 %sub.ptr.sub.i.i.i319, %sub.ptr.lhs.cast.i.i.i317
  %call.i.i.i321 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i307, i64 %add.i.i.i320) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i324

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i324: ; preds = %if.else.i.i322, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i316
  %.sink10.i.i323 = phi i8* [ %call.i.i307, %if.else.i.i322 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i316 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i323) #16
  tail call void @free(i8* %call.i.i307) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit325

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit325: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i324, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit
  store i8* %call.i305, i8** bitcast (i32 (%struct._cl_command_queue*)** @_ZN6Halide7Runtime8Internal6OpenCL21clReleaseCommandQueueE to i8**), align 8, !tbaa !11
  %call.i326 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.23.230, i64 0, i64 0)) #16
  %tobool.not.i327.not = icmp eq i8* %call.i326, null
  br i1 %tobool.not.i327.not, label %if.then.i330, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queuejmPvPmEEET_S6_PKcb.exit

if.then.i330:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit325
  %call.i.i328 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i329 = icmp eq i8* %call.i.i328, null
  br i1 %tobool.not.i.i329, label %if.then.i330.split, label %if.then6.i.i332

if.then.i330.split:                               ; preds = %if.then.i330
  %call.i11.i33436 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i337

if.then6.i.i332:                                  ; preds = %if.then.i330
  %add.ptr.i.i331 = getelementptr inbounds i8, i8* %call.i.i328, i64 1023
  store i8 0, i8* %add.ptr.i.i331, align 1, !tbaa !15
  %call.i11.i33437 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i328, i8* nonnull %add.ptr.i.i331, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i337

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i337: ; preds = %if.then.i330.split, %if.then6.i.i332
  %phi.call38 = phi i8* [ %call.i11.i33436, %if.then.i330.split ], [ %call.i11.i33437, %if.then6.i.i332 ]
  %ref.tmp.sroa.14.0.i333 = phi i8* [ null, %if.then.i330.split ], [ %add.ptr.i.i331, %if.then6.i.i332 ]
  %call.i14.i335 = tail call i8* @halide_string_to_string(i8* %phi.call38, i8* %ref.tmp.sroa.14.0.i333, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.23.230, i64 0, i64 0)) #16
  %call.i17.i336 = tail call i8* @halide_string_to_string(i8* %call.i14.i335, i8* %ref.tmp.sroa.14.0.i333, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i329, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i345, label %if.else.i.i343

if.else.i.i343:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i337
  %sub.ptr.lhs.cast.i.i.i338 = ptrtoint i8* %call.i17.i336 to i64
  %sub.ptr.rhs.cast.i.i.i339 = ptrtoint i8* %call.i.i328 to i64
  %sub.ptr.sub.i.i.i340 = sub i64 1, %sub.ptr.rhs.cast.i.i.i339
  %add.i.i.i341 = add i64 %sub.ptr.sub.i.i.i340, %sub.ptr.lhs.cast.i.i.i338
  %call.i.i.i342 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i328, i64 %add.i.i.i341) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i345

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i345: ; preds = %if.else.i.i343, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i337
  %.sink10.i.i344 = phi i8* [ %call.i.i328, %if.else.i.i343 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i337 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i344) #16
  tail call void @free(i8* %call.i.i328) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queuejmPvPmEEET_S6_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queuejmPvPmEEET_S6_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i345, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit325
  store i8* %call.i326, i8** bitcast (i32 (%struct._cl_command_queue*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL21clGetCommandQueueInfoE to i8**), align 8, !tbaa !11
  %call.i346 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.24.231, i64 0, i64 0)) #16
  %tobool.not.i347.not = icmp eq i8* %call.i346, null
  br i1 %tobool.not.i347.not, label %if.then.i350, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP7_cl_memP11_cl_contextymPvPiEEET_S8_PKcb.exit

if.then.i350:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queuejmPvPmEEET_S6_PKcb.exit
  %call.i.i348 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i349 = icmp eq i8* %call.i.i348, null
  br i1 %tobool.not.i.i349, label %if.then.i350.split, label %if.then6.i.i352

if.then.i350.split:                               ; preds = %if.then.i350
  %call.i11.i35439 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i357

if.then6.i.i352:                                  ; preds = %if.then.i350
  %add.ptr.i.i351 = getelementptr inbounds i8, i8* %call.i.i348, i64 1023
  store i8 0, i8* %add.ptr.i.i351, align 1, !tbaa !15
  %call.i11.i35440 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i348, i8* nonnull %add.ptr.i.i351, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i357

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i357: ; preds = %if.then.i350.split, %if.then6.i.i352
  %phi.call41 = phi i8* [ %call.i11.i35439, %if.then.i350.split ], [ %call.i11.i35440, %if.then6.i.i352 ]
  %ref.tmp.sroa.14.0.i353 = phi i8* [ null, %if.then.i350.split ], [ %add.ptr.i.i351, %if.then6.i.i352 ]
  %call.i14.i355 = tail call i8* @halide_string_to_string(i8* %phi.call41, i8* %ref.tmp.sroa.14.0.i353, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.24.231, i64 0, i64 0)) #16
  %call.i17.i356 = tail call i8* @halide_string_to_string(i8* %call.i14.i355, i8* %ref.tmp.sroa.14.0.i353, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i349, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i365, label %if.else.i.i363

if.else.i.i363:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i357
  %sub.ptr.lhs.cast.i.i.i358 = ptrtoint i8* %call.i17.i356 to i64
  %sub.ptr.rhs.cast.i.i.i359 = ptrtoint i8* %call.i.i348 to i64
  %sub.ptr.sub.i.i.i360 = sub i64 1, %sub.ptr.rhs.cast.i.i.i359
  %add.i.i.i361 = add i64 %sub.ptr.sub.i.i.i360, %sub.ptr.lhs.cast.i.i.i358
  %call.i.i.i362 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i348, i64 %add.i.i.i361) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i365

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i365: ; preds = %if.else.i.i363, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i357
  %.sink10.i.i364 = phi i8* [ %call.i.i348, %if.else.i.i363 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i357 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i364) #16
  tail call void @free(i8* %call.i.i348) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP7_cl_memP11_cl_contextymPvPiEEET_S8_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP7_cl_memP11_cl_contextymPvPiEEET_S8_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i365, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queuejmPvPmEEET_S6_PKcb.exit
  store i8* %call.i346, i8** bitcast (%struct._cl_mem* (%struct._cl_context*, i64, i64, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL14clCreateBufferE to i8**), align 8, !tbaa !11
  %call.i366 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @.str.25.232, i64 0, i64 0)) #16
  %tobool.not.i367.not = icmp eq i8* %call.i366, null
  br i1 %tobool.not.i367.not, label %if.then.i370, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP7_cl_memS5_yjPKvPiEEET_PvPKcb.exit

if.then.i370:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP7_cl_memP11_cl_contextymPvPiEEET_S8_PKcb.exit
  %call.i.i368 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i369 = icmp eq i8* %call.i.i368, null
  br i1 %tobool.not.i.i369, label %if.then.i370.split, label %if.then6.i.i372

if.then.i370.split:                               ; preds = %if.then.i370
  %call.i11.i37442 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i377

if.then6.i.i372:                                  ; preds = %if.then.i370
  %add.ptr.i.i371 = getelementptr inbounds i8, i8* %call.i.i368, i64 1023
  store i8 0, i8* %add.ptr.i.i371, align 1, !tbaa !15
  %call.i11.i37443 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i368, i8* nonnull %add.ptr.i.i371, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i377

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i377: ; preds = %if.then.i370.split, %if.then6.i.i372
  %phi.call44 = phi i8* [ %call.i11.i37442, %if.then.i370.split ], [ %call.i11.i37443, %if.then6.i.i372 ]
  %ref.tmp.sroa.14.0.i373 = phi i8* [ null, %if.then.i370.split ], [ %add.ptr.i.i371, %if.then6.i.i372 ]
  %call.i14.i375 = tail call i8* @halide_string_to_string(i8* %phi.call44, i8* %ref.tmp.sroa.14.0.i373, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @.str.25.232, i64 0, i64 0)) #16
  %call.i17.i376 = tail call i8* @halide_string_to_string(i8* %call.i14.i375, i8* %ref.tmp.sroa.14.0.i373, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i369, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i385, label %if.else.i.i383

if.else.i.i383:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i377
  %sub.ptr.lhs.cast.i.i.i378 = ptrtoint i8* %call.i17.i376 to i64
  %sub.ptr.rhs.cast.i.i.i379 = ptrtoint i8* %call.i.i368 to i64
  %sub.ptr.sub.i.i.i380 = sub i64 1, %sub.ptr.rhs.cast.i.i.i379
  %add.i.i.i381 = add i64 %sub.ptr.sub.i.i.i380, %sub.ptr.lhs.cast.i.i.i378
  %call.i.i.i382 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i368, i64 %add.i.i.i381) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i385

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i385: ; preds = %if.else.i.i383, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i377
  %.sink10.i.i384 = phi i8* [ %call.i.i368, %if.else.i.i383 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i377 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i384) #16
  tail call void @free(i8* %call.i.i368) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP7_cl_memS5_yjPKvPiEEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP7_cl_memS5_yjPKvPiEEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i385, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP7_cl_memP11_cl_contextymPvPiEEET_S8_PKcb.exit
  store i8* %call.i366, i8** bitcast (%struct._cl_mem* (%struct._cl_mem*, i64, i32, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL17clCreateSubBufferE to i8**), align 8, !tbaa !11
  %call.i386 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([14 x i8], [14 x i8]* @.str.26.233, i64 0, i64 0)) #16
  store i8* %call.i386, i8** bitcast (%struct._cl_mem* (%struct._cl_context*, i64, %struct._cl_image_format*, %struct._cl_image_desc*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL13clCreateImageE to i8**), align 8, !tbaa !11
  %call.i388 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @.str.27.234, i64 0, i64 0)) #16
  %tobool.not.i389.not = icmp eq i8* %call.i388, null
  br i1 %tobool.not.i389.not, label %if.then.i392, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memEEET_PvPKcb.exit

if.then.i392:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP7_cl_memS5_yjPKvPiEEET_PvPKcb.exit
  %call.i.i390 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i391 = icmp eq i8* %call.i.i390, null
  br i1 %tobool.not.i.i391, label %if.then.i392.split, label %if.then6.i.i394

if.then.i392.split:                               ; preds = %if.then.i392
  %call.i11.i39645 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i399

if.then6.i.i394:                                  ; preds = %if.then.i392
  %add.ptr.i.i393 = getelementptr inbounds i8, i8* %call.i.i390, i64 1023
  store i8 0, i8* %add.ptr.i.i393, align 1, !tbaa !15
  %call.i11.i39646 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i390, i8* nonnull %add.ptr.i.i393, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i399

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i399: ; preds = %if.then.i392.split, %if.then6.i.i394
  %phi.call47 = phi i8* [ %call.i11.i39645, %if.then.i392.split ], [ %call.i11.i39646, %if.then6.i.i394 ]
  %ref.tmp.sroa.14.0.i395 = phi i8* [ null, %if.then.i392.split ], [ %add.ptr.i.i393, %if.then6.i.i394 ]
  %call.i14.i397 = tail call i8* @halide_string_to_string(i8* %phi.call47, i8* %ref.tmp.sroa.14.0.i395, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @.str.27.234, i64 0, i64 0)) #16
  %call.i17.i398 = tail call i8* @halide_string_to_string(i8* %call.i14.i397, i8* %ref.tmp.sroa.14.0.i395, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i391, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i407, label %if.else.i.i405

if.else.i.i405:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i399
  %sub.ptr.lhs.cast.i.i.i400 = ptrtoint i8* %call.i17.i398 to i64
  %sub.ptr.rhs.cast.i.i.i401 = ptrtoint i8* %call.i.i390 to i64
  %sub.ptr.sub.i.i.i402 = sub i64 1, %sub.ptr.rhs.cast.i.i.i401
  %add.i.i.i403 = add i64 %sub.ptr.sub.i.i.i402, %sub.ptr.lhs.cast.i.i.i400
  %call.i.i.i404 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i390, i64 %add.i.i.i403) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i407

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i407: ; preds = %if.else.i.i405, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i399
  %.sink10.i.i406 = phi i8* [ %call.i.i390, %if.else.i.i405 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i399 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i406) #16
  tail call void @free(i8* %call.i.i390) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memEEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memEEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i407, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP7_cl_memS5_yjPKvPiEEET_PvPKcb.exit
  store i8* %call.i388, i8** bitcast (i32 (%struct._cl_mem*)** @_ZN6Halide7Runtime8Internal6OpenCL17clRetainMemObjectE to i8**), align 8, !tbaa !11
  %call.i408 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.28.235, i64 0, i64 0)) #16
  %tobool.not.i409.not = icmp eq i8* %call.i408, null
  br i1 %tobool.not.i409.not, label %if.then.i412, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memEEET_PvPKcb.exit428

if.then.i412:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memEEET_PvPKcb.exit
  %call.i.i410 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i411 = icmp eq i8* %call.i.i410, null
  br i1 %tobool.not.i.i411, label %if.then.i412.split, label %if.then6.i.i414

if.then.i412.split:                               ; preds = %if.then.i412
  %call.i11.i41648 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i419

if.then6.i.i414:                                  ; preds = %if.then.i412
  %add.ptr.i.i413 = getelementptr inbounds i8, i8* %call.i.i410, i64 1023
  store i8 0, i8* %add.ptr.i.i413, align 1, !tbaa !15
  %call.i11.i41649 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i410, i8* nonnull %add.ptr.i.i413, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i419

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i419: ; preds = %if.then.i412.split, %if.then6.i.i414
  %phi.call50 = phi i8* [ %call.i11.i41648, %if.then.i412.split ], [ %call.i11.i41649, %if.then6.i.i414 ]
  %ref.tmp.sroa.14.0.i415 = phi i8* [ null, %if.then.i412.split ], [ %add.ptr.i.i413, %if.then6.i.i414 ]
  %call.i14.i417 = tail call i8* @halide_string_to_string(i8* %phi.call50, i8* %ref.tmp.sroa.14.0.i415, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.28.235, i64 0, i64 0)) #16
  %call.i17.i418 = tail call i8* @halide_string_to_string(i8* %call.i14.i417, i8* %ref.tmp.sroa.14.0.i415, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i411, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i427, label %if.else.i.i425

if.else.i.i425:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i419
  %sub.ptr.lhs.cast.i.i.i420 = ptrtoint i8* %call.i17.i418 to i64
  %sub.ptr.rhs.cast.i.i.i421 = ptrtoint i8* %call.i.i410 to i64
  %sub.ptr.sub.i.i.i422 = sub i64 1, %sub.ptr.rhs.cast.i.i.i421
  %add.i.i.i423 = add i64 %sub.ptr.sub.i.i.i422, %sub.ptr.lhs.cast.i.i.i420
  %call.i.i.i424 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i410, i64 %add.i.i.i423) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i427

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i427: ; preds = %if.else.i.i425, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i419
  %.sink10.i.i426 = phi i8* [ %call.i.i410, %if.else.i.i425 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i419 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i426) #16
  tail call void @free(i8* %call.i.i410) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memEEET_PvPKcb.exit428

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memEEET_PvPKcb.exit428: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i427, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memEEET_PvPKcb.exit
  store i8* %call.i408, i8** bitcast (i32 (%struct._cl_mem*)** @_ZN6Halide7Runtime8Internal6OpenCL18clReleaseMemObjectE to i8**), align 8, !tbaa !11
  %call.i429 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([27 x i8], [27 x i8]* @.str.29.236, i64 0, i64 0)) #16
  %tobool.not.i430.not = icmp eq i8* %call.i429, null
  br i1 %tobool.not.i430.not, label %if.then.i433, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextyjjP16_cl_image_formatPjEEET_PvPKcb.exit

if.then.i433:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memEEET_PvPKcb.exit428
  %call.i.i431 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i432 = icmp eq i8* %call.i.i431, null
  br i1 %tobool.not.i.i432, label %if.then.i433.split, label %if.then6.i.i435

if.then.i433.split:                               ; preds = %if.then.i433
  %call.i11.i43751 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i440

if.then6.i.i435:                                  ; preds = %if.then.i433
  %add.ptr.i.i434 = getelementptr inbounds i8, i8* %call.i.i431, i64 1023
  store i8 0, i8* %add.ptr.i.i434, align 1, !tbaa !15
  %call.i11.i43752 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i431, i8* nonnull %add.ptr.i.i434, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i440

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i440: ; preds = %if.then.i433.split, %if.then6.i.i435
  %phi.call53 = phi i8* [ %call.i11.i43751, %if.then.i433.split ], [ %call.i11.i43752, %if.then6.i.i435 ]
  %ref.tmp.sroa.14.0.i436 = phi i8* [ null, %if.then.i433.split ], [ %add.ptr.i.i434, %if.then6.i.i435 ]
  %call.i14.i438 = tail call i8* @halide_string_to_string(i8* %phi.call53, i8* %ref.tmp.sroa.14.0.i436, i8* getelementptr inbounds ([27 x i8], [27 x i8]* @.str.29.236, i64 0, i64 0)) #16
  %call.i17.i439 = tail call i8* @halide_string_to_string(i8* %call.i14.i438, i8* %ref.tmp.sroa.14.0.i436, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i432, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i448, label %if.else.i.i446

if.else.i.i446:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i440
  %sub.ptr.lhs.cast.i.i.i441 = ptrtoint i8* %call.i17.i439 to i64
  %sub.ptr.rhs.cast.i.i.i442 = ptrtoint i8* %call.i.i431 to i64
  %sub.ptr.sub.i.i.i443 = sub i64 1, %sub.ptr.rhs.cast.i.i.i442
  %add.i.i.i444 = add i64 %sub.ptr.sub.i.i.i443, %sub.ptr.lhs.cast.i.i.i441
  %call.i.i.i445 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i431, i64 %add.i.i.i444) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i448

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i448: ; preds = %if.else.i.i446, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i440
  %.sink10.i.i447 = phi i8* [ %call.i.i431, %if.else.i.i446 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i440 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i447) #16
  tail call void @free(i8* %call.i.i431) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextyjjP16_cl_image_formatPjEEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextyjjP16_cl_image_formatPjEEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i448, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memEEET_PvPKcb.exit428
  store i8* %call.i429, i8** bitcast (i32 (%struct._cl_context*, i64, i32, i32, %struct._cl_image_format*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL26clGetSupportedImageFormatsE to i8**), align 8, !tbaa !11
  %call.i449 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.30.237, i64 0, i64 0)) #16
  %tobool.not.i450.not = icmp eq i8* %call.i449, null
  br i1 %tobool.not.i450.not, label %if.then.i453, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memjmPvPmEEET_S6_PKcb.exit

if.then.i453:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextyjjP16_cl_image_formatPjEEET_PvPKcb.exit
  %call.i.i451 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i452 = icmp eq i8* %call.i.i451, null
  br i1 %tobool.not.i.i452, label %if.then.i453.split, label %if.then6.i.i455

if.then.i453.split:                               ; preds = %if.then.i453
  %call.i11.i45754 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i460

if.then6.i.i455:                                  ; preds = %if.then.i453
  %add.ptr.i.i454 = getelementptr inbounds i8, i8* %call.i.i451, i64 1023
  store i8 0, i8* %add.ptr.i.i454, align 1, !tbaa !15
  %call.i11.i45755 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i451, i8* nonnull %add.ptr.i.i454, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i460

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i460: ; preds = %if.then.i453.split, %if.then6.i.i455
  %phi.call56 = phi i8* [ %call.i11.i45754, %if.then.i453.split ], [ %call.i11.i45755, %if.then6.i.i455 ]
  %ref.tmp.sroa.14.0.i456 = phi i8* [ null, %if.then.i453.split ], [ %add.ptr.i.i454, %if.then6.i.i455 ]
  %call.i14.i458 = tail call i8* @halide_string_to_string(i8* %phi.call56, i8* %ref.tmp.sroa.14.0.i456, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.30.237, i64 0, i64 0)) #16
  %call.i17.i459 = tail call i8* @halide_string_to_string(i8* %call.i14.i458, i8* %ref.tmp.sroa.14.0.i456, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i452, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i468, label %if.else.i.i466

if.else.i.i466:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i460
  %sub.ptr.lhs.cast.i.i.i461 = ptrtoint i8* %call.i17.i459 to i64
  %sub.ptr.rhs.cast.i.i.i462 = ptrtoint i8* %call.i.i451 to i64
  %sub.ptr.sub.i.i.i463 = sub i64 1, %sub.ptr.rhs.cast.i.i.i462
  %add.i.i.i464 = add i64 %sub.ptr.sub.i.i.i463, %sub.ptr.lhs.cast.i.i.i461
  %call.i.i.i465 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i451, i64 %add.i.i.i464) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i468

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i468: ; preds = %if.else.i.i466, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i460
  %.sink10.i.i467 = phi i8* [ %call.i.i451, %if.else.i.i466 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i460 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i467) #16
  tail call void @free(i8* %call.i.i451) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memjmPvPmEEET_S6_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memjmPvPmEEET_S6_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i468, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_contextyjjP16_cl_image_formatPjEEET_PvPKcb.exit
  store i8* %call.i449, i8** bitcast (i32 (%struct._cl_mem*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL18clGetMemObjectInfoE to i8**), align 8, !tbaa !11
  %call.i469 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.31.238, i64 0, i64 0)) #16
  %tobool.not.i470.not = icmp eq i8* %call.i469, null
  br i1 %tobool.not.i470.not, label %if.then.i473, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memjmPvPmEEET_S6_PKcb.exit489

if.then.i473:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memjmPvPmEEET_S6_PKcb.exit
  %call.i.i471 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i472 = icmp eq i8* %call.i.i471, null
  br i1 %tobool.not.i.i472, label %if.then.i473.split, label %if.then6.i.i475

if.then.i473.split:                               ; preds = %if.then.i473
  %call.i11.i47757 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i480

if.then6.i.i475:                                  ; preds = %if.then.i473
  %add.ptr.i.i474 = getelementptr inbounds i8, i8* %call.i.i471, i64 1023
  store i8 0, i8* %add.ptr.i.i474, align 1, !tbaa !15
  %call.i11.i47758 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i471, i8* nonnull %add.ptr.i.i474, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i480

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i480: ; preds = %if.then.i473.split, %if.then6.i.i475
  %phi.call59 = phi i8* [ %call.i11.i47757, %if.then.i473.split ], [ %call.i11.i47758, %if.then6.i.i475 ]
  %ref.tmp.sroa.14.0.i476 = phi i8* [ null, %if.then.i473.split ], [ %add.ptr.i.i474, %if.then6.i.i475 ]
  %call.i14.i478 = tail call i8* @halide_string_to_string(i8* %phi.call59, i8* %ref.tmp.sroa.14.0.i476, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.31.238, i64 0, i64 0)) #16
  %call.i17.i479 = tail call i8* @halide_string_to_string(i8* %call.i14.i478, i8* %ref.tmp.sroa.14.0.i476, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i472, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i488, label %if.else.i.i486

if.else.i.i486:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i480
  %sub.ptr.lhs.cast.i.i.i481 = ptrtoint i8* %call.i17.i479 to i64
  %sub.ptr.rhs.cast.i.i.i482 = ptrtoint i8* %call.i.i471 to i64
  %sub.ptr.sub.i.i.i483 = sub i64 1, %sub.ptr.rhs.cast.i.i.i482
  %add.i.i.i484 = add i64 %sub.ptr.sub.i.i.i483, %sub.ptr.lhs.cast.i.i.i481
  %call.i.i.i485 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i471, i64 %add.i.i.i484) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i488

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i488: ; preds = %if.else.i.i486, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i480
  %.sink10.i.i487 = phi i8* [ %call.i.i471, %if.else.i.i486 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i480 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i487) #16
  tail call void @free(i8* %call.i.i471) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memjmPvPmEEET_S6_PKcb.exit489

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memjmPvPmEEET_S6_PKcb.exit489: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i488, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memjmPvPmEEET_S6_PKcb.exit
  store i8* %call.i469, i8** bitcast (i32 (%struct._cl_mem*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL14clGetImageInfoE to i8**), align 8, !tbaa !11
  %call.i490 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([33 x i8], [33 x i8]* @.str.32.239, i64 0, i64 0)) #16
  %tobool.not.i491.not = icmp eq i8* %call.i490, null
  br i1 %tobool.not.i491.not, label %if.then.i494, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memPFvS5_PvES6_EEET_S6_PKcb.exit

if.then.i494:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memjmPvPmEEET_S6_PKcb.exit489
  %call.i.i492 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i493 = icmp eq i8* %call.i.i492, null
  br i1 %tobool.not.i.i493, label %if.then.i494.split, label %if.then6.i.i496

if.then.i494.split:                               ; preds = %if.then.i494
  %call.i11.i49860 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i501

if.then6.i.i496:                                  ; preds = %if.then.i494
  %add.ptr.i.i495 = getelementptr inbounds i8, i8* %call.i.i492, i64 1023
  store i8 0, i8* %add.ptr.i.i495, align 1, !tbaa !15
  %call.i11.i49861 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i492, i8* nonnull %add.ptr.i.i495, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i501

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i501: ; preds = %if.then.i494.split, %if.then6.i.i496
  %phi.call62 = phi i8* [ %call.i11.i49860, %if.then.i494.split ], [ %call.i11.i49861, %if.then6.i.i496 ]
  %ref.tmp.sroa.14.0.i497 = phi i8* [ null, %if.then.i494.split ], [ %add.ptr.i.i495, %if.then6.i.i496 ]
  %call.i14.i499 = tail call i8* @halide_string_to_string(i8* %phi.call62, i8* %ref.tmp.sroa.14.0.i497, i8* getelementptr inbounds ([33 x i8], [33 x i8]* @.str.32.239, i64 0, i64 0)) #16
  %call.i17.i500 = tail call i8* @halide_string_to_string(i8* %call.i14.i499, i8* %ref.tmp.sroa.14.0.i497, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i493, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i509, label %if.else.i.i507

if.else.i.i507:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i501
  %sub.ptr.lhs.cast.i.i.i502 = ptrtoint i8* %call.i17.i500 to i64
  %sub.ptr.rhs.cast.i.i.i503 = ptrtoint i8* %call.i.i492 to i64
  %sub.ptr.sub.i.i.i504 = sub i64 1, %sub.ptr.rhs.cast.i.i.i503
  %add.i.i.i505 = add i64 %sub.ptr.sub.i.i.i504, %sub.ptr.lhs.cast.i.i.i502
  %call.i.i.i506 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i492, i64 %add.i.i.i505) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i509

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i509: ; preds = %if.else.i.i507, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i501
  %.sink10.i.i508 = phi i8* [ %call.i.i492, %if.else.i.i507 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i501 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i508) #16
  tail call void @free(i8* %call.i.i492) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memPFvS5_PvES6_EEET_S6_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memPFvS5_PvES6_EEET_S6_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i509, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memjmPvPmEEET_S6_PKcb.exit489
  store i8* %call.i490, i8** bitcast (i32 (%struct._cl_mem*, void (%struct._cl_mem*, i8*)*, i8*)** @_ZN6Halide7Runtime8Internal6OpenCL32clSetMemObjectDestructorCallbackE to i8**), align 8, !tbaa !11
  %call.i510 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.33.240, i64 0, i64 0)) #16
  %tobool.not.i511.not = icmp eq i8* %call.i510, null
  br i1 %tobool.not.i511.not, label %if.then.i514, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_programP11_cl_contextjPPKcPKmPiEEET_PvS9_b.exit

if.then.i514:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memPFvS5_PvES6_EEET_S6_PKcb.exit
  %call.i.i512 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i513 = icmp eq i8* %call.i.i512, null
  br i1 %tobool.not.i.i513, label %if.then.i514.split, label %if.then6.i.i516

if.then.i514.split:                               ; preds = %if.then.i514
  %call.i11.i51863 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i521

if.then6.i.i516:                                  ; preds = %if.then.i514
  %add.ptr.i.i515 = getelementptr inbounds i8, i8* %call.i.i512, i64 1023
  store i8 0, i8* %add.ptr.i.i515, align 1, !tbaa !15
  %call.i11.i51864 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i512, i8* nonnull %add.ptr.i.i515, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i521

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i521: ; preds = %if.then.i514.split, %if.then6.i.i516
  %phi.call65 = phi i8* [ %call.i11.i51863, %if.then.i514.split ], [ %call.i11.i51864, %if.then6.i.i516 ]
  %ref.tmp.sroa.14.0.i517 = phi i8* [ null, %if.then.i514.split ], [ %add.ptr.i.i515, %if.then6.i.i516 ]
  %call.i14.i519 = tail call i8* @halide_string_to_string(i8* %phi.call65, i8* %ref.tmp.sroa.14.0.i517, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.33.240, i64 0, i64 0)) #16
  %call.i17.i520 = tail call i8* @halide_string_to_string(i8* %call.i14.i519, i8* %ref.tmp.sroa.14.0.i517, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i513, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i529, label %if.else.i.i527

if.else.i.i527:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i521
  %sub.ptr.lhs.cast.i.i.i522 = ptrtoint i8* %call.i17.i520 to i64
  %sub.ptr.rhs.cast.i.i.i523 = ptrtoint i8* %call.i.i512 to i64
  %sub.ptr.sub.i.i.i524 = sub i64 1, %sub.ptr.rhs.cast.i.i.i523
  %add.i.i.i525 = add i64 %sub.ptr.sub.i.i.i524, %sub.ptr.lhs.cast.i.i.i522
  %call.i.i.i526 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i512, i64 %add.i.i.i525) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i529

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i529: ; preds = %if.else.i.i527, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i521
  %.sink10.i.i528 = phi i8* [ %call.i.i512, %if.else.i.i527 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i521 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i528) #16
  tail call void @free(i8* %call.i.i512) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_programP11_cl_contextjPPKcPKmPiEEET_PvS9_b.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_programP11_cl_contextjPPKcPKmPiEEET_PvS9_b.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i529, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP7_cl_memPFvS5_PvES6_EEET_S6_PKcb.exit
  store i8* %call.i510, i8** bitcast (%struct._cl_program* (%struct._cl_context*, i32, i8**, i64*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL25clCreateProgramWithSourceE to i8**), align 8, !tbaa !11
  %call.i530 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.34.241, i64 0, i64 0)) #16
  %tobool.not.i531.not = icmp eq i8* %call.i530, null
  br i1 %tobool.not.i531.not, label %if.then.i534, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programEEET_PvPKcb.exit

if.then.i534:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_programP11_cl_contextjPPKcPKmPiEEET_PvS9_b.exit
  %call.i.i532 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i533 = icmp eq i8* %call.i.i532, null
  br i1 %tobool.not.i.i533, label %if.then.i534.split, label %if.then6.i.i536

if.then.i534.split:                               ; preds = %if.then.i534
  %call.i11.i53866 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i541

if.then6.i.i536:                                  ; preds = %if.then.i534
  %add.ptr.i.i535 = getelementptr inbounds i8, i8* %call.i.i532, i64 1023
  store i8 0, i8* %add.ptr.i.i535, align 1, !tbaa !15
  %call.i11.i53867 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i532, i8* nonnull %add.ptr.i.i535, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i541

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i541: ; preds = %if.then.i534.split, %if.then6.i.i536
  %phi.call68 = phi i8* [ %call.i11.i53866, %if.then.i534.split ], [ %call.i11.i53867, %if.then6.i.i536 ]
  %ref.tmp.sroa.14.0.i537 = phi i8* [ null, %if.then.i534.split ], [ %add.ptr.i.i535, %if.then6.i.i536 ]
  %call.i14.i539 = tail call i8* @halide_string_to_string(i8* %phi.call68, i8* %ref.tmp.sroa.14.0.i537, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.34.241, i64 0, i64 0)) #16
  %call.i17.i540 = tail call i8* @halide_string_to_string(i8* %call.i14.i539, i8* %ref.tmp.sroa.14.0.i537, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i533, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i549, label %if.else.i.i547

if.else.i.i547:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i541
  %sub.ptr.lhs.cast.i.i.i542 = ptrtoint i8* %call.i17.i540 to i64
  %sub.ptr.rhs.cast.i.i.i543 = ptrtoint i8* %call.i.i532 to i64
  %sub.ptr.sub.i.i.i544 = sub i64 1, %sub.ptr.rhs.cast.i.i.i543
  %add.i.i.i545 = add i64 %sub.ptr.sub.i.i.i544, %sub.ptr.lhs.cast.i.i.i542
  %call.i.i.i546 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i532, i64 %add.i.i.i545) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i549

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i549: ; preds = %if.else.i.i547, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i541
  %.sink10.i.i548 = phi i8* [ %call.i.i532, %if.else.i.i547 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i541 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i548) #16
  tail call void @free(i8* %call.i.i532) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programEEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programEEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i549, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP11_cl_programP11_cl_contextjPPKcPKmPiEEET_PvS9_b.exit
  store i8* %call.i530, i8** bitcast (i32 (%struct._cl_program*)** @_ZN6Halide7Runtime8Internal6OpenCL15clRetainProgramE to i8**), align 8, !tbaa !11
  %call.i550 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.35.242, i64 0, i64 0)) #16
  %tobool.not.i551.not = icmp eq i8* %call.i550, null
  br i1 %tobool.not.i551.not, label %if.then.i554, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programEEET_PvPKcb.exit570

if.then.i554:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programEEET_PvPKcb.exit
  %call.i.i552 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i553 = icmp eq i8* %call.i.i552, null
  br i1 %tobool.not.i.i553, label %if.then.i554.split, label %if.then6.i.i556

if.then.i554.split:                               ; preds = %if.then.i554
  %call.i11.i55869 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i561

if.then6.i.i556:                                  ; preds = %if.then.i554
  %add.ptr.i.i555 = getelementptr inbounds i8, i8* %call.i.i552, i64 1023
  store i8 0, i8* %add.ptr.i.i555, align 1, !tbaa !15
  %call.i11.i55870 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i552, i8* nonnull %add.ptr.i.i555, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i561

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i561: ; preds = %if.then.i554.split, %if.then6.i.i556
  %phi.call71 = phi i8* [ %call.i11.i55869, %if.then.i554.split ], [ %call.i11.i55870, %if.then6.i.i556 ]
  %ref.tmp.sroa.14.0.i557 = phi i8* [ null, %if.then.i554.split ], [ %add.ptr.i.i555, %if.then6.i.i556 ]
  %call.i14.i559 = tail call i8* @halide_string_to_string(i8* %phi.call71, i8* %ref.tmp.sroa.14.0.i557, i8* getelementptr inbounds ([17 x i8], [17 x i8]* @.str.35.242, i64 0, i64 0)) #16
  %call.i17.i560 = tail call i8* @halide_string_to_string(i8* %call.i14.i559, i8* %ref.tmp.sroa.14.0.i557, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i553, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i569, label %if.else.i.i567

if.else.i.i567:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i561
  %sub.ptr.lhs.cast.i.i.i562 = ptrtoint i8* %call.i17.i560 to i64
  %sub.ptr.rhs.cast.i.i.i563 = ptrtoint i8* %call.i.i552 to i64
  %sub.ptr.sub.i.i.i564 = sub i64 1, %sub.ptr.rhs.cast.i.i.i563
  %add.i.i.i565 = add i64 %sub.ptr.sub.i.i.i564, %sub.ptr.lhs.cast.i.i.i562
  %call.i.i.i566 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i552, i64 %add.i.i.i565) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i569

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i569: ; preds = %if.else.i.i567, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i561
  %.sink10.i.i568 = phi i8* [ %call.i.i552, %if.else.i.i567 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i561 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i568) #16
  tail call void @free(i8* %call.i.i552) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programEEET_PvPKcb.exit570

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programEEET_PvPKcb.exit570: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i569, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programEEET_PvPKcb.exit
  store i8* %call.i550, i8** bitcast (i32 (%struct._cl_program*)** @_ZN6Halide7Runtime8Internal6OpenCL16clReleaseProgramE to i8**), align 8, !tbaa !11
  %call.i571 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.36.243, i64 0, i64 0)) #16
  %tobool.not.i572.not = icmp eq i8* %call.i571, null
  br i1 %tobool.not.i572.not, label %if.then.i575, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programjPKP13_cl_device_idPKcPFvS5_PvESC_EEET_SC_SB_b.exit

if.then.i575:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programEEET_PvPKcb.exit570
  %call.i.i573 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i574 = icmp eq i8* %call.i.i573, null
  br i1 %tobool.not.i.i574, label %if.then.i575.split, label %if.then6.i.i577

if.then.i575.split:                               ; preds = %if.then.i575
  %call.i11.i57972 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i582

if.then6.i.i577:                                  ; preds = %if.then.i575
  %add.ptr.i.i576 = getelementptr inbounds i8, i8* %call.i.i573, i64 1023
  store i8 0, i8* %add.ptr.i.i576, align 1, !tbaa !15
  %call.i11.i57973 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i573, i8* nonnull %add.ptr.i.i576, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i582

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i582: ; preds = %if.then.i575.split, %if.then6.i.i577
  %phi.call74 = phi i8* [ %call.i11.i57972, %if.then.i575.split ], [ %call.i11.i57973, %if.then6.i.i577 ]
  %ref.tmp.sroa.14.0.i578 = phi i8* [ null, %if.then.i575.split ], [ %add.ptr.i.i576, %if.then6.i.i577 ]
  %call.i14.i580 = tail call i8* @halide_string_to_string(i8* %phi.call74, i8* %ref.tmp.sroa.14.0.i578, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.36.243, i64 0, i64 0)) #16
  %call.i17.i581 = tail call i8* @halide_string_to_string(i8* %call.i14.i580, i8* %ref.tmp.sroa.14.0.i578, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i574, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i590, label %if.else.i.i588

if.else.i.i588:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i582
  %sub.ptr.lhs.cast.i.i.i583 = ptrtoint i8* %call.i17.i581 to i64
  %sub.ptr.rhs.cast.i.i.i584 = ptrtoint i8* %call.i.i573 to i64
  %sub.ptr.sub.i.i.i585 = sub i64 1, %sub.ptr.rhs.cast.i.i.i584
  %add.i.i.i586 = add i64 %sub.ptr.sub.i.i.i585, %sub.ptr.lhs.cast.i.i.i583
  %call.i.i.i587 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i573, i64 %add.i.i.i586) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i590

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i590: ; preds = %if.else.i.i588, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i582
  %.sink10.i.i589 = phi i8* [ %call.i.i573, %if.else.i.i588 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i582 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i589) #16
  tail call void @free(i8* %call.i.i573) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programjPKP13_cl_device_idPKcPFvS5_PvESC_EEET_SC_SB_b.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programjPKP13_cl_device_idPKcPFvS5_PvESC_EEET_SC_SB_b.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i590, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programEEET_PvPKcb.exit570
  store i8* %call.i571, i8** bitcast (i32 (%struct._cl_program*, i32, %struct._cl_device_id**, i8*, void (%struct._cl_program*, i8*)*, i8*)** @_ZN6Halide7Runtime8Internal6OpenCL14clBuildProgramE to i8**), align 8, !tbaa !11
  %call.i591 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.37.244, i64 0, i64 0)) #16
  %tobool.not.i592.not = icmp eq i8* %call.i591, null
  br i1 %tobool.not.i592.not, label %if.then.i595, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programP13_cl_device_idjmPvPmEEET_S8_PKcb.exit

if.then.i595:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programjPKP13_cl_device_idPKcPFvS5_PvESC_EEET_SC_SB_b.exit
  %call.i.i593 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i594 = icmp eq i8* %call.i.i593, null
  br i1 %tobool.not.i.i594, label %if.then.i595.split, label %if.then6.i.i597

if.then.i595.split:                               ; preds = %if.then.i595
  %call.i11.i59975 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i602

if.then6.i.i597:                                  ; preds = %if.then.i595
  %add.ptr.i.i596 = getelementptr inbounds i8, i8* %call.i.i593, i64 1023
  store i8 0, i8* %add.ptr.i.i596, align 1, !tbaa !15
  %call.i11.i59976 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i593, i8* nonnull %add.ptr.i.i596, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i602

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i602: ; preds = %if.then.i595.split, %if.then6.i.i597
  %phi.call77 = phi i8* [ %call.i11.i59975, %if.then.i595.split ], [ %call.i11.i59976, %if.then6.i.i597 ]
  %ref.tmp.sroa.14.0.i598 = phi i8* [ null, %if.then.i595.split ], [ %add.ptr.i.i596, %if.then6.i.i597 ]
  %call.i14.i600 = tail call i8* @halide_string_to_string(i8* %phi.call77, i8* %ref.tmp.sroa.14.0.i598, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @.str.37.244, i64 0, i64 0)) #16
  %call.i17.i601 = tail call i8* @halide_string_to_string(i8* %call.i14.i600, i8* %ref.tmp.sroa.14.0.i598, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i594, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i610, label %if.else.i.i608

if.else.i.i608:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i602
  %sub.ptr.lhs.cast.i.i.i603 = ptrtoint i8* %call.i17.i601 to i64
  %sub.ptr.rhs.cast.i.i.i604 = ptrtoint i8* %call.i.i593 to i64
  %sub.ptr.sub.i.i.i605 = sub i64 1, %sub.ptr.rhs.cast.i.i.i604
  %add.i.i.i606 = add i64 %sub.ptr.sub.i.i.i605, %sub.ptr.lhs.cast.i.i.i603
  %call.i.i.i607 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i593, i64 %add.i.i.i606) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i610

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i610: ; preds = %if.else.i.i608, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i602
  %.sink10.i.i609 = phi i8* [ %call.i.i593, %if.else.i.i608 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i602 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i609) #16
  tail call void @free(i8* %call.i.i593) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programP13_cl_device_idjmPvPmEEET_S8_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programP13_cl_device_idjmPvPmEEET_S8_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i610, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programjPKP13_cl_device_idPKcPFvS5_PvESC_EEET_SC_SB_b.exit
  store i8* %call.i591, i8** bitcast (i32 (%struct._cl_program*, %struct._cl_device_id*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL21clGetProgramBuildInfoE to i8**), align 8, !tbaa !11
  %call.i611 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.38.245, i64 0, i64 0)) #16
  %tobool.not.i612.not = icmp eq i8* %call.i611, null
  br i1 %tobool.not.i612.not, label %if.then.i615, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP10_cl_kernelP11_cl_programPKcPiEEET_PvS9_b.exit

if.then.i615:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programP13_cl_device_idjmPvPmEEET_S8_PKcb.exit
  %call.i.i613 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i614 = icmp eq i8* %call.i.i613, null
  br i1 %tobool.not.i.i614, label %if.then.i615.split, label %if.then6.i.i617

if.then.i615.split:                               ; preds = %if.then.i615
  %call.i11.i61978 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i622

if.then6.i.i617:                                  ; preds = %if.then.i615
  %add.ptr.i.i616 = getelementptr inbounds i8, i8* %call.i.i613, i64 1023
  store i8 0, i8* %add.ptr.i.i616, align 1, !tbaa !15
  %call.i11.i61979 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i613, i8* nonnull %add.ptr.i.i616, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i622

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i622: ; preds = %if.then.i615.split, %if.then6.i.i617
  %phi.call80 = phi i8* [ %call.i11.i61978, %if.then.i615.split ], [ %call.i11.i61979, %if.then6.i.i617 ]
  %ref.tmp.sroa.14.0.i618 = phi i8* [ null, %if.then.i615.split ], [ %add.ptr.i.i616, %if.then6.i.i617 ]
  %call.i14.i620 = tail call i8* @halide_string_to_string(i8* %phi.call80, i8* %ref.tmp.sroa.14.0.i618, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.38.245, i64 0, i64 0)) #16
  %call.i17.i621 = tail call i8* @halide_string_to_string(i8* %call.i14.i620, i8* %ref.tmp.sroa.14.0.i618, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i614, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i630, label %if.else.i.i628

if.else.i.i628:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i622
  %sub.ptr.lhs.cast.i.i.i623 = ptrtoint i8* %call.i17.i621 to i64
  %sub.ptr.rhs.cast.i.i.i624 = ptrtoint i8* %call.i.i613 to i64
  %sub.ptr.sub.i.i.i625 = sub i64 1, %sub.ptr.rhs.cast.i.i.i624
  %add.i.i.i626 = add i64 %sub.ptr.sub.i.i.i625, %sub.ptr.lhs.cast.i.i.i623
  %call.i.i.i627 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i613, i64 %add.i.i.i626) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i630

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i630: ; preds = %if.else.i.i628, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i622
  %.sink10.i.i629 = phi i8* [ %call.i.i613, %if.else.i.i628 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i622 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i629) #16
  tail call void @free(i8* %call.i.i613) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP10_cl_kernelP11_cl_programPKcPiEEET_PvS9_b.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP10_cl_kernelP11_cl_programPKcPiEEET_PvS9_b.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i630, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP11_cl_programP13_cl_device_idjmPvPmEEET_S8_PKcb.exit
  store i8* %call.i611, i8** bitcast (%struct._cl_kernel* (%struct._cl_program*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL14clCreateKernelE to i8**), align 8, !tbaa !11
  %call.i631 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.39.246, i64 0, i64 0)) #16
  %tobool.not.i632.not = icmp eq i8* %call.i631, null
  br i1 %tobool.not.i632.not, label %if.then.i635, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kernelEEET_PvPKcb.exit

if.then.i635:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP10_cl_kernelP11_cl_programPKcPiEEET_PvS9_b.exit
  %call.i.i633 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i634 = icmp eq i8* %call.i.i633, null
  br i1 %tobool.not.i.i634, label %if.then.i635.split, label %if.then6.i.i637

if.then.i635.split:                               ; preds = %if.then.i635
  %call.i11.i63981 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i642

if.then6.i.i637:                                  ; preds = %if.then.i635
  %add.ptr.i.i636 = getelementptr inbounds i8, i8* %call.i.i633, i64 1023
  store i8 0, i8* %add.ptr.i.i636, align 1, !tbaa !15
  %call.i11.i63982 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i633, i8* nonnull %add.ptr.i.i636, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i642

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i642: ; preds = %if.then.i635.split, %if.then6.i.i637
  %phi.call83 = phi i8* [ %call.i11.i63981, %if.then.i635.split ], [ %call.i11.i63982, %if.then6.i.i637 ]
  %ref.tmp.sroa.14.0.i638 = phi i8* [ null, %if.then.i635.split ], [ %add.ptr.i.i636, %if.then6.i.i637 ]
  %call.i14.i640 = tail call i8* @halide_string_to_string(i8* %phi.call83, i8* %ref.tmp.sroa.14.0.i638, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.39.246, i64 0, i64 0)) #16
  %call.i17.i641 = tail call i8* @halide_string_to_string(i8* %call.i14.i640, i8* %ref.tmp.sroa.14.0.i638, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i634, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i650, label %if.else.i.i648

if.else.i.i648:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i642
  %sub.ptr.lhs.cast.i.i.i643 = ptrtoint i8* %call.i17.i641 to i64
  %sub.ptr.rhs.cast.i.i.i644 = ptrtoint i8* %call.i.i633 to i64
  %sub.ptr.sub.i.i.i645 = sub i64 1, %sub.ptr.rhs.cast.i.i.i644
  %add.i.i.i646 = add i64 %sub.ptr.sub.i.i.i645, %sub.ptr.lhs.cast.i.i.i643
  %call.i.i.i647 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i633, i64 %add.i.i.i646) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i650

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i650: ; preds = %if.else.i.i648, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i642
  %.sink10.i.i649 = phi i8* [ %call.i.i633, %if.else.i.i648 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i642 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i649) #16
  tail call void @free(i8* %call.i.i633) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kernelEEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kernelEEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i650, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFP10_cl_kernelP11_cl_programPKcPiEEET_PvS9_b.exit
  store i8* %call.i631, i8** bitcast (i32 (%struct._cl_kernel*)** @_ZN6Halide7Runtime8Internal6OpenCL14clRetainKernelE to i8**), align 8, !tbaa !11
  %call.i651 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.40.247, i64 0, i64 0)) #16
  %tobool.not.i652.not = icmp eq i8* %call.i651, null
  br i1 %tobool.not.i652.not, label %if.then.i655, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kernelEEET_PvPKcb.exit671

if.then.i655:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kernelEEET_PvPKcb.exit
  %call.i.i653 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i654 = icmp eq i8* %call.i.i653, null
  br i1 %tobool.not.i.i654, label %if.then.i655.split, label %if.then6.i.i657

if.then.i655.split:                               ; preds = %if.then.i655
  %call.i11.i65984 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i662

if.then6.i.i657:                                  ; preds = %if.then.i655
  %add.ptr.i.i656 = getelementptr inbounds i8, i8* %call.i.i653, i64 1023
  store i8 0, i8* %add.ptr.i.i656, align 1, !tbaa !15
  %call.i11.i65985 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i653, i8* nonnull %add.ptr.i.i656, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i662

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i662: ; preds = %if.then.i655.split, %if.then6.i.i657
  %phi.call86 = phi i8* [ %call.i11.i65984, %if.then.i655.split ], [ %call.i11.i65985, %if.then6.i.i657 ]
  %ref.tmp.sroa.14.0.i658 = phi i8* [ null, %if.then.i655.split ], [ %add.ptr.i.i656, %if.then6.i.i657 ]
  %call.i14.i660 = tail call i8* @halide_string_to_string(i8* %phi.call86, i8* %ref.tmp.sroa.14.0.i658, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @.str.40.247, i64 0, i64 0)) #16
  %call.i17.i661 = tail call i8* @halide_string_to_string(i8* %call.i14.i660, i8* %ref.tmp.sroa.14.0.i658, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i654, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i670, label %if.else.i.i668

if.else.i.i668:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i662
  %sub.ptr.lhs.cast.i.i.i663 = ptrtoint i8* %call.i17.i661 to i64
  %sub.ptr.rhs.cast.i.i.i664 = ptrtoint i8* %call.i.i653 to i64
  %sub.ptr.sub.i.i.i665 = sub i64 1, %sub.ptr.rhs.cast.i.i.i664
  %add.i.i.i666 = add i64 %sub.ptr.sub.i.i.i665, %sub.ptr.lhs.cast.i.i.i663
  %call.i.i.i667 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i653, i64 %add.i.i.i666) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i670

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i670: ; preds = %if.else.i.i668, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i662
  %.sink10.i.i669 = phi i8* [ %call.i.i653, %if.else.i.i668 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i662 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i669) #16
  tail call void @free(i8* %call.i.i653) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kernelEEET_PvPKcb.exit671

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kernelEEET_PvPKcb.exit671: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i670, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kernelEEET_PvPKcb.exit
  store i8* %call.i651, i8** bitcast (i32 (%struct._cl_kernel*)** @_ZN6Halide7Runtime8Internal6OpenCL15clReleaseKernelE to i8**), align 8, !tbaa !11
  %call.i672 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.41.248, i64 0, i64 0)) #16
  %tobool.not.i673.not = icmp eq i8* %call.i672, null
  br i1 %tobool.not.i673.not, label %if.then.i676, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kerneljmPKvEEET_PvPKcb.exit

if.then.i676:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kernelEEET_PvPKcb.exit671
  %call.i.i674 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i675 = icmp eq i8* %call.i.i674, null
  br i1 %tobool.not.i.i675, label %if.then.i676.split, label %if.then6.i.i678

if.then.i676.split:                               ; preds = %if.then.i676
  %call.i11.i68087 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i683

if.then6.i.i678:                                  ; preds = %if.then.i676
  %add.ptr.i.i677 = getelementptr inbounds i8, i8* %call.i.i674, i64 1023
  store i8 0, i8* %add.ptr.i.i677, align 1, !tbaa !15
  %call.i11.i68088 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i674, i8* nonnull %add.ptr.i.i677, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i683

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i683: ; preds = %if.then.i676.split, %if.then6.i.i678
  %phi.call89 = phi i8* [ %call.i11.i68087, %if.then.i676.split ], [ %call.i11.i68088, %if.then6.i.i678 ]
  %ref.tmp.sroa.14.0.i679 = phi i8* [ null, %if.then.i676.split ], [ %add.ptr.i.i677, %if.then6.i.i678 ]
  %call.i14.i681 = tail call i8* @halide_string_to_string(i8* %phi.call89, i8* %ref.tmp.sroa.14.0.i679, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.41.248, i64 0, i64 0)) #16
  %call.i17.i682 = tail call i8* @halide_string_to_string(i8* %call.i14.i681, i8* %ref.tmp.sroa.14.0.i679, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i675, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i691, label %if.else.i.i689

if.else.i.i689:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i683
  %sub.ptr.lhs.cast.i.i.i684 = ptrtoint i8* %call.i17.i682 to i64
  %sub.ptr.rhs.cast.i.i.i685 = ptrtoint i8* %call.i.i674 to i64
  %sub.ptr.sub.i.i.i686 = sub i64 1, %sub.ptr.rhs.cast.i.i.i685
  %add.i.i.i687 = add i64 %sub.ptr.sub.i.i.i686, %sub.ptr.lhs.cast.i.i.i684
  %call.i.i.i688 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i674, i64 %add.i.i.i687) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i691

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i691: ; preds = %if.else.i.i689, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i683
  %.sink10.i.i690 = phi i8* [ %call.i.i674, %if.else.i.i689 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i683 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i690) #16
  tail call void @free(i8* %call.i.i674) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kerneljmPKvEEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kerneljmPKvEEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i691, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kernelEEET_PvPKcb.exit671
  store i8* %call.i672, i8** bitcast (i32 (%struct._cl_kernel*, i32, i64, i8*)** @_ZN6Halide7Runtime8Internal6OpenCL14clSetKernelArgE to i8**), align 8, !tbaa !11
  %call.i692 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.42.249, i64 0, i64 0)) #16
  %tobool.not.i693.not = icmp eq i8* %call.i692, null
  br i1 %tobool.not.i693.not, label %if.then.i696, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit712

if.then.i696:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kerneljmPKvEEET_PvPKcb.exit
  %call.i.i694 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i695 = icmp eq i8* %call.i.i694, null
  br i1 %tobool.not.i.i695, label %if.then.i696.split, label %if.then6.i.i698

if.then.i696.split:                               ; preds = %if.then.i696
  %call.i11.i70090 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i703

if.then6.i.i698:                                  ; preds = %if.then.i696
  %add.ptr.i.i697 = getelementptr inbounds i8, i8* %call.i.i694, i64 1023
  store i8 0, i8* %add.ptr.i.i697, align 1, !tbaa !15
  %call.i11.i70091 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i694, i8* nonnull %add.ptr.i.i697, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i703

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i703: ; preds = %if.then.i696.split, %if.then6.i.i698
  %phi.call92 = phi i8* [ %call.i11.i70090, %if.then.i696.split ], [ %call.i11.i70091, %if.then6.i.i698 ]
  %ref.tmp.sroa.14.0.i699 = phi i8* [ null, %if.then.i696.split ], [ %add.ptr.i.i697, %if.then6.i.i698 ]
  %call.i14.i701 = tail call i8* @halide_string_to_string(i8* %phi.call92, i8* %ref.tmp.sroa.14.0.i699, i8* getelementptr inbounds ([8 x i8], [8 x i8]* @.str.42.249, i64 0, i64 0)) #16
  %call.i17.i702 = tail call i8* @halide_string_to_string(i8* %call.i14.i701, i8* %ref.tmp.sroa.14.0.i699, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i695, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i711, label %if.else.i.i709

if.else.i.i709:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i703
  %sub.ptr.lhs.cast.i.i.i704 = ptrtoint i8* %call.i17.i702 to i64
  %sub.ptr.rhs.cast.i.i.i705 = ptrtoint i8* %call.i.i694 to i64
  %sub.ptr.sub.i.i.i706 = sub i64 1, %sub.ptr.rhs.cast.i.i.i705
  %add.i.i.i707 = add i64 %sub.ptr.sub.i.i.i706, %sub.ptr.lhs.cast.i.i.i704
  %call.i.i.i708 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i694, i64 %add.i.i.i707) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i711

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i711: ; preds = %if.else.i.i709, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i703
  %.sink10.i.i710 = phi i8* [ %call.i.i694, %if.else.i.i709 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i703 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i710) #16
  tail call void @free(i8* %call.i.i694) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit712

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit712: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i711, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP10_cl_kerneljmPKvEEET_PvPKcb.exit
  store i8* %call.i692, i8** bitcast (i32 (%struct._cl_command_queue*)** @_ZN6Halide7Runtime8Internal6OpenCL7clFlushE to i8**), align 8, !tbaa !11
  %call.i713 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @.str.43.250, i64 0, i64 0)) #16
  %tobool.not.i714.not = icmp eq i8* %call.i713, null
  br i1 %tobool.not.i714.not, label %if.then.i717, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit733

if.then.i717:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit712
  %call.i.i715 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i716 = icmp eq i8* %call.i.i715, null
  br i1 %tobool.not.i.i716, label %if.then.i717.split, label %if.then6.i.i719

if.then.i717.split:                               ; preds = %if.then.i717
  %call.i11.i72193 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i724

if.then6.i.i719:                                  ; preds = %if.then.i717
  %add.ptr.i.i718 = getelementptr inbounds i8, i8* %call.i.i715, i64 1023
  store i8 0, i8* %add.ptr.i.i718, align 1, !tbaa !15
  %call.i11.i72194 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i715, i8* nonnull %add.ptr.i.i718, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i724

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i724: ; preds = %if.then.i717.split, %if.then6.i.i719
  %phi.call95 = phi i8* [ %call.i11.i72193, %if.then.i717.split ], [ %call.i11.i72194, %if.then6.i.i719 ]
  %ref.tmp.sroa.14.0.i720 = phi i8* [ null, %if.then.i717.split ], [ %add.ptr.i.i718, %if.then6.i.i719 ]
  %call.i14.i722 = tail call i8* @halide_string_to_string(i8* %phi.call95, i8* %ref.tmp.sroa.14.0.i720, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @.str.43.250, i64 0, i64 0)) #16
  %call.i17.i723 = tail call i8* @halide_string_to_string(i8* %call.i14.i722, i8* %ref.tmp.sroa.14.0.i720, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i716, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i732, label %if.else.i.i730

if.else.i.i730:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i724
  %sub.ptr.lhs.cast.i.i.i725 = ptrtoint i8* %call.i17.i723 to i64
  %sub.ptr.rhs.cast.i.i.i726 = ptrtoint i8* %call.i.i715 to i64
  %sub.ptr.sub.i.i.i727 = sub i64 1, %sub.ptr.rhs.cast.i.i.i726
  %add.i.i.i728 = add i64 %sub.ptr.sub.i.i.i727, %sub.ptr.lhs.cast.i.i.i725
  %call.i.i.i729 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i715, i64 %add.i.i.i728) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i732

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i732: ; preds = %if.else.i.i730, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i724
  %.sink10.i.i731 = phi i8* [ %call.i.i715, %if.else.i.i730 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i724 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i731) #16
  tail call void @free(i8* %call.i.i715) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit733

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit733: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i732, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit712
  store i8* %call.i713, i8** bitcast (i32 (%struct._cl_command_queue*)** @_ZN6Halide7Runtime8Internal6OpenCL8clFinishE to i8**), align 8, !tbaa !11
  %call.i734 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([20 x i8], [20 x i8]* @.str.44.251, i64 0, i64 0)) #16
  %tobool.not.i735.not = icmp eq i8* %call.i734, null
  br i1 %tobool.not.i735.not, label %if.then.i738, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjmmPvjPKP9_cl_eventPSA_EEET_S8_PKcb.exit

if.then.i738:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit733
  %call.i.i736 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i737 = icmp eq i8* %call.i.i736, null
  br i1 %tobool.not.i.i737, label %if.then.i738.split, label %if.then6.i.i740

if.then.i738.split:                               ; preds = %if.then.i738
  %call.i11.i74296 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i745

if.then6.i.i740:                                  ; preds = %if.then.i738
  %add.ptr.i.i739 = getelementptr inbounds i8, i8* %call.i.i736, i64 1023
  store i8 0, i8* %add.ptr.i.i739, align 1, !tbaa !15
  %call.i11.i74297 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i736, i8* nonnull %add.ptr.i.i739, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i745

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i745: ; preds = %if.then.i738.split, %if.then6.i.i740
  %phi.call98 = phi i8* [ %call.i11.i74296, %if.then.i738.split ], [ %call.i11.i74297, %if.then6.i.i740 ]
  %ref.tmp.sroa.14.0.i741 = phi i8* [ null, %if.then.i738.split ], [ %add.ptr.i.i739, %if.then6.i.i740 ]
  %call.i14.i743 = tail call i8* @halide_string_to_string(i8* %phi.call98, i8* %ref.tmp.sroa.14.0.i741, i8* getelementptr inbounds ([20 x i8], [20 x i8]* @.str.44.251, i64 0, i64 0)) #16
  %call.i17.i744 = tail call i8* @halide_string_to_string(i8* %call.i14.i743, i8* %ref.tmp.sroa.14.0.i741, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i737, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i753, label %if.else.i.i751

if.else.i.i751:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i745
  %sub.ptr.lhs.cast.i.i.i746 = ptrtoint i8* %call.i17.i744 to i64
  %sub.ptr.rhs.cast.i.i.i747 = ptrtoint i8* %call.i.i736 to i64
  %sub.ptr.sub.i.i.i748 = sub i64 1, %sub.ptr.rhs.cast.i.i.i747
  %add.i.i.i749 = add i64 %sub.ptr.sub.i.i.i748, %sub.ptr.lhs.cast.i.i.i746
  %call.i.i.i750 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i736, i64 %add.i.i.i749) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i753

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i753: ; preds = %if.else.i.i751, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i745
  %.sink10.i.i752 = phi i8* [ %call.i.i736, %if.else.i.i751 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i745 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i752) #16
  tail call void @free(i8* %call.i.i736) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjmmPvjPKP9_cl_eventPSA_EEET_S8_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjmmPvjPKP9_cl_eventPSA_EEET_S8_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i753, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueEEET_PvPKcb.exit733
  store i8* %call.i734, i8** bitcast (i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL19clEnqueueReadBufferE to i8**), align 8, !tbaa !11
  %call.i754 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.45.252, i64 0, i64 0)) #16
  %tobool.not.i755.not = icmp eq i8* %call.i754, null
  br i1 %tobool.not.i755.not, label %if.then.i758, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_S9_mmmmPvjPKP9_cl_eventPSC_EEET_SA_PKcb.exit

if.then.i758:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjmmPvjPKP9_cl_eventPSA_EEET_S8_PKcb.exit
  %call.i.i756 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i757 = icmp eq i8* %call.i.i756, null
  br i1 %tobool.not.i.i757, label %if.then.i758.split, label %if.then6.i.i760

if.then.i758.split:                               ; preds = %if.then.i758
  %call.i11.i76299 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i765

if.then6.i.i760:                                  ; preds = %if.then.i758
  %add.ptr.i.i759 = getelementptr inbounds i8, i8* %call.i.i756, i64 1023
  store i8 0, i8* %add.ptr.i.i759, align 1, !tbaa !15
  %call.i11.i762100 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i756, i8* nonnull %add.ptr.i.i759, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i765

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i765: ; preds = %if.then.i758.split, %if.then6.i.i760
  %phi.call101 = phi i8* [ %call.i11.i76299, %if.then.i758.split ], [ %call.i11.i762100, %if.then6.i.i760 ]
  %ref.tmp.sroa.14.0.i761 = phi i8* [ null, %if.then.i758.split ], [ %add.ptr.i.i759, %if.then6.i.i760 ]
  %call.i14.i763 = tail call i8* @halide_string_to_string(i8* %phi.call101, i8* %ref.tmp.sroa.14.0.i761, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.45.252, i64 0, i64 0)) #16
  %call.i17.i764 = tail call i8* @halide_string_to_string(i8* %call.i14.i763, i8* %ref.tmp.sroa.14.0.i761, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i757, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i773, label %if.else.i.i771

if.else.i.i771:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i765
  %sub.ptr.lhs.cast.i.i.i766 = ptrtoint i8* %call.i17.i764 to i64
  %sub.ptr.rhs.cast.i.i.i767 = ptrtoint i8* %call.i.i756 to i64
  %sub.ptr.sub.i.i.i768 = sub i64 1, %sub.ptr.rhs.cast.i.i.i767
  %add.i.i.i769 = add i64 %sub.ptr.sub.i.i.i768, %sub.ptr.lhs.cast.i.i.i766
  %call.i.i.i770 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i756, i64 %add.i.i.i769) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i773

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i773: ; preds = %if.else.i.i771, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i765
  %.sink10.i.i772 = phi i8* [ %call.i.i756, %if.else.i.i771 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i765 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i772) #16
  tail call void @free(i8* %call.i.i756) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_S9_mmmmPvjPKP9_cl_eventPSC_EEET_SA_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_S9_mmmmPvjPKP9_cl_eventPSC_EEET_SA_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i773, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjmmPvjPKP9_cl_eventPSA_EEET_S8_PKcb.exit
  store i8* %call.i754, i8** bitcast (i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64*, i64*, i64*, i64, i64, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL23clEnqueueReadBufferRectE to i8**), align 8, !tbaa !11
  %call.i774 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.46.253, i64 0, i64 0)) #16
  %tobool.not.i775.not = icmp eq i8* %call.i774, null
  br i1 %tobool.not.i775.not, label %if.then.i778, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjmmPKvjPKP9_cl_eventPSB_EEET_PvPKcb.exit

if.then.i778:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_S9_mmmmPvjPKP9_cl_eventPSC_EEET_SA_PKcb.exit
  %call.i.i776 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i777 = icmp eq i8* %call.i.i776, null
  br i1 %tobool.not.i.i777, label %if.then.i778.split, label %if.then6.i.i780

if.then.i778.split:                               ; preds = %if.then.i778
  %call.i11.i782102 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i785

if.then6.i.i780:                                  ; preds = %if.then.i778
  %add.ptr.i.i779 = getelementptr inbounds i8, i8* %call.i.i776, i64 1023
  store i8 0, i8* %add.ptr.i.i779, align 1, !tbaa !15
  %call.i11.i782103 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i776, i8* nonnull %add.ptr.i.i779, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i785

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i785: ; preds = %if.then.i778.split, %if.then6.i.i780
  %phi.call104 = phi i8* [ %call.i11.i782102, %if.then.i778.split ], [ %call.i11.i782103, %if.then6.i.i780 ]
  %ref.tmp.sroa.14.0.i781 = phi i8* [ null, %if.then.i778.split ], [ %add.ptr.i.i779, %if.then6.i.i780 ]
  %call.i14.i783 = tail call i8* @halide_string_to_string(i8* %phi.call104, i8* %ref.tmp.sroa.14.0.i781, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.46.253, i64 0, i64 0)) #16
  %call.i17.i784 = tail call i8* @halide_string_to_string(i8* %call.i14.i783, i8* %ref.tmp.sroa.14.0.i781, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i777, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i793, label %if.else.i.i791

if.else.i.i791:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i785
  %sub.ptr.lhs.cast.i.i.i786 = ptrtoint i8* %call.i17.i784 to i64
  %sub.ptr.rhs.cast.i.i.i787 = ptrtoint i8* %call.i.i776 to i64
  %sub.ptr.sub.i.i.i788 = sub i64 1, %sub.ptr.rhs.cast.i.i.i787
  %add.i.i.i789 = add i64 %sub.ptr.sub.i.i.i788, %sub.ptr.lhs.cast.i.i.i786
  %call.i.i.i790 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i776, i64 %add.i.i.i789) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i793

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i793: ; preds = %if.else.i.i791, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i785
  %.sink10.i.i792 = phi i8* [ %call.i.i776, %if.else.i.i791 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i785 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i792) #16
  tail call void @free(i8* %call.i.i776) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjmmPKvjPKP9_cl_eventPSB_EEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjmmPKvjPKP9_cl_eventPSB_EEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i793, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_S9_mmmmPvjPKP9_cl_eventPSC_EEET_SA_PKcb.exit
  store i8* %call.i774, i8** bitcast (i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL20clEnqueueWriteBufferE to i8**), align 8, !tbaa !11
  %call.i794 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([25 x i8], [25 x i8]* @.str.47.254, i64 0, i64 0)) #16
  %tobool.not.i795.not = icmp eq i8* %call.i794, null
  br i1 %tobool.not.i795.not, label %if.then.i798, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_S9_mmmmPKvjPKP9_cl_eventPSD_EEET_PvPKcb.exit

if.then.i798:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjmmPKvjPKP9_cl_eventPSB_EEET_PvPKcb.exit
  %call.i.i796 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i797 = icmp eq i8* %call.i.i796, null
  br i1 %tobool.not.i.i797, label %if.then.i798.split, label %if.then6.i.i800

if.then.i798.split:                               ; preds = %if.then.i798
  %call.i11.i802105 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i805

if.then6.i.i800:                                  ; preds = %if.then.i798
  %add.ptr.i.i799 = getelementptr inbounds i8, i8* %call.i.i796, i64 1023
  store i8 0, i8* %add.ptr.i.i799, align 1, !tbaa !15
  %call.i11.i802106 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i796, i8* nonnull %add.ptr.i.i799, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i805

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i805: ; preds = %if.then.i798.split, %if.then6.i.i800
  %phi.call107 = phi i8* [ %call.i11.i802105, %if.then.i798.split ], [ %call.i11.i802106, %if.then6.i.i800 ]
  %ref.tmp.sroa.14.0.i801 = phi i8* [ null, %if.then.i798.split ], [ %add.ptr.i.i799, %if.then6.i.i800 ]
  %call.i14.i803 = tail call i8* @halide_string_to_string(i8* %phi.call107, i8* %ref.tmp.sroa.14.0.i801, i8* getelementptr inbounds ([25 x i8], [25 x i8]* @.str.47.254, i64 0, i64 0)) #16
  %call.i17.i804 = tail call i8* @halide_string_to_string(i8* %call.i14.i803, i8* %ref.tmp.sroa.14.0.i801, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i797, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i813, label %if.else.i.i811

if.else.i.i811:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i805
  %sub.ptr.lhs.cast.i.i.i806 = ptrtoint i8* %call.i17.i804 to i64
  %sub.ptr.rhs.cast.i.i.i807 = ptrtoint i8* %call.i.i796 to i64
  %sub.ptr.sub.i.i.i808 = sub i64 1, %sub.ptr.rhs.cast.i.i.i807
  %add.i.i.i809 = add i64 %sub.ptr.sub.i.i.i808, %sub.ptr.lhs.cast.i.i.i806
  %call.i.i.i810 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i796, i64 %add.i.i.i809) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i813

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i813: ; preds = %if.else.i.i811, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i805
  %.sink10.i.i812 = phi i8* [ %call.i.i796, %if.else.i.i811 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i805 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i812) #16
  tail call void @free(i8* %call.i.i796) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_S9_mmmmPKvjPKP9_cl_eventPSD_EEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_S9_mmmmPKvjPKP9_cl_eventPSD_EEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i813, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjmmPKvjPKP9_cl_eventPSB_EEET_PvPKcb.exit
  store i8* %call.i794, i8** bitcast (i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64*, i64*, i64*, i64, i64, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL24clEnqueueWriteBufferRectE to i8**), align 8, !tbaa !11
  %call.i814 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([20 x i8], [20 x i8]* @.str.48.255, i64 0, i64 0)) #16
  %tobool.not.i815.not = icmp eq i8* %call.i814, null
  br i1 %tobool.not.i815.not, label %if.then.i818, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memS7_mmmjPKP9_cl_eventPS9_EEET_PvPKcb.exit

if.then.i818:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_S9_mmmmPKvjPKP9_cl_eventPSD_EEET_PvPKcb.exit
  %call.i.i816 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i817 = icmp eq i8* %call.i.i816, null
  br i1 %tobool.not.i.i817, label %if.then.i818.split, label %if.then6.i.i820

if.then.i818.split:                               ; preds = %if.then.i818
  %call.i11.i822108 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i825

if.then6.i.i820:                                  ; preds = %if.then.i818
  %add.ptr.i.i819 = getelementptr inbounds i8, i8* %call.i.i816, i64 1023
  store i8 0, i8* %add.ptr.i.i819, align 1, !tbaa !15
  %call.i11.i822109 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i816, i8* nonnull %add.ptr.i.i819, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i825

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i825: ; preds = %if.then.i818.split, %if.then6.i.i820
  %phi.call110 = phi i8* [ %call.i11.i822108, %if.then.i818.split ], [ %call.i11.i822109, %if.then6.i.i820 ]
  %ref.tmp.sroa.14.0.i821 = phi i8* [ null, %if.then.i818.split ], [ %add.ptr.i.i819, %if.then6.i.i820 ]
  %call.i14.i823 = tail call i8* @halide_string_to_string(i8* %phi.call110, i8* %ref.tmp.sroa.14.0.i821, i8* getelementptr inbounds ([20 x i8], [20 x i8]* @.str.48.255, i64 0, i64 0)) #16
  %call.i17.i824 = tail call i8* @halide_string_to_string(i8* %call.i14.i823, i8* %ref.tmp.sroa.14.0.i821, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i817, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i833, label %if.else.i.i831

if.else.i.i831:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i825
  %sub.ptr.lhs.cast.i.i.i826 = ptrtoint i8* %call.i17.i824 to i64
  %sub.ptr.rhs.cast.i.i.i827 = ptrtoint i8* %call.i.i816 to i64
  %sub.ptr.sub.i.i.i828 = sub i64 1, %sub.ptr.rhs.cast.i.i.i827
  %add.i.i.i829 = add i64 %sub.ptr.sub.i.i.i828, %sub.ptr.lhs.cast.i.i.i826
  %call.i.i.i830 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i816, i64 %add.i.i.i829) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i833

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i833: ; preds = %if.else.i.i831, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i825
  %.sink10.i.i832 = phi i8* [ %call.i.i816, %if.else.i.i831 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i825 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i832) #16
  tail call void @free(i8* %call.i.i816) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memS7_mmmjPKP9_cl_eventPS9_EEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memS7_mmmjPKP9_cl_eventPS9_EEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i833, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_S9_mmmmPKvjPKP9_cl_eventPSD_EEET_PvPKcb.exit
  store i8* %call.i814, i8** bitcast (i32 (%struct._cl_command_queue*, %struct._cl_mem*, %struct._cl_mem*, i64, i64, i64, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL19clEnqueueCopyBufferE to i8**), align 8, !tbaa !11
  %call.i834 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.49.256, i64 0, i64 0)) #16
  %tobool.not.i835.not = icmp eq i8* %call.i834, null
  br i1 %tobool.not.i835.not, label %if.then.i838, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_mmPvjPKP9_cl_eventPSC_EEET_SA_PKcb.exit

if.then.i838:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memS7_mmmjPKP9_cl_eventPS9_EEET_PvPKcb.exit
  %call.i.i836 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i837 = icmp eq i8* %call.i.i836, null
  br i1 %tobool.not.i.i837, label %if.then.i838.split, label %if.then6.i.i840

if.then.i838.split:                               ; preds = %if.then.i838
  %call.i11.i842111 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i845

if.then6.i.i840:                                  ; preds = %if.then.i838
  %add.ptr.i.i839 = getelementptr inbounds i8, i8* %call.i.i836, i64 1023
  store i8 0, i8* %add.ptr.i.i839, align 1, !tbaa !15
  %call.i11.i842112 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i836, i8* nonnull %add.ptr.i.i839, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i845

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i845: ; preds = %if.then.i838.split, %if.then6.i.i840
  %phi.call113 = phi i8* [ %call.i11.i842111, %if.then.i838.split ], [ %call.i11.i842112, %if.then6.i.i840 ]
  %ref.tmp.sroa.14.0.i841 = phi i8* [ null, %if.then.i838.split ], [ %add.ptr.i.i839, %if.then6.i.i840 ]
  %call.i14.i843 = tail call i8* @halide_string_to_string(i8* %phi.call113, i8* %ref.tmp.sroa.14.0.i841, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.49.256, i64 0, i64 0)) #16
  %call.i17.i844 = tail call i8* @halide_string_to_string(i8* %call.i14.i843, i8* %ref.tmp.sroa.14.0.i841, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i837, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i853, label %if.else.i.i851

if.else.i.i851:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i845
  %sub.ptr.lhs.cast.i.i.i846 = ptrtoint i8* %call.i17.i844 to i64
  %sub.ptr.rhs.cast.i.i.i847 = ptrtoint i8* %call.i.i836 to i64
  %sub.ptr.sub.i.i.i848 = sub i64 1, %sub.ptr.rhs.cast.i.i.i847
  %add.i.i.i849 = add i64 %sub.ptr.sub.i.i.i848, %sub.ptr.lhs.cast.i.i.i846
  %call.i.i.i850 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i836, i64 %add.i.i.i849) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i853

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i853: ; preds = %if.else.i.i851, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i845
  %.sink10.i.i852 = phi i8* [ %call.i.i836, %if.else.i.i851 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i845 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i852) #16
  tail call void @free(i8* %call.i.i836) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_mmPvjPKP9_cl_eventPSC_EEET_SA_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_mmPvjPKP9_cl_eventPSC_EEET_SA_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i853, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memS7_mmmjPKP9_cl_eventPS9_EEET_PvPKcb.exit
  store i8* %call.i834, i8** bitcast (i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64*, i64*, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL18clEnqueueReadImageE to i8**), align 8, !tbaa !11
  %call.i854 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([20 x i8], [20 x i8]* @.str.50.257, i64 0, i64 0)) #16
  %tobool.not.i855.not = icmp eq i8* %call.i854, null
  br i1 %tobool.not.i855.not, label %if.then.i858, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_mmPKvjPKP9_cl_eventPSD_EEET_PvPKcb.exit

if.then.i858:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_mmPvjPKP9_cl_eventPSC_EEET_SA_PKcb.exit
  %call.i.i856 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i857 = icmp eq i8* %call.i.i856, null
  br i1 %tobool.not.i.i857, label %if.then.i858.split, label %if.then6.i.i860

if.then.i858.split:                               ; preds = %if.then.i858
  %call.i11.i862114 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i865

if.then6.i.i860:                                  ; preds = %if.then.i858
  %add.ptr.i.i859 = getelementptr inbounds i8, i8* %call.i.i856, i64 1023
  store i8 0, i8* %add.ptr.i.i859, align 1, !tbaa !15
  %call.i11.i862115 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i856, i8* nonnull %add.ptr.i.i859, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i865

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i865: ; preds = %if.then.i858.split, %if.then6.i.i860
  %phi.call116 = phi i8* [ %call.i11.i862114, %if.then.i858.split ], [ %call.i11.i862115, %if.then6.i.i860 ]
  %ref.tmp.sroa.14.0.i861 = phi i8* [ null, %if.then.i858.split ], [ %add.ptr.i.i859, %if.then6.i.i860 ]
  %call.i14.i863 = tail call i8* @halide_string_to_string(i8* %phi.call116, i8* %ref.tmp.sroa.14.0.i861, i8* getelementptr inbounds ([20 x i8], [20 x i8]* @.str.50.257, i64 0, i64 0)) #16
  %call.i17.i864 = tail call i8* @halide_string_to_string(i8* %call.i14.i863, i8* %ref.tmp.sroa.14.0.i861, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i857, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i873, label %if.else.i.i871

if.else.i.i871:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i865
  %sub.ptr.lhs.cast.i.i.i866 = ptrtoint i8* %call.i17.i864 to i64
  %sub.ptr.rhs.cast.i.i.i867 = ptrtoint i8* %call.i.i856 to i64
  %sub.ptr.sub.i.i.i868 = sub i64 1, %sub.ptr.rhs.cast.i.i.i867
  %add.i.i.i869 = add i64 %sub.ptr.sub.i.i.i868, %sub.ptr.lhs.cast.i.i.i866
  %call.i.i.i870 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i856, i64 %add.i.i.i869) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i873

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i873: ; preds = %if.else.i.i871, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i865
  %.sink10.i.i872 = phi i8* [ %call.i.i856, %if.else.i.i871 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i865 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i872) #16
  tail call void @free(i8* %call.i.i856) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_mmPKvjPKP9_cl_eventPSD_EEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_mmPKvjPKP9_cl_eventPSD_EEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i873, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_mmPvjPKP9_cl_eventPSC_EEET_SA_PKcb.exit
  store i8* %call.i854, i8** bitcast (i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64*, i64*, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL19clEnqueueWriteImageE to i8**), align 8, !tbaa !11
  %call.i874 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.51.258, i64 0, i64 0)) #16
  %tobool.not.i875.not = icmp eq i8* %call.i874, null
  br i1 %tobool.not.i875.not, label %if.then.i878, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFPvP17_cl_command_queueP7_cl_memjymmjPKP9_cl_eventPSA_PiEEET_S4_PKcb.exit

if.then.i878:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_mmPKvjPKP9_cl_eventPSD_EEET_PvPKcb.exit
  %call.i.i876 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i877 = icmp eq i8* %call.i.i876, null
  br i1 %tobool.not.i.i877, label %if.then.i878.split, label %if.then6.i.i880

if.then.i878.split:                               ; preds = %if.then.i878
  %call.i11.i882117 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i885

if.then6.i.i880:                                  ; preds = %if.then.i878
  %add.ptr.i.i879 = getelementptr inbounds i8, i8* %call.i.i876, i64 1023
  store i8 0, i8* %add.ptr.i.i879, align 1, !tbaa !15
  %call.i11.i882118 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i876, i8* nonnull %add.ptr.i.i879, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i885

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i885: ; preds = %if.then.i878.split, %if.then6.i.i880
  %phi.call119 = phi i8* [ %call.i11.i882117, %if.then.i878.split ], [ %call.i11.i882118, %if.then6.i.i880 ]
  %ref.tmp.sroa.14.0.i881 = phi i8* [ null, %if.then.i878.split ], [ %add.ptr.i.i879, %if.then6.i.i880 ]
  %call.i14.i883 = tail call i8* @halide_string_to_string(i8* %phi.call119, i8* %ref.tmp.sroa.14.0.i881, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.51.258, i64 0, i64 0)) #16
  %call.i17.i884 = tail call i8* @halide_string_to_string(i8* %call.i14.i883, i8* %ref.tmp.sroa.14.0.i881, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i877, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i893, label %if.else.i.i891

if.else.i.i891:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i885
  %sub.ptr.lhs.cast.i.i.i886 = ptrtoint i8* %call.i17.i884 to i64
  %sub.ptr.rhs.cast.i.i.i887 = ptrtoint i8* %call.i.i876 to i64
  %sub.ptr.sub.i.i.i888 = sub i64 1, %sub.ptr.rhs.cast.i.i.i887
  %add.i.i.i889 = add i64 %sub.ptr.sub.i.i.i888, %sub.ptr.lhs.cast.i.i.i886
  %call.i.i.i890 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i876, i64 %add.i.i.i889) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i893

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i893: ; preds = %if.else.i.i891, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i885
  %.sink10.i.i892 = phi i8* [ %call.i.i876, %if.else.i.i891 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i885 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i892) #16
  tail call void @free(i8* %call.i.i876) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFPvP17_cl_command_queueP7_cl_memjymmjPKP9_cl_eventPSA_PiEEET_S4_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFPvP17_cl_command_queueP7_cl_memjymmjPKP9_cl_eventPSA_PiEEET_S4_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i893, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memjPKmS9_mmPKvjPKP9_cl_eventPSD_EEET_PvPKcb.exit
  store i8* %call.i874, i8** bitcast (i8* (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64, i64, i64, i32, %struct._cl_event**, %struct._cl_event**, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL18clEnqueueMapBufferE to i8**), align 8, !tbaa !11
  %call.i894 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @.str.52.259, i64 0, i64 0)) #16
  %tobool.not.i895.not = icmp eq i8* %call.i894, null
  br i1 %tobool.not.i895.not, label %if.then.i898, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFPvP17_cl_command_queueP7_cl_memjyPKmSA_PmSB_jPKP9_cl_eventPSD_PiEEET_S4_PKcb.exit

if.then.i898:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFPvP17_cl_command_queueP7_cl_memjymmjPKP9_cl_eventPSA_PiEEET_S4_PKcb.exit
  %call.i.i896 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i897 = icmp eq i8* %call.i.i896, null
  br i1 %tobool.not.i.i897, label %if.then.i898.split, label %if.then6.i.i900

if.then.i898.split:                               ; preds = %if.then.i898
  %call.i11.i902120 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i905

if.then6.i.i900:                                  ; preds = %if.then.i898
  %add.ptr.i.i899 = getelementptr inbounds i8, i8* %call.i.i896, i64 1023
  store i8 0, i8* %add.ptr.i.i899, align 1, !tbaa !15
  %call.i11.i902121 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i896, i8* nonnull %add.ptr.i.i899, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i905

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i905: ; preds = %if.then.i898.split, %if.then6.i.i900
  %phi.call122 = phi i8* [ %call.i11.i902120, %if.then.i898.split ], [ %call.i11.i902121, %if.then6.i.i900 ]
  %ref.tmp.sroa.14.0.i901 = phi i8* [ null, %if.then.i898.split ], [ %add.ptr.i.i899, %if.then6.i.i900 ]
  %call.i14.i903 = tail call i8* @halide_string_to_string(i8* %phi.call122, i8* %ref.tmp.sroa.14.0.i901, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @.str.52.259, i64 0, i64 0)) #16
  %call.i17.i904 = tail call i8* @halide_string_to_string(i8* %call.i14.i903, i8* %ref.tmp.sroa.14.0.i901, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i897, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i913, label %if.else.i.i911

if.else.i.i911:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i905
  %sub.ptr.lhs.cast.i.i.i906 = ptrtoint i8* %call.i17.i904 to i64
  %sub.ptr.rhs.cast.i.i.i907 = ptrtoint i8* %call.i.i896 to i64
  %sub.ptr.sub.i.i.i908 = sub i64 1, %sub.ptr.rhs.cast.i.i.i907
  %add.i.i.i909 = add i64 %sub.ptr.sub.i.i.i908, %sub.ptr.lhs.cast.i.i.i906
  %call.i.i.i910 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i896, i64 %add.i.i.i909) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i913

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i913: ; preds = %if.else.i.i911, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i905
  %.sink10.i.i912 = phi i8* [ %call.i.i896, %if.else.i.i911 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i905 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i912) #16
  tail call void @free(i8* %call.i.i896) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFPvP17_cl_command_queueP7_cl_memjyPKmSA_PmSB_jPKP9_cl_eventPSD_PiEEET_S4_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFPvP17_cl_command_queueP7_cl_memjyPKmSA_PmSB_jPKP9_cl_eventPSD_PiEEET_S4_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i913, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFPvP17_cl_command_queueP7_cl_memjymmjPKP9_cl_eventPSA_PiEEET_S4_PKcb.exit
  store i8* %call.i894, i8** bitcast (i8* (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64, i64*, i64*, i64*, i64*, i32, %struct._cl_event**, %struct._cl_event**, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL17clEnqueueMapImageE to i8**), align 8, !tbaa !11
  %call.i914 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.53.260, i64 0, i64 0)) #16
  %tobool.not.i915.not = icmp eq i8* %call.i914, null
  br i1 %tobool.not.i915.not, label %if.then.i918, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memPvjPKP9_cl_eventPSA_EEET_S8_PKcb.exit

if.then.i918:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFPvP17_cl_command_queueP7_cl_memjyPKmSA_PmSB_jPKP9_cl_eventPSD_PiEEET_S4_PKcb.exit
  %call.i.i916 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i917 = icmp eq i8* %call.i.i916, null
  br i1 %tobool.not.i.i917, label %if.then.i918.split, label %if.then6.i.i920

if.then.i918.split:                               ; preds = %if.then.i918
  %call.i11.i922123 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i925

if.then6.i.i920:                                  ; preds = %if.then.i918
  %add.ptr.i.i919 = getelementptr inbounds i8, i8* %call.i.i916, i64 1023
  store i8 0, i8* %add.ptr.i.i919, align 1, !tbaa !15
  %call.i11.i922124 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i916, i8* nonnull %add.ptr.i.i919, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i925

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i925: ; preds = %if.then.i918.split, %if.then6.i.i920
  %phi.call125 = phi i8* [ %call.i11.i922123, %if.then.i918.split ], [ %call.i11.i922124, %if.then6.i.i920 ]
  %ref.tmp.sroa.14.0.i921 = phi i8* [ null, %if.then.i918.split ], [ %add.ptr.i.i919, %if.then6.i.i920 ]
  %call.i14.i923 = tail call i8* @halide_string_to_string(i8* %phi.call125, i8* %ref.tmp.sroa.14.0.i921, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.53.260, i64 0, i64 0)) #16
  %call.i17.i924 = tail call i8* @halide_string_to_string(i8* %call.i14.i923, i8* %ref.tmp.sroa.14.0.i921, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i917, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i933, label %if.else.i.i931

if.else.i.i931:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i925
  %sub.ptr.lhs.cast.i.i.i926 = ptrtoint i8* %call.i17.i924 to i64
  %sub.ptr.rhs.cast.i.i.i927 = ptrtoint i8* %call.i.i916 to i64
  %sub.ptr.sub.i.i.i928 = sub i64 1, %sub.ptr.rhs.cast.i.i.i927
  %add.i.i.i929 = add i64 %sub.ptr.sub.i.i.i928, %sub.ptr.lhs.cast.i.i.i926
  %call.i.i.i930 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i916, i64 %add.i.i.i929) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i933

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i933: ; preds = %if.else.i.i931, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i925
  %.sink10.i.i932 = phi i8* [ %call.i.i916, %if.else.i.i931 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i925 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i932) #16
  tail call void @free(i8* %call.i.i916) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memPvjPKP9_cl_eventPSA_EEET_S8_PKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memPvjPKP9_cl_eventPSA_EEET_S8_PKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i933, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFPvP17_cl_command_queueP7_cl_memjyPKmSA_PmSB_jPKP9_cl_eventPSD_PiEEET_S4_PKcb.exit
  store i8* %call.i914, i8** bitcast (i32 (%struct._cl_command_queue*, %struct._cl_mem*, i8*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL23clEnqueueUnmapMemObjectE to i8**), align 8, !tbaa !11
  %call.i934 = tail call i8* @halide_opencl_get_symbol(i8* %user_context, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.54.261, i64 0, i64 0)) #16
  %tobool.not.i935.not = icmp eq i8* %call.i934, null
  br i1 %tobool.not.i935.not, label %if.then.i938, label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP10_cl_kerneljPKmS9_S9_jPKP9_cl_eventPSB_EEET_PvPKcb.exit

if.then.i938:                                     ; preds = %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memPvjPKP9_cl_eventPSA_EEET_S8_PKcb.exit
  %call.i.i936 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i.i937 = icmp eq i8* %call.i.i936, null
  br i1 %tobool.not.i.i937, label %if.then.i938.split, label %if.then6.i.i940

if.then.i938.split:                               ; preds = %if.then.i938
  %call.i11.i942126 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i945

if.then6.i.i940:                                  ; preds = %if.then.i938
  %add.ptr.i.i939 = getelementptr inbounds i8, i8* %call.i.i936, i64 1023
  store i8 0, i8* %add.ptr.i.i939, align 1, !tbaa !15
  %call.i11.i942127 = tail call i8* @halide_string_to_string(i8* nonnull %call.i.i936, i8* nonnull %add.ptr.i.i939, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.273, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i945

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i945: ; preds = %if.then.i938.split, %if.then6.i.i940
  %phi.call128 = phi i8* [ %call.i11.i942126, %if.then.i938.split ], [ %call.i11.i942127, %if.then6.i.i940 ]
  %ref.tmp.sroa.14.0.i941 = phi i8* [ null, %if.then.i938.split ], [ %add.ptr.i.i939, %if.then6.i.i940 ]
  %call.i14.i943 = tail call i8* @halide_string_to_string(i8* %phi.call128, i8* %ref.tmp.sroa.14.0.i941, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.54.261, i64 0, i64 0)) #16
  %call.i17.i944 = tail call i8* @halide_string_to_string(i8* %call.i14.i943, i8* %ref.tmp.sroa.14.0.i941, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i.i937, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i953, label %if.else.i.i951

if.else.i.i951:                                   ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i945
  %sub.ptr.lhs.cast.i.i.i946 = ptrtoint i8* %call.i17.i944 to i64
  %sub.ptr.rhs.cast.i.i.i947 = ptrtoint i8* %call.i.i936 to i64
  %sub.ptr.sub.i.i.i948 = sub i64 1, %sub.ptr.rhs.cast.i.i.i947
  %add.i.i.i949 = add i64 %sub.ptr.sub.i.i.i948, %sub.ptr.lhs.cast.i.i.i946
  %call.i.i.i950 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i936, i64 %add.i.i.i949) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i953

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i953: ; preds = %if.else.i.i951, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i945
  %.sink10.i.i952 = phi i8* [ %call.i.i936, %if.else.i.i951 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit.i945 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i952) #16
  tail call void @free(i8* %call.i.i936) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP10_cl_kerneljPKmS9_S9_jPKP9_cl_eventPSB_EEET_PvPKcb.exit

_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP10_cl_kerneljPKmS9_S9_jPKP9_cl_eventPSB_EEET_PvPKcb.exit: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit.i953, %_ZN6Halide7Runtime8Internal6OpenCL13get_cl_symbolIPFiP17_cl_command_queueP7_cl_memPvjPKP9_cl_eventPSA_EEET_S8_PKcb.exit
  store i8* %call.i934, i8** bitcast (i32 (%struct._cl_command_queue*, %struct._cl_kernel*, i32, i64*, i64*, i64*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL22clEnqueueNDRangeKernelE to i8**), align 8, !tbaa !11
  ret void
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** %ctx, %struct._cl_command_queue** %q, i1 zeroext %create) local_unnamed_addr #0 {
entry:
  %cmp.not = icmp eq %struct._cl_context** %ctx, null
  br i1 %cmp.not, label %if.then, label %do.body1

if.then:                                          ; preds = %entry
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([91 x i8], [91 x i8]* @.str.55.203, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.body1

do.body1:                                         ; preds = %if.then, %entry
  %cmp2.not = icmp eq %struct._cl_command_queue** %q, null
  br i1 %cmp2.not, label %if.then3, label %while.cond.preheader

if.then3:                                         ; preds = %do.body1
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([89 x i8], [89 x i8]* @.str.56.204, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %while.cond.preheader

while.cond.preheader:                             ; preds = %if.then3, %do.body1
  br label %while.cond

while.cond:                                       ; preds = %while.cond.preheader, %while.cond
  %0 = atomicrmw volatile xchg i8* @_ZN6Halide7Runtime8Internal6OpenCL11thread_lockE, i8 1 acquire, align 1
  %tobool.not = icmp eq i8 %0, 0
  br i1 %tobool.not, label %do.end17, label %while.cond, !llvm.loop !442

do.end17:                                         ; preds = %while.cond
  %1 = load %struct._cl_context*, %struct._cl_context** @_ZN6Halide7Runtime8Internal6OpenCL7contextE, align 8, !tbaa !11
  %tobool18.not = icmp ne %struct._cl_context* %1, null
  %create.not = xor i1 %create, true
  %brmerge = select i1 %tobool18.not, i1 true, i1 %create.not
  br i1 %brmerge, label %if.end24, label %if.then20

if.then20:                                        ; preds = %do.end17
  %call = tail call i32 @_ZN6Halide7Runtime8Internal6OpenCL21create_opencl_contextEPvPP11_cl_contextPP17_cl_command_queue(i8* %user_context, %struct._cl_context** nonnull @_ZN6Halide7Runtime8Internal6OpenCL7contextE, %struct._cl_command_queue** nonnull @_ZN6Halide7Runtime8Internal6OpenCL13command_queueE) #17
  %cmp21.not = icmp eq i32 %call, 0
  br i1 %cmp21.not, label %if.then20.if.end24_crit_edge, label %if.then22

if.then20.if.end24_crit_edge:                     ; preds = %if.then20
  %.pre = load %struct._cl_context*, %struct._cl_context** @_ZN6Halide7Runtime8Internal6OpenCL7contextE, align 8, !tbaa !11
  br label %if.end24

if.then22:                                        ; preds = %if.then20
  store atomic volatile i8 0, i8* @_ZN6Halide7Runtime8Internal6OpenCL11thread_lockE release, align 1
  br label %return

if.end24:                                         ; preds = %if.then20.if.end24_crit_edge, %do.end17
  %2 = phi %struct._cl_context* [ %.pre, %if.then20.if.end24_crit_edge ], [ %1, %do.end17 ]
  store %struct._cl_context* %2, %struct._cl_context** %ctx, align 8, !tbaa !11
  %3 = load %struct._cl_command_queue*, %struct._cl_command_queue** @_ZN6Halide7Runtime8Internal6OpenCL13command_queueE, align 8, !tbaa !11
  store %struct._cl_command_queue* %3, %struct._cl_command_queue** %q, align 8, !tbaa !11
  br label %return

return:                                           ; preds = %if.end24, %if.then22
  %retval.1 = phi i32 [ 0, %if.end24 ], [ %call, %if.then22 ]
  ret i32 %retval.1
}

; Function Attrs: nounwind
define internal fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nocapture nonnull readonly align 8 dereferenceable(33) %this) unnamed_addr #3 align 2 {
entry:
  %buf = getelementptr %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %this, i64 0, i32 0
  %0 = load i8*, i8** %buf, align 8, !tbaa !427
  %tobool.not = icmp eq i8* %0, null
  br i1 %tobool.not, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %user_context = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %this, i64 0, i32 3
  br label %if.end

if.else:                                          ; preds = %entry
  %this.idx8 = getelementptr %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %this, i64 0, i32 1
  %this.idx8.val = load i8*, i8** %this.idx8, align 8, !tbaa !428
  %this.idx9 = getelementptr %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %this, i64 0, i32 3
  %this.idx9.val = load i8*, i8** %this.idx9, align 8, !tbaa !424
  %sub.ptr.lhs.cast.i = ptrtoint i8* %this.idx8.val to i64
  %sub.ptr.rhs.cast.i = ptrtoint i8* %0 to i64
  %sub.ptr.sub.i = sub i64 1, %sub.ptr.rhs.cast.i
  %add.i = add i64 %sub.ptr.sub.i, %sub.ptr.lhs.cast.i
  %call.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %this.idx9.val, i8* nonnull %0, i64 %add.i) #16
  %1 = load i8*, i8** %buf, align 8, !tbaa !427
  br label %if.end

if.end:                                           ; preds = %if.else, %if.then
  %.sink10 = phi i8* [ %1, %if.else ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then ]
  %.sink.in = phi i8** [ %this.idx9, %if.else ], [ %user_context, %if.then ]
  %.sink = load i8*, i8** %.sink.in, align 8, !tbaa !424
  tail call void @halide_error(i8* %.sink, i8* %.sink10) #16
  %own_mem = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %this, i64 0, i32 4
  %2 = load i8, i8* %own_mem, align 8, !tbaa !426, !range !18
  %tobool4.not = icmp eq i8 %2, 0
  br i1 %tobool4.not, label %if.end7, label %if.then5

if.then5:                                         ; preds = %if.end
  %3 = load i8*, i8** %buf, align 8, !tbaa !427
  tail call void @free(i8* %3) #16
  br label %if.end7

if.end7:                                          ; preds = %if.then5, %if.end
  ret void
}

; Function Attrs: mustprogress nounwind
define weak i32 @halide_release_cl_context(i8* %user_context) local_unnamed_addr #0 {
entry:
  store atomic volatile i8 0, i8* @_ZN6Halide7Runtime8Internal6OpenCL11thread_lockE release, align 1
  ret i32 0
}

; Function Attrs: nounwind
define linkonce i32 @_ZN6Halide7Runtime8Internal6OpenCL21create_opencl_contextEPvPP11_cl_contextPP17_cl_command_queue(i8* %user_context, %struct._cl_context** %ctx, %struct._cl_command_queue** %q) local_unnamed_addr #3 {
entry:
  %err = alloca i32, align 4
  %platforms = alloca [4 x %struct._cl_platform_id*], align 8
  %platform_count = alloca i32, align 4
  %platform_name = alloca [256 x i8], align 1
  %devices = alloca [128 x %struct._cl_device_id*], align 8
  %deviceCount = alloca i32, align 4
  %core_count = alloca i32, align 4
  %dev146 = alloca %struct._cl_device_id*, align 8
  %properties = alloca [3 x i64], align 8
  %ref.tmp159 = alloca %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", align 8
  %ref.tmp178 = alloca %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", align 8
  %cmp.not = icmp eq %struct._cl_context** %ctx, null
  br i1 %cmp.not, label %if.then, label %land.lhs.true

land.lhs.true:                                    ; preds = %entry
  %0 = load %struct._cl_context*, %struct._cl_context** %ctx, align 8, !tbaa !11
  %cmp3 = icmp eq %struct._cl_context* %0, null
  br i1 %cmp3, label %do.body4, label %if.then

if.then:                                          ; preds = %land.lhs.true, %entry
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([110 x i8], [110 x i8]* @.str.68.205, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.body4

do.body4:                                         ; preds = %if.then, %land.lhs.true
  %cmp5.not = icmp eq %struct._cl_command_queue** %q, null
  br i1 %cmp5.not, label %if.then8, label %land.lhs.true6

land.lhs.true6:                                   ; preds = %do.body4
  %1 = load %struct._cl_command_queue*, %struct._cl_command_queue** %q, align 8, !tbaa !11
  %cmp7 = icmp eq %struct._cl_command_queue* %1, null
  br i1 %cmp7, label %do.end10, label %if.then8

if.then8:                                         ; preds = %land.lhs.true6, %do.body4
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([106 x i8], [106 x i8]* @.str.69.206, i64 0, i64 0)) #16
  tail call void @abort() #16
  br label %do.end10

do.end10:                                         ; preds = %if.then8, %land.lhs.true6
  %2 = load i32 (i32, %struct._cl_platform_id**, i32*)*, i32 (i32, %struct._cl_platform_id**, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL16clGetPlatformIDsE, align 8, !tbaa !11
  %cmp11 = icmp eq i32 (i32, %struct._cl_platform_id**, i32*)* %2, null
  br i1 %cmp11, label %if.then12, label %if.end14

if.then12:                                        ; preds = %do.end10
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %if.then12
  %call.i280547 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([32 x i8], [32 x i8]* @.str.70.207, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %if.then12
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i280 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([32 x i8], [32 x i8]* @.str.70.207, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i280 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  br label %return

if.end14:                                         ; preds = %do.end10
  %3 = bitcast i32* %err to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %3) #11
  store i32 0, i32* %err, align 4, !tbaa !76
  %4 = bitcast [4 x %struct._cl_platform_id*]* %platforms to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %4) #11
  %5 = bitcast i32* %platform_count to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %5) #11
  store i32 0, i32* %platform_count, align 4, !tbaa !76
  %arraydecay = getelementptr inbounds [4 x %struct._cl_platform_id*], [4 x %struct._cl_platform_id*]* %platforms, i64 0, i64 0
  %call15 = call i32 %2(i32 4, %struct._cl_platform_id** nonnull %arraydecay, i32* nonnull %platform_count) #16
  store i32 %call15, i32* %err, align 4, !tbaa !76
  %cmp16.not = icmp eq i32 %call15, 0
  br i1 %cmp16.not, label %if.end24, label %if.then17

if.then17:                                        ; preds = %if.end14
  %call.i286 = call i8* @malloc(i64 1024) #16
  %tobool.not.i289 = icmp eq i8* %call.i286, null
  br i1 %tobool.not.i289, label %if.then17.split, label %if.then6.i292

if.then17.split:                                  ; preds = %if.then17
  %call.i2981 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([30 x i8], [30 x i8]* @.str.71.208, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit295

if.then6.i292:                                    ; preds = %if.then17
  %add.ptr.i290 = getelementptr inbounds i8, i8* %call.i286, i64 1023
  store i8 0, i8* %add.ptr.i290, align 1, !tbaa !15
  %call.i2982 = call i8* @halide_string_to_string(i8* nonnull %call.i286, i8* nonnull %add.ptr.i290, i8* getelementptr inbounds ([30 x i8], [30 x i8]* @.str.71.208, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit295

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit295: ; preds = %if.then17.split, %if.then6.i292
  %phi.call = phi i8* [ %call.i2981, %if.then17.split ], [ %call.i2982, %if.then6.i292 ]
  %ref.tmp18.sroa.16.0 = phi i8* [ null, %if.then17.split ], [ %add.ptr.i290, %if.then6.i292 ]
  %call20 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %call15) #17
  %call.i301 = call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp18.sroa.16.0, i8* %call20) #16
  %call.i304 = call i8* @halide_string_to_string(i8* %call.i301, i8* %ref.tmp18.sroa.16.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.72.209, i64 0, i64 0)) #16
  %conv.i = sext i32 %call15 to i64
  %call.i307 = call i8* @halide_int64_to_string(i8* %call.i304, i8* %ref.tmp18.sroa.16.0, i64 %conv.i, i32 1) #16
  br i1 %tobool.not.i289, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit329, label %if.else.i321

if.else.i321:                                     ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit295
  %sub.ptr.lhs.cast.i.i316 = ptrtoint i8* %call.i307 to i64
  %sub.ptr.rhs.cast.i.i317 = ptrtoint i8* %call.i286 to i64
  %sub.ptr.sub.i.i318 = sub i64 1, %sub.ptr.rhs.cast.i.i317
  %add.i.i319 = add i64 %sub.ptr.sub.i.i318, %sub.ptr.lhs.cast.i.i316
  %call.i.i320 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i286, i64 %add.i.i319) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit329

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit329: ; preds = %if.else.i321, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit295
  %.sink10.i322 = phi i8* [ %call.i286, %if.else.i321 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit295 ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i322) #16
  call void @free(i8* %call.i286) #16
  br label %cleanup197

if.end24:                                         ; preds = %if.end14
  %call25 = call i8* @halide_opencl_get_platform_name(i8* %user_context) #17
  %cmp26.not = icmp eq i8* %call25, null
  br i1 %cmp26.not, label %if.else, label %for.cond.preheader

for.cond.preheader:                               ; preds = %if.end24
  %6 = getelementptr inbounds [256 x i8], [256 x i8]* %platform_name, i64 0, i64 0
  %7 = load i32, i32* %platform_count, align 4, !tbaa !76
  %cmp28562.not = icmp eq i32 %7, 0
  br i1 %cmp28562.not, label %if.then55, label %for.body

for.body:                                         ; preds = %for.cond.preheader, %for.inc
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc ], [ 0, %for.cond.preheader ]
  call void @llvm.lifetime.start.p0i8(i64 256, i8* nonnull %6) #11
  %8 = load i32 (%struct._cl_platform_id*, i32, i64, i8*, i64*)*, i32 (%struct._cl_platform_id*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL17clGetPlatformInfoE, align 8, !tbaa !11
  %arrayidx = getelementptr inbounds [4 x %struct._cl_platform_id*], [4 x %struct._cl_platform_id*]* %platforms, i64 0, i64 %indvars.iv
  %9 = load %struct._cl_platform_id*, %struct._cl_platform_id** %arrayidx, align 8, !tbaa !11
  %call30 = call i32 %8(%struct._cl_platform_id* %9, i32 2306, i64 256, i8* nonnull %6, i64* null) #16
  store i32 %call30, i32* %err, align 4, !tbaa !76
  %cmp31.not = icmp eq i32 %call30, 0
  br i1 %cmp31.not, label %if.end33, label %for.inc

if.end33:                                         ; preds = %for.body
  %call42 = call i8* @strstr(i8* nonnull %6, i8* nonnull %call25) #16
  %tobool.not = icmp eq i8* %call42, null
  br i1 %tobool.not, label %for.inc, label %cleanup

cleanup:                                          ; preds = %if.end33
  %arrayidx.le = getelementptr inbounds [4 x %struct._cl_platform_id*], [4 x %struct._cl_platform_id*]* %platforms, i64 0, i64 %indvars.iv
  %10 = load %struct._cl_platform_id*, %struct._cl_platform_id** %arrayidx.le, align 8, !tbaa !11
  call void @llvm.lifetime.end.p0i8(i64 256, i8* nonnull %6) #11
  br label %if.end53

for.inc:                                          ; preds = %if.end33, %for.body
  call void @llvm.lifetime.end.p0i8(i64 256, i8* nonnull %6) #11
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %11 = load i32, i32* %platform_count, align 4, !tbaa !76
  %12 = zext i32 %11 to i64
  %cmp28 = icmp ult i64 %indvars.iv.next, %12
  br i1 %cmp28, label %for.body, label %if.then55, !llvm.loop !443

if.else:                                          ; preds = %if.end24
  %13 = load i32, i32* %platform_count, align 4, !tbaa !76
  %cmp49.not = icmp eq i32 %13, 0
  %14 = load %struct._cl_platform_id*, %struct._cl_platform_id** %arraydecay, align 8
  br i1 %cmp49.not, label %if.then55, label %if.end53

if.end53:                                         ; preds = %if.else, %cleanup
  %platform.3 = phi %struct._cl_platform_id* [ %10, %cleanup ], [ %14, %if.else ]
  %cmp54 = icmp eq %struct._cl_platform_id* %platform.3, null
  br i1 %cmp54, label %if.then55, label %if.end58

if.then55:                                        ; preds = %for.inc, %if.end53, %if.else, %for.cond.preheader
  %call.i332 = call i8* @malloc(i64 1024) #16
  %tobool.not.i335 = icmp eq i8* %call.i332, null
  br i1 %tobool.not.i335, label %if.then.i348, label %if.else.i358

if.then.i348:                                     ; preds = %if.then55
  %call.i344554 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.74.210, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit366

if.else.i358:                                     ; preds = %if.then55
  %add.ptr.i336 = getelementptr inbounds i8, i8* %call.i332, i64 1023
  store i8 0, i8* %add.ptr.i336, align 1, !tbaa !15
  %call.i344 = call i8* @halide_string_to_string(i8* nonnull %call.i332, i8* nonnull %add.ptr.i336, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.74.210, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i353 = ptrtoint i8* %call.i344 to i64
  %sub.ptr.rhs.cast.i.i354 = ptrtoint i8* %call.i332 to i64
  %sub.ptr.sub.i.i355 = sub i64 1, %sub.ptr.rhs.cast.i.i354
  %add.i.i356 = add i64 %sub.ptr.sub.i.i355, %sub.ptr.lhs.cast.i.i353
  %call.i.i357 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i332, i64 %add.i.i356) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit366

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit366: ; preds = %if.else.i358, %if.then.i348
  %.sink10.i359 = phi i8* [ %call.i332, %if.else.i358 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i348 ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i359) #16
  call void @free(i8* %call.i332) #16
  br label %cleanup197

if.end58:                                         ; preds = %if.end53
  %call59 = call i8* @halide_opencl_get_device_type(i8* %user_context) #17
  %cmp60.not = icmp eq i8* %call59, null
  br i1 %cmp60.not, label %if.end78.thread, label %land.lhs.true61

land.lhs.true61:                                  ; preds = %if.end58
  %15 = load i8, i8* %call59, align 1, !tbaa !15
  %cmp62.not = icmp eq i8 %15, 0
  br i1 %cmp62.not, label %if.end78.thread, label %if.then63

if.then63:                                        ; preds = %land.lhs.true61
  %call64 = call i8* @strstr(i8* nonnull %call59, i8* getelementptr inbounds ([4 x i8], [4 x i8]* @.str.75.211, i64 0, i64 0)) #16
  %tobool65.not = icmp eq i8* %call64, null
  %spec.select272 = select i1 %tobool65.not, i64 0, i64 2
  %call68 = call i8* @strstr(i8* nonnull %call59, i8* getelementptr inbounds ([4 x i8], [4 x i8]* @.str.76.212, i64 0, i64 0)) #16
  %tobool69.not = icmp eq i8* %call68, null
  %or71 = or i64 %spec.select272, 4
  %device_type.1 = select i1 %tobool69.not, i64 %spec.select272, i64 %or71
  %call73 = call i8* @strstr(i8* nonnull %call59, i8* getelementptr inbounds ([4 x i8], [4 x i8]* @.str.77, i64 0, i64 0)) #16
  %tobool74.not = icmp eq i8* %call73, null
  %or76 = or i64 %device_type.1, 8
  br i1 %tobool74.not, label %if.end78, label %if.end78.thread558

if.end78:                                         ; preds = %if.then63
  %cmp79 = select i1 %tobool69.not, i1 %tobool65.not, i1 false
  br i1 %cmp79, label %if.end78.thread, label %if.end78.thread558

if.end78.thread:                                  ; preds = %if.end78, %land.lhs.true61, %if.end58
  br label %if.end78.thread558

if.end78.thread558:                               ; preds = %if.end78.thread, %if.end78, %if.then63
  %16 = phi i64 [ 4294967295, %if.end78.thread ], [ %device_type.1, %if.end78 ], [ %or76, %if.then63 ]
  %17 = bitcast [128 x %struct._cl_device_id*]* %devices to i8*
  call void @llvm.lifetime.start.p0i8(i64 1024, i8* nonnull %17) #11
  %18 = bitcast i32* %deviceCount to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %18) #11
  store i32 0, i32* %deviceCount, align 4, !tbaa !76
  %19 = load i32 (%struct._cl_platform_id*, i64, i32, %struct._cl_device_id**, i32*)*, i32 (%struct._cl_platform_id*, i64, i32, %struct._cl_device_id**, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL14clGetDeviceIDsE, align 8, !tbaa !11
  %arraydecay82 = getelementptr inbounds [128 x %struct._cl_device_id*], [128 x %struct._cl_device_id*]* %devices, i64 0, i64 0
  %call83 = call i32 %19(%struct._cl_platform_id* nonnull %platform.3, i64 %16, i32 128, %struct._cl_device_id** nonnull %arraydecay82, i32* nonnull %deviceCount) #16
  store i32 %call83, i32* %err, align 4, !tbaa !76
  %cmp84.not = icmp eq i32 %call83, 0
  br i1 %cmp84.not, label %if.end90, label %if.then85

if.then85:                                        ; preds = %if.end78.thread558
  %call.i369 = call i8* @malloc(i64 1024) #16
  %tobool.not.i372 = icmp eq i8* %call.i369, null
  br i1 %tobool.not.i372, label %if.then85.split, label %if.then6.i375

if.then85.split:                                  ; preds = %if.then85
  %call.i3813 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([28 x i8], [28 x i8]* @.str.78, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit378

if.then6.i375:                                    ; preds = %if.then85
  %add.ptr.i373 = getelementptr inbounds i8, i8* %call.i369, i64 1023
  store i8 0, i8* %add.ptr.i373, align 1, !tbaa !15
  %call.i3814 = call i8* @halide_string_to_string(i8* nonnull %call.i369, i8* nonnull %add.ptr.i373, i8* getelementptr inbounds ([28 x i8], [28 x i8]* @.str.78, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit378

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit378: ; preds = %if.then85.split, %if.then6.i375
  %phi.call5 = phi i8* [ %call.i3813, %if.then85.split ], [ %call.i3814, %if.then6.i375 ]
  %ref.tmp86.sroa.12.0 = phi i8* [ null, %if.then85.split ], [ %add.ptr.i373, %if.then6.i375 ]
  %call88 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %call83) #17
  %call.i384 = call i8* @halide_string_to_string(i8* %phi.call5, i8* %ref.tmp86.sroa.12.0, i8* %call88) #16
  br i1 %tobool.not.i372, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit406, label %if.else.i398

if.else.i398:                                     ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit378
  %sub.ptr.lhs.cast.i.i393 = ptrtoint i8* %call.i384 to i64
  %sub.ptr.rhs.cast.i.i394 = ptrtoint i8* %call.i369 to i64
  %sub.ptr.sub.i.i395 = sub i64 1, %sub.ptr.rhs.cast.i.i394
  %add.i.i396 = add i64 %sub.ptr.sub.i.i395, %sub.ptr.lhs.cast.i.i393
  %call.i.i397 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i369, i64 %add.i.i396) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit406

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit406: ; preds = %if.else.i398, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit378
  %.sink10.i399 = phi i8* [ %call.i369, %if.else.i398 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit378 ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i399) #16
  call void @free(i8* %call.i369) #16
  br label %cleanup190

if.end90:                                         ; preds = %if.end78.thread558
  %call91 = call i32 @halide_get_gpu_device(i8* %user_context) #16
  %cmp92 = icmp eq i32 %call91, -1
  %20 = load i32, i32* %deviceCount, align 4
  %cmp94 = icmp eq i32 %20, 1
  %or.cond = select i1 %cmp92, i1 %cmp94, i1 false
  %cmp92.not = xor i1 %cmp92, true
  %brmerge = or i1 %or.cond, %cmp92.not
  %.mux = select i1 %or.cond, i32 0, i32 %call91
  br i1 %brmerge, label %if.end138, label %for.cond102.preheader

for.cond102.preheader:                            ; preds = %if.end90
  %21 = bitcast i32* %core_count to i8*
  %cmp103564.not = icmp eq i32 %20, 0
  br i1 %cmp103564.not, label %if.then141, label %for.body105

for.body105:                                      ; preds = %for.cond102.preheader, %for.body105
  %indvars.iv569 = phi i64 [ %indvars.iv.next570, %for.body105 ], [ 0, %for.cond102.preheader ]
  %best_core_count.0566 = phi i32 [ %best_core_count.2, %for.body105 ], [ 0, %for.cond102.preheader ]
  %device.0565 = phi i32 [ %device.2, %for.body105 ], [ -1, %for.cond102.preheader ]
  %arrayidx107 = getelementptr inbounds [128 x %struct._cl_device_id*], [128 x %struct._cl_device_id*]* %devices, i64 0, i64 %indvars.iv569
  %22 = load %struct._cl_device_id*, %struct._cl_device_id** %arrayidx107, align 8, !tbaa !11
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %21) #11
  store i32 0, i32* %core_count, align 4, !tbaa !76
  %23 = load i32 (%struct._cl_device_id*, i32, i64, i8*, i64*)*, i32 (%struct._cl_device_id*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL15clGetDeviceInfoE, align 8, !tbaa !11
  %call108 = call i32 %23(%struct._cl_device_id* %22, i32 4098, i64 4, i8* nonnull %21, i64* null) #16
  store i32 %call108, i32* %err, align 4, !tbaa !76
  %cmp109.not = icmp eq i32 %call108, 0
  %24 = load i32, i32* %core_count, align 4
  %cmp122.not = icmp ult i32 %24, %best_core_count.0566
  %25 = trunc i64 %indvars.iv569 to i32
  %spec.select275 = select i1 %cmp122.not, i32 %device.0565, i32 %25
  %spec.select276 = select i1 %cmp122.not, i32 %best_core_count.0566, i32 %24
  %device.2 = select i1 %cmp109.not, i32 %spec.select275, i32 %device.0565
  %best_core_count.2 = select i1 %cmp109.not, i32 %spec.select276, i32 %best_core_count.0566
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %21) #11
  %indvars.iv.next570 = add nuw nsw i64 %indvars.iv569, 1
  %26 = load i32, i32* %deviceCount, align 4, !tbaa !76
  %27 = zext i32 %26 to i64
  %cmp103 = icmp ult i64 %indvars.iv.next570, %27
  br i1 %cmp103, label %for.body105, label %if.end138, !llvm.loop !444

if.end138:                                        ; preds = %for.body105, %if.end90
  %28 = phi i32 [ %20, %if.end90 ], [ %26, %for.body105 ]
  %device.3 = phi i32 [ %.mux, %if.end90 ], [ %device.2, %for.body105 ]
  %cmp139 = icmp sgt i32 %device.3, -1
  %cmp140.not = icmp slt i32 %device.3, %28
  %or.cond277 = select i1 %cmp139, i1 %cmp140.not, i1 false
  br i1 %or.cond277, label %if.end145, label %if.then141

if.then141:                                       ; preds = %if.end138, %for.cond102.preheader
  %device.3575 = phi i32 [ %device.3, %if.end138 ], [ -1, %for.cond102.preheader ]
  %call.i409 = call i8* @malloc(i64 1024) #16
  %tobool.not.i412 = icmp eq i8* %call.i409, null
  br i1 %tobool.not.i412, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit418.thread, label %if.else.i439

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit418.thread: ; preds = %if.then141
  %call.i4216 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([27 x i8], [27 x i8]* @.str.85, i64 0, i64 0)) #16
  %conv.i42419 = sext i32 %device.3575 to i64
  %call.i42520 = call i8* @halide_int64_to_string(i8* %call.i4216, i8* null, i64 %conv.i42419, i32 1) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit447

if.else.i439:                                     ; preds = %if.then141
  %add.ptr.i413 = getelementptr inbounds i8, i8* %call.i409, i64 1023
  store i8 0, i8* %add.ptr.i413, align 1, !tbaa !15
  %call.i4217 = call i8* @halide_string_to_string(i8* nonnull %call.i409, i8* nonnull %add.ptr.i413, i8* getelementptr inbounds ([27 x i8], [27 x i8]* @.str.85, i64 0, i64 0)) #16
  %conv.i424 = sext i32 %device.3575 to i64
  %call.i425 = call i8* @halide_int64_to_string(i8* %call.i4217, i8* nonnull %add.ptr.i413, i64 %conv.i424, i32 1) #16
  %sub.ptr.lhs.cast.i.i434 = ptrtoint i8* %call.i425 to i64
  %sub.ptr.rhs.cast.i.i435 = ptrtoint i8* %call.i409 to i64
  %sub.ptr.sub.i.i436 = sub i64 1, %sub.ptr.rhs.cast.i.i435
  %add.i.i437 = add i64 %sub.ptr.sub.i.i436, %sub.ptr.lhs.cast.i.i434
  %call.i.i438 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i409, i64 %add.i.i437) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit447

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit447: ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit418.thread, %if.else.i439
  %.sink10.i440 = phi i8* [ %call.i409, %if.else.i439 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit418.thread ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i440) #16
  call void @free(i8* %call.i409) #16
  br label %cleanup190

if.end145:                                        ; preds = %if.end138
  %29 = bitcast %struct._cl_device_id** %dev146 to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %29) #11
  %idxprom147561 = zext i32 %device.3 to i64
  %arrayidx148 = getelementptr inbounds [128 x %struct._cl_device_id*], [128 x %struct._cl_device_id*]* %devices, i64 0, i64 %idxprom147561
  %30 = load %struct._cl_device_id*, %struct._cl_device_id** %arrayidx148, align 8, !tbaa !11
  store %struct._cl_device_id* %30, %struct._cl_device_id** %dev146, align 8, !tbaa !11
  %31 = bitcast [3 x i64]* %properties to i8*
  call void @llvm.lifetime.start.p0i8(i64 24, i8* nonnull %31) #11
  %arrayinit.begin = getelementptr inbounds [3 x i64], [3 x i64]* %properties, i64 0, i64 0
  store i64 4228, i64* %arrayinit.begin, align 8, !tbaa !115
  %arrayinit.element = getelementptr inbounds [3 x i64], [3 x i64]* %properties, i64 0, i64 1
  %32 = ptrtoint %struct._cl_platform_id* %platform.3 to i64
  store i64 %32, i64* %arrayinit.element, align 8, !tbaa !115
  %arrayinit.element149 = getelementptr inbounds [3 x i64], [3 x i64]* %properties, i64 0, i64 2
  store i64 0, i64* %arrayinit.element149, align 8, !tbaa !115
  %33 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %call153 = call %struct._cl_context* %33(i64* nonnull %arrayinit.begin, i32 1, %struct._cl_device_id** nonnull %dev146, void (i8*, i8*, i64, i8*)* null, i8* null, i32* nonnull %err) #16
  store %struct._cl_context* %call153, %struct._cl_context** %ctx, align 8, !tbaa !11
  %34 = load i32, i32* %err, align 4, !tbaa !76
  %cmp154.not = icmp eq i32 %34, 0
  br i1 %cmp154.not, label %if.else165, label %if.then155

if.then155:                                       ; preds = %if.end145
  %call157 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %34) #17
  %35 = bitcast %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp159 to i8*
  call void @llvm.lifetime.start.p0i8(i64 40, i8* nonnull %35) #11
  %user_context.i448 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp159, i64 0, i32 3
  store i8* %user_context, i8** %user_context.i448, align 8, !tbaa !424
  %own_mem.i449 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp159, i64 0, i32 4
  store i8 1, i8* %own_mem.i449, align 8, !tbaa !426
  %call.i450 = call i8* @malloc(i64 1024) #16
  %buf3.i451 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp159, i64 0, i32 0
  store i8* %call.i450, i8** %buf3.i451, align 8, !tbaa !427
  %dst.i452 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp159, i64 0, i32 1
  %tobool.not.i453 = icmp eq i8* %call.i450, null
  br i1 %tobool.not.i453, label %if.then155.split, label %if.then6.i456

if.then155.split:                                 ; preds = %if.then155
  %call.i4629 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.87, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit459

if.then6.i456:                                    ; preds = %if.then155
  %add.ptr.i454 = getelementptr inbounds i8, i8* %call.i450, i64 1023
  store i8 0, i8* %add.ptr.i454, align 1, !tbaa !15
  %call.i46210 = call i8* @halide_string_to_string(i8* nonnull %call.i450, i8* nonnull %add.ptr.i454, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.87, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit459

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit459: ; preds = %if.then155.split, %if.then6.i456
  %add.ptr.i454.sink23 = phi i8* [ null, %if.then155.split ], [ %add.ptr.i454, %if.then6.i456 ]
  %phi.call11 = phi i8* [ %call.i4629, %if.then155.split ], [ %call.i46210, %if.then6.i456 ]
  %36 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp159, i64 0, i32 2
  store i8* %add.ptr.i454.sink23, i8** %36, align 8
  %37 = load i32, i32* %err, align 4, !tbaa !76
  %call161 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %37) #17
  %call.i465 = call i8* @halide_string_to_string(i8* %phi.call11, i8* %add.ptr.i454.sink23, i8* %call161) #16
  %call.i468 = call i8* @halide_string_to_string(i8* %call.i465, i8* %add.ptr.i454.sink23, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.88, i64 0, i64 0)) #16
  %38 = load i32, i32* %err, align 4, !tbaa !76
  %conv.i471 = sext i32 %38 to i64
  %call.i472 = call i8* @halide_int64_to_string(i8* %call.i468, i8* %add.ptr.i454.sink23, i64 %conv.i471, i32 1) #16
  store i8* %call.i472, i8** %dst.i452, align 8, !tbaa !428
  call fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nonnull align 8 dereferenceable(33) %ref.tmp159) #16
  call void @llvm.lifetime.end.p0i8(i64 40, i8* nonnull %35) #11
  br label %cleanup187

if.else165:                                       ; preds = %if.end145
  %39 = load %struct._cl_command_queue* (%struct._cl_context*, %struct._cl_device_id*, i64, i32*)*, %struct._cl_command_queue* (%struct._cl_context*, %struct._cl_device_id*, i64, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL20clCreateCommandQueueE, align 8, !tbaa !11
  %40 = load %struct._cl_device_id*, %struct._cl_device_id** %dev146, align 8, !tbaa !11
  %call172 = call %struct._cl_command_queue* %39(%struct._cl_context* %call153, %struct._cl_device_id* %40, i64 0, i32* nonnull %err) #16
  store %struct._cl_command_queue* %call172, %struct._cl_command_queue** %q, align 8, !tbaa !11
  %41 = load i32, i32* %err, align 4, !tbaa !76
  %cmp173.not = icmp eq i32 %41, 0
  br i1 %cmp173.not, label %cleanup187, label %if.then174

if.then174:                                       ; preds = %if.else165
  %call176 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %41) #17
  %42 = bitcast %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp178 to i8*
  call void @llvm.lifetime.start.p0i8(i64 40, i8* nonnull %42) #11
  %user_context.i473 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp178, i64 0, i32 3
  store i8* %user_context, i8** %user_context.i473, align 8, !tbaa !424
  %own_mem.i474 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp178, i64 0, i32 4
  store i8 1, i8* %own_mem.i474, align 8, !tbaa !426
  %call.i475 = call i8* @malloc(i64 1024) #16
  %buf3.i476 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp178, i64 0, i32 0
  store i8* %call.i475, i8** %buf3.i476, align 8, !tbaa !427
  %dst.i477 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp178, i64 0, i32 1
  %tobool.not.i478 = icmp eq i8* %call.i475, null
  br i1 %tobool.not.i478, label %if.then174.split, label %if.then6.i481

if.then174.split:                                 ; preds = %if.then174
  %call.i48712 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.90, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit484

if.then6.i481:                                    ; preds = %if.then174
  %add.ptr.i479 = getelementptr inbounds i8, i8* %call.i475, i64 1023
  store i8 0, i8* %add.ptr.i479, align 1, !tbaa !15
  %call.i48713 = call i8* @halide_string_to_string(i8* nonnull %call.i475, i8* nonnull %add.ptr.i479, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.90, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit484

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit484: ; preds = %if.then174.split, %if.then6.i481
  %add.ptr.i479.sink24 = phi i8* [ null, %if.then174.split ], [ %add.ptr.i479, %if.then6.i481 ]
  %phi.call14 = phi i8* [ %call.i48712, %if.then174.split ], [ %call.i48713, %if.then6.i481 ]
  %43 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp178, i64 0, i32 2
  store i8* %add.ptr.i479.sink24, i8** %43, align 8
  %44 = load i32, i32* %err, align 4, !tbaa !76
  %call180 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %44) #17
  %call.i490 = call i8* @halide_string_to_string(i8* %phi.call14, i8* %add.ptr.i479.sink24, i8* %call180) #16
  store i8* %call.i490, i8** %dst.i477, align 8, !tbaa !428
  call fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nonnull align 8 dereferenceable(33) %ref.tmp178) #16
  call void @llvm.lifetime.end.p0i8(i64 40, i8* nonnull %42) #11
  br label %cleanup187

cleanup187:                                       ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit484, %if.else165, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit459
  %retval.0 = load i32, i32* %err, align 4, !tbaa !76
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %31) #11
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %29) #11
  br label %cleanup190

cleanup190:                                       ; preds = %cleanup187, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit447, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit406
  %retval.2 = phi i32 [ %call83, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit406 ], [ -1, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit447 ], [ %retval.0, %cleanup187 ]
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %18) #11
  call void @llvm.lifetime.end.p0i8(i64 1024, i8* nonnull %17) #11
  br label %cleanup197

cleanup197:                                       ; preds = %cleanup190, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit366, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit329
  %retval.4 = phi i32 [ %call15, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit329 ], [ -32, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit366 ], [ %retval.2, %cleanup190 ]
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %5) #11
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %4) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %3) #11
  br label %return

return:                                           ; preds = %cleanup197, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit
  %retval.5 = phi i32 [ -1, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ %retval.4, %cleanup197 ]
  ret i32 %retval.5
}

; Function Attrs: nounwind
define weak i8* @halide_opencl_get_platform_name(i8* %user_context) local_unnamed_addr #3 {
entry:
  br label %while.cond.i

while.cond.i:                                     ; preds = %while.cond.i, %entry
  %0 = atomicrmw volatile xchg i8* @_ZN6Halide7Runtime8Internal6OpenCL18platform_name_lockE, i8 1 acquire, align 1
  %tobool.not.i = icmp eq i8 %0, 0
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit, label %while.cond.i, !llvm.loop !445

_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit: ; preds = %while.cond.i
  %1 = load i8, i8* @_ZN6Halide7Runtime8Internal6OpenCL25platform_name_initializedE, align 1, !tbaa !16, !range !18
  %tobool.not.i1 = icmp eq i8 %1, 0
  br i1 %tobool.not.i1, label %if.then.i, label %_ZN12_GLOBAL__N_140halide_opencl_get_platform_name_internalEPv.exit

if.then.i:                                        ; preds = %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %call.i = tail call i8* @getenv(i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.269, i64 0, i64 0)) #16
  %tobool.not.i.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i.i, label %_ZN12_GLOBAL__N_140halide_opencl_set_platform_name_internalEPKc.exit.i, label %if.then.i.i

if.then.i.i:                                      ; preds = %if.then.i
  %call.i.i = tail call i8* @strncpy(i8* getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13platform_nameE, i64 0, i64 0), i8* nonnull %call.i, i64 256) #16
  br label %_ZN12_GLOBAL__N_140halide_opencl_set_platform_name_internalEPKc.exit.i

_ZN12_GLOBAL__N_140halide_opencl_set_platform_name_internalEPKc.exit.i: ; preds = %if.then.i.i, %if.then.i
  %.sink.i.i = phi i8* [ getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13platform_nameE, i64 0, i64 255), %if.then.i.i ], [ getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13platform_nameE, i64 0, i64 0), %if.then.i ]
  store i8 0, i8* %.sink.i.i, align 1, !tbaa !15
  store i8 1, i8* @_ZN6Halide7Runtime8Internal6OpenCL25platform_name_initializedE, align 1, !tbaa !16
  br label %_ZN12_GLOBAL__N_140halide_opencl_get_platform_name_internalEPv.exit

_ZN12_GLOBAL__N_140halide_opencl_get_platform_name_internalEPv.exit: ; preds = %_ZN12_GLOBAL__N_140halide_opencl_set_platform_name_internalEPKc.exit.i, %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  store atomic volatile i8 0, i8* @_ZN6Halide7Runtime8Internal6OpenCL18platform_name_lockE release, align 1
  ret i8* getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13platform_nameE, i64 0, i64 0)
}

declare i8* @strstr(i8*, i8*) local_unnamed_addr #1

; Function Attrs: nounwind
define weak i8* @halide_opencl_get_device_type(i8* %user_context) local_unnamed_addr #3 {
entry:
  br label %while.cond.i

while.cond.i:                                     ; preds = %while.cond.i, %entry
  %0 = atomicrmw volatile xchg i8* @_ZN6Halide7Runtime8Internal6OpenCL16device_type_lockE, i8 1 acquire, align 1
  %tobool.not.i = icmp eq i8 %0, 0
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit, label %while.cond.i, !llvm.loop !445

_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit: ; preds = %while.cond.i
  %1 = load i8, i8* @_ZN6Halide7Runtime8Internal6OpenCL23device_type_initializedE, align 1, !tbaa !16, !range !18
  %tobool.not.i1 = icmp eq i8 %1, 0
  br i1 %tobool.not.i1, label %if.then.i, label %_ZN12_GLOBAL__N_138halide_opencl_get_device_type_internalEPv.exit

if.then.i:                                        ; preds = %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %call.i = tail call i8* @getenv(i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str.270, i64 0, i64 0)) #16
  %tobool.not.i.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i.i, label %_ZN12_GLOBAL__N_138halide_opencl_set_device_type_internalEPKc.exit.i, label %if.then.i.i

if.then.i.i:                                      ; preds = %if.then.i
  %call.i.i = tail call i8* @strncpy(i8* getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL11device_typeE, i64 0, i64 0), i8* nonnull %call.i, i64 256) #16
  br label %_ZN12_GLOBAL__N_138halide_opencl_set_device_type_internalEPKc.exit.i

_ZN12_GLOBAL__N_138halide_opencl_set_device_type_internalEPKc.exit.i: ; preds = %if.then.i.i, %if.then.i
  %.sink.i.i = phi i8* [ getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL11device_typeE, i64 0, i64 255), %if.then.i.i ], [ getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL11device_typeE, i64 0, i64 0), %if.then.i ]
  store i8 0, i8* %.sink.i.i, align 1, !tbaa !15
  store i8 1, i8* @_ZN6Halide7Runtime8Internal6OpenCL23device_type_initializedE, align 1, !tbaa !16
  br label %_ZN12_GLOBAL__N_138halide_opencl_get_device_type_internalEPv.exit

_ZN12_GLOBAL__N_138halide_opencl_get_device_type_internalEPv.exit: ; preds = %_ZN12_GLOBAL__N_138halide_opencl_set_device_type_internalEPKc.exit.i, %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  store atomic volatile i8 0, i8* @_ZN6Halide7Runtime8Internal6OpenCL16device_type_lockE release, align 1
  ret i8* getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL11device_typeE, i64 0, i64 0)
}

declare i8* @strncpy(i8*, i8*, i64) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind
define weak i8* @halide_opencl_get_symbol(i8* %user_context, i8* %name) local_unnamed_addr #0 {
entry:
  %0 = load i8*, i8** @_ZN6Halide7Runtime8Internal6OpenCL10lib_openclE, align 8, !tbaa !11
  %call = tail call i8* @halide_get_library_symbol(i8* %0, i8* %name) #16
  %tobool.not = icmp eq i8* %call, null
  br i1 %tobool.not, label %if.end, label %cleanup13

if.end:                                           ; preds = %entry
  %call226 = tail call i8* @halide_load_library(i8* getelementptr inbounds ([13 x i8], [13 x i8]* @.str.1.262, i64 0, i64 0)) #16
  store i8* %call226, i8** @_ZN6Halide7Runtime8Internal6OpenCL10lib_openclE, align 8, !tbaa !11
  %tobool3.not27.not = icmp eq i8* %call226, null
  br i1 %tobool3.not27.not, label %for.body.for.body_crit_edge.lr.ph, label %cleanup8

for.body.for.body_crit_edge.lr.ph:                ; preds = %if.end
  %call26 = call i8* @halide_load_library(i8* getelementptr inbounds ([51 x i8], [51 x i8]* @.str.2.263, i64 0, i64 0)) #16
  store i8* %call26, i8** @_ZN6Halide7Runtime8Internal6OpenCL10lib_openclE, align 8, !tbaa !11
  br label %cleanup8

cleanup8:                                         ; preds = %for.body.for.body_crit_edge.lr.ph, %if.end
  %call2.lcssa = phi i8* [ %call226, %if.end ], [ %call26, %for.body.for.body_crit_edge.lr.ph ]
  %call11 = call i8* @halide_get_library_symbol(i8* %call2.lcssa, i8* %name) #16
  br label %cleanup13

cleanup13:                                        ; preds = %cleanup8, %entry
  %retval.0 = phi i8* [ %call11, %cleanup8 ], [ %call, %entry ]
  ret i8* %retval.0
}

; Function Attrs: nounwind
define linkonce zeroext i1 @_ZN6Halide7Runtime8Internal6OpenCL23validate_device_pointerEPvP15halide_buffer_tm(i8* %user_context, %struct.halide_buffer_t* %buf, i64 %size) local_unnamed_addr #3 {
entry:
  %real_size = alloca i64, align 8
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %cmp = icmp eq i64 %0, 0
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %entry
  %1 = load i32 (%struct._cl_mem*, i32, i64, i8*, i64*)*, i32 (%struct._cl_mem*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL18clGetMemObjectInfoE, align 8, !tbaa !11
  %tobool.not = icmp eq i32 (%struct._cl_mem*, i32, i64, i8*, i64*)* %1, null
  br i1 %tobool.not, label %if.then1, label %if.end2

if.then1:                                         ; preds = %if.end
  tail call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #17
  %.pre = load i64, i64* %device, align 8, !tbaa !245
  %.pre76 = load i32 (%struct._cl_mem*, i32, i64, i8*, i64*)*, i32 (%struct._cl_mem*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL18clGetMemObjectInfoE, align 8, !tbaa !11
  br label %if.end2

if.end2:                                          ; preds = %if.then1, %if.end
  %2 = phi i32 (%struct._cl_mem*, i32, i64, i8*, i64*)* [ %.pre76, %if.then1 ], [ %1, %if.end ]
  %3 = phi i64 [ %.pre, %if.then1 ], [ %0, %if.end ]
  %4 = inttoptr i64 %3 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %4, i64 0, i32 1
  %5 = load %struct._cl_mem*, %struct._cl_mem** %mem, align 8, !tbaa !398
  %offset5 = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %4, i64 0, i32 0
  %6 = load i64, i64* %offset5, align 8, !tbaa !400
  %7 = bitcast i64* %real_size to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %7) #11
  %call = call i32 %2(%struct._cl_mem* %5, i32 4354, i64 8, i8* nonnull %7, i64* null) #16
  %cmp6.not = icmp eq i32 %call, 0
  br i1 %cmp6.not, label %if.end13, label %if.then7

if.then7:                                         ; preds = %if.end2
  %call.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then7.split, label %if.then6.i

if.then7.split:                                   ; preds = %if.then7
  %call.i481 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.60.264, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %if.then7
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i482 = call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([24 x i8], [24 x i8]* @.str.60.264, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %if.then7.split, %if.then6.i
  %phi.call = phi i8* [ %call.i481, %if.then7.split ], [ %call.i482, %if.then6.i ]
  %ref.tmp.sroa.16.0 = phi i8* [ null, %if.then7.split ], [ %add.ptr.i, %if.then6.i ]
  %8 = bitcast %struct._cl_mem* %5 to i8*
  %call.i51 = call i8* @halide_pointer_to_string(i8* %phi.call, i8* %ref.tmp.sroa.16.0, i8* %8) #16
  %call.i54 = call i8* @halide_string_to_string(i8* %call.i51, i8* %ref.tmp.sroa.16.0, i8* getelementptr inbounds ([31 x i8], [31 x i8]* @.str.61.200, i64 0, i64 0)) #16
  %call11 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %call) #17
  %call.i57 = call i8* @halide_string_to_string(i8* %call.i54, i8* %ref.tmp.sroa.16.0, i8* %call11) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i57 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  call void @free(i8* %call.i) #16
  br label %cleanup

if.end13:                                         ; preds = %if.end2
  %tobool23.not = icmp eq i64 %size, 0
  br i1 %tobool23.not, label %cleanup, label %do.body

do.body:                                          ; preds = %if.end13
  %9 = load i64, i64* %real_size, align 8, !tbaa !19
  %add = add i64 %6, %size
  %cmp25.not = icmp ult i64 %9, %add
  br i1 %cmp25.not, label %if.then26, label %cleanup

if.then26:                                        ; preds = %do.body
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([152 x i8], [152 x i8]* @.str.66.265, i64 0, i64 0)) #16
  call void @abort() #16
  br label %cleanup

cleanup:                                          ; preds = %if.then26, %do.body, %if.end13, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %7) #11
  br label %return

return:                                           ; preds = %cleanup, %entry
  %retval.1 = phi i1 [ %cmp6.not, %cleanup ], [ true, %entry ]
  ret i1 %retval.1
}

; Function Attrs: nounwind
define linkonce i32 @opencl_device_crop_from_offset(i8* %user_context, %struct.halide_buffer_t* %src, i64 %offset, %struct.halide_buffer_t* %dst) local_unnamed_addr #3 {
entry:
  %ctx = alloca %"class.Halide::Runtime::Internal::OpenCL::ClContext", align 8
  %0 = bitcast %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %0) #11
  %user_context2.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 0
  store i8* %user_context, i8** %user_context2.i, align 8, !tbaa !390
  %context.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 1
  store %struct._cl_context* null, %struct._cl_context** %context.i, align 8, !tbaa !392
  %cmd_queue.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  store %struct._cl_command_queue* null, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %error_code.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 3
  store i32 0, i32* %error_code.i, align 8, !tbaa !394
  %1 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp.i = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %1, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  tail call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #16
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %entry
  %call.i = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %context.i, %struct._cl_command_queue** nonnull %cmd_queue.i, i1 zeroext true) #16
  store i32 %call.i, i32* %error_code.i, align 8, !tbaa !394
  %2 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %tobool.not.i = icmp eq %struct._cl_context* %2, null
  %3 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8
  %tobool8.not.i = icmp eq %struct._cl_command_queue* %3, null
  %or.cond.i = select i1 %tobool.not.i, i1 true, i1 %tobool8.not.i
  br i1 %or.cond.i, label %if.then9.i, label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit

if.then9.i:                                       ; preds = %if.end.i
  %call.i.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then9.i
  %call.i1832.i = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

if.else.i.i:                                      ; preds = %if.then9.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i18.i = call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i18.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread: ; preds = %if.else.i.i, %if.then.i.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i.i ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  call void @free(i8* %call.i.i) #16
  store i32 -1, i32* %error_code.i, align 8, !tbaa !394
  br label %cleanup15

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit: ; preds = %if.end.i
  %cmp.not = icmp eq i32 %call.i, 0
  br i1 %cmp.not, label %if.end, label %cleanup15

if.end:                                           ; preds = %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 1
  %4 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %device_interface2 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 1
  store %struct.halide_device_interface_t* %4, %struct.halide_device_interface_t** %device_interface2, align 8, !tbaa !310
  %call = call i8* @malloc(i64 16) #16
  %cmp3 = icmp eq i8* %call, null
  br i1 %cmp3, label %if.then4, label %if.end6

if.then4:                                         ; preds = %if.end
  %call.i29 = call i8* @malloc(i64 1024) #16
  %tobool.not.i30 = icmp eq i8* %call.i29, null
  br i1 %tobool.not.i30, label %if.then.i36, label %if.else.i

if.then.i36:                                      ; preds = %if.then4
  %call.i3351 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([50 x i8], [50 x i8]* @.str.180, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %if.then4
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i29, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i33 = call i8* @halide_string_to_string(i8* nonnull %call.i29, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([50 x i8], [50 x i8]* @.str.180, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i33 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i29 to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i37 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i29, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i36
  %.sink10.i = phi i8* [ %call.i29, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i36 ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  call void @free(i8* %call.i29) #16
  br label %cleanup15

if.end6:                                          ; preds = %if.end
  %5 = load i32 (%struct._cl_mem*)*, i32 (%struct._cl_mem*)** @_ZN6Halide7Runtime8Internal6OpenCL17clRetainMemObjectE, align 8, !tbaa !11
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %src, i64 0, i32 0
  %6 = load i64, i64* %device, align 8, !tbaa !245
  %7 = inttoptr i64 %6 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %7, i64 0, i32 1
  %8 = load %struct._cl_mem*, %struct._cl_mem** %mem, align 8, !tbaa !398
  %call7 = call i32 %5(%struct._cl_mem* %8) #16
  %9 = load i64, i64* %device, align 8, !tbaa !245
  %10 = inttoptr i64 %9 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem9 = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %10, i64 0, i32 1
  %11 = load %struct._cl_mem*, %struct._cl_mem** %mem9, align 8, !tbaa !398
  %mem10 = getelementptr inbounds i8, i8* %call, i64 8
  %12 = bitcast i8* %mem10 to %struct._cl_mem**
  store %struct._cl_mem* %11, %struct._cl_mem** %12, align 8, !tbaa !398
  %offset12 = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %10, i64 0, i32 0
  %13 = load i64, i64* %offset12, align 8, !tbaa !400
  %add = add i64 %13, %offset
  %offset13 = bitcast i8* %call to i64*
  store i64 %add, i64* %offset13, align 8, !tbaa !400
  %14 = ptrtoint i8* %call to i64
  %device14 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %dst, i64 0, i32 0
  store i64 %14, i64* %device14, align 8, !tbaa !245
  br label %cleanup15

cleanup15:                                        ; preds = %if.end6, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread
  %retval.1 = phi i32 [ %call.i, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit ], [ -11, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ 0, %if.end6 ], [ -1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread ]
  %15 = load i8*, i8** %user_context2.i, align 8, !tbaa !390
  %call.i27 = call i32 @halide_release_cl_context(i8* %15) #16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %0) #11
  ret i32 %retval.1
}

; Function Attrs: nounwind
define linkonce i32 @opencl_do_multidimensional_copy(i8* %user_context, %"class.Halide::Runtime::Internal::OpenCL::ClContext"* nonnull align 8 dereferenceable(28) %ctx, %"struct.Halide::Runtime::Internal::device_copy"* nonnull align 8 dereferenceable(416) %c, i64 %src_idx, i64 %dst_idx, i32 %d, i1 zeroext %from_host, i1 zeroext %to_host) local_unnamed_addr #3 {
entry:
  %cmp = icmp sgt i32 %d, 16
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %call.i = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %if.then
  %call.i195260 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([52 x i8], [52 x i8]* @.str.136, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

if.else.i:                                        ; preds = %if.then
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i195 = tail call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([52 x i8], [52 x i8]* @.str.136, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i195 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %if.then.i
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  tail call void @free(i8* %call.i) #16
  br label %return

if.else:                                          ; preds = %entry
  %cmp2 = icmp eq i32 %d, 0
  br i1 %cmp2, label %if.then3, label %for.cond.preheader

for.cond.preheader:                               ; preds = %if.else
  %sub = add nsw i32 %d, -1
  %idxprom = sext i32 %sub to i64
  %arrayidx = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 3, i64 %idxprom
  %arrayidx101 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 4, i64 %idxprom
  %arrayidx97 = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 5, i64 %idxprom
  %0 = load i64, i64* %arrayidx, align 8, !tbaa !115
  %conv264 = trunc i64 %0 to i32
  %cmp87265 = icmp sgt i32 %conv264, 0
  br i1 %cmp87265, label %for.body, label %return

if.then3:                                         ; preds = %if.else
  %src = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 0
  %dst = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 1
  %chunk_size = getelementptr inbounds %"struct.Halide::Runtime::Internal::device_copy", %"struct.Halide::Runtime::Internal::device_copy"* %c, i64 0, i32 6
  %to_host.not = xor i1 %to_host, true
  %brmerge = select i1 %from_host, i1 true, i1 %to_host.not
  br i1 %brmerge, label %if.else30, label %if.then23

if.then23:                                        ; preds = %if.then3
  %1 = load i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)*, i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL19clEnqueueReadBufferE, align 8, !tbaa !11
  %cmd_queue = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  %2 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue, align 8, !tbaa !393
  %3 = load i64, i64* %src, align 8, !tbaa !239
  %4 = inttoptr i64 %3 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %4, i64 0, i32 1
  %5 = load %struct._cl_mem*, %struct._cl_mem** %mem, align 8, !tbaa !398
  %offset = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %4, i64 0, i32 0
  %6 = load i64, i64* %offset, align 8, !tbaa !400
  %add = add i64 %6, %src_idx
  %7 = load i64, i64* %chunk_size, align 8, !tbaa !242
  %8 = load i64, i64* %dst, align 8, !tbaa !241
  %add28 = add i64 %8, %dst_idx
  %9 = inttoptr i64 %add28 to i8*
  %call29 = tail call i32 %1(%struct._cl_command_queue* %2, %struct._cl_mem* %5, i32 0, i64 %add, i64 %7, i8* %9, i32 0, %struct._cl_event** null, %struct._cl_event** null) #16
  br label %if.end78

if.else30:                                        ; preds = %if.then3
  %from_host.not = xor i1 %from_host, true
  %brmerge191 = select i1 %from_host.not, i1 true, i1 %to_host
  br i1 %brmerge191, label %if.else45, label %if.then34

if.then34:                                        ; preds = %if.else30
  %10 = load i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)*, i32 (%struct._cl_command_queue*, %struct._cl_mem*, i32, i64, i64, i8*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL20clEnqueueWriteBufferE, align 8, !tbaa !11
  %cmd_queue35 = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  %11 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue35, align 8, !tbaa !393
  %12 = load i64, i64* %dst, align 8, !tbaa !241
  %13 = inttoptr i64 %12 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem37 = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %13, i64 0, i32 1
  %14 = load %struct._cl_mem*, %struct._cl_mem** %mem37, align 8, !tbaa !398
  %offset39 = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %13, i64 0, i32 0
  %15 = load i64, i64* %offset39, align 8, !tbaa !400
  %add40 = add i64 %15, %dst_idx
  %16 = load i64, i64* %chunk_size, align 8, !tbaa !242
  %17 = load i64, i64* %src, align 8, !tbaa !239
  %add43 = add i64 %17, %src_idx
  %18 = inttoptr i64 %add43 to i8*
  %call44 = tail call i32 %10(%struct._cl_command_queue* %11, %struct._cl_mem* %14, i32 0, i64 %add40, i64 %16, i8* %18, i32 0, %struct._cl_event** null, %struct._cl_event** null) #16
  br label %if.end78

if.else45:                                        ; preds = %if.else30
  %brmerge192 = select i1 %from_host, i1 true, i1 %to_host
  br i1 %brmerge192, label %if.else63, label %if.then49

if.then49:                                        ; preds = %if.else45
  %19 = load i32 (%struct._cl_command_queue*, %struct._cl_mem*, %struct._cl_mem*, i64, i64, i64, i32, %struct._cl_event**, %struct._cl_event**)*, i32 (%struct._cl_command_queue*, %struct._cl_mem*, %struct._cl_mem*, i64, i64, i64, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL19clEnqueueCopyBufferE, align 8, !tbaa !11
  %cmd_queue50 = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  %20 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue50, align 8, !tbaa !393
  %21 = load i64, i64* %src, align 8, !tbaa !239
  %22 = inttoptr i64 %21 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem52 = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %22, i64 0, i32 1
  %23 = load %struct._cl_mem*, %struct._cl_mem** %mem52, align 8, !tbaa !398
  %24 = load i64, i64* %dst, align 8, !tbaa !241
  %25 = inttoptr i64 %24 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem54 = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %25, i64 0, i32 1
  %26 = load %struct._cl_mem*, %struct._cl_mem** %mem54, align 8, !tbaa !398
  %offset56 = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %22, i64 0, i32 0
  %27 = load i64, i64* %offset56, align 8, !tbaa !400
  %add57 = add i64 %27, %src_idx
  %offset59 = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %25, i64 0, i32 0
  %28 = load i64, i64* %offset59, align 8, !tbaa !400
  %add60 = add i64 %28, %dst_idx
  %29 = load i64, i64* %chunk_size, align 8, !tbaa !242
  %call62 = tail call i32 %19(%struct._cl_command_queue* %20, %struct._cl_mem* %23, %struct._cl_mem* %26, i64 %add57, i64 %add60, i64 %29, i32 0, %struct._cl_event** null, %struct._cl_event** null) #16
  br label %if.end78

if.else63:                                        ; preds = %if.else45
  %30 = load i64, i64* %dst, align 8, !tbaa !241
  %add65 = add i64 %30, %dst_idx
  %31 = load i64, i64* %src, align 8, !tbaa !239
  %add67 = add i64 %31, %src_idx
  %cmp68.not = icmp eq i64 %add65, %add67
  br i1 %cmp68.not, label %return, label %if.then69

if.then69:                                        ; preds = %if.else63
  %32 = inttoptr i64 %add65 to i8*
  %33 = inttoptr i64 %add67 to i8*
  %34 = load i64, i64* %chunk_size, align 8, !tbaa !242
  %call75 = tail call i8* @memcpy(i8* %32, i8* %33, i64 %34) #16
  br label %return

if.end78:                                         ; preds = %if.then49, %if.then34, %if.then23
  %err.0 = phi i32 [ %call62, %if.then49 ], [ %call44, %if.then34 ], [ %call29, %if.then23 ]
  %tobool79.not = icmp eq i32 %err.0, 0
  br i1 %tobool79.not, label %return, label %if.then80

if.then80:                                        ; preds = %if.end78
  %call.i201 = tail call i8* @malloc(i64 1024) #16
  %tobool.not.i204 = icmp eq i8* %call.i201, null
  br i1 %tobool.not.i204, label %if.then80.split, label %if.then6.i207

if.then80.split:                                  ; preds = %if.then80
  %call.i2131 = tail call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([25 x i8], [25 x i8]* @.str.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit210

if.then6.i207:                                    ; preds = %if.then80
  %add.ptr.i205 = getelementptr inbounds i8, i8* %call.i201, i64 1023
  store i8 0, i8* %add.ptr.i205, align 1, !tbaa !15
  %call.i2132 = tail call i8* @halide_string_to_string(i8* nonnull %call.i201, i8* nonnull %add.ptr.i205, i8* getelementptr inbounds ([25 x i8], [25 x i8]* @.str.145, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit210

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit210: ; preds = %if.then80.split, %if.then6.i207
  %phi.call = phi i8* [ %call.i2131, %if.then80.split ], [ %call.i2132, %if.then6.i207 ]
  %ref.tmp81.sroa.12.0 = phi i8* [ null, %if.then80.split ], [ %add.ptr.i205, %if.then6.i207 ]
  %call83 = tail call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %err.0) #17
  %call.i216 = tail call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp81.sroa.12.0, i8* %call83) #16
  br i1 %tobool.not.i204, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit238, label %if.else.i230

if.else.i230:                                     ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit210
  %sub.ptr.lhs.cast.i.i225 = ptrtoint i8* %call.i216 to i64
  %sub.ptr.rhs.cast.i.i226 = ptrtoint i8* %call.i201 to i64
  %sub.ptr.sub.i.i227 = sub i64 1, %sub.ptr.rhs.cast.i.i226
  %add.i.i228 = add i64 %sub.ptr.sub.i.i227, %sub.ptr.lhs.cast.i.i225
  %call.i.i229 = tail call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i201, i64 %add.i.i228) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit238

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit238: ; preds = %if.else.i230, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit210
  %.sink10.i231 = phi i8* [ %call.i201, %if.else.i230 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit210 ]
  tail call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i231) #16
  tail call void @free(i8* %call.i201) #16
  br label %return

for.body:                                         ; preds = %for.cond.preheader, %for.inc
  %i.0268 = phi i32 [ %inc, %for.inc ], [ 0, %for.cond.preheader ]
  %dst_off.0267 = phi i64 [ %add98, %for.inc ], [ 0, %for.cond.preheader ]
  %src_off.0266 = phi i64 [ %add102, %for.inc ], [ 0, %for.cond.preheader ]
  %add89 = add nsw i64 %src_off.0266, %src_idx
  %add90 = add nsw i64 %dst_off.0267, %dst_idx
  %call94 = tail call i32 @opencl_do_multidimensional_copy(i8* %user_context, %"class.Halide::Runtime::Internal::OpenCL::ClContext"* nonnull align 8 dereferenceable(28) %ctx, %"struct.Halide::Runtime::Internal::device_copy"* nonnull align 8 dereferenceable(416) %c, i64 %add89, i64 %add90, i32 %sub, i1 zeroext %from_host, i1 zeroext %to_host) #17
  %tobool103.not = icmp eq i32 %call94, 0
  br i1 %tobool103.not, label %for.inc, label %return

for.inc:                                          ; preds = %for.body
  %35 = load i64, i64* %arrayidx101, align 8, !tbaa !115
  %add102 = add i64 %35, %src_off.0266
  %36 = load i64, i64* %arrayidx97, align 8, !tbaa !115
  %add98 = add i64 %36, %dst_off.0267
  %inc = add nuw nsw i32 %i.0268, 1
  %37 = load i64, i64* %arrayidx, align 8, !tbaa !115
  %conv = trunc i64 %37 to i32
  %cmp87 = icmp slt i32 %inc, %conv
  br i1 %cmp87, label %for.body, label %return, !llvm.loop !446

return:                                           ; preds = %for.inc, %for.body, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit238, %if.end78, %if.then69, %if.else63, %for.cond.preheader, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit
  %retval.4 = phi i32 [ -1, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ %err.0, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit238 ], [ 0, %if.end78 ], [ 0, %if.then69 ], [ 0, %if.else63 ], [ 0, %for.cond.preheader ], [ %call94, %for.body ], [ 0, %for.inc ]
  ret i32 %retval.4
}

; Function Attrs: mustprogress nofree norecurse nosync nounwind willreturn
define internal void @_GLOBAL__sub_I_opencl.cpp() #9 {
entry:
  %0 = load i8, i8* bitcast (i64* @_ZGVN6Halide7Runtime8Internal6OpenCL17compilation_cacheE to i8*), align 4
  %guard.uninitialized.i = icmp eq i8 %0, 0
  br i1 %guard.uninitialized.i, label %init.check.i, label %__cxx_global_var_init.exit

init.check.i:                                     ; preds = %entry
  store i32 0, i32* getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 1), align 8, !tbaa !405
  store %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* null, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 2), align 8, !tbaa !406
  store i32 0, i32* getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 3), align 8, !tbaa !403
  store i32 2, i32* getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 4), align 4, !tbaa !447
  store i8 1, i8* bitcast (i64* @_ZGVN6Halide7Runtime8Internal6OpenCL17compilation_cacheE to i8*), align 4
  br label %__cxx_global_var_init.exit

__cxx_global_var_init.exit:                       ; preds = %init.check.i, %entry
  ret void
}

; Function Attrs: mustprogress nounwind
define weak void @halide_opencl_cleanup() #0 {
entry:
  tail call void @_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE11release_allIPFiS5_EEEvPvRT_(%"class.Halide::Internal::GPUCompilationCache"* nonnull align 8 dereferenceable(32) @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i8* null, i32 (%struct._cl_program*)** nonnull align 8 dereferenceable(8) @_ZN6Halide7Runtime8Internal6OpenCL16clReleaseProgramE) #17
  %call = tail call i32 @halide_opencl_device_release(i8* null) #17
  ret void
}

; Function Attrs: nounwind
define linkonce_odr void @_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE11release_allIPFiS5_EEEvPvRT_(%"class.Halide::Internal::GPUCompilationCache"* nonnull align 8 dereferenceable(32) %this, i8* %user_context, i32 (%struct._cl_program*)** nonnull align 8 dereferenceable(8) %f) local_unnamed_addr #3 comdat align 2 {
entry:
  %mutex = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 0
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull %mutex) #16
  %count.i = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 3
  %0 = load i32, i32* %count.i, align 8, !tbaa !403
  %cmp.i = icmp eq i32 %0, 0
  br i1 %cmp.i, label %entry.if.then_crit_edge, label %for.cond.preheader.i

entry.if.then_crit_edge:                          ; preds = %entry
  %compilations.phi.trans.insert = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 2
  %.phi.trans.insert = bitcast %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** %compilations.phi.trans.insert to i8**
  %.pre = load i8*, i8** %.phi.trans.insert, align 8, !tbaa !406
  br label %if.then

for.cond.preheader.i:                             ; preds = %entry
  %log2_compilations_size.i = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 1
  %compilations.i = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 2
  %1 = load i32, i32* %log2_compilations_size.i, align 8, !tbaa !405
  %cmp258.not.i = icmp eq i32 %1, 31
  br i1 %cmp258.not.i, label %if.end, label %for.body.lr.ph.i

for.body.lr.ph.i:                                 ; preds = %for.cond.preheader.i
  %.pre64.i = load %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"*, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** %compilations.i, align 8, !tbaa !406
  %2 = bitcast %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %.pre64.i to i8*
  br label %for.body.us.i

for.body.us.i:                                    ; preds = %for.inc.us.i, %for.body.lr.ph.i
  %3 = phi i8* [ %13, %for.inc.us.i ], [ %2, %for.body.lr.ph.i ]
  %.pr6 = phi i32 [ %.pr5, %for.inc.us.i ], [ %0, %for.body.lr.ph.i ]
  %4 = phi i32 [ %14, %for.inc.us.i ], [ %1, %for.body.lr.ph.i ]
  %5 = phi %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* [ %15, %for.inc.us.i ], [ %.pre64.i, %for.body.lr.ph.i ]
  %indvars.iv61.i = phi i64 [ %indvars.iv.next62.i, %for.inc.us.i ], [ 0, %for.body.lr.ph.i ]
  %kernel_id.us.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %5, i64 %indvars.iv61.i, i32 2
  %6 = load i32, i32* %kernel_id.us.i, align 8, !tbaa !407
  %cmp3.not.us.i = icmp eq i32 %6, 0
  br i1 %cmp3.not.us.i, label %for.inc.us.i, label %land.lhs.true.us.i

land.lhs.true.us.i:                               ; preds = %for.body.us.i
  %use_count.us.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %5, i64 %indvars.iv61.i, i32 3
  %7 = load i32, i32* %use_count.us.i, align 4, !tbaa !410
  %cmp13.us.i = icmp eq i32 %7, 0
  br i1 %cmp13.us.i, label %if.then14.us.i, label %for.inc.us.i

if.then14.us.i:                                   ; preds = %land.lhs.true.us.i
  %8 = load i32 (%struct._cl_program*)*, i32 (%struct._cl_program*)** %f, align 8, !tbaa !11
  %module_state35.us.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %5, i64 %indvars.iv61.i, i32 1
  %9 = load %struct._cl_program*, %struct._cl_program** %module_state35.us.i, align 8, !tbaa !411
  %call.us.i = tail call i32 %8(%struct._cl_program* %9) #16
  %10 = load %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"*, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** %compilations.i, align 8, !tbaa !406
  %module_state39.us.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %10, i64 %indvars.iv61.i, i32 1
  store %struct._cl_program* null, %struct._cl_program** %module_state39.us.i, align 8, !tbaa !411
  %kernel_id43.us.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %10, i64 %indvars.iv61.i, i32 2
  store i32 1, i32* %kernel_id43.us.i, align 8, !tbaa !407
  %11 = load i32, i32* %count.i, align 8, !tbaa !403
  %dec.us.i = add nsw i32 %11, -1
  store i32 %dec.us.i, i32* %count.i, align 8, !tbaa !403
  %.pre65.i = load i32, i32* %log2_compilations_size.i, align 8, !tbaa !405
  %12 = bitcast %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %10 to i8*
  br label %for.inc.us.i

for.inc.us.i:                                     ; preds = %if.then14.us.i, %land.lhs.true.us.i, %for.body.us.i
  %13 = phi i8* [ %12, %if.then14.us.i ], [ %3, %land.lhs.true.us.i ], [ %3, %for.body.us.i ]
  %.pr5 = phi i32 [ %dec.us.i, %if.then14.us.i ], [ %.pr6, %land.lhs.true.us.i ], [ %.pr6, %for.body.us.i ]
  %14 = phi i32 [ %.pre65.i, %if.then14.us.i ], [ %4, %land.lhs.true.us.i ], [ %4, %for.body.us.i ]
  %15 = phi %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* [ %10, %if.then14.us.i ], [ %5, %land.lhs.true.us.i ], [ %5, %for.body.us.i ]
  %indvars.iv.next62.i = add nuw nsw i64 %indvars.iv61.i, 1
  %shl.us.i = shl nuw i32 1, %14
  %16 = sext i32 %shl.us.i to i64
  %cmp2.us.i = icmp slt i64 %indvars.iv.next62.i, %16
  br i1 %cmp2.us.i, label %for.body.us.i, label %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE15release_contextIPFiS5_EEEvPvbS3_RT_.exit, !llvm.loop !412

_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE15release_contextIPFiS5_EEEvPvbS3_RT_.exit: ; preds = %for.inc.us.i
  %cmp = icmp eq i32 %.pr5, 0
  br i1 %cmp, label %if.then, label %if.end

if.then:                                          ; preds = %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE15release_contextIPFiS5_EEEvPvbS3_RT_.exit, %entry.if.then_crit_edge
  %17 = phi i8* [ %.pre, %entry.if.then_crit_edge ], [ %13, %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE15release_contextIPFiS5_EEEvPvbS3_RT_.exit ]
  %compilations = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 2
  tail call void @free(i8* %17) #16
  store %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* null, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** %compilations, align 8, !tbaa !406
  %log2_compilations_size = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 1
  store i32 0, i32* %log2_compilations_size, align 8, !tbaa !405
  br label %if.end

if.end:                                           ; preds = %if.then, %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE15release_contextIPFiS5_EEEvPvbS3_RT_.exit, %for.cond.preheader.i
  tail call void @halide_mutex_unlock(%struct.halide_mutex* nonnull %mutex) #16
  ret void
}

; Function Attrs: nounwind
define weak void @halide_opencl_set_platform_name(i8* %n) local_unnamed_addr #3 {
entry:
  br label %while.cond.i

while.cond.i:                                     ; preds = %while.cond.i, %entry
  %0 = atomicrmw volatile xchg i8* @_ZN6Halide7Runtime8Internal6OpenCL18platform_name_lockE, i8 1 acquire, align 1
  %tobool.not.i = icmp eq i8 %0, 0
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit, label %while.cond.i, !llvm.loop !445

_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit: ; preds = %while.cond.i
  %tobool.not.i1 = icmp eq i8* %n, null
  br i1 %tobool.not.i1, label %_ZN12_GLOBAL__N_140halide_opencl_set_platform_name_internalEPKc.exit, label %if.then.i

if.then.i:                                        ; preds = %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %call.i = tail call i8* @strncpy(i8* getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13platform_nameE, i64 0, i64 0), i8* nonnull %n, i64 256) #16
  br label %_ZN12_GLOBAL__N_140halide_opencl_set_platform_name_internalEPKc.exit

_ZN12_GLOBAL__N_140halide_opencl_set_platform_name_internalEPKc.exit: ; preds = %if.then.i, %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %.sink.i = phi i8* [ getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13platform_nameE, i64 0, i64 255), %if.then.i ], [ getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13platform_nameE, i64 0, i64 0), %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit ]
  store i8 0, i8* %.sink.i, align 1, !tbaa !15
  store i8 1, i8* @_ZN6Halide7Runtime8Internal6OpenCL25platform_name_initializedE, align 1, !tbaa !16
  store atomic volatile i8 0, i8* @_ZN6Halide7Runtime8Internal6OpenCL18platform_name_lockE release, align 1
  ret void
}

; Function Attrs: nounwind
define weak void @halide_opencl_set_device_type(i8* %n) local_unnamed_addr #3 {
entry:
  br label %while.cond.i

while.cond.i:                                     ; preds = %while.cond.i, %entry
  %0 = atomicrmw volatile xchg i8* @_ZN6Halide7Runtime8Internal6OpenCL16device_type_lockE, i8 1 acquire, align 1
  %tobool.not.i = icmp eq i8 %0, 0
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit, label %while.cond.i, !llvm.loop !445

_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit: ; preds = %while.cond.i
  %tobool.not.i1 = icmp eq i8* %n, null
  br i1 %tobool.not.i1, label %_ZN12_GLOBAL__N_138halide_opencl_set_device_type_internalEPKc.exit, label %if.then.i

if.then.i:                                        ; preds = %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %call.i = tail call i8* @strncpy(i8* getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL11device_typeE, i64 0, i64 0), i8* nonnull %n, i64 256) #16
  br label %_ZN12_GLOBAL__N_138halide_opencl_set_device_type_internalEPKc.exit

_ZN12_GLOBAL__N_138halide_opencl_set_device_type_internalEPKc.exit: ; preds = %if.then.i, %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %.sink.i = phi i8* [ getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL11device_typeE, i64 0, i64 255), %if.then.i ], [ getelementptr inbounds ([256 x i8], [256 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL11device_typeE, i64 0, i64 0), %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit ]
  store i8 0, i8* %.sink.i, align 1, !tbaa !15
  store i8 1, i8* @_ZN6Halide7Runtime8Internal6OpenCL23device_type_initializedE, align 1, !tbaa !16
  store atomic volatile i8 0, i8* @_ZN6Halide7Runtime8Internal6OpenCL16device_type_lockE release, align 1
  ret void
}

; Function Attrs: nounwind
define weak void @halide_opencl_set_build_options(i8* %n) local_unnamed_addr #3 {
entry:
  br label %while.cond.i

while.cond.i:                                     ; preds = %while.cond.i, %entry
  %0 = atomicrmw volatile xchg i8* @_ZN6Halide7Runtime8Internal6OpenCL18build_options_lockE, i8 1 acquire, align 1
  %tobool.not.i = icmp eq i8 %0, 0
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit, label %while.cond.i, !llvm.loop !445

_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit: ; preds = %while.cond.i
  %tobool.not.i1 = icmp eq i8* %n, null
  br i1 %tobool.not.i1, label %_ZN12_GLOBAL__N_140halide_opencl_set_build_options_internalEPKc.exit, label %if.then.i

if.then.i:                                        ; preds = %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %call.i = tail call i8* @strncpy(i8* getelementptr inbounds ([1024 x i8], [1024 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13build_optionsE, i64 0, i64 0), i8* nonnull %n, i64 1024) #16
  br label %_ZN12_GLOBAL__N_140halide_opencl_set_build_options_internalEPKc.exit

_ZN12_GLOBAL__N_140halide_opencl_set_build_options_internalEPKc.exit: ; preds = %if.then.i, %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %.sink.i = phi i8* [ getelementptr inbounds ([1024 x i8], [1024 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13build_optionsE, i64 0, i64 1023), %if.then.i ], [ getelementptr inbounds ([1024 x i8], [1024 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13build_optionsE, i64 0, i64 0), %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit ]
  store i8 0, i8* %.sink.i, align 1, !tbaa !15
  store i8 1, i8* @_ZN6Halide7Runtime8Internal6OpenCL25build_options_initializedE, align 1, !tbaa !16
  store atomic volatile i8 0, i8* @_ZN6Halide7Runtime8Internal6OpenCL18build_options_lockE release, align 1
  ret void
}

; Function Attrs: nounwind
define weak i8* @halide_opencl_get_build_options(i8* %user_context) local_unnamed_addr #3 {
entry:
  br label %while.cond.i

while.cond.i:                                     ; preds = %while.cond.i, %entry
  %0 = atomicrmw volatile xchg i8* @_ZN6Halide7Runtime8Internal6OpenCL18build_options_lockE, i8 1 acquire, align 1
  %tobool.not.i = icmp eq i8 %0, 0
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit, label %while.cond.i, !llvm.loop !445

_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit: ; preds = %while.cond.i
  %1 = load i8, i8* @_ZN6Halide7Runtime8Internal6OpenCL25build_options_initializedE, align 1, !tbaa !16, !range !18
  %tobool.not.i1 = icmp eq i8 %1, 0
  br i1 %tobool.not.i1, label %if.then.i, label %_ZN12_GLOBAL__N_140halide_opencl_get_build_options_internalEPv.exit

if.then.i:                                        ; preds = %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  %call.i = tail call i8* @getenv(i8* getelementptr inbounds ([21 x i8], [21 x i8]* @.str.271, i64 0, i64 0)) #16
  %tobool.not.i.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i.i, label %_ZN12_GLOBAL__N_140halide_opencl_set_build_options_internalEPKc.exit.i, label %if.then.i.i

if.then.i.i:                                      ; preds = %if.then.i
  %call.i.i = tail call i8* @strncpy(i8* getelementptr inbounds ([1024 x i8], [1024 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13build_optionsE, i64 0, i64 0), i8* nonnull %call.i, i64 1024) #16
  br label %_ZN12_GLOBAL__N_140halide_opencl_set_build_options_internalEPKc.exit.i

_ZN12_GLOBAL__N_140halide_opencl_set_build_options_internalEPKc.exit.i: ; preds = %if.then.i.i, %if.then.i
  %.sink.i.i = phi i8* [ getelementptr inbounds ([1024 x i8], [1024 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13build_optionsE, i64 0, i64 1023), %if.then.i.i ], [ getelementptr inbounds ([1024 x i8], [1024 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13build_optionsE, i64 0, i64 0), %if.then.i ]
  store i8 0, i8* %.sink.i.i, align 1, !tbaa !15
  store i8 1, i8* @_ZN6Halide7Runtime8Internal6OpenCL25build_options_initializedE, align 1, !tbaa !16
  br label %_ZN12_GLOBAL__N_140halide_opencl_get_build_options_internalEPv.exit

_ZN12_GLOBAL__N_140halide_opencl_get_build_options_internalEPv.exit: ; preds = %_ZN12_GLOBAL__N_140halide_opencl_set_build_options_internalEPKc.exit.i, %_ZN6Halide7Runtime8Internal14ScopedSpinLockC2EPVc.exit
  store atomic volatile i8 0, i8* @_ZN6Halide7Runtime8Internal6OpenCL18build_options_lockE release, align 1
  ret i8* getelementptr inbounds ([1024 x i8], [1024 x i8]* @_ZN6Halide7Runtime8Internal6OpenCL13build_optionsE, i64 0, i64 0)
}

; Function Attrs: nounwind
define linkonce %struct._cl_program* @_ZN6Halide7Runtime8Internal6OpenCL14compile_kernelEPvP11_cl_contextPKci(i8* %user_context, %struct._cl_context* %ctx, i8* %src, i32 %size) #3 {
entry:
  %err = alloca i32, align 4
  %dev = alloca %struct._cl_device_id*, align 8
  %devices = alloca [1 x %struct._cl_device_id*], align 8
  %max_constant_buffer_size = alloca i64, align 8
  %max_constant_args = alloca i32, align 4
  %sources = alloca [1 x i8*], align 8
  %ref.tmp61 = alloca %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", align 8
  %0 = bitcast i32* %err to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %0) #11
  store i32 0, i32* %err, align 4, !tbaa !76
  %1 = bitcast %struct._cl_device_id** %dev to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %1) #11
  %2 = load i32 (%struct._cl_context*, i32, i64, i8*, i64*)*, i32 (%struct._cl_context*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL16clGetContextInfoE, align 8, !tbaa !11
  %call = call i32 %2(%struct._cl_context* %ctx, i32 4225, i64 8, i8* nonnull %1, i64* null) #16
  store i32 %call, i32* %err, align 4, !tbaa !76
  %cmp.not = icmp eq i32 %call, 0
  br i1 %cmp.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %call.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i = icmp eq i8* %call.i, null
  br i1 %tobool.not.i, label %if.then.split, label %if.then6.i

if.then.split:                                    ; preds = %if.then
  %call.i991 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([50 x i8], [50 x i8]* @.str.91, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %if.then
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i992 = call i8* @halide_string_to_string(i8* nonnull %call.i, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([50 x i8], [50 x i8]* @.str.91, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %if.then.split, %if.then6.i
  %phi.call = phi i8* [ %call.i991, %if.then.split ], [ %call.i992, %if.then6.i ]
  %ref.tmp.sroa.12.0 = phi i8* [ null, %if.then.split ], [ %add.ptr.i, %if.then6.i ]
  %call2 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %call) #17
  %call.i102 = call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp.sroa.12.0, i8* %call2) #16
  br i1 %tobool.not.i, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i102 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i, i64 %add.i.i) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  call void @free(i8* %call.i) #16
  br label %cleanup76

if.end:                                           ; preds = %entry
  %3 = bitcast [1 x %struct._cl_device_id*]* %devices to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %3) #11
  %arrayinit.begin = getelementptr inbounds [1 x %struct._cl_device_id*], [1 x %struct._cl_device_id*]* %devices, i64 0, i64 0
  %4 = load %struct._cl_device_id*, %struct._cl_device_id** %dev, align 8, !tbaa !11
  store %struct._cl_device_id* %4, %struct._cl_device_id** %arrayinit.begin, align 8, !tbaa !11
  %5 = bitcast i64* %max_constant_buffer_size to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %5) #11
  store i64 0, i64* %max_constant_buffer_size, align 8, !tbaa !115
  %6 = load i32 (%struct._cl_device_id*, i32, i64, i8*, i64*)*, i32 (%struct._cl_device_id*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL15clGetDeviceInfoE, align 8, !tbaa !11
  %call4 = call i32 %6(%struct._cl_device_id* %4, i32 4128, i64 8, i8* nonnull %5, i64* null) #16
  store i32 %call4, i32* %err, align 4, !tbaa !76
  %cmp5.not = icmp eq i32 %call4, 0
  br i1 %cmp5.not, label %if.end11, label %if.then6

if.then6:                                         ; preds = %if.end
  %call.i108 = call i8* @malloc(i64 1024) #16
  %tobool.not.i111 = icmp eq i8* %call.i108, null
  br i1 %tobool.not.i111, label %if.then6.split, label %if.then6.i114

if.then6.split:                                   ; preds = %if.then6
  %call.i1203 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([66 x i8], [66 x i8]* @.str.92, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit117

if.then6.i114:                                    ; preds = %if.then6
  %add.ptr.i112 = getelementptr inbounds i8, i8* %call.i108, i64 1023
  store i8 0, i8* %add.ptr.i112, align 1, !tbaa !15
  %call.i1204 = call i8* @halide_string_to_string(i8* nonnull %call.i108, i8* nonnull %add.ptr.i112, i8* getelementptr inbounds ([66 x i8], [66 x i8]* @.str.92, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit117

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit117: ; preds = %if.then6.split, %if.then6.i114
  %phi.call5 = phi i8* [ %call.i1203, %if.then6.split ], [ %call.i1204, %if.then6.i114 ]
  %ref.tmp7.sroa.12.0 = phi i8* [ null, %if.then6.split ], [ %add.ptr.i112, %if.then6.i114 ]
  %call9 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %call4) #17
  %call.i123 = call i8* @halide_string_to_string(i8* %phi.call5, i8* %ref.tmp7.sroa.12.0, i8* %call9) #16
  br i1 %tobool.not.i111, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit145, label %if.else.i137

if.else.i137:                                     ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit117
  %sub.ptr.lhs.cast.i.i132 = ptrtoint i8* %call.i123 to i64
  %sub.ptr.rhs.cast.i.i133 = ptrtoint i8* %call.i108 to i64
  %sub.ptr.sub.i.i134 = sub i64 1, %sub.ptr.rhs.cast.i.i133
  %add.i.i135 = add i64 %sub.ptr.sub.i.i134, %sub.ptr.lhs.cast.i.i132
  %call.i.i136 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i108, i64 %add.i.i135) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit145

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit145: ; preds = %if.else.i137, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit117
  %.sink10.i138 = phi i8* [ %call.i108, %if.else.i137 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit117 ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i138) #16
  call void @free(i8* %call.i108) #16
  br label %cleanup74

if.end11:                                         ; preds = %if.end
  %7 = bitcast i32* %max_constant_args to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %7) #11
  store i32 0, i32* %max_constant_args, align 4, !tbaa !76
  %8 = load i32 (%struct._cl_device_id*, i32, i64, i8*, i64*)*, i32 (%struct._cl_device_id*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL15clGetDeviceInfoE, align 8, !tbaa !11
  %9 = load %struct._cl_device_id*, %struct._cl_device_id** %dev, align 8, !tbaa !11
  %call12 = call i32 %8(%struct._cl_device_id* %9, i32 4129, i64 4, i8* nonnull %7, i64* null) #16
  store i32 %call12, i32* %err, align 4, !tbaa !76
  %cmp13.not = icmp eq i32 %call12, 0
  %call.i188 = call i8* @malloc(i64 1024) #16
  %tobool.not.i191 = icmp eq i8* %call.i188, null
  br i1 %cmp13.not, label %if.end19, label %if.then14

if.then14:                                        ; preds = %if.end11
  br i1 %tobool.not.i191, label %if.then14.split, label %if.then6.i154

if.then14.split:                                  ; preds = %if.then14
  %call.i1606 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([59 x i8], [59 x i8]* @.str.93, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit157

if.then6.i154:                                    ; preds = %if.then14
  %add.ptr.i152 = getelementptr inbounds i8, i8* %call.i188, i64 1023
  store i8 0, i8* %add.ptr.i152, align 1, !tbaa !15
  %call.i1607 = call i8* @halide_string_to_string(i8* nonnull %call.i188, i8* nonnull %add.ptr.i152, i8* getelementptr inbounds ([59 x i8], [59 x i8]* @.str.93, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit157

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit157: ; preds = %if.then14.split, %if.then6.i154
  %phi.call8 = phi i8* [ %call.i1606, %if.then14.split ], [ %call.i1607, %if.then6.i154 ]
  %ref.tmp15.sroa.12.0 = phi i8* [ null, %if.then14.split ], [ %add.ptr.i152, %if.then6.i154 ]
  %call17 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %call12) #17
  %call.i163 = call i8* @halide_string_to_string(i8* %phi.call8, i8* %ref.tmp15.sroa.12.0, i8* %call17) #16
  br i1 %tobool.not.i191, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit185, label %if.else.i177

if.else.i177:                                     ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit157
  %sub.ptr.lhs.cast.i.i172 = ptrtoint i8* %call.i163 to i64
  %sub.ptr.rhs.cast.i.i173 = ptrtoint i8* %call.i188 to i64
  %sub.ptr.sub.i.i174 = sub i64 1, %sub.ptr.rhs.cast.i.i173
  %add.i.i175 = add i64 %sub.ptr.sub.i.i174, %sub.ptr.lhs.cast.i.i172
  %call.i.i176 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i188, i64 %add.i.i175) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit185

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit185: ; preds = %if.else.i177, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit157
  %.sink10.i178 = phi i8* [ %call.i188, %if.else.i177 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit157 ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i178) #16
  br label %cleanup73

if.end19:                                         ; preds = %if.end11
  br i1 %tobool.not.i191, label %if.end19.split, label %if.then6.i194

if.end19.split:                                   ; preds = %if.end19
  %call.i1999 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.94, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit

if.then6.i194:                                    ; preds = %if.end19
  %add.ptr.i192 = getelementptr inbounds i8, i8* %call.i188, i64 1023
  store i8 0, i8* %add.ptr.i192, align 1, !tbaa !15
  %call.i19910 = call i8* @halide_string_to_string(i8* nonnull %call.i188, i8* nonnull %add.ptr.i192, i8* getelementptr inbounds ([29 x i8], [29 x i8]* @.str.94, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit: ; preds = %if.end19.split, %if.then6.i194
  %phi.call11 = phi i8* [ %call.i1999, %if.end19.split ], [ %call.i19910, %if.then6.i194 ]
  %options.sroa.25.0 = phi i8* [ null, %if.end19.split ], [ %add.ptr.i192, %if.then6.i194 ]
  %10 = load i64, i64* %max_constant_buffer_size, align 8, !tbaa !115
  %call.i202 = call i8* @halide_uint64_to_string(i8* %phi.call11, i8* %options.sroa.25.0, i64 %10, i32 1) #16
  %call.i205 = call i8* @halide_string_to_string(i8* %call.i202, i8* %options.sroa.25.0, i8* getelementptr inbounds ([23 x i8], [23 x i8]* @.str.95, i64 0, i64 0)) #16
  %11 = load i32, i32* %max_constant_args, align 4, !tbaa !76
  %conv.i = zext i32 %11 to i64
  %call.i208 = call i8* @halide_uint64_to_string(i8* %call.i205, i8* %options.sroa.25.0, i64 %conv.i, i32 1) #16
  %call24 = call i8* @halide_opencl_get_build_options(i8* %user_context) #17
  %call.i211 = call i8* @halide_string_to_string(i8* %call.i208, i8* %options.sroa.25.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.72.209, i64 0, i64 0)) #16
  %call.i214 = call i8* @halide_string_to_string(i8* %call.i211, i8* %options.sroa.25.0, i8* %call24) #16
  %12 = bitcast [1 x i8*]* %sources to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %12) #11
  %arrayinit.begin27 = getelementptr inbounds [1 x i8*], [1 x i8*]* %sources, i64 0, i64 0
  store i8* %src, i8** %arrayinit.begin27, align 8, !tbaa !11
  %13 = load %struct._cl_program* (%struct._cl_context*, i32, i8**, i64*, i32*)*, %struct._cl_program* (%struct._cl_context*, i32, i8**, i64*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL25clCreateProgramWithSourceE, align 8, !tbaa !11
  %call29 = call %struct._cl_program* %13(%struct._cl_context* %ctx, i32 1, i8** nonnull %arrayinit.begin27, i64* null, i32* nonnull %err) #16
  %14 = load i32, i32* %err, align 4, !tbaa !76
  %cmp30.not = icmp eq i32 %14, 0
  br i1 %cmp30.not, label %if.else, label %if.then31

if.then31:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit
  %call34 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %14) #17
  %call.i217 = call i8* @malloc(i64 1024) #16
  %tobool.not.i220 = icmp eq i8* %call.i217, null
  br i1 %tobool.not.i220, label %if.then31.split, label %if.then6.i223

if.then31.split:                                  ; preds = %if.then31
  %call.i22912 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([39 x i8], [39 x i8]* @.str.97, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit226

if.then6.i223:                                    ; preds = %if.then31
  %add.ptr.i221 = getelementptr inbounds i8, i8* %call.i217, i64 1023
  store i8 0, i8* %add.ptr.i221, align 1, !tbaa !15
  %call.i22913 = call i8* @halide_string_to_string(i8* nonnull %call.i217, i8* nonnull %add.ptr.i221, i8* getelementptr inbounds ([39 x i8], [39 x i8]* @.str.97, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit226

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit226: ; preds = %if.then31.split, %if.then6.i223
  %phi.call14 = phi i8* [ %call.i22912, %if.then31.split ], [ %call.i22913, %if.then6.i223 ]
  %ref.tmp36.sroa.12.0 = phi i8* [ null, %if.then31.split ], [ %add.ptr.i221, %if.then6.i223 ]
  %15 = load i32, i32* %err, align 4, !tbaa !76
  %call38 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %15) #17
  %call.i232 = call i8* @halide_string_to_string(i8* %phi.call14, i8* %ref.tmp36.sroa.12.0, i8* %call38) #16
  br i1 %tobool.not.i220, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit254, label %if.else.i246

if.else.i246:                                     ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit226
  %sub.ptr.lhs.cast.i.i241 = ptrtoint i8* %call.i232 to i64
  %sub.ptr.rhs.cast.i.i242 = ptrtoint i8* %call.i217 to i64
  %sub.ptr.sub.i.i243 = sub i64 1, %sub.ptr.rhs.cast.i.i242
  %add.i.i244 = add i64 %sub.ptr.sub.i.i243, %sub.ptr.lhs.cast.i.i241
  %call.i.i245 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i217, i64 %add.i.i244) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit254

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit254: ; preds = %if.else.i246, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit226
  %.sink10.i247 = phi i8* [ %call.i217, %if.else.i246 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit226 ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i247) #16
  br label %cleanup.sink.split

if.else:                                          ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EEC2EPvPc.exit
  br i1 %tobool.not.i191, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit.thread, label %if.then.i274

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit.thread: ; preds = %if.else
  %16 = load i32 (%struct._cl_program*, i32, %struct._cl_device_id**, i8*, void (%struct._cl_program*, i8*)*, i8*)*, i32 (%struct._cl_program*, i32, %struct._cl_device_id**, i8*, void (%struct._cl_program*, i8*)*, i8*)** @_ZN6Halide7Runtime8Internal6OpenCL14clBuildProgramE, align 8, !tbaa !11
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit276

if.then.i274:                                     ; preds = %if.else
  %sub.ptr.lhs.cast.i.i257 = ptrtoint i8* %call.i214 to i64
  %sub.ptr.rhs.cast.i.i258 = ptrtoint i8* %call.i188 to i64
  %sub.ptr.sub.i.i259 = sub i64 1, %sub.ptr.rhs.cast.i.i258
  %add.i.i260 = add i64 %sub.ptr.sub.i.i259, %sub.ptr.lhs.cast.i.i257
  %call.i.i261 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i188, i64 %add.i.i260) #16
  %17 = load i32 (%struct._cl_program*, i32, %struct._cl_device_id**, i8*, void (%struct._cl_program*, i8*)*, i8*)*, i32 (%struct._cl_program*, i32, %struct._cl_device_id**, i8*, void (%struct._cl_program*, i8*)*, i8*)** @_ZN6Halide7Runtime8Internal6OpenCL14clBuildProgramE, align 8, !tbaa !11
  %call.i.i273 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i188, i64 %add.i.i260) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit276

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit276: ; preds = %if.then.i274, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit.thread
  %18 = phi i32 (%struct._cl_program*, i32, %struct._cl_device_id**, i8*, void (%struct._cl_program*, i8*)*, i8*)* [ %17, %if.then.i274 ], [ %16, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit.thread ]
  %retval.0.i275 = phi i8* [ %call.i188, %if.then.i274 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit.thread ]
  %call52 = call i32 %18(%struct._cl_program* %call29, i32 1, %struct._cl_device_id** nonnull %arrayinit.begin, i8* nonnull %retval.0.i275, void (%struct._cl_program*, i8*)* null, i8* null) #16
  store i32 %call52, i32* %err, align 4, !tbaa !76
  %cmp53.not = icmp eq i32 %call52, 0
  br i1 %cmp53.not, label %cleanup, label %if.then54

if.then54:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit276
  %call.i277 = call i8* @malloc(i64 16384) #16
  %tobool.not = icmp eq i8* %call.i277, null
  br i1 %tobool.not, label %if.then59, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %if.then54
  %19 = load i32 (%struct._cl_program*, %struct._cl_device_id*, i32, i64, i8*, i64*)*, i32 (%struct._cl_program*, %struct._cl_device_id*, i32, i64, i8*, i64*)** @_ZN6Halide7Runtime8Internal6OpenCL21clGetProgramBuildInfoE, align 8, !tbaa !11
  %20 = load %struct._cl_device_id*, %struct._cl_device_id** %dev, align 8, !tbaa !11
  %call57 = call i32 %19(%struct._cl_program* %call29, %struct._cl_device_id* %20, i32 4483, i64 16384, i8* nonnull %call.i277, i64* null) #16
  %cmp58.not = icmp eq i32 %call57, 0
  br i1 %cmp58.not, label %if.end60, label %if.then59

if.then59:                                        ; preds = %lor.lhs.false, %if.then54
  br label %if.end60

if.end60:                                         ; preds = %if.then59, %lor.lhs.false
  %log.0 = phi i8* [ getelementptr inbounds ([26 x i8], [26 x i8]* @.str.99, i64 0, i64 0), %if.then59 ], [ %call.i277, %lor.lhs.false ]
  %21 = bitcast %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp61 to i8*
  call void @llvm.lifetime.start.p0i8(i64 40, i8* nonnull %21) #11
  %user_context.i278 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp61, i64 0, i32 3
  store i8* %user_context, i8** %user_context.i278, align 8, !tbaa !424
  %own_mem.i279 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp61, i64 0, i32 4
  store i8 1, i8* %own_mem.i279, align 8, !tbaa !426
  %call.i280 = call i8* @malloc(i64 1024) #16
  %buf3.i281 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp61, i64 0, i32 0
  store i8* %call.i280, i8** %buf3.i281, align 8, !tbaa !427
  %dst.i282 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp61, i64 0, i32 1
  %tobool.not.i283 = icmp eq i8* %call.i280, null
  br i1 %tobool.not.i283, label %if.end60.split, label %if.then6.i286

if.end60.split:                                   ; preds = %if.end60
  %call.i29215 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([28 x i8], [28 x i8]* @.str.100, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit289

if.then6.i286:                                    ; preds = %if.end60
  %add.ptr.i284 = getelementptr inbounds i8, i8* %call.i280, i64 1023
  store i8 0, i8* %add.ptr.i284, align 1, !tbaa !15
  %call.i29216 = call i8* @halide_string_to_string(i8* nonnull %call.i280, i8* nonnull %add.ptr.i284, i8* getelementptr inbounds ([28 x i8], [28 x i8]* @.str.100, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit289

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit289: ; preds = %if.end60.split, %if.then6.i286
  %add.ptr.i284.sink18 = phi i8* [ null, %if.end60.split ], [ %add.ptr.i284, %if.then6.i286 ]
  %phi.call17 = phi i8* [ %call.i29215, %if.end60.split ], [ %call.i29216, %if.then6.i286 ]
  %22 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp61, i64 0, i32 2
  store i8* %add.ptr.i284.sink18, i8** %22, align 8
  %23 = load i32, i32* %err, align 4, !tbaa !76
  %call63 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %23) #17
  %call.i295 = call i8* @halide_string_to_string(i8* %phi.call17, i8* %add.ptr.i284.sink18, i8* %call63) #16
  %call.i298 = call i8* @halide_string_to_string(i8* %call.i295, i8* %add.ptr.i284.sink18, i8* getelementptr inbounds ([13 x i8], [13 x i8]* @.str.101, i64 0, i64 0)) #16
  %call.i301 = call i8* @halide_string_to_string(i8* %call.i298, i8* %add.ptr.i284.sink18, i8* %log.0) #16
  %call.i304 = call i8* @halide_string_to_string(i8* %call.i301, i8* %add.ptr.i284.sink18, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  store i8* %call.i304, i8** %dst.i282, align 8, !tbaa !428
  call fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nonnull align 8 dereferenceable(33) %ref.tmp61) #16
  call void @llvm.lifetime.end.p0i8(i64 40, i8* nonnull %21) #11
  br label %cleanup.sink.split

cleanup.sink.split:                               ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit289, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit254
  %call.i277.sink = phi i8* [ %call.i277, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit289 ], [ %call.i217, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit254 ]
  call void @free(i8* %call.i277.sink) #16
  br label %cleanup

cleanup:                                          ; preds = %cleanup.sink.split, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit276
  %retval.0 = phi %struct._cl_program* [ %call29, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE2ELy1024EE3strEv.exit276 ], [ null, %cleanup.sink.split ]
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %12) #11
  br i1 %tobool.not.i191, label %if.then.i308, label %if.else.i314

if.then.i308:                                     ; preds = %cleanup
  call void @halide_error(i8* %user_context, i8* getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0)) #16
  br label %cleanup73

if.else.i314:                                     ; preds = %cleanup
  %sub.ptr.lhs.cast.i.i309 = ptrtoint i8* %call.i214 to i64
  %sub.ptr.rhs.cast.i.i310 = ptrtoint i8* %call.i188 to i64
  %sub.ptr.sub.i.i311 = sub i64 1, %sub.ptr.rhs.cast.i.i310
  %add.i.i312 = add i64 %sub.ptr.sub.i.i311, %sub.ptr.lhs.cast.i.i309
  %call.i.i313 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i188, i64 %add.i.i312) #16
  br label %cleanup73

cleanup73:                                        ; preds = %if.else.i314, %if.then.i308, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit185
  %retval.1 = phi %struct._cl_program* [ null, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit185 ], [ %retval.0, %if.else.i314 ], [ %retval.0, %if.then.i308 ]
  call void @free(i8* %call.i188) #16
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %7) #11
  br label %cleanup74

cleanup74:                                        ; preds = %cleanup73, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit145
  %retval.2 = phi %struct._cl_program* [ null, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit145 ], [ %retval.1, %cleanup73 ]
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %5) #11
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %3) #11
  br label %cleanup76

cleanup76:                                        ; preds = %cleanup74, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit
  %retval.3 = phi %struct._cl_program* [ null, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ %retval.2, %cleanup74 ]
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %1) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %0) #11
  ret %struct._cl_program* %retval.3
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_initialize_kernels(i8* %user_context, i8** %state_ptr, i8* %src, i32 %size) local_unnamed_addr #3 {
entry:
  %ctx = alloca %"class.Halide::Runtime::Internal::OpenCL::ClContext", align 8
  %program = alloca %struct._cl_program*, align 8
  %0 = bitcast %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %0) #11
  %user_context2.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 0
  store i8* %user_context, i8** %user_context2.i, align 8, !tbaa !390
  %context.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 1
  store %struct._cl_context* null, %struct._cl_context** %context.i, align 8, !tbaa !392
  %cmd_queue.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  store %struct._cl_command_queue* null, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %error_code.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 3
  store i32 0, i32* %error_code.i, align 8, !tbaa !394
  %1 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp.i = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %1, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  tail call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #16
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %entry
  %call.i = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %context.i, %struct._cl_command_queue** nonnull %cmd_queue.i, i1 zeroext true) #16
  store i32 %call.i, i32* %error_code.i, align 8, !tbaa !394
  %2 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %tobool.not.i = icmp eq %struct._cl_context* %2, null
  %3 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8
  %tobool8.not.i = icmp eq %struct._cl_command_queue* %3, null
  %or.cond.i = select i1 %tobool.not.i, i1 true, i1 %tobool8.not.i
  br i1 %or.cond.i, label %if.then9.i, label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit

if.then9.i:                                       ; preds = %if.end.i
  %call.i.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then9.i
  %call.i1832.i = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

if.else.i.i:                                      ; preds = %if.then9.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i18.i = call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i18.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread: ; preds = %if.else.i.i, %if.then.i.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i.i ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  call void @free(i8* %call.i.i) #16
  store i32 -1, i32* %error_code.i, align 8, !tbaa !394
  br label %cleanup18

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit: ; preds = %if.end.i
  %cmp.not = icmp eq i32 %call.i, 0
  br i1 %cmp.not, label %if.end, label %cleanup18

if.end:                                           ; preds = %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit
  %4 = bitcast %struct._cl_program** %program to i8*
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %4) #11
  %call = call zeroext i1 @_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE18kernel_state_setupIPFS5_PvS3_PKciEJS8_S3_SA_iEEEbS8_PS8_S3_RS5_T_DpT0_(%"class.Halide::Internal::GPUCompilationCache"* nonnull align 8 dereferenceable(32) @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i8* %user_context, i8** %state_ptr, %struct._cl_context* nonnull %2, %struct._cl_program** nonnull align 8 dereferenceable(8) %program, %struct._cl_program* (i8*, %struct._cl_context*, i8*, i32)* nonnull @_ZN6Halide7Runtime8Internal6OpenCL14compile_kernelEPvP11_cl_contextPKci, i8* %user_context, %struct._cl_context* nonnull %2, i8* %src, i32 %size) #17
  br i1 %call, label %do.body, label %cleanup

do.body:                                          ; preds = %if.end
  %5 = load %struct._cl_program*, %struct._cl_program** %program, align 8, !tbaa !11
  %cmp15.not = icmp eq %struct._cl_program* %5, null
  br i1 %cmp15.not, label %if.then16, label %cleanup

if.then16:                                        ; preds = %do.body
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([95 x i8], [95 x i8]* @.str.115, i64 0, i64 0)) #16
  call void @abort() #16
  br label %cleanup

cleanup:                                          ; preds = %if.then16, %do.body, %if.end
  %retval.0 = phi i32 [ -1, %if.end ], [ 0, %if.then16 ], [ 0, %do.body ]
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %4) #11
  br label %cleanup18

cleanup18:                                        ; preds = %cleanup, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread
  %retval.1 = phi i32 [ %retval.0, %cleanup ], [ %call.i, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit ], [ -1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread ]
  %6 = load i8*, i8** %user_context2.i, align 8, !tbaa !390
  %call.i29 = call i32 @halide_release_cl_context(i8* %6) #16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %0) #11
  ret i32 %retval.1
}

; Function Attrs: nounwind
define linkonce_odr zeroext i1 @_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE18kernel_state_setupIPFS5_PvS3_PKciEJS8_S3_SA_iEEEbS8_PS8_S3_RS5_T_DpT0_(%"class.Halide::Internal::GPUCompilationCache"* nonnull align 8 dereferenceable(32) %this, i8* %user_context, i8** %state_ptr, %struct._cl_context* %context, %struct._cl_program** nonnull align 8 dereferenceable(8) %result, %struct._cl_program* (i8*, %struct._cl_context*, i8*, i32)* %f, i8* %args, %struct._cl_context* %args1, i8* %args3, i32 %args5) local_unnamed_addr #3 comdat align 2 {
entry:
  %ref.tmp20 = alloca %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", align 8
  %mutex = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 0
  tail call void @halide_mutex_lock(%struct.halide_mutex* nonnull %mutex) #16
  %0 = bitcast i8** %state_ptr to i32*
  %1 = load i32, i32* %0, align 4, !tbaa !76
  %cmp = icmp eq i32 %1, 0
  br i1 %cmp, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  %unique_id = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 4
  %2 = load i32, i32* %unique_id, align 4, !tbaa !447
  %inc = add i32 %2, 1
  store i32 %inc, i32* %unique_id, align 4, !tbaa !447
  store i32 %2, i32* %0, align 4, !tbaa !76
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  %3 = phi i32 [ %2, %if.then ], [ %1, %entry ]
  %log2_compilations_size.i = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 1
  %4 = load i32, i32* %log2_compilations_size.i, align 8, !tbaa !405
  %cmp.i = icmp eq i32 %4, 0
  br i1 %cmp.i, label %if.end9, label %if.end.i

if.end.i:                                         ; preds = %if.end
  %5 = ptrtoint %struct._cl_context* %context to i64
  %conv.i.i = zext i32 %3 to i64
  %add.i.i = add i64 %conv.i.i, %5
  %mul.i.i = mul i64 %add.i.i, -7046029254386353131
  %sub.i.i = sub i32 64, %4
  %sh_prom.i.i = zext i32 %sub.i.i to i64
  %shr.i.i = lshr i64 %mul.i.i, %sh_prom.i.i
  %shl.i = shl nuw i32 1, %4
  %sub.i = add nsw i32 %shl.i, -1
  %conv7.i = sext i32 %sub.i to i64
  %compilations.i = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 2
  %6 = load %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"*, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** %compilations.i, align 8
  %cmp450.not.i = icmp eq i32 %4, 31
  br i1 %cmp450.not.i, label %if.end9, label %for.body.preheader.i

for.body.preheader.i:                             ; preds = %if.end.i
  %smax.i = tail call i32 @llvm.smax.i32(i32 %shl.i, i32 1) #11
  %wide.trip.count.i = zext i32 %smax.i to i64
  br label %for.body.i

for.cond.i:                                       ; preds = %if.end10.i
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, %wide.trip.count.i
  br i1 %exitcond.not.i, label %if.end9, label %for.body.i, !llvm.loop !448

for.body.i:                                       ; preds = %for.cond.i, %for.body.preheader.i
  %indvars.iv.i = phi i64 [ 0, %for.body.preheader.i ], [ %indvars.iv.next.i, %for.cond.i ]
  %add.i = add i64 %indvars.iv.i, %shr.i.i
  %and.i = and i64 %add.i, %conv7.i
  %kernel_id.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %6, i64 %and.i, i32 2
  %7 = load i32, i32* %kernel_id.i, align 8, !tbaa !407
  %cmp8.i = icmp eq i32 %7, 0
  br i1 %cmp8.i, label %if.end9, label %if.end10.i

if.end10.i:                                       ; preds = %for.body.i
  %context13.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %6, i64 %and.i, i32 0
  %8 = load %struct._cl_context*, %struct._cl_context** %context13.i, align 8, !tbaa !409
  %cmp14.i = icmp eq %struct._cl_context* %8, %context
  %cmp18.i = icmp eq i32 %7, %3
  %or.cond.i = select i1 %cmp14.i, i1 %cmp18.i, i1 false
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  br i1 %or.cond.i, label %if.then8, label %for.cond.i

if.then8:                                         ; preds = %if.end10.i
  %module_state22.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %6, i64 %and.i, i32 1
  %use_count.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %6, i64 %and.i, i32 3
  %9 = load i32, i32* %use_count.i, align 4, !tbaa !410
  %add27.i = add i32 %9, 1
  store i32 %add27.i, i32* %use_count.i, align 4, !tbaa !410
  %10 = load %struct._cl_program*, %struct._cl_program** %module_state22.i, align 8, !tbaa !11
  br label %cleanup24.sink.split

if.end9:                                          ; preds = %for.body.i, %for.cond.i, %if.end.i, %if.end
  %call10 = tail call %struct._cl_program* %f(i8* %args, %struct._cl_context* %args1, i8* %args3, i32 %args5) #16
  %cmp17 = icmp eq %struct._cl_program* %call10, null
  br i1 %cmp17, label %cleanup24, label %if.end19

if.end19:                                         ; preds = %if.end9
  %11 = bitcast %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %ref.tmp20 to i8*
  call void @llvm.lifetime.start.p0i8(i64 24, i8* nonnull %11) #11
  %12 = load i32, i32* %0, align 4, !tbaa !76
  %context2.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %ref.tmp20, i64 0, i32 0
  store %struct._cl_context* %context, %struct._cl_context** %context2.i, align 8, !tbaa !409
  %module_state3.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %ref.tmp20, i64 0, i32 1
  store %struct._cl_program* %call10, %struct._cl_program** %module_state3.i, align 8, !tbaa !411
  %kernel_id4.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %ref.tmp20, i64 0, i32 2
  store i32 %12, i32* %kernel_id4.i, align 8, !tbaa !407
  %use_count5.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %ref.tmp20, i64 0, i32 3
  store i32 1, i32* %use_count5.i, align 4, !tbaa !410
  %call21 = call zeroext i1 @_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE6insertERKNS6_17CachedCompilationE(%"class.Halide::Internal::GPUCompilationCache"* nonnull align 8 dereferenceable(32) %this, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* nonnull align 8 dereferenceable(24) %ref.tmp20) #17
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %11) #11
  br i1 %call21, label %cleanup24.sink.split, label %cleanup24

cleanup24.sink.split:                             ; preds = %if.end19, %if.then8
  %call10.sink = phi %struct._cl_program* [ %10, %if.then8 ], [ %call10, %if.end19 ]
  store %struct._cl_program* %call10.sink, %struct._cl_program** %result, align 8, !tbaa !11
  br label %cleanup24

cleanup24:                                        ; preds = %cleanup24.sink.split, %if.end19, %if.end9
  %retval.1 = phi i1 [ false, %if.end9 ], [ false, %if.end19 ], [ true, %cleanup24.sink.split ]
  call void @halide_mutex_unlock(%struct.halide_mutex* nonnull %mutex) #16
  ret i1 %retval.1
}

; Function Attrs: mustprogress nofree nosync nounwind readnone speculatable willreturn
declare i32 @llvm.smax.i32(i32, i32) #5

; Function Attrs: mustprogress nounwind
define linkonce_odr zeroext i1 @_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE6insertERKNS6_17CachedCompilationE(%"class.Halide::Internal::GPUCompilationCache"* nonnull align 8 dereferenceable(32) %this, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* nonnull align 8 dereferenceable(24) %entry1) local_unnamed_addr #0 comdat align 2 {
entry:
  %log2_compilations_size = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 1
  %0 = load i32, i32* %log2_compilations_size, align 8, !tbaa !405
  %cmp = icmp eq i32 %0, 0
  br i1 %cmp, label %if.then.i, label %if.end4

if.then.i:                                        ; preds = %entry
  %call.i = tail call i8* @malloc(i64 3072) #16
  %cmp4.i = icmp eq i8* %call.i, null
  br i1 %cmp4.i, label %return, label %if.end.i

if.end.i:                                         ; preds = %if.then.i
  %call8.i = tail call i8* @memset(i8* nonnull %call.i, i32 0, i64 3072) #16
  %compilations.i = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 2
  %1 = load %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"*, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** %compilations.i, align 8, !tbaa !406
  %2 = bitcast %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** %compilations.i to i8**
  store i8* %call.i, i8** %2, align 8, !tbaa !406
  store i32 7, i32* %log2_compilations_size, align 8, !tbaa !405
  %count.i = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 3
  %3 = load i32, i32* %count.i, align 8, !tbaa !403
  %cmp11.i = icmp sgt i32 %3, 0
  br i1 %cmp11.i, label %for.body.i, label %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit.thread

for.body.i:                                       ; preds = %if.end.i
  %kernel_id.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %1, i64 0, i32 2
  %4 = load i32, i32* %kernel_id.i, align 8, !tbaa !407
  %switch.i = icmp ult i32 %4, 2
  br i1 %switch.i, label %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit.thread, label %if.then19.i

if.then19.i:                                      ; preds = %for.body.i
  %call22.i = tail call zeroext i1 @_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE6insertERKNS6_17CachedCompilationE(%"class.Halide::Internal::GPUCompilationCache"* nonnull align 8 dereferenceable(32) %this, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* nonnull align 8 dereferenceable(24) %1) #16
  br label %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit.thread

_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit.thread: ; preds = %if.then19.i, %for.body.i, %if.end.i
  %5 = bitcast %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %1 to i8*
  tail call void @free(i8* %5) #16
  %.pre = load i32, i32* %log2_compilations_size, align 8, !tbaa !405
  br label %if.end4

if.end4:                                          ; preds = %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit.thread, %entry
  %6 = phi i32 [ %.pre, %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit.thread ], [ %0, %entry ]
  %count = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 3
  %7 = load i32, i32* %count, align 8, !tbaa !403
  %add = add nsw i32 %7, 1
  %conv = sitofp i32 %add to float
  %shl = shl nuw i32 1, %6
  %conv6 = sitofp i32 %shl to float
  %mul = fmul float %conv6, 5.000000e-01
  %cmp7 = fcmp olt float %mul, %conv
  br i1 %cmp7, label %if.then.i53, label %if.end14

if.then.i53:                                      ; preds = %if.end4
  %add10 = add nsw i32 %6, 1
  %shl.i = shl nuw i32 1, %add10
  %conv.i49 = sext i32 %shl.i to i64
  %mul.i50 = mul nsw i64 %conv.i49, 24
  %call.i51 = tail call i8* @malloc(i64 %mul.i50) #16
  %cmp4.i52 = icmp eq i8* %call.i51, null
  br i1 %cmp4.i52, label %return, label %if.end.i58

if.end.i58:                                       ; preds = %if.then.i53
  %call8.i54 = tail call i8* @memset(i8* nonnull %call.i51, i32 0, i64 %mul.i50) #16
  %compilations.i55 = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 2
  %8 = load %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"*, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** %compilations.i55, align 8, !tbaa !406
  %9 = bitcast %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** %compilations.i55 to i8**
  store i8* %call.i51, i8** %9, align 8, !tbaa !406
  store i32 %add10, i32* %log2_compilations_size, align 8, !tbaa !405
  %10 = load i32, i32* %count, align 8, !tbaa !403
  %cmp11.i57 = icmp sgt i32 %10, 0
  %cmp13.i6079 = icmp ne i32 %6, 31
  %or.cond83 = select i1 %cmp11.i57, i1 %cmp13.i6079, i1 false
  br i1 %or.cond83, label %for.body.i66.preheader, label %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit74.thread

for.body.i66.preheader:                           ; preds = %if.end.i58
  %smax87 = tail call i32 @llvm.smax.i32(i32 %shl, i32 1)
  %wide.trip.count88 = zext i32 %smax87 to i64
  br label %for.body.i66

for.body.i66:                                     ; preds = %for.inc.i70, %for.body.i66.preheader
  %indvars.iv85 = phi i64 [ 0, %for.body.i66.preheader ], [ %indvars.iv.next86, %for.inc.i70 ]
  %kernel_id.i64 = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %8, i64 %indvars.iv85, i32 2
  %11 = load i32, i32* %kernel_id.i64, align 8, !tbaa !407
  %switch.i65 = icmp ult i32 %11, 2
  br i1 %switch.i65, label %for.inc.i70, label %if.then19.i68

if.then19.i68:                                    ; preds = %for.body.i66
  %arrayidx.i63 = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %8, i64 %indvars.iv85
  %call22.i67 = tail call zeroext i1 @_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE6insertERKNS6_17CachedCompilationE(%"class.Halide::Internal::GPUCompilationCache"* nonnull align 8 dereferenceable(32) %this, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* nonnull align 8 dereferenceable(24) %arrayidx.i63) #16
  br label %for.inc.i70

for.inc.i70:                                      ; preds = %if.then19.i68, %for.body.i66
  %indvars.iv.next86 = add nuw nsw i64 %indvars.iv85, 1
  %exitcond89.not = icmp eq i64 %indvars.iv.next86, %wide.trip.count88
  br i1 %exitcond89.not, label %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit74.thread, label %for.body.i66, !llvm.loop !449

_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit74.thread: ; preds = %for.inc.i70, %if.end.i58
  %12 = bitcast %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %8 to i8*
  tail call void @free(i8* %12) #16
  %.pre95 = load i32, i32* %count, align 8, !tbaa !403
  %.pre96 = load i32, i32* %log2_compilations_size, align 8, !tbaa !405
  %.pre97 = add nsw i32 %.pre95, 1
  %.pre98 = shl nuw i32 1, %.pre96
  br label %if.end14

if.end14:                                         ; preds = %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit74.thread, %if.end4
  %shl20.pre-phi = phi i32 [ %.pre98, %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit74.thread ], [ %shl, %if.end4 ]
  %add16.pre-phi = phi i32 [ %.pre97, %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit74.thread ], [ %add, %if.end4 ]
  %13 = phi i32 [ %.pre96, %_ZN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE12resize_tableEi.exit74.thread ], [ %6, %if.end4 ]
  store i32 %add16.pre-phi, i32* %count, align 8, !tbaa !403
  %context = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %entry1, i64 0, i32 0
  %14 = load %struct._cl_context*, %struct._cl_context** %context, align 8, !tbaa !409
  %kernel_id = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %entry1, i64 0, i32 2
  %15 = load i32, i32* %kernel_id, align 8, !tbaa !407
  %16 = ptrtoint %struct._cl_context* %14 to i64
  %conv.i = zext i32 %15 to i64
  %add.i = add i64 %conv.i, %16
  %mul.i = mul i64 %add.i, -7046029254386353131
  %sub.i = sub i32 64, %13
  %sh_prom.i = zext i32 %sub.i to i64
  %shr.i = lshr i64 %mul.i, %sh_prom.i
  %sub = add nsw i32 %shl20.pre-phi, -1
  %conv26 = sext i32 %sub to i64
  %compilations = getelementptr inbounds %"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* %this, i64 0, i32 2
  %17 = load %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"*, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** %compilations, align 8
  %cmp2181.not = icmp eq i32 %13, 31
  br i1 %cmp2181.not, label %return, label %for.body.preheader

for.body.preheader:                               ; preds = %if.end14
  %smax92 = tail call i32 @llvm.smax.i32(i32 %shl20.pre-phi, i32 1)
  %wide.trip.count93 = zext i32 %smax92 to i64
  br label %for.body

for.cond:                                         ; preds = %for.body
  %exitcond94.not = icmp eq i64 %indvars.iv.next91, %wide.trip.count93
  br i1 %exitcond94.not, label %return, label %for.body, !llvm.loop !450

for.body:                                         ; preds = %for.cond, %for.body.preheader
  %indvars.iv90 = phi i64 [ 0, %for.body.preheader ], [ %indvars.iv.next91, %for.cond ]
  %add23 = add i64 %indvars.iv90, %shr.i
  %and = and i64 %add23, %conv26
  %kernel_id27 = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %17, i64 %and, i32 2
  %18 = load i32, i32* %kernel_id27, align 8, !tbaa !407
  %cmp28 = icmp ult i32 %18, 2
  %indvars.iv.next91 = add nuw nsw i64 %indvars.iv90, 1
  br i1 %cmp28, label %if.then29, label %for.cond

if.then29:                                        ; preds = %for.body
  %arrayidx = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %17, i64 %and
  %19 = bitcast %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %arrayidx to i8*
  %20 = bitcast %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %entry1 to i8*
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(24) %19, i8* noundef nonnull align 8 dereferenceable(24) %20, i64 24, i1 false), !tbaa.struct !451
  br label %return

return:                                           ; preds = %for.cond, %if.then29, %if.end14, %if.then.i53, %if.then.i
  %retval.4 = phi i1 [ true, %if.then29 ], [ false, %if.then.i ], [ false, %if.then.i53 ], [ false, %if.end14 ], [ false, %for.cond ]
  ret i1 %retval.4
}

; Function Attrs: nounwind
define weak void @halide_opencl_finalize_kernels(i8* %user_context, i8* %state_ptr) local_unnamed_addr #3 {
entry:
  %ctx = alloca %"class.Halide::Runtime::Internal::OpenCL::ClContext", align 8
  %0 = bitcast %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %0) #11
  %user_context2.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 0
  store i8* %user_context, i8** %user_context2.i, align 8, !tbaa !390
  %context.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 1
  store %struct._cl_context* null, %struct._cl_context** %context.i, align 8, !tbaa !392
  %cmd_queue.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  store %struct._cl_command_queue* null, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %error_code.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 3
  store i32 0, i32* %error_code.i, align 8, !tbaa !394
  %1 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp.i = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %1, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  tail call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #16
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %entry
  %call.i = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %context.i, %struct._cl_command_queue** nonnull %cmd_queue.i, i1 zeroext true) #16
  store i32 %call.i, i32* %error_code.i, align 8, !tbaa !394
  %2 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %tobool.not.i = icmp eq %struct._cl_context* %2, null
  %3 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8
  %tobool8.not.i = icmp eq %struct._cl_command_queue* %3, null
  %or.cond.i = select i1 %tobool.not.i, i1 true, i1 %tobool8.not.i
  br i1 %or.cond.i, label %if.then9.i, label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit

if.then9.i:                                       ; preds = %if.end.i
  %call.i.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then9.i
  %call.i1832.i = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

if.else.i.i:                                      ; preds = %if.then9.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i18.i = call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i18.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread: ; preds = %if.else.i.i, %if.then.i.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i.i ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  call void @free(i8* %call.i.i) #16
  store i32 -1, i32* %error_code.i, align 8, !tbaa !394
  br label %if.end

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit: ; preds = %if.end.i
  %cmp = icmp eq i32 %call.i, 0
  br i1 %cmp, label %if.then, label %if.end

if.then:                                          ; preds = %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit
  %4 = ptrtoint i8* %state_ptr to i64
  %conv.i = trunc i64 %4 to i32
  %5 = load i32, i32* getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 1), align 8, !tbaa !405
  %cmp.i.i = icmp eq i32 %5, 0
  br i1 %cmp.i.i, label %if.end, label %if.end.i.i

if.end.i.i:                                       ; preds = %if.then
  %6 = ptrtoint %struct._cl_context* %2 to i64
  %conv.i.i.i = and i64 %4, 4294967295
  %add.i.i.i10 = add i64 %conv.i.i.i, %6
  %mul.i.i.i = mul i64 %add.i.i.i10, -7046029254386353131
  %sub.i.i.i = sub i32 64, %5
  %sh_prom.i.i.i = zext i32 %sub.i.i.i to i64
  %shr.i.i.i = lshr i64 %mul.i.i.i, %sh_prom.i.i.i
  %shl.i.i = shl nuw i32 1, %5
  %sub.i.i = add nsw i32 %shl.i.i, -1
  %conv7.i.i = sext i32 %sub.i.i to i64
  %7 = load %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"*, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 2), align 8
  %cmp450.not.i.i = icmp eq i32 %5, 31
  br i1 %cmp450.not.i.i, label %if.end, label %for.body.preheader.i.i

for.body.preheader.i.i:                           ; preds = %if.end.i.i
  %smax.i.i = call i32 @llvm.smax.i32(i32 %shl.i.i, i32 1) #11
  %wide.trip.count.i.i = zext i32 %smax.i.i to i64
  br label %for.body.i.i

for.cond.i.i:                                     ; preds = %if.end10.i.i
  %exitcond.not.i.i = icmp eq i64 %indvars.iv.next.i.i, %wide.trip.count.i.i
  br i1 %exitcond.not.i.i, label %if.end, label %for.body.i.i, !llvm.loop !448

for.body.i.i:                                     ; preds = %for.cond.i.i, %for.body.preheader.i.i
  %indvars.iv.i.i = phi i64 [ 0, %for.body.preheader.i.i ], [ %indvars.iv.next.i.i, %for.cond.i.i ]
  %add.i.i = add i64 %indvars.iv.i.i, %shr.i.i.i
  %and.i.i = and i64 %add.i.i, %conv7.i.i
  %kernel_id.i.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %7, i64 %and.i.i, i32 2
  %8 = load i32, i32* %kernel_id.i.i, align 8, !tbaa !407
  %cmp8.i.i = icmp eq i32 %8, 0
  br i1 %cmp8.i.i, label %if.end, label %if.end10.i.i

if.end10.i.i:                                     ; preds = %for.body.i.i
  %context13.i.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %7, i64 %and.i.i, i32 0
  %9 = load %struct._cl_context*, %struct._cl_context** %context13.i.i, align 8, !tbaa !409
  %cmp14.i.i = icmp eq %struct._cl_context* %9, %2
  %cmp18.i.i = icmp eq i32 %8, %conv.i
  %or.cond.i.i = select i1 %cmp14.i.i, i1 %cmp18.i.i, i1 false
  %indvars.iv.next.i.i = add nuw nsw i64 %indvars.iv.i.i, 1
  br i1 %or.cond.i.i, label %if.then19.i.i, label %for.cond.i.i

if.then19.i.i:                                    ; preds = %if.end10.i.i
  %use_count.i.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %7, i64 %and.i.i, i32 3
  %10 = load i32, i32* %use_count.i.i, align 4, !tbaa !410
  %add27.i.i = add i32 %10, -1
  store i32 %add27.i.i, i32* %use_count.i.i, align 4, !tbaa !410
  br label %if.end

if.end:                                           ; preds = %for.body.i.i, %for.cond.i.i, %if.then19.i.i, %if.end.i.i, %if.then, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread
  %11 = load i8*, i8** %user_context2.i, align 8, !tbaa !390
  %call.i9 = call i32 @halide_release_cl_context(i8* %11) #16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %0) #11
  ret void
}

; Function Attrs: nounwind
define weak i32 @halide_opencl_run(i8* %user_context, i8* %state_ptr, i8* %entry_name, i32 %blocksX, i32 %blocksY, i32 %blocksZ, i32 %threadsX, i32 %threadsY, i32 %threadsZ, i32 %shared_mem_bytes, i64* %arg_sizes, i8** %args, i8* %arg_is_buffer) local_unnamed_addr #3 {
entry:
  %err = alloca i32, align 4
  %ctx = alloca %"class.Halide::Runtime::Internal::OpenCL::ClContext", align 8
  %global_dim = alloca [3 x i64], align 8
  %local_dim = alloca [3 x i64], align 8
  %err112 = alloca i32, align 4
  %mem = alloca %struct._cl_mem*, align 8
  %region = alloca %struct.timespec, align 8
  %ref.tmp216 = alloca %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", align 8
  %0 = bitcast i32* %err to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %0) #11
  %1 = bitcast %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx to i8*
  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %1) #11
  %user_context2.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 0
  store i8* %user_context, i8** %user_context2.i, align 8, !tbaa !390
  %context.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 1
  store %struct._cl_context* null, %struct._cl_context** %context.i, align 8, !tbaa !392
  %cmd_queue.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 2
  store %struct._cl_command_queue* null, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %error_code.i = getelementptr inbounds %"class.Halide::Runtime::Internal::OpenCL::ClContext", %"class.Halide::Runtime::Internal::OpenCL::ClContext"* %ctx, i64 0, i32 3
  store i32 0, i32* %error_code.i, align 8, !tbaa !394
  %2 = load %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)*, %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL15clCreateContextE, align 8, !tbaa !11
  %cmp.i = icmp eq %struct._cl_context* (i64*, i32, %struct._cl_device_id**, void (i8*, i8*, i64, i8*)*, i8*, i32*)* %2, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  tail call void @_ZN6Halide7Runtime8Internal6OpenCL14load_libopenclEPv(i8* %user_context) #16
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %entry
  %call.i = call i32 @halide_acquire_cl_context(i8* %user_context, %struct._cl_context** nonnull %context.i, %struct._cl_command_queue** nonnull %cmd_queue.i, i1 zeroext true) #16
  store i32 %call.i, i32* %error_code.i, align 8, !tbaa !394
  %3 = load %struct._cl_context*, %struct._cl_context** %context.i, align 8, !tbaa !392
  %tobool.not.i = icmp eq %struct._cl_context* %3, null
  %4 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8
  %tobool8.not.i = icmp eq %struct._cl_command_queue* %4, null
  %or.cond.i = select i1 %tobool.not.i, i1 true, i1 %tobool8.not.i
  br i1 %or.cond.i, label %if.then9.i, label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit

if.then9.i:                                       ; preds = %if.end.i
  %call.i.i = call i8* @malloc(i64 1024) #16
  %tobool.not.i.i = icmp eq i8* %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then9.i
  %call.i1832.i = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

if.else.i.i:                                      ; preds = %if.then9.i
  %add.ptr.i.i = getelementptr inbounds i8, i8* %call.i.i, i64 1023
  store i8 0, i8* %add.ptr.i.i, align 1, !tbaa !15
  %call.i18.i = call i8* @halide_string_to_string(i8* nonnull %call.i.i, i8* nonnull %add.ptr.i.i, i8* getelementptr inbounds ([34 x i8], [34 x i8]* @.str.272, i64 0, i64 0)) #16
  %sub.ptr.lhs.cast.i.i.i = ptrtoint i8* %call.i18.i to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint i8* %call.i.i to i64
  %sub.ptr.sub.i.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i.i
  %add.i.i.i = add i64 %sub.ptr.sub.i.i.i, %sub.ptr.lhs.cast.i.i.i
  %call.i.i.i = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i.i, i64 %add.i.i.i) #16
  br label %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread: ; preds = %if.else.i.i, %if.then.i.i
  %.sink10.i.i = phi i8* [ %call.i.i, %if.else.i.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %if.then.i.i ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i.i) #16
  call void @free(i8* %call.i.i) #16
  store i32 -1, i32* %error_code.i, align 8, !tbaa !394
  br label %cleanup240

_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit: ; preds = %if.end.i
  %cmp.not = icmp eq i32 %call.i, 0
  br i1 %cmp.not, label %do.body, label %cleanup240

do.body:                                          ; preds = %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit
  %tobool.not = icmp eq i8* %state_ptr, null
  br i1 %tobool.not, label %if.then24, label %do.body.split

do.body.split:                                    ; preds = %do.body
  call void @halide_mutex_lock(%struct.halide_mutex* nonnull getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 0)) #16
  %5 = ptrtoint i8* %state_ptr to i64
  %conv.i = trunc i64 %5 to i32
  %6 = load i32, i32* getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 1), align 8, !tbaa !405
  %cmp.i.i = icmp eq i32 %6, 0
  br i1 %cmp.i.i, label %if.then29.sink.split, label %if.end.i.i354

if.end.i.i354:                                    ; preds = %do.body.split
  %7 = ptrtoint %struct._cl_context* %3 to i64
  %conv.i.i.i = and i64 %5, 4294967295
  %add.i.i.i351 = add i64 %conv.i.i.i, %7
  %mul.i.i.i = mul i64 %add.i.i.i351, -7046029254386353131
  %sub.i.i.i = sub i32 64, %6
  %sh_prom.i.i.i = zext i32 %sub.i.i.i to i64
  %shr.i.i.i = lshr i64 %mul.i.i.i, %sh_prom.i.i.i
  %shl.i.i = shl nuw i32 1, %6
  %sub.i.i352 = add nsw i32 %shl.i.i, -1
  %conv7.i.i353 = sext i32 %sub.i.i352 to i64
  %8 = load %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"*, %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"** getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 2), align 8
  %cmp450.not.i.i = icmp eq i32 %6, 31
  br i1 %cmp450.not.i.i, label %if.then29.sink.split, label %for.body.preheader.i.i356

for.body.preheader.i.i356:                        ; preds = %if.end.i.i354
  %smax.i.i = call i32 @llvm.smax.i32(i32 %shl.i.i, i32 1) #11
  %wide.trip.count.i.i355 = zext i32 %smax.i.i to i64
  br label %for.body.i.i360

for.cond.i.i:                                     ; preds = %if.end10.i.i
  %exitcond.not.i.i357 = icmp eq i64 %indvars.iv.next.i.i361, %wide.trip.count.i.i355
  br i1 %exitcond.not.i.i357, label %if.then29.sink.split, label %for.body.i.i360, !llvm.loop !448

for.body.i.i360:                                  ; preds = %for.cond.i.i, %for.body.preheader.i.i356
  %indvars.iv.i.i358 = phi i64 [ 0, %for.body.preheader.i.i356 ], [ %indvars.iv.next.i.i361, %for.cond.i.i ]
  %add.i.i359 = add i64 %indvars.iv.i.i358, %shr.i.i.i
  %and.i.i = and i64 %add.i.i359, %conv7.i.i353
  %kernel_id.i.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %8, i64 %and.i.i, i32 2
  %9 = load i32, i32* %kernel_id.i.i, align 8, !tbaa !407
  %cmp8.i.i = icmp eq i32 %9, 0
  br i1 %cmp8.i.i, label %if.then29.sink.split, label %if.end10.i.i

if.end10.i.i:                                     ; preds = %for.body.i.i360
  %context13.i.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %8, i64 %and.i.i, i32 0
  %10 = load %struct._cl_context*, %struct._cl_context** %context13.i.i, align 8, !tbaa !409
  %cmp14.i.i = icmp eq %struct._cl_context* %10, %3
  %cmp18.i.i = icmp eq i32 %9, %conv.i
  %or.cond.i.i = select i1 %cmp14.i.i, i1 %cmp18.i.i, i1 false
  %indvars.iv.next.i.i361 = add nuw nsw i64 %indvars.iv.i.i358, 1
  br i1 %or.cond.i.i, label %do.end, label %for.cond.i.i

if.then24:                                        ; preds = %do.body
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([87 x i8], [87 x i8]* @.str.159, i64 0, i64 0)) #16
  call void @abort() #16
  call void @halide_mutex_lock(%struct.halide_mutex* nonnull getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 0)) #16
  br label %if.then29.sink.split

do.end:                                           ; preds = %if.end10.i.i
  %module_state22.i.i = getelementptr inbounds %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation", %"struct.Halide::Internal::GPUCompilationCache<_cl_context *, _cl_program *>::CachedCompilation"* %8, i64 %and.i.i, i32 1
  %11 = load %struct._cl_program*, %struct._cl_program** %module_state22.i.i, align 8, !tbaa !11
  call void @halide_mutex_unlock(%struct.halide_mutex* nonnull getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 0)) #16
  %cmp28.not = icmp eq %struct._cl_program* %11, null
  br i1 %cmp28.not, label %if.then29, label %do.end32

if.then29.sink.split:                             ; preds = %for.body.i.i360, %for.cond.i.i, %if.then24, %if.end.i.i354, %do.body.split
  call void @halide_mutex_unlock(%struct.halide_mutex* nonnull getelementptr inbounds (%"class.Halide::Internal::GPUCompilationCache", %"class.Halide::Internal::GPUCompilationCache"* @_ZN6Halide7Runtime8Internal6OpenCL17compilation_cacheE, i64 0, i32 0)) #16
  br label %if.then29

if.then29:                                        ; preds = %if.then29.sink.split, %do.end
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([105 x i8], [105 x i8]* @.str.160, i64 0, i64 0)) #16
  call void @abort() #16
  br label %do.end32

do.end32:                                         ; preds = %if.then29, %do.end
  %program.2568 = phi %struct._cl_program* [ %11, %do.end ], [ null, %if.then29 ]
  %12 = load %struct._cl_kernel* (%struct._cl_program*, i8*, i32*)*, %struct._cl_kernel* (%struct._cl_program*, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL14clCreateKernelE, align 8, !tbaa !11
  %call37 = call %struct._cl_kernel* %12(%struct._cl_program* %program.2568, i8* %entry_name, i32* nonnull %err) #16
  %13 = load i32, i32* %err, align 4, !tbaa !76
  %cmp38.not = icmp eq i32 %13, 0
  br i1 %cmp38.not, label %if.end51, label %if.then39

if.then39:                                        ; preds = %do.end32
  %call42 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %13) #17
  %call.i395 = call i8* @malloc(i64 1024) #16
  %tobool.not.i396 = icmp eq i8* %call.i395, null
  br i1 %tobool.not.i396, label %if.then39.split, label %if.then6.i

if.then39.split:                                  ; preds = %if.then39
  %call.i3991 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([20 x i8], [20 x i8]* @.str.162, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

if.then6.i:                                       ; preds = %if.then39
  %add.ptr.i = getelementptr inbounds i8, i8* %call.i395, i64 1023
  store i8 0, i8* %add.ptr.i, align 1, !tbaa !15
  %call.i3992 = call i8* @halide_string_to_string(i8* nonnull %call.i395, i8* nonnull %add.ptr.i, i8* getelementptr inbounds ([20 x i8], [20 x i8]* @.str.162, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit: ; preds = %if.then39.split, %if.then6.i
  %phi.call = phi i8* [ %call.i3991, %if.then39.split ], [ %call.i3992, %if.then6.i ]
  %ref.tmp44.sroa.18.0 = phi i8* [ null, %if.then39.split ], [ %add.ptr.i, %if.then6.i ]
  %call.i402 = call i8* @halide_string_to_string(i8* %phi.call, i8* %ref.tmp44.sroa.18.0, i8* %entry_name) #16
  %call.i405 = call i8* @halide_string_to_string(i8* %call.i402, i8* %ref.tmp44.sroa.18.0, i8* getelementptr inbounds ([10 x i8], [10 x i8]* @.str.163, i64 0, i64 0)) #16
  %14 = load i32, i32* %err, align 4, !tbaa !76
  %call48 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %14) #17
  %call.i408 = call i8* @halide_string_to_string(i8* %call.i405, i8* %ref.tmp44.sroa.18.0, i8* %call48) #16
  %call.i411 = call i8* @halide_string_to_string(i8* %call.i408, i8* %ref.tmp44.sroa.18.0, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  br i1 %tobool.not.i396, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, label %if.else.i

if.else.i:                                        ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %sub.ptr.lhs.cast.i.i = ptrtoint i8* %call.i411 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint i8* %call.i395 to i64
  %sub.ptr.sub.i.i = sub i64 1, %sub.ptr.rhs.cast.i.i
  %add.i.i415 = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i
  %call.i.i416 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i395, i64 %add.i.i415) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit: ; preds = %if.else.i, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit
  %.sink10.i = phi i8* [ %call.i395, %if.else.i ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i) #16
  call void @free(i8* %call.i395) #16
  %15 = load i32, i32* %err, align 4, !tbaa !76
  br label %cleanup240

if.end51:                                         ; preds = %do.end32
  %16 = bitcast [3 x i64]* %global_dim to i8*
  call void @llvm.lifetime.start.p0i8(i64 24, i8* nonnull %16) #11
  %arrayinit.begin = getelementptr inbounds [3 x i64], [3 x i64]* %global_dim, i64 0, i64 0
  %conv = sext i32 %blocksX to i64
  %conv52 = sext i32 %threadsX to i64
  %mul = mul nsw i64 %conv52, %conv
  store i64 %mul, i64* %arrayinit.begin, align 8, !tbaa !19
  %arrayinit.element = getelementptr inbounds [3 x i64], [3 x i64]* %global_dim, i64 0, i64 1
  %conv53 = sext i32 %blocksY to i64
  %conv54 = sext i32 %threadsY to i64
  %mul55 = mul nsw i64 %conv54, %conv53
  store i64 %mul55, i64* %arrayinit.element, align 8, !tbaa !19
  %arrayinit.element56 = getelementptr inbounds [3 x i64], [3 x i64]* %global_dim, i64 0, i64 2
  %conv57 = sext i32 %blocksZ to i64
  %conv58 = sext i32 %threadsZ to i64
  %mul59 = mul nsw i64 %conv58, %conv57
  store i64 %mul59, i64* %arrayinit.element56, align 8, !tbaa !19
  %17 = bitcast [3 x i64]* %local_dim to i8*
  call void @llvm.lifetime.start.p0i8(i64 24, i8* nonnull %17) #11
  %arrayinit.begin60 = getelementptr inbounds [3 x i64], [3 x i64]* %local_dim, i64 0, i64 0
  store i64 %conv52, i64* %arrayinit.begin60, align 8, !tbaa !19
  %arrayinit.element62 = getelementptr inbounds [3 x i64], [3 x i64]* %local_dim, i64 0, i64 1
  store i64 %conv54, i64* %arrayinit.element62, align 8, !tbaa !19
  %arrayinit.element64 = getelementptr inbounds [3 x i64], [3 x i64]* %local_dim, i64 0, i64 2
  store i64 %conv58, i64* %arrayinit.element64, align 8, !tbaa !19
  %18 = load i64, i64* %arg_sizes, align 8, !tbaa !19
  %cmp66.not579 = icmp eq i64 %18, 0
  br i1 %cmp66.not579, label %if.end87, label %while.body

while.body:                                       ; preds = %if.end51, %if.end75
  %indvars.iv = phi i64 [ %indvars.iv.next, %if.end75 ], [ 0, %if.end51 ]
  %sub_buffers_needed.0581 = phi i32 [ %sub_buffers_needed.1, %if.end75 ], [ 0, %if.end51 ]
  %arrayidx68 = getelementptr inbounds i8, i8* %arg_is_buffer, i64 %indvars.iv
  %19 = load i8, i8* %arrayidx68, align 1, !tbaa !15
  %tobool69.not = icmp eq i8 %19, 0
  br i1 %tobool69.not, label %if.end75, label %land.lhs.true70

land.lhs.true70:                                  ; preds = %while.body
  %arrayidx72 = getelementptr inbounds i8*, i8** %args, i64 %indvars.iv
  %20 = bitcast i8** %arrayidx72 to %struct.halide_buffer_t**
  %21 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %20, align 8, !tbaa !11
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %21, i64 0, i32 0
  %22 = load i64, i64* %device, align 8, !tbaa !245
  %23 = inttoptr i64 %22 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %offset = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %23, i64 0, i32 0
  %24 = load i64, i64* %offset, align 8, !tbaa !400
  %cmp73.not = icmp ne i64 %24, 0
  %inc = zext i1 %cmp73.not to i32
  %spec.select = add nsw i32 %sub_buffers_needed.0581, %inc
  br label %if.end75

if.end75:                                         ; preds = %land.lhs.true70, %while.body
  %sub_buffers_needed.1 = phi i32 [ %sub_buffers_needed.0581, %while.body ], [ %spec.select, %land.lhs.true70 ]
  %indvars.iv.next = add nuw i64 %indvars.iv, 1
  %arrayidx = getelementptr inbounds i64, i64* %arg_sizes, i64 %indvars.iv.next
  %25 = load i64, i64* %arrayidx, align 8, !tbaa !19
  %cmp66.not = icmp eq i64 %25, 0
  br i1 %cmp66.not, label %while.end, label %while.body, !llvm.loop !452

while.end:                                        ; preds = %if.end75
  %cmp76 = icmp sgt i32 %sub_buffers_needed.1, 0
  br i1 %cmp76, label %if.then77, label %if.end87

if.then77:                                        ; preds = %while.end
  %conv78575 = zext i32 %sub_buffers_needed.1 to i64
  %mul79 = shl nuw nsw i64 %conv78575, 3
  %call80 = call i8* @malloc(i64 %mul79) #16
  %cmp81 = icmp eq i8* %call80, null
  br i1 %cmp81, label %cleanup231, label %if.end83

if.end83:                                         ; preds = %if.then77
  %26 = bitcast i8* %call80 to %struct._cl_mem**
  %call86 = call i8* @memset(i8* nonnull %call80, i32 0, i64 %mul79) #16
  br label %if.end87

if.end87:                                         ; preds = %if.end83, %while.end, %if.end51
  %sub_buffers.0 = phi %struct._cl_mem** [ %26, %if.end83 ], [ null, %while.end ], [ null, %if.end51 ]
  %27 = bitcast i32* %err112 to i8*
  %28 = bitcast %struct._cl_mem** %mem to i8*
  %29 = bitcast %struct.timespec* %region to i8*
  %origin = getelementptr inbounds %struct.timespec, %struct.timespec* %region, i64 0, i32 0
  %size = getelementptr inbounds %struct.timespec, %struct.timespec* %region, i64 0, i32 1
  %30 = bitcast %struct._cl_mem** %sub_buffers.0 to i8*
  br label %while.cond88

while.cond88:                                     ; preds = %cleanup, %if.end87
  %i.1 = phi i32 [ 0, %if.end87 ], [ %i.2, %cleanup ]
  %sub_buffers_saved.0 = phi i32 [ 0, %if.end87 ], [ %sub_buffers_saved.2, %cleanup ]
  %retval.0 = phi i32 [ undef, %if.end87 ], [ %retval.1, %cleanup ]
  %idxprom89 = sext i32 %i.1 to i64
  %arrayidx90 = getelementptr inbounds i64, i64* %arg_sizes, i64 %idxprom89
  %31 = load i64, i64* %arrayidx90, align 8, !tbaa !19
  %cmp91.not = icmp eq i64 %31, 0
  br i1 %cmp91.not, label %while.end165, label %while.body92

while.body92:                                     ; preds = %while.cond88
  %arrayidx106 = getelementptr inbounds i8*, i8** %args, i64 %idxprom89
  %arrayidx108 = getelementptr inbounds i8, i8* %arg_is_buffer, i64 %idxprom89
  %32 = load i8*, i8** %arrayidx106, align 8, !tbaa !11
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %27) #11
  store i32 0, i32* %err112, align 4, !tbaa !76
  %33 = load i8, i8* %arrayidx108, align 1, !tbaa !15
  %tobool115.not = icmp eq i8 %33, 0
  br i1 %tobool115.not, label %if.else146, label %do.body117

do.body117:                                       ; preds = %while.body92
  %cmp120 = icmp eq i64 %31, 8
  br i1 %cmp120, label %do.end124, label %if.then121

if.then121:                                       ; preds = %do.body117
  call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([110 x i8], [110 x i8]* @.str.167, i64 0, i64 0)) #16
  call void @abort() #16
  br label %do.end124

do.end124:                                        ; preds = %if.then121, %do.body117
  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %28) #11
  %device125 = bitcast i8* %32 to i64*
  %34 = load i64, i64* %device125, align 8, !tbaa !245
  %35 = inttoptr i64 %34 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem126 = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %35, i64 0, i32 1
  %36 = load %struct._cl_mem*, %struct._cl_mem** %mem126, align 8, !tbaa !398
  store %struct._cl_mem* %36, %struct._cl_mem** %mem, align 8, !tbaa !11
  %offset129 = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %35, i64 0, i32 0
  %37 = load i64, i64* %offset129, align 8, !tbaa !400
  %cmp130.not = icmp eq i64 %37, 0
  br i1 %cmp130.not, label %if.end137, label %if.then131

if.then131:                                       ; preds = %do.end124
  call void @llvm.lifetime.start.p0i8(i64 16, i8* nonnull %29) #11
  store i64 %37, i64* %origin, align 8, !tbaa !453
  %dimensions.i.i = getelementptr inbounds i8, i8* %32, i64 36
  %38 = bitcast i8* %dimensions.i.i to i32*
  %39 = load i32, i32* %38, align 4, !tbaa !180
  %dim.i.i = getelementptr inbounds i8, i8* %32, i64 40
  %40 = bitcast i8* %dim.i.i to %struct.halide_dimension_t**
  %41 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %40, align 8
  %cmp19.i.i = icmp sgt i32 %39, 0
  br i1 %cmp19.i.i, label %for.body.preheader.i.i, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

for.body.preheader.i.i:                           ; preds = %if.then131
  %wide.trip.count.i.i = zext i32 %39 to i64
  %42 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter = and i64 %wide.trip.count.i.i, 3
  %43 = icmp ult i64 %42, 3
  br i1 %43, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.preheader.i.i.new

for.body.preheader.i.i.new:                       ; preds = %for.body.preheader.i.i
  %unroll_iter = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %if.end.i.i.3, %for.body.preheader.i.i.new
  %indvars.iv.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i = phi i64 [ 0, %for.body.preheader.i.i.new ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %niter = phi i64 [ %unroll_iter, %for.body.preheader.i.i.new ], [ %niter.nsub.3, %if.end.i.i.3 ]
  %stride2.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.i.i, i32 2
  %44 = load i32, i32* %stride2.i.i, align 4, !tbaa !187
  %cmp3.i.i = icmp sgt i32 %44, 0
  br i1 %cmp3.i.i, label %if.then.i.i349, label %if.end.i.i

if.then.i.i349:                                   ; preds = %for.body.i.i
  %conv18.i.i = zext i32 %44 to i64
  %extent.i.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.i.i, i32 1
  %45 = load i32, i32* %extent.i.i, align 4, !tbaa !183
  %sub.i.i = add nsw i32 %45, -1
  %conv7.i.i = sext i32 %sub.i.i to i64
  %mul.i.i = mul nsw i64 %conv7.i.i, %conv18.i.i
  %add.i.i = add nsw i64 %mul.i.i, %index.021.i.i
  br label %if.end.i.i

if.end.i.i:                                       ; preds = %if.then.i.i349, %for.body.i.i
  %index.1.i.i = phi i64 [ %add.i.i, %if.then.i.i349 ], [ %index.021.i.i, %for.body.i.i ]
  %indvars.iv.next.i.i = or i64 %indvars.iv.i.i, 1
  %stride2.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.next.i.i, i32 2
  %46 = load i32, i32* %stride2.i.i.1, align 4, !tbaa !187
  %cmp3.i.i.1 = icmp sgt i32 %46, 0
  br i1 %cmp3.i.i.1, label %if.then.i.i349.1, label %if.end.i.i.1

for.body.i12.i.preheader.unr-lcssa:               ; preds = %if.end.i.i.3, %for.body.preheader.i.i
  %index.1.i.i.lcssa.ph = phi i64 [ undef, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %indvars.iv.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %indvars.iv.next.i.i.3, %if.end.i.i.3 ]
  %index.021.i.i.unr = phi i64 [ 0, %for.body.preheader.i.i ], [ %index.1.i.i.3, %if.end.i.i.3 ]
  %lcmp.mod.not = icmp eq i64 %xtraiter, 0
  br i1 %lcmp.mod.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil

for.body.i.i.epil:                                ; preds = %for.body.i12.i.preheader.unr-lcssa, %if.end.i.i.epil
  %indvars.iv.i.i.epil = phi i64 [ %indvars.iv.next.i.i.epil, %if.end.i.i.epil ], [ %indvars.iv.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %index.021.i.i.epil = phi i64 [ %index.1.i.i.epil, %if.end.i.i.epil ], [ %index.021.i.i.unr, %for.body.i12.i.preheader.unr-lcssa ]
  %epil.iter = phi i64 [ %epil.iter.sub, %if.end.i.i.epil ], [ %xtraiter, %for.body.i12.i.preheader.unr-lcssa ]
  %stride2.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.i.i.epil, i32 2
  %47 = load i32, i32* %stride2.i.i.epil, align 4, !tbaa !187
  %cmp3.i.i.epil = icmp sgt i32 %47, 0
  br i1 %cmp3.i.i.epil, label %if.then.i.i349.epil, label %if.end.i.i.epil

if.then.i.i349.epil:                              ; preds = %for.body.i.i.epil
  %conv18.i.i.epil = zext i32 %47 to i64
  %extent.i.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.i.i.epil, i32 1
  %48 = load i32, i32* %extent.i.i.epil, align 4, !tbaa !183
  %sub.i.i.epil = add nsw i32 %48, -1
  %conv7.i.i.epil = sext i32 %sub.i.i.epil to i64
  %mul.i.i.epil = mul nsw i64 %conv7.i.i.epil, %conv18.i.i.epil
  %add.i.i.epil = add nsw i64 %mul.i.i.epil, %index.021.i.i.epil
  br label %if.end.i.i.epil

if.end.i.i.epil:                                  ; preds = %if.then.i.i349.epil, %for.body.i.i.epil
  %index.1.i.i.epil = phi i64 [ %add.i.i.epil, %if.then.i.i349.epil ], [ %index.021.i.i.epil, %for.body.i.i.epil ]
  %indvars.iv.next.i.i.epil = add nuw nsw i64 %indvars.iv.i.i.epil, 1
  %epil.iter.sub = add i64 %epil.iter, -1
  %epil.iter.cmp.not = icmp eq i64 %epil.iter.sub, 0
  br i1 %epil.iter.cmp.not, label %for.body.i12.i.preheader, label %for.body.i.i.epil, !llvm.loop !455

for.body.i12.i.preheader:                         ; preds = %if.end.i.i.epil, %for.body.i12.i.preheader.unr-lcssa
  %index.1.i.i.lcssa = phi i64 [ %index.1.i.i.lcssa.ph, %for.body.i12.i.preheader.unr-lcssa ], [ %index.1.i.i.epil, %if.end.i.i.epil ]
  %49 = add nsw i64 %wide.trip.count.i.i, -1
  %xtraiter39 = and i64 %wide.trip.count.i.i, 3
  %50 = icmp ult i64 %49, 3
  br i1 %50, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i.preheader.new

for.body.i12.i.preheader.new:                     ; preds = %for.body.i12.i.preheader
  %unroll_iter43 = and i64 %wide.trip.count.i.i, 4294967292
  br label %for.body.i12.i

for.body.i12.i:                                   ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader.new
  %indvars.iv.i9.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i = phi i64 [ 0, %for.body.i12.i.preheader.new ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %niter44 = phi i64 [ %unroll_iter43, %for.body.i12.i.preheader.new ], [ %niter44.nsub.3, %if.end.i22.i.3 ]
  %stride2.i10.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.i9.i, i32 2
  %51 = load i32, i32* %stride2.i10.i, align 4, !tbaa !187
  %cmp3.i11.i = icmp slt i32 %51, 0
  br i1 %cmp3.i11.i, label %if.then.i18.i, label %if.end.i22.i

if.then.i18.i:                                    ; preds = %for.body.i12.i
  %conv.i.i = sext i32 %51 to i64
  %extent.i13.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.i9.i, i32 1
  %52 = load i32, i32* %extent.i13.i, align 4, !tbaa !183
  %sub.i14.i = add nsw i32 %52, -1
  %conv7.i15.i = sext i32 %sub.i14.i to i64
  %mul.i16.i = mul nsw i64 %conv7.i15.i, %conv.i.i
  %add.i17.i = add nsw i64 %mul.i16.i, %index.018.i.i
  br label %if.end.i22.i

if.end.i22.i:                                     ; preds = %if.then.i18.i, %for.body.i12.i
  %index.1.i19.i = phi i64 [ %add.i17.i, %if.then.i18.i ], [ %index.018.i.i, %for.body.i12.i ]
  %indvars.iv.next.i20.i = or i64 %indvars.iv.i9.i, 1
  %stride2.i10.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.next.i20.i, i32 2
  %53 = load i32, i32* %stride2.i10.i.1, align 4, !tbaa !187
  %cmp3.i11.i.1 = icmp slt i32 %53, 0
  br i1 %cmp3.i11.i.1, label %if.then.i18.i.1, label %if.end.i22.i.1

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa: ; preds = %if.end.i22.i.3, %for.body.i12.i.preheader
  %index.1.i19.i.lcssa.ph = phi i64 [ undef, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %indvars.iv.i9.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %indvars.iv.next.i20.i.3, %if.end.i22.i.3 ]
  %index.018.i.i.unr = phi i64 [ 0, %for.body.i12.i.preheader ], [ %index.1.i19.i.3, %if.end.i22.i.3 ]
  %lcmp.mod41.not = icmp eq i64 %xtraiter39, 0
  br i1 %lcmp.mod41.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil

for.body.i12.i.epil:                              ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, %if.end.i22.i.epil
  %indvars.iv.i9.i.epil = phi i64 [ %indvars.iv.next.i20.i.epil, %if.end.i22.i.epil ], [ %indvars.iv.i9.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %index.018.i.i.epil = phi i64 [ %index.1.i19.i.epil, %if.end.i22.i.epil ], [ %index.018.i.i.unr, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %epil.iter40 = phi i64 [ %epil.iter40.sub, %if.end.i22.i.epil ], [ %xtraiter39, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ]
  %stride2.i10.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.i9.i.epil, i32 2
  %54 = load i32, i32* %stride2.i10.i.epil, align 4, !tbaa !187
  %cmp3.i11.i.epil = icmp slt i32 %54, 0
  br i1 %cmp3.i11.i.epil, label %if.then.i18.i.epil, label %if.end.i22.i.epil

if.then.i18.i.epil:                               ; preds = %for.body.i12.i.epil
  %conv.i.i.epil = sext i32 %54 to i64
  %extent.i13.i.epil = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.i9.i.epil, i32 1
  %55 = load i32, i32* %extent.i13.i.epil, align 4, !tbaa !183
  %sub.i14.i.epil = add nsw i32 %55, -1
  %conv7.i15.i.epil = sext i32 %sub.i14.i.epil to i64
  %mul.i16.i.epil = mul nsw i64 %conv7.i15.i.epil, %conv.i.i.epil
  %add.i17.i.epil = add nsw i64 %mul.i16.i.epil, %index.018.i.i.epil
  br label %if.end.i22.i.epil

if.end.i22.i.epil:                                ; preds = %if.then.i18.i.epil, %for.body.i12.i.epil
  %index.1.i19.i.epil = phi i64 [ %add.i17.i.epil, %if.then.i18.i.epil ], [ %index.018.i.i.epil, %for.body.i12.i.epil ]
  %indvars.iv.next.i20.i.epil = add nuw nsw i64 %indvars.iv.i9.i.epil, 1
  %epil.iter40.sub = add i64 %epil.iter40, -1
  %epil.iter40.cmp.not = icmp eq i64 %epil.iter40.sub, 0
  br i1 %epil.iter40.cmp.not, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, label %for.body.i12.i.epil, !llvm.loop !456

_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit: ; preds = %if.end.i22.i.epil, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa
  %index.1.i19.i.lcssa = phi i64 [ %index.1.i19.i.lcssa.ph, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa ], [ %index.1.i19.i.epil, %if.end.i22.i.epil ]
  %add8.i.i = add nsw i64 %index.1.i.i.lcssa, 1
  br label %_ZNK15halide_buffer_t13size_in_bytesEv.exit

_ZNK15halide_buffer_t13size_in_bytesEv.exit:      ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit, %if.then131
  %add8.i27.i = phi i64 [ 1, %if.then131 ], [ %add8.i.i, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %index.0.lcssa.i8.i = phi i64 [ 0, %if.then131 ], [ %index.1.i19.i.lcssa, %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit ]
  %sub.i = sub nsw i64 %add8.i27.i, %index.0.lcssa.i8.i
  %56 = getelementptr inbounds i8, i8* %32, i64 33
  %57 = load i8, i8* %56, align 1, !tbaa !141
  %conv.i23.i = zext i8 %57 to i64
  %add.i24.i = add nuw nsw i64 %conv.i23.i, 7
  %div.i.i = lshr i64 %add.i24.i, 3
  %mul.i = mul i64 %div.i.i, %sub.i
  store i64 %mul.i, i64* %size, align 8, !tbaa !457
  %58 = load %struct._cl_mem* (%struct._cl_mem*, i64, i32, i8*, i32*)*, %struct._cl_mem* (%struct._cl_mem*, i64, i32, i8*, i32*)** @_ZN6Halide7Runtime8Internal6OpenCL17clCreateSubBufferE, align 8, !tbaa !11
  %call133 = call %struct._cl_mem* %58(%struct._cl_mem* %36, i64 1, i32 4640, i8* nonnull %29, i32* nonnull %err112) #16
  store %struct._cl_mem* %call133, %struct._cl_mem** %mem, align 8, !tbaa !11
  %inc134 = add nsw i32 %sub_buffers_saved.0, 1
  %idxprom135 = sext i32 %sub_buffers_saved.0 to i64
  %arrayidx136 = getelementptr inbounds %struct._cl_mem*, %struct._cl_mem** %sub_buffers.0, i64 %idxprom135
  store %struct._cl_mem* %call133, %struct._cl_mem** %arrayidx136, align 8, !tbaa !11
  call void @llvm.lifetime.end.p0i8(i64 16, i8* nonnull %29) #11
  br label %if.end137

if.end137:                                        ; preds = %_ZNK15halide_buffer_t13size_in_bytesEv.exit, %do.end124
  %sub_buffers_saved.1 = phi i32 [ %inc134, %_ZNK15halide_buffer_t13size_in_bytesEv.exit ], [ %sub_buffers_saved.0, %do.end124 ]
  %59 = load i32, i32* %err112, align 4, !tbaa !76
  %cmp138 = icmp eq i32 %59, 0
  br i1 %cmp138, label %if.then139, label %if.end145

if.then139:                                       ; preds = %if.end137
  %60 = load i32 (%struct._cl_kernel*, i32, i64, i8*)*, i32 (%struct._cl_kernel*, i32, i64, i8*)** @_ZN6Halide7Runtime8Internal6OpenCL14clSetKernelArgE, align 8, !tbaa !11
  %call144 = call i32 %60(%struct._cl_kernel* %call37, i32 %i.1, i64 8, i8* nonnull %28) #16
  store i32 %call144, i32* %err112, align 4, !tbaa !76
  br label %if.end145

if.end145:                                        ; preds = %if.then139, %if.end137
  %.pr574 = phi i32 [ %call144, %if.then139 ], [ %59, %if.end137 ]
  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %28) #11
  br label %if.end150

if.else146:                                       ; preds = %while.body92
  %61 = load i32 (%struct._cl_kernel*, i32, i64, i8*)*, i32 (%struct._cl_kernel*, i32, i64, i8*)** @_ZN6Halide7Runtime8Internal6OpenCL14clSetKernelArgE, align 8, !tbaa !11
  %call149 = call i32 %61(%struct._cl_kernel* %call37, i32 %i.1, i64 %31, i8* %32) #16
  store i32 %call149, i32* %err112, align 4, !tbaa !76
  br label %if.end150

if.end150:                                        ; preds = %if.else146, %if.end145
  %62 = phi i32 [ %call149, %if.else146 ], [ %.pr574, %if.end145 ]
  %sub_buffers_saved.2 = phi i32 [ %sub_buffers_saved.0, %if.else146 ], [ %sub_buffers_saved.1, %if.end145 ]
  %cmp151.not = icmp eq i32 %62, 0
  br i1 %cmp151.not, label %if.end162, label %if.then152

if.then152:                                       ; preds = %if.end150
  %call.i421 = call i8* @malloc(i64 1024) #16
  %tobool.not.i424 = icmp eq i8* %call.i421, null
  br i1 %tobool.not.i424, label %if.then152.split, label %if.then6.i427

if.then152.split:                                 ; preds = %if.then152
  %call.i4333 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([28 x i8], [28 x i8]* @.str.169, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit430

if.then6.i427:                                    ; preds = %if.then152
  %add.ptr.i425 = getelementptr inbounds i8, i8* %call.i421, i64 1023
  store i8 0, i8* %add.ptr.i425, align 1, !tbaa !15
  %call.i4334 = call i8* @halide_string_to_string(i8* nonnull %call.i421, i8* nonnull %add.ptr.i425, i8* getelementptr inbounds ([28 x i8], [28 x i8]* @.str.169, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit430

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit430: ; preds = %if.then152.split, %if.then6.i427
  %phi.call5 = phi i8* [ %call.i4333, %if.then152.split ], [ %call.i4334, %if.then6.i427 ]
  %ref.tmp153.sroa.12.0 = phi i8* [ null, %if.then152.split ], [ %add.ptr.i425, %if.then6.i427 ]
  %63 = load i32, i32* %err112, align 4, !tbaa !76
  %call155 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %63) #17
  %call.i436 = call i8* @halide_string_to_string(i8* %phi.call5, i8* %ref.tmp153.sroa.12.0, i8* %call155) #16
  br i1 %tobool.not.i424, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit458, label %if.else.i450

if.else.i450:                                     ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit430
  %sub.ptr.lhs.cast.i.i445 = ptrtoint i8* %call.i436 to i64
  %sub.ptr.rhs.cast.i.i446 = ptrtoint i8* %call.i421 to i64
  %sub.ptr.sub.i.i447 = sub i64 1, %sub.ptr.rhs.cast.i.i446
  %add.i.i448 = add i64 %sub.ptr.sub.i.i447, %sub.ptr.lhs.cast.i.i445
  %call.i.i449 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i421, i64 %add.i.i448) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit458

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit458: ; preds = %if.else.i450, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit430
  %.sink10.i451 = phi i8* [ %call.i421, %if.else.i450 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit430 ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i451) #16
  call void @free(i8* %call.i421) #16
  %cmp157583 = icmp sgt i32 %sub_buffers_saved.2, 0
  br i1 %cmp157583, label %for.body.preheader, label %for.cond.cleanup

for.body.preheader:                               ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit458
  %wide.trip.count = zext i32 %sub_buffers_saved.2 to i64
  br label %for.body

for.cond.cleanup:                                 ; preds = %for.body, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit458
  call void @free(i8* %30) #16
  %64 = load i32, i32* %err112, align 4, !tbaa !76
  br label %cleanup

for.body:                                         ; preds = %for.body, %for.body.preheader
  %indvars.iv590 = phi i64 [ 0, %for.body.preheader ], [ %indvars.iv.next591, %for.body ]
  %65 = load i32 (%struct._cl_mem*)*, i32 (%struct._cl_mem*)** @_ZN6Halide7Runtime8Internal6OpenCL18clReleaseMemObjectE, align 8, !tbaa !11
  %arrayidx159 = getelementptr inbounds %struct._cl_mem*, %struct._cl_mem** %sub_buffers.0, i64 %indvars.iv590
  %66 = load %struct._cl_mem*, %struct._cl_mem** %arrayidx159, align 8, !tbaa !11
  %call160 = call i32 %65(%struct._cl_mem* %66) #16
  %indvars.iv.next591 = add nuw nsw i64 %indvars.iv590, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next591, %wide.trip.count
  br i1 %exitcond.not, label %for.cond.cleanup, label %for.body, !llvm.loop !458

if.end162:                                        ; preds = %if.end150
  %inc163 = add nsw i32 %i.1, 1
  br label %cleanup

cleanup:                                          ; preds = %if.end162, %for.cond.cleanup
  %i.2 = phi i32 [ %i.1, %for.cond.cleanup ], [ %inc163, %if.end162 ]
  %retval.1 = phi i32 [ %64, %for.cond.cleanup ], [ %retval.0, %if.end162 ]
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %27) #11
  br i1 %cmp151.not, label %while.cond88, label %cleanup231, !llvm.loop !459

while.end165:                                     ; preds = %while.cond88
  %67 = load i32 (%struct._cl_kernel*, i32, i64, i8*)*, i32 (%struct._cl_kernel*, i32, i64, i8*)** @_ZN6Halide7Runtime8Internal6OpenCL14clSetKernelArgE, align 8, !tbaa !11
  %68 = icmp sgt i32 %shared_mem_bytes, 1
  %cond = select i1 %68, i32 %shared_mem_bytes, i32 1
  %conv173 = zext i32 %cond to i64
  %call174 = call i32 %67(%struct._cl_kernel* %call37, i32 %i.1, i64 %conv173, i8* null) #16
  store i32 %call174, i32* %err, align 4, !tbaa !76
  %cmp175.not = icmp eq i32 %call174, 0
  br i1 %cmp175.not, label %if.end181, label %if.then176

if.then176:                                       ; preds = %while.end165
  %call.i461 = call i8* @malloc(i64 1024) #16
  %tobool.not.i464 = icmp eq i8* %call.i461, null
  br i1 %tobool.not.i464, label %if.then176.split, label %if.then6.i467

if.then176.split:                                 ; preds = %if.then176
  %call.i4736 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([27 x i8], [27 x i8]* @.str.171, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit470

if.then6.i467:                                    ; preds = %if.then176
  %add.ptr.i465 = getelementptr inbounds i8, i8* %call.i461, i64 1023
  store i8 0, i8* %add.ptr.i465, align 1, !tbaa !15
  %call.i4737 = call i8* @halide_string_to_string(i8* nonnull %call.i461, i8* nonnull %add.ptr.i465, i8* getelementptr inbounds ([27 x i8], [27 x i8]* @.str.171, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit470

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit470: ; preds = %if.then176.split, %if.then6.i467
  %phi.call8 = phi i8* [ %call.i4736, %if.then176.split ], [ %call.i4737, %if.then6.i467 ]
  %ref.tmp177.sroa.12.0 = phi i8* [ null, %if.then176.split ], [ %add.ptr.i465, %if.then6.i467 ]
  %69 = load i32, i32* %err, align 4, !tbaa !76
  %call179 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %69) #17
  %call.i476 = call i8* @halide_string_to_string(i8* %phi.call8, i8* %ref.tmp177.sroa.12.0, i8* %call179) #16
  br i1 %tobool.not.i464, label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit498, label %if.else.i490

if.else.i490:                                     ; preds = %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit470
  %sub.ptr.lhs.cast.i.i485 = ptrtoint i8* %call.i476 to i64
  %sub.ptr.rhs.cast.i.i486 = ptrtoint i8* %call.i461 to i64
  %sub.ptr.sub.i.i487 = sub i64 1, %sub.ptr.rhs.cast.i.i486
  %add.i.i488 = add i64 %sub.ptr.sub.i.i487, %sub.ptr.lhs.cast.i.i485
  %call.i.i489 = call i32 @halide_msan_annotate_memory_is_initialized(i8* %user_context, i8* nonnull %call.i461, i64 %add.i.i488) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit498

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit498: ; preds = %if.else.i490, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit470
  %.sink10.i491 = phi i8* [ %call.i461, %if.else.i490 ], [ getelementptr inbounds ([35 x i8], [35 x i8]* @.str.274, i64 0, i64 0), %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit470 ]
  call void @halide_error(i8* %user_context, i8* nonnull %.sink10.i491) #16
  call void @free(i8* %call.i461) #16
  %70 = load i32, i32* %err, align 4, !tbaa !76
  br label %cleanup231

if.end181:                                        ; preds = %while.end165
  %71 = load i32 (%struct._cl_command_queue*, %struct._cl_kernel*, i32, i64*, i64*, i64*, i32, %struct._cl_event**, %struct._cl_event**)*, i32 (%struct._cl_command_queue*, %struct._cl_kernel*, i32, i64*, i64*, i64*, i32, %struct._cl_event**, %struct._cl_event**)** @_ZN6Halide7Runtime8Internal6OpenCL22clEnqueueNDRangeKernelE, align 8, !tbaa !11
  %72 = load %struct._cl_command_queue*, %struct._cl_command_queue** %cmd_queue.i, align 8, !tbaa !393
  %call197 = call i32 %71(%struct._cl_command_queue* %72, %struct._cl_kernel* %call37, i32 3, i64* null, i64* nonnull %arrayinit.begin, i64* nonnull %arrayinit.begin60, i32 0, %struct._cl_event** null, %struct._cl_event** null) #16
  store i32 %call197, i32* %err, align 4, !tbaa !76
  %call200 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %call197) #17
  %cmp204585 = icmp sgt i32 %sub_buffers_saved.0, 0
  br i1 %cmp204585, label %for.body206.preheader, label %for.cond.cleanup205

for.body206.preheader:                            ; preds = %if.end181
  %wide.trip.count594 = zext i32 %sub_buffers_saved.0 to i64
  br label %for.body206

for.cond.cleanup205:                              ; preds = %for.body206, %if.end181
  call void @free(i8* %30) #16
  %73 = load i32, i32* %err, align 4, !tbaa !76
  %cmp214.not = icmp eq i32 %73, 0
  br i1 %cmp214.not, label %if.end221, label %if.then215

for.body206:                                      ; preds = %for.body206, %for.body206.preheader
  %indvars.iv592 = phi i64 [ 0, %for.body206.preheader ], [ %indvars.iv.next593, %for.body206 ]
  %74 = load i32 (%struct._cl_mem*)*, i32 (%struct._cl_mem*)** @_ZN6Halide7Runtime8Internal6OpenCL18clReleaseMemObjectE, align 8, !tbaa !11
  %arrayidx208 = getelementptr inbounds %struct._cl_mem*, %struct._cl_mem** %sub_buffers.0, i64 %indvars.iv592
  %75 = load %struct._cl_mem*, %struct._cl_mem** %arrayidx208, align 8, !tbaa !11
  %call209 = call i32 %74(%struct._cl_mem* %75) #16
  %indvars.iv.next593 = add nuw nsw i64 %indvars.iv592, 1
  %exitcond595.not = icmp eq i64 %indvars.iv.next593, %wide.trip.count594
  br i1 %exitcond595.not, label %for.cond.cleanup205, label %for.body206, !llvm.loop !460

if.then215:                                       ; preds = %for.cond.cleanup205
  %76 = bitcast %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp216 to i8*
  call void @llvm.lifetime.start.p0i8(i64 40, i8* nonnull %76) #11
  %user_context.i499 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp216, i64 0, i32 3
  store i8* %user_context, i8** %user_context.i499, align 8, !tbaa !424
  %own_mem.i500 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp216, i64 0, i32 4
  store i8 1, i8* %own_mem.i500, align 8, !tbaa !426
  %call.i501 = call i8* @malloc(i64 1024) #16
  %buf3.i502 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp216, i64 0, i32 0
  store i8* %call.i501, i8** %buf3.i502, align 8, !tbaa !427
  %dst.i503 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp216, i64 0, i32 1
  %tobool.not.i504 = icmp eq i8* %call.i501, null
  br i1 %tobool.not.i504, label %if.then215.split, label %if.then6.i507

if.then215.split:                                 ; preds = %if.then215
  %call.i5139 = call i8* @halide_string_to_string(i8* null, i8* null, i8* getelementptr inbounds ([36 x i8], [36 x i8]* @.str.173, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit510

if.then6.i507:                                    ; preds = %if.then215
  %add.ptr.i505 = getelementptr inbounds i8, i8* %call.i501, i64 1023
  store i8 0, i8* %add.ptr.i505, align 1, !tbaa !15
  %call.i51310 = call i8* @halide_string_to_string(i8* nonnull %call.i501, i8* nonnull %add.ptr.i505, i8* getelementptr inbounds ([36 x i8], [36 x i8]* @.str.173, i64 0, i64 0)) #16
  br label %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit510

_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit510: ; preds = %if.then215.split, %if.then6.i507
  %add.ptr.i505.sink28 = phi i8* [ null, %if.then215.split ], [ %add.ptr.i505, %if.then6.i507 ]
  %phi.call11 = phi i8* [ %call.i5139, %if.then215.split ], [ %call.i51310, %if.then6.i507 ]
  %77 = getelementptr inbounds %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer", %"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* %ref.tmp216, i64 0, i32 2
  store i8* %add.ptr.i505.sink28, i8** %77, align 8
  %78 = load i32, i32* %err, align 4, !tbaa !76
  %call218 = call i8* @_ZN6Halide7Runtime8Internal6OpenCL21get_opencl_error_nameEi(i32 %78) #17
  %call.i516 = call i8* @halide_string_to_string(i8* %phi.call11, i8* %add.ptr.i505.sink28, i8* %call218) #16
  %call.i519 = call i8* @halide_string_to_string(i8* %call.i516, i8* %add.ptr.i505.sink28, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @.str.4.215, i64 0, i64 0)) #16
  store i8* %call.i519, i8** %dst.i503, align 8, !tbaa !428
  call fastcc void @_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev(%"class.Halide::Runtime::Internal::(anonymous namespace)::Printer"* nonnull align 8 dereferenceable(33) %ref.tmp216) #16
  call void @llvm.lifetime.end.p0i8(i64 40, i8* nonnull %76) #11
  %79 = load i32, i32* %err, align 4, !tbaa !76
  br label %cleanup231

if.end221:                                        ; preds = %for.cond.cleanup205
  %80 = load i32 (%struct._cl_kernel*)*, i32 (%struct._cl_kernel*)** @_ZN6Halide7Runtime8Internal6OpenCL15clReleaseKernelE, align 8, !tbaa !11
  %call226 = call i32 %80(%struct._cl_kernel* %call37) #16
  br label %cleanup231

cleanup231:                                       ; preds = %cleanup, %if.end221, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit510, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit498, %if.then77
  %retval.2 = phi i32 [ %70, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit498 ], [ %79, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEC2EPvPc.exit510 ], [ 0, %if.end221 ], [ -11, %if.then77 ], [ %retval.1, %cleanup ]
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %17) #11
  call void @llvm.lifetime.end.p0i8(i64 24, i8* nonnull %16) #11
  br label %cleanup240

cleanup240:                                       ; preds = %cleanup231, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread
  %retval.4 = phi i32 [ %call.i, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit ], [ -1, %_ZN6Halide7Runtime8Internal6OpenCL9ClContextC2EPv.exit.thread ], [ %15, %_ZN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EED2Ev.exit ], [ %retval.2, %cleanup231 ]
  %81 = load i8*, i8** %user_context2.i, align 8, !tbaa !390
  %call.i350 = call i32 @halide_release_cl_context(i8* %81) #16
  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %1) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %0) #11
  ret i32 %retval.4

if.then.i.i349.1:                                 ; preds = %if.end.i.i
  %conv18.i.i.1 = zext i32 %46 to i64
  %extent.i.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.next.i.i, i32 1
  %82 = load i32, i32* %extent.i.i.1, align 4, !tbaa !183
  %sub.i.i.1 = add nsw i32 %82, -1
  %conv7.i.i.1 = sext i32 %sub.i.i.1 to i64
  %mul.i.i.1 = mul nsw i64 %conv7.i.i.1, %conv18.i.i.1
  %add.i.i.1 = add nsw i64 %mul.i.i.1, %index.1.i.i
  br label %if.end.i.i.1

if.end.i.i.1:                                     ; preds = %if.then.i.i349.1, %if.end.i.i
  %index.1.i.i.1 = phi i64 [ %add.i.i.1, %if.then.i.i349.1 ], [ %index.1.i.i, %if.end.i.i ]
  %indvars.iv.next.i.i.1 = or i64 %indvars.iv.i.i, 2
  %stride2.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.next.i.i.1, i32 2
  %83 = load i32, i32* %stride2.i.i.2, align 4, !tbaa !187
  %cmp3.i.i.2 = icmp sgt i32 %83, 0
  br i1 %cmp3.i.i.2, label %if.then.i.i349.2, label %if.end.i.i.2

if.then.i.i349.2:                                 ; preds = %if.end.i.i.1
  %conv18.i.i.2 = zext i32 %83 to i64
  %extent.i.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.next.i.i.1, i32 1
  %84 = load i32, i32* %extent.i.i.2, align 4, !tbaa !183
  %sub.i.i.2 = add nsw i32 %84, -1
  %conv7.i.i.2 = sext i32 %sub.i.i.2 to i64
  %mul.i.i.2 = mul nsw i64 %conv7.i.i.2, %conv18.i.i.2
  %add.i.i.2 = add nsw i64 %mul.i.i.2, %index.1.i.i.1
  br label %if.end.i.i.2

if.end.i.i.2:                                     ; preds = %if.then.i.i349.2, %if.end.i.i.1
  %index.1.i.i.2 = phi i64 [ %add.i.i.2, %if.then.i.i349.2 ], [ %index.1.i.i.1, %if.end.i.i.1 ]
  %indvars.iv.next.i.i.2 = or i64 %indvars.iv.i.i, 3
  %stride2.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.next.i.i.2, i32 2
  %85 = load i32, i32* %stride2.i.i.3, align 4, !tbaa !187
  %cmp3.i.i.3 = icmp sgt i32 %85, 0
  br i1 %cmp3.i.i.3, label %if.then.i.i349.3, label %if.end.i.i.3

if.then.i.i349.3:                                 ; preds = %if.end.i.i.2
  %conv18.i.i.3 = zext i32 %85 to i64
  %extent.i.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.next.i.i.2, i32 1
  %86 = load i32, i32* %extent.i.i.3, align 4, !tbaa !183
  %sub.i.i.3 = add nsw i32 %86, -1
  %conv7.i.i.3 = sext i32 %sub.i.i.3 to i64
  %mul.i.i.3 = mul nsw i64 %conv7.i.i.3, %conv18.i.i.3
  %add.i.i.3 = add nsw i64 %mul.i.i.3, %index.1.i.i.2
  br label %if.end.i.i.3

if.end.i.i.3:                                     ; preds = %if.then.i.i349.3, %if.end.i.i.2
  %index.1.i.i.3 = phi i64 [ %add.i.i.3, %if.then.i.i349.3 ], [ %index.1.i.i.2, %if.end.i.i.2 ]
  %indvars.iv.next.i.i.3 = add nuw nsw i64 %indvars.iv.i.i, 4
  %niter.nsub.3 = add i64 %niter, -4
  %niter.ncmp.3 = icmp eq i64 %niter.nsub.3, 0
  br i1 %niter.ncmp.3, label %for.body.i12.i.preheader.unr-lcssa, label %for.body.i.i, !llvm.loop !401

if.then.i18.i.1:                                  ; preds = %if.end.i22.i
  %conv.i.i.1 = sext i32 %53 to i64
  %extent.i13.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.next.i20.i, i32 1
  %87 = load i32, i32* %extent.i13.i.1, align 4, !tbaa !183
  %sub.i14.i.1 = add nsw i32 %87, -1
  %conv7.i15.i.1 = sext i32 %sub.i14.i.1 to i64
  %mul.i16.i.1 = mul nsw i64 %conv7.i15.i.1, %conv.i.i.1
  %add.i17.i.1 = add nsw i64 %mul.i16.i.1, %index.1.i19.i
  br label %if.end.i22.i.1

if.end.i22.i.1:                                   ; preds = %if.then.i18.i.1, %if.end.i22.i
  %index.1.i19.i.1 = phi i64 [ %add.i17.i.1, %if.then.i18.i.1 ], [ %index.1.i19.i, %if.end.i22.i ]
  %indvars.iv.next.i20.i.1 = or i64 %indvars.iv.i9.i, 2
  %stride2.i10.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.next.i20.i.1, i32 2
  %88 = load i32, i32* %stride2.i10.i.2, align 4, !tbaa !187
  %cmp3.i11.i.2 = icmp slt i32 %88, 0
  br i1 %cmp3.i11.i.2, label %if.then.i18.i.2, label %if.end.i22.i.2

if.then.i18.i.2:                                  ; preds = %if.end.i22.i.1
  %conv.i.i.2 = sext i32 %88 to i64
  %extent.i13.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.next.i20.i.1, i32 1
  %89 = load i32, i32* %extent.i13.i.2, align 4, !tbaa !183
  %sub.i14.i.2 = add nsw i32 %89, -1
  %conv7.i15.i.2 = sext i32 %sub.i14.i.2 to i64
  %mul.i16.i.2 = mul nsw i64 %conv7.i15.i.2, %conv.i.i.2
  %add.i17.i.2 = add nsw i64 %mul.i16.i.2, %index.1.i19.i.1
  br label %if.end.i22.i.2

if.end.i22.i.2:                                   ; preds = %if.then.i18.i.2, %if.end.i22.i.1
  %index.1.i19.i.2 = phi i64 [ %add.i17.i.2, %if.then.i18.i.2 ], [ %index.1.i19.i.1, %if.end.i22.i.1 ]
  %indvars.iv.next.i20.i.2 = or i64 %indvars.iv.i9.i, 3
  %stride2.i10.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.next.i20.i.2, i32 2
  %90 = load i32, i32* %stride2.i10.i.3, align 4, !tbaa !187
  %cmp3.i11.i.3 = icmp slt i32 %90, 0
  br i1 %cmp3.i11.i.3, label %if.then.i18.i.3, label %if.end.i22.i.3

if.then.i18.i.3:                                  ; preds = %if.end.i22.i.2
  %conv.i.i.3 = sext i32 %90 to i64
  %extent.i13.i.3 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %41, i64 %indvars.iv.next.i20.i.2, i32 1
  %91 = load i32, i32* %extent.i13.i.3, align 4, !tbaa !183
  %sub.i14.i.3 = add nsw i32 %91, -1
  %conv7.i15.i.3 = sext i32 %sub.i14.i.3 to i64
  %mul.i16.i.3 = mul nsw i64 %conv7.i15.i.3, %conv.i.i.3
  %add.i17.i.3 = add nsw i64 %mul.i16.i.3, %index.1.i19.i.2
  br label %if.end.i22.i.3

if.end.i22.i.3:                                   ; preds = %if.then.i18.i.3, %if.end.i22.i.2
  %index.1.i19.i.3 = phi i64 [ %add.i17.i.3, %if.then.i18.i.3 ], [ %index.1.i19.i.2, %if.end.i22.i.2 ]
  %indvars.iv.next.i20.i.3 = add nuw nsw i64 %indvars.iv.i9.i, 4
  %niter44.nsub.3 = add i64 %niter44, -4
  %niter44.ncmp.3 = icmp eq i64 %niter44.nsub.3, 0
  br i1 %niter44.ncmp.3, label %_ZNK15halide_buffer_t13size_in_bytesEv.exit.loopexit.unr-lcssa, label %for.body.i12.i, !llvm.loop !402
}

; Function Attrs: mustprogress nounwind
define weak i64 @halide_opencl_get_cl_mem(i8* %user_context, %struct.halide_buffer_t* %buf) local_unnamed_addr #0 {
entry:
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %cmp = icmp eq i64 %0, 0
  br i1 %cmp, label %return, label %do.body

do.body:                                          ; preds = %entry
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %1 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %cmp1 = icmp eq %struct.halide_device_interface_t* %1, @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE
  %cmp3 = icmp eq %struct.halide_device_interface_t* %1, @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE
  %or.cond = or i1 %cmp1, %cmp3
  br i1 %or.cond, label %do.end, label %if.then4

if.then4:                                         ; preds = %do.body
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([186 x i8], [186 x i8]* @.str.178, i64 0, i64 0)) #16
  tail call void @abort() #16
  %.pre = load i64, i64* %device, align 8, !tbaa !245
  br label %do.end

do.end:                                           ; preds = %if.then4, %do.body
  %2 = phi i64 [ %0, %do.body ], [ %.pre, %if.then4 ]
  %3 = inttoptr i64 %2 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %mem = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %3, i64 0, i32 1
  %4 = load %struct._cl_mem*, %struct._cl_mem** %mem, align 8, !tbaa !398
  %5 = ptrtoint %struct._cl_mem* %4 to i64
  br label %return

return:                                           ; preds = %do.end, %entry
  %retval.0 = phi i64 [ %5, %do.end ], [ 0, %entry ]
  ret i64 %retval.0
}

; Function Attrs: mustprogress nounwind
define weak i64 @halide_opencl_get_crop_offset(i8* %user_context, %struct.halide_buffer_t* %buf) local_unnamed_addr #0 {
entry:
  %device = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 0
  %0 = load i64, i64* %device, align 8, !tbaa !245
  %cmp = icmp eq i64 %0, 0
  br i1 %cmp, label %return, label %do.body

do.body:                                          ; preds = %entry
  %device_interface = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %buf, i64 0, i32 1
  %1 = load %struct.halide_device_interface_t*, %struct.halide_device_interface_t** %device_interface, align 8, !tbaa !310
  %cmp1 = icmp eq %struct.halide_device_interface_t* %1, @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE
  br i1 %cmp1, label %do.end, label %if.then2

if.then2:                                         ; preds = %do.body
  tail call void @halide_print(i8* %user_context, i8* getelementptr inbounds ([127 x i8], [127 x i8]* @.str.179, i64 0, i64 0)) #16
  tail call void @abort() #16
  %.pre = load i64, i64* %device, align 8, !tbaa !245
  br label %do.end

do.end:                                           ; preds = %if.then2, %do.body
  %2 = phi i64 [ %0, %do.body ], [ %.pre, %if.then2 ]
  %3 = inttoptr i64 %2 to %"struct.Halide::Runtime::Internal::OpenCL::device_handle"*
  %offset = getelementptr inbounds %"struct.Halide::Runtime::Internal::OpenCL::device_handle", %"struct.Halide::Runtime::Internal::OpenCL::device_handle"* %3, i64 0, i32 0
  %4 = load i64, i64* %offset, align 8, !tbaa !400
  br label %return

return:                                           ; preds = %do.end, %entry
  %retval.0 = phi i64 [ %4, %do.end ], [ 0, %entry ]
  ret i64 %retval.0
}

; Function Attrs: mustprogress nounwind
define weak %struct.halide_device_interface_t* @halide_opencl_device_interface() local_unnamed_addr #0 {
entry:
  ret %struct.halide_device_interface_t* @_ZN6Halide7Runtime8Internal6OpenCL23opencl_device_interfaceE
}

; Function Attrs: mustprogress nounwind
define weak %struct.halide_device_interface_t* @halide_opencl_image_device_interface() local_unnamed_addr #0 {
entry:
  ret %struct.halide_device_interface_t* @_ZN6Halide7Runtime8Internal6OpenCL29opencl_image_device_interfaceE
}

; Function Attrs: nounwind
define i32 @simple_ex(%struct.halide_buffer_t* noalias %input.buffer, %struct.halide_buffer_t* noalias %bias.buffer, %struct.halide_buffer_t* noalias %weight_1.buffer, %struct.halide_buffer_t* noalias %weight_2.buffer, %struct.halide_buffer_t* noalias %output.buffer) local_unnamed_addr #10 {
entry:
  %0 = alloca [13 x i8], align 1
  %1 = alloca { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, align 8
  %2 = alloca i32, align 4
  %3 = alloca i32, align 4
  %4 = alloca i32, align 4
  %5 = alloca i32, align 4
  %6 = alloca i32, align 4
  %7 = alloca i32, align 4
  %8 = alloca i32, align 4
  %9 = alloca i32, align 4
  %10 = alloca i32, align 4
  %11 = alloca i32, align 4
  %12 = alloca [13 x i64], align 8
  %13 = alloca [12 x i8], align 1
  %14 = alloca { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, align 8
  %15 = alloca i32, align 4
  %16 = alloca i32, align 4
  %17 = alloca i32, align 4
  %18 = alloca i32, align 4
  %19 = alloca i32, align 4
  %20 = alloca i32, align 4
  %21 = alloca i32, align 4
  %22 = alloca i32, align 4
  %23 = alloca [12 x i64], align 8
  %24 = alloca [9 x i8], align 1
  %25 = alloca { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, align 8
  %26 = alloca i32, align 4
  %27 = alloca i32, align 4
  %28 = alloca i32, align 4
  %29 = alloca i32, align 4
  %30 = alloca i32, align 4
  %31 = alloca i32, align 4
  %32 = alloca [9 x i64], align 8
  %33 = alloca %struct.halide_buffer_t, align 8
  %t326 = alloca [16 x i32], align 4
  %34 = alloca [45 x i8], align 1
  %35 = alloca { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, align 8
  %36 = alloca i32, align 4
  %37 = alloca i32, align 4
  %38 = alloca i32, align 4
  %39 = alloca i32, align 4
  %40 = alloca i32, align 4
  %41 = alloca i32, align 4
  %42 = alloca i32, align 4
  %43 = alloca i32, align 4
  %44 = alloca i32, align 4
  %45 = alloca i32, align 4
  %46 = alloca i32, align 4
  %47 = alloca i32, align 4
  %48 = alloca i32, align 4
  %49 = alloca i32, align 4
  %50 = alloca i32, align 4
  %51 = alloca i32, align 4
  %52 = alloca i32, align 4
  %53 = alloca i32, align 4
  %54 = alloca i32, align 4
  %55 = alloca i32, align 4
  %56 = alloca i32, align 4
  %57 = alloca i32, align 4
  %58 = alloca i32, align 4
  %59 = alloca i32, align 4
  %60 = alloca i32, align 4
  %61 = alloca i32, align 4
  %62 = alloca i32, align 4
  %63 = alloca i32, align 4
  %64 = alloca i32, align 4
  %65 = alloca i32, align 4
  %66 = alloca i32, align 4
  %67 = alloca i32, align 4
  %68 = alloca i32, align 4
  %69 = alloca i32, align 4
  %70 = alloca i32, align 4
  %71 = alloca i32, align 4
  %72 = alloca i32, align 4
  %73 = alloca i32, align 4
  %74 = alloca i32, align 4
  %75 = alloca i32, align 4
  %76 = alloca i32, align 4
  %77 = alloca [45 x i64], align 8
  %78 = alloca [9 x i8], align 1
  %79 = alloca { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, align 8
  %80 = alloca i32, align 4
  %81 = alloca i32, align 4
  %82 = alloca i32, align 4
  %83 = alloca i32, align 4
  %84 = alloca i32, align 4
  %85 = alloca i32, align 4
  %86 = alloca [9 x i64], align 8
  %87 = alloca %struct.halide_buffer_t, align 8
  %t325 = alloca [16 x i32], align 4
  %88 = alloca [16 x i32], align 4
  %89 = alloca [16 x i32], align 4
  %90 = alloca [16 x i32], align 4
  %91 = alloca [16 x i32], align 4
  %halide_opencl_initialize_kernels_result = tail call i32 @halide_opencl_initialize_kernels(i8* null, i8** bitcast ([8 x i8]* @opencl_buf.data to i8**), i8* getelementptr inbounds ([23235 x i8], [23235 x i8]* @opencl_gpu_source_kernels.data, i64 0, i64 0), i32 23235) #11
  %92 = icmp eq i32 %halide_opencl_initialize_kernels_result, 0
  br i1 %92, label %"assert succeeded", label %common.ret, !prof !461

"assert succeeded":                               ; preds = %entry
  %93 = load i64, i64* bitcast ([8 x i8]* @opencl_buf.data to i64*), align 32, !tbaa !462
  %94 = inttoptr i64 %93 to i8*
  %95 = icmp eq %struct.halide_buffer_t* %weight_2.buffer, null
  %96 = zext i1 %95 to i64
  %97 = icmp eq %struct.halide_buffer_t* %weight_1.buffer, null
  %98 = select i1 %97, i64 2, i64 0
  %99 = icmp eq %struct.halide_buffer_t* %output.buffer, null
  %100 = select i1 %99, i64 4, i64 0
  %101 = icmp eq %struct.halide_buffer_t* %input.buffer, null
  %102 = icmp eq %struct.halide_buffer_t* %bias.buffer, null
  %103 = select i1 %102, i64 16, i64 0
  %104 = select i1 %101, i64 -9223372036854775800, i64 -9223372036854775808
  %105 = or i64 %104, %103
  %106 = or i64 %105, %98
  %107 = or i64 %106, %96
  %108 = or i64 %107, %100
  %109 = tail call i64 @llvm.cttz.i64(i64 %108, i1 true), !range !476
  %110 = trunc i64 %109 to i32
  switch i32 %110, label %no_errors_bb [
    i32 0, label %assert_failed
    i32 1, label %assert_failed1
    i32 2, label %assert_failed2
    i32 3, label %assert_failed3
    i32 4, label %assert_failed4
  ], !prof !477

common.ret:                                       ; preds = %entry, %if.then.i166, %call_destructor.exit164, %assert_failed95, %assert_failed94, %assert_failed93, %assert_failed92, %assert_failed91, %assert_failed90, %assert_failed89, %assert_failed88, %assert_failed87, %assert_failed86, %assert_failed85, %assert_failed84, %assert_failed83, %assert_failed82, %assert_failed81, %assert_failed80, %assert_failed79, %assert_failed78, %assert_failed77, %assert_failed76, %assert_failed75, %assert_failed74, %assert_failed73, %assert_failed72, %assert_failed71, %assert_failed70, %assert_failed69, %assert_failed68, %assert_failed67, %assert_failed65, %assert_failed64, %assert_failed63, %assert_failed62, %assert_failed61, %assert_failed60, %assert_failed59, %assert_failed58, %assert_failed57, %assert_failed56, %assert_failed55, %assert_failed54, %assert_failed53, %assert_failed52, %assert_failed51, %assert_failed50, %assert_failed49, %assert_failed48, %assert_failed47, %assert_failed46, %assert_failed45, %assert_failed44, %assert_failed43, %assert_failed42, %assert_failed41, %assert_failed40, %assert_failed39, %assert_failed38, %assert_failed37, %assert_failed36, %assert_failed35, %assert_failed34, %assert_failed33, %assert_failed32, %assert_failed31, %assert_failed30, %assert_failed29, %assert_failed28, %assert_failed27, %assert_failed26, %assert_failed25, %assert_failed24, %assert_failed23, %assert_failed22, %assert_failed21, %assert_failed4, %assert_failed3, %assert_failed2, %assert_failed1, %assert_failed
  %common.ret.op = phi i32 [ %227, %assert_failed ], [ %228, %assert_failed1 ], [ %229, %assert_failed2 ], [ %230, %assert_failed3 ], [ %231, %assert_failed4 ], [ %599, %assert_failed21 ], [ %600, %assert_failed22 ], [ %601, %assert_failed23 ], [ %602, %assert_failed24 ], [ %603, %assert_failed25 ], [ %604, %assert_failed26 ], [ %605, %assert_failed27 ], [ %606, %assert_failed28 ], [ %607, %assert_failed29 ], [ %608, %assert_failed30 ], [ %611, %assert_failed31 ], [ %612, %assert_failed32 ], [ %614, %assert_failed33 ], [ %615, %assert_failed34 ], [ %617, %assert_failed35 ], [ %618, %assert_failed36 ], [ %620, %assert_failed37 ], [ %621, %assert_failed38 ], [ %624, %assert_failed39 ], [ %625, %assert_failed40 ], [ %626, %assert_failed41 ], [ %631, %assert_failed42 ], [ %636, %assert_failed43 ], [ %637, %assert_failed44 ], [ %639, %assert_failed45 ], [ %640, %assert_failed46 ], [ %642, %assert_failed47 ], [ %643, %assert_failed48 ], [ %645, %assert_failed49 ], [ %646, %assert_failed50 ], [ %648, %assert_failed51 ], [ %649, %assert_failed52 ], [ %651, %assert_failed53 ], [ %652, %assert_failed54 ], [ %654, %assert_failed55 ], [ %655, %assert_failed56 ], [ %657, %assert_failed57 ], [ %658, %assert_failed58 ], [ %661, %assert_failed59 ], [ %662, %assert_failed60 ], [ %663, %assert_failed61 ], [ %664, %assert_failed62 ], [ %665, %assert_failed63 ], [ %666, %assert_failed64 ], [ %667, %assert_failed65 ], [ %700, %assert_failed67 ], [ %701, %assert_failed68 ], [ %702, %assert_failed69 ], [ %703, %assert_failed70 ], [ %704, %assert_failed71 ], [ %705, %assert_failed72 ], [ %706, %assert_failed73 ], [ %707, %assert_failed74 ], [ %708, %assert_failed75 ], [ %709, %assert_failed76 ], [ %710, %assert_failed77 ], [ %711, %assert_failed78 ], [ %712, %assert_failed79 ], [ %713, %assert_failed80 ], [ %714, %assert_failed81 ], [ %715, %assert_failed82 ], [ %716, %assert_failed83 ], [ %717, %assert_failed84 ], [ %718, %assert_failed85 ], [ %719, %assert_failed86 ], [ %720, %assert_failed87 ], [ %721, %assert_failed88 ], [ %722, %assert_failed89 ], [ %723, %assert_failed90 ], [ %724, %assert_failed91 ], [ %725, %assert_failed92 ], [ %726, %assert_failed93 ], [ %727, %assert_failed94 ], [ %728, %assert_failed95 ], [ %112, %call_destructor.exit164 ], [ %112, %if.then.i166 ], [ %halide_opencl_initialize_kernels_result, %entry ]
  ret i32 %common.ret.op

call_destructor.exit:                             ; preds = %"for conv2.s0.z.rebased", %"for conv2.s1.z.rebased", %"for output.s0.z.rebased", %if.then.i472, %"assert succeeded127", %"end for conv1.s1.z", %"end for conv2.s0.z.rebased", %"end for conv2.s1.z.rebased", %call_destructor.exit467, %"end for output.s0.z.rebased"
  %.0482.ph = phi i8* [ %869, %"end for conv1.s1.z" ], [ %869, %"end for conv2.s0.z.rebased" ], [ %869, %"end for conv2.s1.z.rebased" ], [ %869, %call_destructor.exit467 ], [ %869, %"end for output.s0.z.rebased" ], [ null, %"assert succeeded127" ], [ null, %if.then.i472 ], [ %869, %"for output.s0.z.rebased" ], [ %869, %"for conv2.s1.z.rebased" ], [ %869, %"for conv2.s0.z.rebased" ]
  %.0480.ph = phi i8* [ %677, %"end for conv1.s1.z" ], [ %677, %"end for conv2.s0.z.rebased" ], [ %677, %"end for conv2.s1.z.rebased" ], [ null, %call_destructor.exit467 ], [ null, %"end for output.s0.z.rebased" ], [ null, %"assert succeeded127" ], [ null, %if.then.i472 ], [ null, %"for output.s0.z.rebased" ], [ %677, %"for conv2.s1.z.rebased" ], [ %677, %"for conv2.s0.z.rebased" ]
  %.ph = phi i32 [ %halide_device_malloc_result, %"end for conv1.s1.z" ], [ %"halide_copy_to_device_result$4", %"end for conv2.s0.z.rebased" ], [ %"halide_device_free_result$1", %"end for conv2.s1.z.rebased" ], [ %"halide_copy_to_device_result$2", %call_destructor.exit467 ], [ %halide_device_free_result, %"end for output.s0.z.rebased" ], [ 0, %"assert succeeded127" ], [ 0, %if.then.i472 ], [ %"halide_opencl_run_result$4", %"for output.s0.z.rebased" ], [ %"halide_opencl_run_result$3", %"for conv2.s1.z.rebased" ], [ %"halide_opencl_run_result$2", %"for conv2.s0.z.rebased" ]
  call void @halide_device_free_as_destructor(i8* null, i8* nonnull %888) #16
  %.not540 = icmp eq i32 %.ph, 0
  %tobool.not.i154 = icmp eq i8* %.0482.ph, null
  %brmerge.i = select i1 %tobool.not.i154, i1 true, i1 %.not540
  br i1 %brmerge.i, label %call_destructor.exit159, label %if.then.i155

if.then.i155:                                     ; preds = %call_destructor.exit
  call void @halide_free(i8* null, i8* nonnull %.0482.ph) #16
  br label %call_destructor.exit159

call_destructor.exit159:                          ; preds = %"for conv1.s0.z", %"for conv1.s1.z", %"assert succeeded105", %"end for conv1.s0.z", %"assert succeeded99", %no_errors_bb66, %if.then.i155, %call_destructor.exit
  %111 = phi i32 [ %.ph, %call_destructor.exit ], [ %.ph, %if.then.i155 ], [ %"halide_device_malloc_result$1", %no_errors_bb66 ], [ %halide_copy_to_device_result, %"assert succeeded99" ], [ %"halide_copy_to_device_result$1", %"end for conv1.s0.z" ], [ %"halide_copy_to_device_result$3", %"assert succeeded105" ], [ %"halide_opencl_run_result$1", %"for conv1.s1.z" ], [ %halide_opencl_run_result, %"for conv1.s0.z" ]
  %.0480496508519 = phi i8* [ %.0480.ph, %call_destructor.exit ], [ %.0480.ph, %if.then.i155 ], [ %677, %no_errors_bb66 ], [ %677, %"assert succeeded99" ], [ %677, %"end for conv1.s0.z" ], [ %677, %"assert succeeded105" ], [ %677, %"for conv1.s1.z" ], [ %677, %"for conv1.s0.z" ]
  %should_call.not.i510516 = phi i1 [ %.not540, %call_destructor.exit ], [ false, %if.then.i155 ], [ false, %no_errors_bb66 ], [ false, %"assert succeeded99" ], [ false, %"end for conv1.s0.z" ], [ false, %"assert succeeded105" ], [ false, %"for conv1.s1.z" ], [ false, %"for conv1.s0.z" ]
  call void @halide_device_free_as_destructor(i8* null, i8* nonnull %696) #16
  %tobool.not.i160 = icmp eq i8* %.0480496508519, null
  %brmerge.i162 = select i1 %tobool.not.i160, i1 true, i1 %should_call.not.i510516
  br i1 %brmerge.i162, label %call_destructor.exit164, label %if.then.i163

if.then.i163:                                     ; preds = %call_destructor.exit159
  call void @halide_free(i8* null, i8* nonnull %.0480496508519) #16
  br label %call_destructor.exit164

call_destructor.exit164:                          ; preds = %_halide_buffer_is_bounds_query.exit423, %call_destructor.exit159, %if.then.i163
  %112 = phi i32 [ %111, %call_destructor.exit159 ], [ %111, %if.then.i163 ], [ 0, %_halide_buffer_is_bounds_query.exit423 ]
  %tobool.not.i165 = icmp eq i64 %93, 0
  br i1 %tobool.not.i165, label %common.ret, label %if.then.i166

if.then.i166:                                     ; preds = %call_destructor.exit164
  call void @halide_opencl_finalize_kernels(i8* null, i8* nonnull %94) #16
  br label %common.ret

no_errors_bb:                                     ; preds = %"assert succeeded"
  %host.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %bias.buffer, i64 0, i32 2
  %code.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %bias.buffer, i64 0, i32 4, i32 0
  %113 = load i8, i8* %code.i.i, align 2, !tbaa !308
  %conv.i.i = zext i8 %113 to i32
  %bits.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %bias.buffer, i64 0, i32 4, i32 1
  %114 = load i8, i8* %bits.i.i, align 1, !tbaa !141
  %conv3.i.i = zext i8 %114 to i32
  %shl.i.i = shl nuw nsw i32 %conv3.i.i, 8
  %or.i.i = or i32 %shl.i.i, %conv.i.i
  %lanes.i.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %bias.buffer, i64 0, i32 4, i32 2
  %115 = load i16, i16* %lanes.i.i, align 2, !tbaa !309
  %conv4.i.i = zext i16 %115 to i32
  %shl5.i.i = shl nuw i32 %conv4.i.i, 16
  %or6.i.i = or i32 %or.i.i, %shl5.i.i
  %dimensions.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %bias.buffer, i64 0, i32 5
  %116 = load i32, i32* %dimensions.i, align 4, !tbaa !180
  %dim.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %bias.buffer, i64 0, i32 6
  %117 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i, align 8, !tbaa !181
  %min.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %117, i64 0, i32 0
  %118 = load i32, i32* %min.i, align 4, !tbaa !186
  %extent.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %117, i64 0, i32 1
  %119 = load i32, i32* %extent.i, align 4, !tbaa !183
  %stride.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %117, i64 0, i32 2
  %120 = load i32, i32* %stride.i, align 4, !tbaa !187
  %host.i170 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %input.buffer, i64 0, i32 2
  %code.i.i171 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %input.buffer, i64 0, i32 4, i32 0
  %121 = load i8, i8* %code.i.i171, align 2, !tbaa !308
  %conv.i.i172 = zext i8 %121 to i32
  %bits.i.i173 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %input.buffer, i64 0, i32 4, i32 1
  %122 = load i8, i8* %bits.i.i173, align 1, !tbaa !141
  %conv3.i.i174 = zext i8 %122 to i32
  %shl.i.i175 = shl nuw nsw i32 %conv3.i.i174, 8
  %or.i.i176 = or i32 %shl.i.i175, %conv.i.i172
  %lanes.i.i177 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %input.buffer, i64 0, i32 4, i32 2
  %123 = load i16, i16* %lanes.i.i177, align 2, !tbaa !309
  %conv4.i.i178 = zext i16 %123 to i32
  %shl5.i.i179 = shl nuw i32 %conv4.i.i178, 16
  %or6.i.i180 = or i32 %or.i.i176, %shl5.i.i179
  %dimensions.i181 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %input.buffer, i64 0, i32 5
  %124 = load i32, i32* %dimensions.i181, align 4, !tbaa !180
  %dim.i182 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %input.buffer, i64 0, i32 6
  %125 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i182, align 8, !tbaa !181
  %min.i183 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %125, i64 0, i32 0
  %126 = load i32, i32* %min.i183, align 4, !tbaa !186
  %extent.i185 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %125, i64 0, i32 1
  %127 = load i32, i32* %extent.i185, align 4, !tbaa !183
  %stride.i187 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %125, i64 0, i32 2
  %128 = load i32, i32* %stride.i187, align 4, !tbaa !187
  %min.i189 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %125, i64 1, i32 0
  %129 = load i32, i32* %min.i189, align 4, !tbaa !186
  %extent.i191 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %125, i64 1, i32 1
  %130 = load i32, i32* %extent.i191, align 4, !tbaa !183
  %stride.i193 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %125, i64 1, i32 2
  %131 = load i32, i32* %stride.i193, align 4, !tbaa !187
  %min.i195 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %125, i64 2, i32 0
  %132 = load i32, i32* %min.i195, align 4, !tbaa !186
  %extent.i197 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %125, i64 2, i32 1
  %133 = load i32, i32* %extent.i197, align 4, !tbaa !183
  %stride.i199 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %125, i64 2, i32 2
  %134 = load i32, i32* %stride.i199, align 4, !tbaa !187
  %min.i201 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %125, i64 3, i32 0
  %135 = load i32, i32* %min.i201, align 4, !tbaa !186
  %extent.i203 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %125, i64 3, i32 1
  %136 = load i32, i32* %extent.i203, align 4, !tbaa !183
  %stride.i205 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %125, i64 3, i32 2
  %137 = load i32, i32* %stride.i205, align 4, !tbaa !187
  %host.i206 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %output.buffer, i64 0, i32 2
  %code.i.i207 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %output.buffer, i64 0, i32 4, i32 0
  %138 = load i8, i8* %code.i.i207, align 2, !tbaa !308
  %conv.i.i208 = zext i8 %138 to i32
  %bits.i.i209 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %output.buffer, i64 0, i32 4, i32 1
  %139 = load i8, i8* %bits.i.i209, align 1, !tbaa !141
  %conv3.i.i210 = zext i8 %139 to i32
  %shl.i.i211 = shl nuw nsw i32 %conv3.i.i210, 8
  %or.i.i212 = or i32 %shl.i.i211, %conv.i.i208
  %lanes.i.i213 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %output.buffer, i64 0, i32 4, i32 2
  %140 = load i16, i16* %lanes.i.i213, align 2, !tbaa !309
  %conv4.i.i214 = zext i16 %140 to i32
  %shl5.i.i215 = shl nuw i32 %conv4.i.i214, 16
  %or6.i.i216 = or i32 %or.i.i212, %shl5.i.i215
  %dimensions.i217 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %output.buffer, i64 0, i32 5
  %141 = load i32, i32* %dimensions.i217, align 4, !tbaa !180
  %dim.i218 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %output.buffer, i64 0, i32 6
  %142 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i218, align 8, !tbaa !181
  %min.i219 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %142, i64 0, i32 0
  %143 = load i32, i32* %min.i219, align 4, !tbaa !186
  %extent.i221 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %142, i64 0, i32 1
  %144 = load i32, i32* %extent.i221, align 4, !tbaa !183
  %stride.i223 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %142, i64 0, i32 2
  %145 = load i32, i32* %stride.i223, align 4, !tbaa !187
  %min.i225 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %142, i64 1, i32 0
  %146 = load i32, i32* %min.i225, align 4, !tbaa !186
  %extent.i227 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %142, i64 1, i32 1
  %147 = load i32, i32* %extent.i227, align 4, !tbaa !183
  %stride.i229 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %142, i64 1, i32 2
  %148 = load i32, i32* %stride.i229, align 4, !tbaa !187
  %min.i231 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %142, i64 2, i32 0
  %149 = load i32, i32* %min.i231, align 4, !tbaa !186
  %extent.i233 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %142, i64 2, i32 1
  %150 = load i32, i32* %extent.i233, align 4, !tbaa !183
  %stride.i235 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %142, i64 2, i32 2
  %151 = load i32, i32* %stride.i235, align 4, !tbaa !187
  %min.i237 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %142, i64 3, i32 0
  %152 = load i32, i32* %min.i237, align 4, !tbaa !186
  %extent.i239 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %142, i64 3, i32 1
  %153 = load i32, i32* %extent.i239, align 4, !tbaa !183
  %stride.i241 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %142, i64 3, i32 2
  %154 = load i32, i32* %stride.i241, align 4, !tbaa !187
  %host.i242 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_1.buffer, i64 0, i32 2
  %code.i.i243 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_1.buffer, i64 0, i32 4, i32 0
  %155 = load i8, i8* %code.i.i243, align 2, !tbaa !308
  %conv.i.i244 = zext i8 %155 to i32
  %bits.i.i245 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_1.buffer, i64 0, i32 4, i32 1
  %156 = load i8, i8* %bits.i.i245, align 1, !tbaa !141
  %conv3.i.i246 = zext i8 %156 to i32
  %shl.i.i247 = shl nuw nsw i32 %conv3.i.i246, 8
  %or.i.i248 = or i32 %shl.i.i247, %conv.i.i244
  %lanes.i.i249 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_1.buffer, i64 0, i32 4, i32 2
  %157 = load i16, i16* %lanes.i.i249, align 2, !tbaa !309
  %conv4.i.i250 = zext i16 %157 to i32
  %shl5.i.i251 = shl nuw i32 %conv4.i.i250, 16
  %or6.i.i252 = or i32 %or.i.i248, %shl5.i.i251
  %dimensions.i253 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_1.buffer, i64 0, i32 5
  %158 = load i32, i32* %dimensions.i253, align 4, !tbaa !180
  %dim.i254 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_1.buffer, i64 0, i32 6
  %159 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i254, align 8, !tbaa !181
  %min.i255 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %159, i64 0, i32 0
  %160 = load i32, i32* %min.i255, align 4, !tbaa !186
  %extent.i257 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %159, i64 0, i32 1
  %161 = load i32, i32* %extent.i257, align 4, !tbaa !183
  %stride.i259 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %159, i64 0, i32 2
  %162 = load i32, i32* %stride.i259, align 4, !tbaa !187
  %min.i261 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %159, i64 1, i32 0
  %163 = load i32, i32* %min.i261, align 4, !tbaa !186
  %extent.i263 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %159, i64 1, i32 1
  %164 = load i32, i32* %extent.i263, align 4, !tbaa !183
  %stride.i265 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %159, i64 1, i32 2
  %165 = load i32, i32* %stride.i265, align 4, !tbaa !187
  %min.i267 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %159, i64 2, i32 0
  %166 = load i32, i32* %min.i267, align 4, !tbaa !186
  %extent.i269 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %159, i64 2, i32 1
  %167 = load i32, i32* %extent.i269, align 4, !tbaa !183
  %stride.i271 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %159, i64 2, i32 2
  %168 = load i32, i32* %stride.i271, align 4, !tbaa !187
  %min.i273 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %159, i64 3, i32 0
  %169 = load i32, i32* %min.i273, align 4, !tbaa !186
  %extent.i275 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %159, i64 3, i32 1
  %170 = load i32, i32* %extent.i275, align 4, !tbaa !183
  %stride.i277 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %159, i64 3, i32 2
  %171 = load i32, i32* %stride.i277, align 4, !tbaa !187
  %host.i278 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_2.buffer, i64 0, i32 2
  %code.i.i279 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_2.buffer, i64 0, i32 4, i32 0
  %172 = load i8, i8* %code.i.i279, align 2, !tbaa !308
  %conv.i.i280 = zext i8 %172 to i32
  %bits.i.i281 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_2.buffer, i64 0, i32 4, i32 1
  %173 = load i8, i8* %bits.i.i281, align 1, !tbaa !141
  %conv3.i.i282 = zext i8 %173 to i32
  %shl.i.i283 = shl nuw nsw i32 %conv3.i.i282, 8
  %or.i.i284 = or i32 %shl.i.i283, %conv.i.i280
  %lanes.i.i285 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_2.buffer, i64 0, i32 4, i32 2
  %174 = load i16, i16* %lanes.i.i285, align 2, !tbaa !309
  %conv4.i.i286 = zext i16 %174 to i32
  %shl5.i.i287 = shl nuw i32 %conv4.i.i286, 16
  %or6.i.i288 = or i32 %or.i.i284, %shl5.i.i287
  %dimensions.i289 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_2.buffer, i64 0, i32 5
  %175 = load i32, i32* %dimensions.i289, align 4, !tbaa !180
  %dim.i290 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_2.buffer, i64 0, i32 6
  %176 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i290, align 8, !tbaa !181
  %min.i291 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %176, i64 0, i32 0
  %177 = load i32, i32* %min.i291, align 4, !tbaa !186
  %extent.i293 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %176, i64 0, i32 1
  %178 = load i32, i32* %extent.i293, align 4, !tbaa !183
  %stride.i295 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %176, i64 0, i32 2
  %179 = load i32, i32* %stride.i295, align 4, !tbaa !187
  %min.i297 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %176, i64 1, i32 0
  %180 = load i32, i32* %min.i297, align 4, !tbaa !186
  %extent.i299 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %176, i64 1, i32 1
  %181 = load i32, i32* %extent.i299, align 4, !tbaa !183
  %stride.i301 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %176, i64 1, i32 2
  %182 = load i32, i32* %stride.i301, align 4, !tbaa !187
  %min.i303 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %176, i64 2, i32 0
  %183 = load i32, i32* %min.i303, align 4, !tbaa !186
  %extent.i305 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %176, i64 2, i32 1
  %184 = load i32, i32* %extent.i305, align 4, !tbaa !183
  %stride.i307 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %176, i64 2, i32 2
  %185 = load i32, i32* %stride.i307, align 4, !tbaa !187
  %min.i309 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %176, i64 3, i32 0
  %186 = load i32, i32* %min.i309, align 4, !tbaa !186
  %extent.i311 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %176, i64 3, i32 1
  %187 = load i32, i32* %extent.i311, align 4, !tbaa !183
  %stride.i313 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %176, i64 3, i32 2
  %188 = load i32, i32* %stride.i313, align 4, !tbaa !187
  %a0 = add nsw i32 %153, %152
  %189 = icmp sgt i32 %a0, 64
  %190 = select i1 %189, i32 %a0, i32 64
  %191 = icmp slt i32 %152, 0
  %192 = select i1 %191, i32 %152, i32 0
  %b5 = add nsw i32 %127, %126
  %a3 = add nsw i32 %144, %143
  %193 = icmp sgt i32 %b5, %a3
  %a2 = select i1 %193, i32 %a3, i32 %b5
  %b4 = add nsw i32 %126, 1
  %194 = icmp sgt i32 %a2, %b4
  %195 = select i1 %194, i32 %a2, i32 %b4
  %a5 = add nsw i32 %b5, -1
  %.not = icmp slt i32 %143, %b5
  %a4 = select i1 %.not, i32 %143, i32 %a5
  %196 = icmp sgt i32 %a4, %126
  %197 = select i1 %196, i32 %a4, i32 %126
  %input.extent.0.required = sub nsw i32 %195, %197
  %b11 = add nsw i32 %130, %129
  %198 = add nsw i32 %147, 1
  %199 = and i32 %198, -16
  %200 = add i32 %146, 22
  %a9 = add i32 %200, %199
  %201 = icmp sgt i32 %b11, %a9
  %a8 = select i1 %201, i32 %a9, i32 %b11
  %b10 = add nsw i32 %129, 1
  %202 = icmp sgt i32 %a8, %b10
  %203 = select i1 %202, i32 %a8, i32 %b10
  %a11 = add nsw i32 %b11, -1
  %.not132 = icmp sgt i32 %b11, %146
  %a10 = select i1 %.not132, i32 %146, i32 %a11
  %204 = icmp sgt i32 %a10, %129
  %205 = select i1 %204, i32 %a10, i32 %129
  %input.extent.1.required = sub nsw i32 %203, %205
  %b17 = add nsw i32 %133, %132
  %206 = add nsw i32 %150, 1
  %207 = and i32 %206, -8
  %208 = add i32 %149, 14
  %a15 = add i32 %208, %207
  %209 = icmp sgt i32 %b17, %a15
  %a14 = select i1 %209, i32 %a15, i32 %b17
  %b16 = add nsw i32 %132, 1
  %210 = icmp sgt i32 %a14, %b16
  %211 = select i1 %210, i32 %a14, i32 %b16
  %a17 = add nsw i32 %b17, -1
  %.not133 = icmp sgt i32 %b17, %149
  %a16 = select i1 %.not133, i32 %149, i32 %a17
  %212 = icmp sgt i32 %a16, %132
  %213 = select i1 %212, i32 %a16, i32 %132
  %input.extent.2.required = sub nsw i32 %211, %213
  %a22 = add nsw i32 %136, %135
  %214 = icmp slt i32 %a22, 3
  %215 = select i1 %214, i32 %a22, i32 3
  %216 = icmp slt i32 %a22, 1
  %217 = select i1 %216, i32 %a22, i32 1
  %a21 = add nsw i32 %217, -1
  %218 = icmp sgt i32 %a21, %135
  %219 = select i1 %218, i32 %a21, i32 %135
  %a36 = sub nsw i32 %215, %219
  %220 = icmp sgt i32 %150, 8
  %221 = select i1 %220, i32 %150, i32 8
  %222 = icmp sgt i32 %147, 16
  %223 = select i1 %222, i32 %147, i32 16
  %224 = mul nsw i32 %223, %144
  %output.stride.3.required = mul nsw i32 %221, %224
  %225 = load i8*, i8** %host.i, align 8, !tbaa !178
  %cmp.i = icmp eq i8* %225, null
  br i1 %cmp.i, label %_halide_buffer_is_bounds_query.exit, label %after_bb

_halide_buffer_is_bounds_query.exit:              ; preds = %no_errors_bb
  %device.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %bias.buffer, i64 0, i32 0
  %226 = load i64, i64* %device.i, align 8, !tbaa !245
  %cmp1.i = icmp eq i64 %226, 0
  br i1 %cmp1.i, label %then_bb, label %after_bb

assert_failed:                                    ; preds = %"assert succeeded"
  %227 = tail call i32 @halide_error_buffer_argument_is_null(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.269, i64 0, i64 0)) #11
  br label %common.ret

assert_failed1:                                   ; preds = %"assert succeeded"
  %228 = tail call i32 @halide_error_buffer_argument_is_null(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.268, i64 0, i64 0)) #11
  br label %common.ret

assert_failed2:                                   ; preds = %"assert succeeded"
  %229 = tail call i32 @halide_error_buffer_argument_is_null(i8* null, i8* getelementptr inbounds ([7 x i8], [7 x i8]* @str.270, i64 0, i64 0)) #11
  br label %common.ret

assert_failed3:                                   ; preds = %"assert succeeded"
  %230 = tail call i32 @halide_error_buffer_argument_is_null(i8* null, i8* getelementptr inbounds ([6 x i8], [6 x i8]* @str, i64 0, i64 0)) #11
  br label %common.ret

assert_failed4:                                   ; preds = %"assert succeeded"
  %231 = tail call i32 @halide_error_buffer_argument_is_null(i8* null, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @str.267, i64 0, i64 0)) #11
  br label %common.ret

after_bb:                                         ; preds = %no_errors_bb, %_halide_buffer_is_bounds_query.exit, %then_bb
  %232 = load i8*, i8** %host.i170, align 8, !tbaa !178
  %cmp.i316 = icmp eq i8* %232, null
  br i1 %cmp.i316, label %_halide_buffer_is_bounds_query.exit320, label %after_bb5

_halide_buffer_is_bounds_query.exit320:           ; preds = %after_bb
  %device.i317 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %input.buffer, i64 0, i32 0
  %233 = load i64, i64* %device.i317, align 8, !tbaa !245
  %cmp1.i318 = icmp eq i64 %233, 0
  br i1 %cmp1.i318, label %then_bb6, label %after_bb5

then_bb:                                          ; preds = %_halide_buffer_is_bounds_query.exit
  %bias.extent.0.required = sub nsw i32 %190, %192
  %234 = bitcast %struct.halide_buffer_t* %bias.buffer to i8*
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(24) %234, i8 0, i64 24, i1 false)
  store i8 2, i8* %code.i.i, align 8, !tbaa !478
  store i8 32, i8* %bits.i.i, align 1, !tbaa !479
  store i16 1, i16* %lanes.i.i, align 2, !tbaa !480
  store i32 1, i32* %dimensions.i, align 4, !tbaa !180
  store i32 %192, i32* %min.i, align 4, !tbaa.struct !182
  store i32 %bias.extent.0.required, i32* %extent.i, align 4, !tbaa.struct !481
  store i32 1, i32* %stride.i, align 4, !tbaa.struct !482
  %.sroa.4.0..sroa_idx577 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %117, i64 0, i32 3
  store i32 0, i32* %.sroa.4.0..sroa_idx577, align 4, !tbaa.struct !483
  %flags13.i = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %bias.buffer, i64 0, i32 3
  store i64 0, i64* %flags13.i, align 8, !tbaa !311
  br label %after_bb

after_bb5:                                        ; preds = %after_bb, %_halide_buffer_is_bounds_query.exit320, %_halide_buffer_init.exit341
  %235 = load i8*, i8** %host.i206, align 8, !tbaa !178
  %cmp.i324 = icmp eq i8* %235, null
  br i1 %cmp.i324, label %_halide_buffer_is_bounds_query.exit328, label %after_bb8

_halide_buffer_is_bounds_query.exit328:           ; preds = %after_bb5
  %device.i325 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %output.buffer, i64 0, i32 0
  %236 = load i64, i64* %device.i325, align 8, !tbaa !245
  %cmp1.i326 = icmp eq i64 %236, 0
  br i1 %cmp1.i326, label %then_bb9, label %after_bb8

then_bb6:                                         ; preds = %_halide_buffer_is_bounds_query.exit320
  %t319 = mul nsw i32 %input.extent.1.required, %input.extent.0.required
  %237 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i182, align 8, !tbaa !181
  %238 = icmp sgt i32 %a36, 1
  %239 = select i1 %238, i32 %a36, i32 1
  %240 = mul nsw i32 %input.extent.2.required, %t319
  %241 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 0
  store i32 %197, i32* %241, align 4
  %242 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 1
  store i32 %input.extent.0.required, i32* %242, align 4
  %243 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 2
  store i32 1, i32* %243, align 4
  %244 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 3
  store i32 0, i32* %244, align 4
  %245 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 4
  store i32 %205, i32* %245, align 4
  %246 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 5
  store i32 %input.extent.1.required, i32* %246, align 4
  %247 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 6
  store i32 %input.extent.0.required, i32* %247, align 4
  %248 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 7
  store i32 0, i32* %248, align 4
  %249 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 8
  store i32 %213, i32* %249, align 4
  %250 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 9
  store i32 %input.extent.2.required, i32* %250, align 4
  %251 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 10
  store i32 %t319, i32* %251, align 4
  %252 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 11
  store i32 0, i32* %252, align 4
  %253 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 12
  store i32 %219, i32* %253, align 4
  %254 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 13
  store i32 %239, i32* %254, align 4
  %255 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 14
  store i32 %240, i32* %255, align 4
  %256 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 15
  store i32 0, i32* %256, align 4
  %257 = bitcast [16 x i32]* %91 to %struct.halide_dimension_t*
  %258 = bitcast %struct.halide_buffer_t* %input.buffer to i8*
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(24) %258, i8 0, i64 24, i1 false)
  store i8 2, i8* %code.i.i171, align 8, !tbaa !478
  store i8 32, i8* %bits.i.i173, align 1, !tbaa !479
  store i16 1, i16* %lanes.i.i177, align 2, !tbaa !480
  store i32 4, i32* %dimensions.i181, align 4, !tbaa !180
  %cmp.not.i338.not = icmp eq %struct.halide_dimension_t* %237, %257
  br i1 %cmp.not.i338.not, label %_halide_buffer_init.exit341, label %for.body.preheader.i339

for.body.preheader.i339:                          ; preds = %then_bb6
  %259 = bitcast %struct.halide_dimension_t* %237 to i8*
  %260 = bitcast [16 x i32]* %91 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %259, i8* noundef nonnull align 4 dereferenceable(16) %260, i64 16, i1 false) #11, !tbaa.struct !182
  %.pre.i = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i182, align 8, !tbaa !181
  %arrayidx.i = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 4
  %arrayidx12.i = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre.i, i64 1
  %261 = bitcast %struct.halide_dimension_t* %arrayidx12.i to i8*
  %262 = bitcast i32* %arrayidx.i to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %261, i8* noundef nonnull align 4 dereferenceable(16) %262, i64 16, i1 false) #11, !tbaa.struct !182
  %.pre.i.1 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i182, align 8, !tbaa !181
  %arrayidx.i.1 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 8
  %arrayidx12.i.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre.i.1, i64 2
  %263 = bitcast %struct.halide_dimension_t* %arrayidx12.i.1 to i8*
  %264 = bitcast i32* %arrayidx.i.1 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %263, i8* noundef nonnull align 4 dereferenceable(16) %264, i64 16, i1 false) #11, !tbaa.struct !182
  %.pre.i.2 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i182, align 8, !tbaa !181
  %arrayidx.i.2 = getelementptr inbounds [16 x i32], [16 x i32]* %91, i64 0, i64 12
  %arrayidx12.i.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre.i.2, i64 3
  %265 = bitcast %struct.halide_dimension_t* %arrayidx12.i.2 to i8*
  %266 = bitcast i32* %arrayidx.i.2 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %265, i8* noundef nonnull align 4 dereferenceable(16) %266, i64 16, i1 false) #11, !tbaa.struct !182
  br label %_halide_buffer_init.exit341

_halide_buffer_init.exit341:                      ; preds = %for.body.preheader.i339, %then_bb6
  %flags13.i340 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %input.buffer, i64 0, i32 3
  store i64 0, i64* %flags13.i340, align 8, !tbaa !311
  br label %after_bb5

after_bb8:                                        ; preds = %after_bb5, %_halide_buffer_is_bounds_query.exit328, %_halide_buffer_init.exit367
  %267 = load i8*, i8** %host.i242, align 8, !tbaa !178
  %cmp.i343 = icmp eq i8* %267, null
  br i1 %cmp.i343, label %_halide_buffer_is_bounds_query.exit347, label %after_bb11

_halide_buffer_is_bounds_query.exit347:           ; preds = %after_bb8
  %device.i344 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_1.buffer, i64 0, i32 0
  %268 = load i64, i64* %device.i344, align 8, !tbaa !245
  %cmp1.i345 = icmp eq i64 %268, 0
  br i1 %cmp1.i345, label %then_bb12, label %after_bb11

then_bb9:                                         ; preds = %_halide_buffer_is_bounds_query.exit328
  %269 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i218, align 8, !tbaa !181
  %270 = icmp slt i32 %147, 16
  %271 = select i1 %270, i32 %147, i32 16
  %272 = add i32 %146, -16
  %273 = add i32 %272, %271
  %274 = icmp slt i32 %150, 8
  %275 = select i1 %274, i32 %150, i32 8
  %276 = add i32 %149, -8
  %277 = add i32 %276, %275
  %278 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 0
  store i32 %143, i32* %278, align 4
  %279 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 1
  store i32 %144, i32* %279, align 4
  %280 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 2
  store i32 1, i32* %280, align 4
  %281 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 3
  store i32 0, i32* %281, align 4
  %282 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 4
  store i32 %273, i32* %282, align 4
  %283 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 5
  store i32 %223, i32* %283, align 4
  %284 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 6
  store i32 %144, i32* %284, align 4
  %285 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 7
  store i32 0, i32* %285, align 4
  %286 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 8
  store i32 %277, i32* %286, align 4
  %287 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 9
  store i32 %221, i32* %287, align 4
  %288 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 10
  store i32 %224, i32* %288, align 4
  %289 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 11
  store i32 0, i32* %289, align 4
  %290 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 12
  store i32 %152, i32* %290, align 4
  %291 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 13
  store i32 %153, i32* %291, align 4
  %292 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 14
  store i32 %output.stride.3.required, i32* %292, align 4
  %293 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 15
  store i32 0, i32* %293, align 4
  %294 = bitcast [16 x i32]* %90 to %struct.halide_dimension_t*
  %295 = bitcast %struct.halide_buffer_t* %output.buffer to i8*
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(24) %295, i8 0, i64 24, i1 false)
  store i8 2, i8* %code.i.i207, align 8, !tbaa !478
  store i8 32, i8* %bits.i.i209, align 1, !tbaa !479
  store i16 1, i16* %lanes.i.i213, align 2, !tbaa !480
  store i32 4, i32* %dimensions.i217, align 4, !tbaa !180
  %cmp.not.i357.not = icmp eq %struct.halide_dimension_t* %269, %294
  br i1 %cmp.not.i357.not, label %_halide_buffer_init.exit367, label %for.body.preheader.i358

for.body.preheader.i358:                          ; preds = %then_bb9
  %296 = bitcast %struct.halide_dimension_t* %269 to i8*
  %297 = bitcast [16 x i32]* %90 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %296, i8* noundef nonnull align 4 dereferenceable(16) %297, i64 16, i1 false) #11, !tbaa.struct !182
  %.pre.i360 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i218, align 8, !tbaa !181
  %arrayidx.i361 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 4
  %arrayidx12.i362 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre.i360, i64 1
  %298 = bitcast %struct.halide_dimension_t* %arrayidx12.i362 to i8*
  %299 = bitcast i32* %arrayidx.i361 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %298, i8* noundef nonnull align 4 dereferenceable(16) %299, i64 16, i1 false) #11, !tbaa.struct !182
  %.pre.i360.1 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i218, align 8, !tbaa !181
  %arrayidx.i361.1 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 8
  %arrayidx12.i362.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre.i360.1, i64 2
  %300 = bitcast %struct.halide_dimension_t* %arrayidx12.i362.1 to i8*
  %301 = bitcast i32* %arrayidx.i361.1 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %300, i8* noundef nonnull align 4 dereferenceable(16) %301, i64 16, i1 false) #11, !tbaa.struct !182
  %.pre.i360.2 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i218, align 8, !tbaa !181
  %arrayidx.i361.2 = getelementptr inbounds [16 x i32], [16 x i32]* %90, i64 0, i64 12
  %arrayidx12.i362.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre.i360.2, i64 3
  %302 = bitcast %struct.halide_dimension_t* %arrayidx12.i362.2 to i8*
  %303 = bitcast i32* %arrayidx.i361.2 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %302, i8* noundef nonnull align 4 dereferenceable(16) %303, i64 16, i1 false) #11, !tbaa.struct !182
  br label %_halide_buffer_init.exit367

_halide_buffer_init.exit367:                      ; preds = %for.body.preheader.i358, %then_bb9
  %flags13.i366 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %output.buffer, i64 0, i32 3
  store i64 0, i64* %flags13.i366, align 8, !tbaa !311
  br label %after_bb8

after_bb11:                                       ; preds = %after_bb8, %_halide_buffer_is_bounds_query.exit347, %then_bb12
  %304 = load i8*, i8** %host.i278, align 8, !tbaa !178
  %cmp.i369 = icmp eq i8* %304, null
  br i1 %cmp.i369, label %_halide_buffer_is_bounds_query.exit373, label %_halide_buffer_is_bounds_query.exit399

_halide_buffer_is_bounds_query.exit373:           ; preds = %after_bb11
  %device.i370 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_2.buffer, i64 0, i32 0
  %305 = load i64, i64* %device.i370, align 8, !tbaa !245
  %cmp1.i371 = icmp eq i64 %305, 0
  br i1 %cmp1.i371, label %then_bb15, label %land.rhs.i398

then_bb12:                                        ; preds = %_halide_buffer_is_bounds_query.exit347
  %306 = bitcast %struct.halide_dimension_t** %dim.i254 to i8**
  %307 = load i8*, i8** %306, align 8, !tbaa !181
  %308 = bitcast [16 x i32]* %89 to <8 x i32>*
  store <8 x i32> <i32 0, i32 3, i32 1, i32 0, i32 0, i32 7, i32 3, i32 0>, <8 x i32>* %308, align 4
  %309 = getelementptr inbounds [16 x i32], [16 x i32]* %89, i64 0, i64 8
  %310 = bitcast i32* %309 to <8 x i32>*
  store <8 x i32> <i32 0, i32 7, i32 21, i32 0, i32 0, i32 64, i32 147, i32 0>, <8 x i32>* %310, align 4
  %311 = bitcast %struct.halide_buffer_t* %weight_1.buffer to i8*
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(24) %311, i8 0, i64 24, i1 false)
  store i8 2, i8* %code.i.i243, align 8, !tbaa !478
  store i8 32, i8* %bits.i.i245, align 1, !tbaa !479
  store i16 1, i16* %lanes.i.i249, align 2, !tbaa !480
  store i32 4, i32* %dimensions.i253, align 4, !tbaa !180
  %312 = bitcast [16 x i32]* %89 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %307, i8* noundef nonnull align 4 dereferenceable(16) %312, i64 16, i1 false) #11, !tbaa.struct !182
  %.pre.i386 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i254, align 8, !tbaa !181
  %arrayidx.i387 = getelementptr inbounds [16 x i32], [16 x i32]* %89, i64 0, i64 4
  %arrayidx12.i388 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre.i386, i64 1
  %313 = bitcast %struct.halide_dimension_t* %arrayidx12.i388 to i8*
  %314 = bitcast i32* %arrayidx.i387 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %313, i8* noundef nonnull align 4 dereferenceable(16) %314, i64 16, i1 false) #11, !tbaa.struct !182
  %.pre.i386.1 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i254, align 8, !tbaa !181
  %arrayidx.i387.1 = getelementptr inbounds [16 x i32], [16 x i32]* %89, i64 0, i64 8
  %arrayidx12.i388.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre.i386.1, i64 2
  %315 = bitcast %struct.halide_dimension_t* %arrayidx12.i388.1 to i8*
  %316 = bitcast i32* %arrayidx.i387.1 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %315, i8* noundef nonnull align 4 dereferenceable(16) %316, i64 16, i1 false) #11, !tbaa.struct !182
  %.pre.i386.2 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i254, align 8, !tbaa !181
  %arrayidx.i387.2 = getelementptr inbounds [16 x i32], [16 x i32]* %89, i64 0, i64 12
  %arrayidx12.i388.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre.i386.2, i64 3
  %317 = bitcast %struct.halide_dimension_t* %arrayidx12.i388.2 to i8*
  %318 = bitcast i32* %arrayidx.i387.2 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %317, i8* noundef nonnull align 4 dereferenceable(16) %318, i64 16, i1 false) #11, !tbaa.struct !182
  %flags13.i392 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_1.buffer, i64 0, i32 3
  store i64 0, i64* %flags13.i392, align 8, !tbaa !311
  br label %after_bb11

land.rhs.i398:                                    ; preds = %_halide_buffer_is_bounds_query.exit373, %then_bb15
  %319 = load i64, i64* %device.i370, align 8, !tbaa !245
  %cmp1.i397 = icmp eq i64 %319, 0
  br label %_halide_buffer_is_bounds_query.exit399

_halide_buffer_is_bounds_query.exit399:           ; preds = %after_bb11, %then_bb15, %land.rhs.i398
  %320 = phi i1 [ false, %then_bb15 ], [ %cmp1.i397, %land.rhs.i398 ], [ false, %after_bb11 ]
  %321 = load i8*, i8** %host.i242, align 8, !tbaa !178
  %cmp.i401 = icmp eq i8* %321, null
  br i1 %cmp.i401, label %land.rhs.i404, label %_halide_buffer_is_bounds_query.exit405

land.rhs.i404:                                    ; preds = %_halide_buffer_is_bounds_query.exit399
  %device.i402 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_1.buffer, i64 0, i32 0
  %322 = load i64, i64* %device.i402, align 8, !tbaa !245
  %cmp1.i403 = icmp eq i64 %322, 0
  br label %_halide_buffer_is_bounds_query.exit405

_halide_buffer_is_bounds_query.exit405:           ; preds = %_halide_buffer_is_bounds_query.exit399, %land.rhs.i404
  %323 = phi i1 [ false, %_halide_buffer_is_bounds_query.exit399 ], [ %cmp1.i403, %land.rhs.i404 ]
  %324 = load i8*, i8** %host.i206, align 8, !tbaa !178
  %cmp.i407 = icmp eq i8* %324, null
  br i1 %cmp.i407, label %land.rhs.i410, label %_halide_buffer_is_bounds_query.exit411

land.rhs.i410:                                    ; preds = %_halide_buffer_is_bounds_query.exit405
  %device.i408 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %output.buffer, i64 0, i32 0
  %325 = load i64, i64* %device.i408, align 8, !tbaa !245
  %cmp1.i409 = icmp eq i64 %325, 0
  br label %_halide_buffer_is_bounds_query.exit411

_halide_buffer_is_bounds_query.exit411:           ; preds = %_halide_buffer_is_bounds_query.exit405, %land.rhs.i410
  %326 = phi i1 [ false, %_halide_buffer_is_bounds_query.exit405 ], [ %cmp1.i409, %land.rhs.i410 ]
  %327 = load i8*, i8** %host.i, align 8, !tbaa !178
  %cmp.i413 = icmp eq i8* %327, null
  br i1 %cmp.i413, label %land.rhs.i416, label %_halide_buffer_is_bounds_query.exit417

land.rhs.i416:                                    ; preds = %_halide_buffer_is_bounds_query.exit411
  %device.i414 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %bias.buffer, i64 0, i32 0
  %328 = load i64, i64* %device.i414, align 8, !tbaa !245
  %cmp1.i415 = icmp eq i64 %328, 0
  br label %_halide_buffer_is_bounds_query.exit417

_halide_buffer_is_bounds_query.exit417:           ; preds = %_halide_buffer_is_bounds_query.exit411, %land.rhs.i416
  %329 = phi i1 [ false, %_halide_buffer_is_bounds_query.exit411 ], [ %cmp1.i415, %land.rhs.i416 ]
  %330 = load i8*, i8** %host.i170, align 8, !tbaa !178
  %cmp.i419 = icmp eq i8* %330, null
  br i1 %cmp.i419, label %land.rhs.i422, label %_halide_buffer_is_bounds_query.exit423

land.rhs.i422:                                    ; preds = %_halide_buffer_is_bounds_query.exit417
  %device.i420 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %input.buffer, i64 0, i32 0
  %331 = load i64, i64* %device.i420, align 8, !tbaa !245
  %cmp1.i421 = icmp eq i64 %331, 0
  br label %_halide_buffer_is_bounds_query.exit423

_halide_buffer_is_bounds_query.exit423:           ; preds = %_halide_buffer_is_bounds_query.exit417, %land.rhs.i422
  %332 = phi i1 [ false, %_halide_buffer_is_bounds_query.exit417 ], [ %cmp1.i421, %land.rhs.i422 ]
  %333 = or i1 %329, %332
  %334 = or i1 %326, %333
  %335 = or i1 %323, %334
  %336 = or i1 %320, %335
  br i1 %336, label %call_destructor.exit164, label %then_bb18

then_bb15:                                        ; preds = %_halide_buffer_is_bounds_query.exit373
  %337 = bitcast %struct.halide_dimension_t** %dim.i290 to i8**
  %338 = load i8*, i8** %337, align 8, !tbaa !181
  %339 = bitcast [16 x i32]* %88 to <8 x i32>*
  store <8 x i32> <i32 0, i32 64, i32 1, i32 0, i32 0, i32 3, i32 64, i32 0>, <8 x i32>* %339, align 4
  %340 = getelementptr inbounds [16 x i32], [16 x i32]* %88, i64 0, i64 8
  %341 = bitcast i32* %340 to <4 x i32>*
  store <4 x i32> <i32 0, i32 3, i32 192, i32 0>, <4 x i32>* %341, align 4
  %342 = getelementptr inbounds [16 x i32], [16 x i32]* %88, i64 0, i64 12
  store i32 %152, i32* %342, align 4
  %343 = getelementptr inbounds [16 x i32], [16 x i32]* %88, i64 0, i64 13
  store i32 %153, i32* %343, align 4
  %344 = getelementptr inbounds [16 x i32], [16 x i32]* %88, i64 0, i64 14
  store i32 576, i32* %344, align 4
  %345 = getelementptr inbounds [16 x i32], [16 x i32]* %88, i64 0, i64 15
  store i32 0, i32* %345, align 4
  %346 = bitcast %struct.halide_buffer_t* %weight_2.buffer to i8*
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(24) %346, i8 0, i64 24, i1 false)
  store i8 2, i8* %code.i.i279, align 8, !tbaa !478
  store i8 32, i8* %bits.i.i281, align 1, !tbaa !479
  store i16 1, i16* %lanes.i.i285, align 2, !tbaa !480
  store i32 4, i32* %dimensions.i289, align 4, !tbaa !180
  %347 = bitcast [16 x i32]* %88 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %338, i8* noundef nonnull align 4 dereferenceable(16) %347, i64 16, i1 false) #11, !tbaa.struct !182
  %.pre.i436 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i290, align 8, !tbaa !181
  %arrayidx.i437 = getelementptr inbounds [16 x i32], [16 x i32]* %88, i64 0, i64 4
  %arrayidx12.i438 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre.i436, i64 1
  %348 = bitcast %struct.halide_dimension_t* %arrayidx12.i438 to i8*
  %349 = bitcast i32* %arrayidx.i437 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %348, i8* noundef nonnull align 4 dereferenceable(16) %349, i64 16, i1 false) #11, !tbaa.struct !182
  %.pre.i436.1 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i290, align 8, !tbaa !181
  %arrayidx.i437.1 = getelementptr inbounds [16 x i32], [16 x i32]* %88, i64 0, i64 8
  %arrayidx12.i438.1 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre.i436.1, i64 2
  %350 = bitcast %struct.halide_dimension_t* %arrayidx12.i438.1 to i8*
  %351 = bitcast i32* %arrayidx.i437.1 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %350, i8* noundef nonnull align 4 dereferenceable(16) %351, i64 16, i1 false) #11, !tbaa.struct !182
  %.pre.i436.2 = load %struct.halide_dimension_t*, %struct.halide_dimension_t** %dim.i290, align 8, !tbaa !181
  %arrayidx.i437.2 = getelementptr inbounds [16 x i32], [16 x i32]* %88, i64 0, i64 12
  %arrayidx12.i438.2 = getelementptr inbounds %struct.halide_dimension_t, %struct.halide_dimension_t* %.pre.i436.2, i64 3
  %352 = bitcast %struct.halide_dimension_t* %arrayidx12.i438.2 to i8*
  %353 = bitcast i32* %arrayidx.i437.2 to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(16) %352, i8* noundef nonnull align 4 dereferenceable(16) %353, i64 16, i1 false) #11, !tbaa.struct !182
  %.pr.pre.pre = load i8*, i8** %host.i278, align 8, !tbaa !178
  %flags13.i442 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %weight_2.buffer, i64 0, i32 3
  store i64 0, i64* %flags13.i442, align 8, !tbaa !311
  %cmp.i395 = icmp eq i8* %.pr.pre.pre, null
  br i1 %cmp.i395, label %land.rhs.i398, label %_halide_buffer_is_bounds_query.exit399

then_bb18:                                        ; preds = %_halide_buffer_is_bounds_query.exit423
  %354 = icmp ne i32 %or6.i.i, 73730
  %355 = zext i1 %354 to i64
  %.not134 = icmp eq i32 %116, 1
  %.not135 = icmp eq i32 %or6.i.i180, 73730
  %.not136 = icmp eq i32 %124, 4
  %.not137 = icmp eq i32 %or6.i.i216, 73730
  %.not138 = icmp eq i32 %141, 4
  %.not139 = icmp eq i32 %or6.i.i252, 73730
  %356 = select i1 %.not139, i64 0, i64 64
  %.not140 = icmp eq i32 %158, 4
  %.not141 = icmp eq i32 %or6.i.i288, 73730
  %357 = select i1 %.not141, i64 0, i64 256
  %.not142 = icmp eq i32 %175, 4
  %358 = select i1 %.not142, i64 0, i64 512
  %359 = icmp sgt i32 %118, %192
  %360 = add nsw i32 %119, %118
  %361 = icmp sgt i32 %190, %360
  %362 = or i1 %359, %361
  %363 = lshr i32 %119, 20
  %364 = and i32 %363, 2048
  %365 = zext i32 %364 to i64
  %366 = icmp sgt i32 %195, %b5
  %367 = lshr i32 %127, 18
  %368 = and i32 %367, 8192
  %369 = zext i32 %368 to i64
  %370 = icmp sgt i32 %203, %b11
  %371 = lshr i32 %130, 16
  %372 = and i32 %371, 32768
  %373 = zext i32 %372 to i64
  %374 = icmp sgt i32 %211, %b17
  %375 = lshr i32 %133, 14
  %376 = and i32 %375, 131072
  %377 = zext i32 %376 to i64
  %378 = icmp sgt i32 %a36, 1
  %379 = select i1 %378, i32 %a36, i32 1
  %380 = add nsw i32 %379, %219
  %381 = icmp sgt i32 %380, %a22
  %382 = lshr i32 %136, 12
  %383 = and i32 %382, 524288
  %384 = zext i32 %383 to i64
  %385 = lshr i32 %144, 11
  %386 = and i32 %385, 1048576
  %387 = zext i32 %386 to i64
  %388 = icmp slt i32 %147, 16
  %389 = icmp slt i32 %150, 8
  %390 = lshr i32 %153, 8
  %391 = and i32 %390, 8388608
  %392 = zext i32 %391 to i64
  %393 = icmp sgt i32 %160, 0
  %394 = add nsw i32 %161, %160
  %395 = icmp slt i32 %394, 3
  %396 = or i1 %393, %395
  %397 = select i1 %396, i64 16777216, i64 0
  %398 = lshr i32 %161, 6
  %399 = and i32 %398, 33554432
  %400 = zext i32 %399 to i64
  %401 = icmp sgt i32 %163, 0
  %402 = add nsw i32 %164, %163
  %403 = icmp slt i32 %402, 7
  %404 = or i1 %401, %403
  %405 = select i1 %404, i64 67108864, i64 0
  %406 = lshr i32 %164, 4
  %407 = and i32 %406, 134217728
  %408 = zext i32 %407 to i64
  %409 = icmp sgt i32 %166, 0
  %410 = add nsw i32 %167, %166
  %411 = icmp slt i32 %410, 7
  %412 = or i1 %409, %411
  %413 = select i1 %412, i64 268435456, i64 0
  %414 = lshr i32 %167, 2
  %415 = and i32 %414, 536870912
  %416 = zext i32 %415 to i64
  %417 = icmp sgt i32 %169, 0
  %418 = add nsw i32 %170, %169
  %419 = icmp slt i32 %418, 64
  %420 = or i1 %417, %419
  %421 = select i1 %420, i64 1073741824, i64 0
  %weight_1.extent.3.lobit = and i32 %170, -2147483648
  %422 = zext i32 %weight_1.extent.3.lobit to i64
  %423 = icmp sgt i32 %177, 0
  %424 = add nsw i32 %178, %177
  %425 = icmp slt i32 %424, 64
  %426 = or i1 %423, %425
  %427 = select i1 %426, i64 4294967296, i64 0
  %weight_2.extent.0.lobit = lshr i32 %178, 31
  %428 = zext i32 %weight_2.extent.0.lobit to i64
  %429 = shl nuw nsw i64 %428, 33
  %430 = icmp sgt i32 %180, 0
  %431 = add nsw i32 %181, %180
  %432 = icmp slt i32 %431, 3
  %433 = or i1 %430, %432
  %434 = select i1 %433, i64 17179869184, i64 0
  %weight_2.extent.1.lobit = lshr i32 %181, 31
  %435 = zext i32 %weight_2.extent.1.lobit to i64
  %436 = shl nuw nsw i64 %435, 35
  %437 = icmp sgt i32 %183, 0
  %438 = add nsw i32 %184, %183
  %439 = icmp slt i32 %438, 3
  %440 = or i1 %437, %439
  %441 = select i1 %440, i64 68719476736, i64 0
  %weight_2.extent.2.lobit = lshr i32 %184, 31
  %442 = zext i32 %weight_2.extent.2.lobit to i64
  %443 = shl nuw nsw i64 %442, 37
  %444 = icmp sgt i32 %186, %152
  %445 = add nsw i32 %187, %186
  %446 = icmp sgt i32 %a0, %445
  %447 = or i1 %444, %446
  %448 = select i1 %447, i64 274877906944, i64 0
  %weight_2.extent.3.lobit = lshr i32 %187, 31
  %449 = zext i32 %weight_2.extent.3.lobit to i64
  %450 = shl nuw nsw i64 %449, 39
  %.not143 = icmp eq i32 %120, 1
  %.not144 = icmp eq i32 %128, 1
  %.not145 = icmp eq i32 %145, 1
  %.not146 = icmp eq i32 %162, 1
  %451 = select i1 %.not146, i64 0, i64 8796093022208
  %.not147 = icmp eq i32 %179, 1
  %452 = select i1 %.not147, i64 0, i64 17592186044416
  %453 = insertelement <16 x i1> poison, i1 %.not134, i32 0
  %454 = insertelement <16 x i1> %453, i1 %.not143, i32 1
  %455 = insertelement <16 x i1> %454, i1 %.not136, i32 2
  %456 = insertelement <16 x i1> %455, i1 %.not135, i32 3
  %457 = insertelement <16 x i1> %456, i1 %.not144, i32 4
  %458 = insertelement <16 x i1> %457, i1 %.not138, i32 5
  %459 = insertelement <16 x i1> %458, i1 %.not137, i32 6
  %460 = insertelement <16 x i1> %459, i1 %.not145, i32 7
  %461 = insertelement <16 x i1> %460, i1 %381, i32 8
  %462 = insertelement <16 x i1> %461, i1 %388, i32 9
  %463 = insertelement <16 x i1> %462, i1 %366, i32 10
  %464 = insertelement <16 x i1> %463, i1 %389, i32 11
  %465 = insertelement <16 x i1> %464, i1 %370, i32 12
  %466 = insertelement <16 x i1> %465, i1 %362, i32 13
  %467 = insertelement <16 x i1> %466, i1 %374, i32 14
  %468 = insertelement <16 x i1> %467, i1 %.not140, i32 15
  %469 = select <16 x i1> %468, <16 x i64> <i64 -9223372036854775808, i64 0, i64 0, i64 0, i64 0, i64 0, i64 0, i64 0, i64 262144, i64 2097152, i64 4096, i64 4194304, i64 16384, i64 1024, i64 65536, i64 0>, <16 x i64> <i64 -9223372036854775806, i64 1099511627776, i64 8, i64 4, i64 2199023255552, i64 32, i64 16, i64 4398046511104, i64 0, i64 0, i64 0, i64 0, i64 0, i64 0, i64 0, i64 128>
  %470 = call i64 @llvm.vector.reduce.or.v16i64(<16 x i64> %469)
  %471 = or i64 %470, %356
  %472 = or i64 %471, %451
  %473 = or i64 %472, %397
  %474 = or i64 %473, %405
  %475 = or i64 %474, %413
  %476 = or i64 %475, %421
  %477 = or i64 %476, %358
  %478 = or i64 %477, %357
  %479 = or i64 %478, %452
  %480 = or i64 %479, %427
  %481 = or i64 %480, %434
  %482 = or i64 %481, %441
  %483 = or i64 %482, %448
  %op.extra606 = or i64 %483, %355
  %op.extra607 = or i64 %op.extra606, %365
  %op.extra608 = or i64 %op.extra607, %369
  %op.extra609 = or i64 %op.extra608, %373
  %op.extra610 = or i64 %op.extra609, %377
  %op.extra611 = or i64 %op.extra610, %384
  %op.extra612 = or i64 %op.extra611, %387
  %op.extra613 = or i64 %op.extra612, %392
  %op.extra614 = or i64 %op.extra613, %400
  %op.extra615 = or i64 %op.extra614, %408
  %op.extra616 = or i64 %op.extra615, %416
  %op.extra617 = or i64 %op.extra616, %422
  %op.extra618 = or i64 %op.extra617, %429
  %op.extra619 = or i64 %op.extra618, %436
  %op.extra620 = or i64 %op.extra619, %443
  %op.extra621 = or i64 %op.extra620, %450
  %484 = call i64 @llvm.cttz.i64(i64 %op.extra621, i1 true), !range !476
  %485 = trunc i64 %484 to i32
  switch i32 %485, label %no_errors_bb20 [
    i32 0, label %assert_failed21
    i32 1, label %assert_failed22
    i32 2, label %assert_failed23
    i32 3, label %assert_failed24
    i32 4, label %assert_failed25
    i32 5, label %assert_failed26
    i32 6, label %assert_failed27
    i32 7, label %assert_failed28
    i32 8, label %assert_failed29
    i32 9, label %assert_failed30
    i32 10, label %assert_failed31
    i32 11, label %assert_failed32
    i32 12, label %assert_failed33
    i32 13, label %assert_failed34
    i32 14, label %assert_failed35
    i32 15, label %assert_failed36
    i32 16, label %assert_failed37
    i32 17, label %assert_failed38
    i32 18, label %assert_failed39
    i32 19, label %assert_failed40
    i32 20, label %assert_failed41
    i32 21, label %assert_failed42
    i32 22, label %assert_failed43
    i32 23, label %assert_failed44
    i32 24, label %assert_failed45
    i32 25, label %assert_failed46
    i32 26, label %assert_failed47
    i32 27, label %assert_failed48
    i32 28, label %assert_failed49
    i32 29, label %assert_failed50
    i32 30, label %assert_failed51
    i32 31, label %assert_failed52
    i32 32, label %assert_failed53
    i32 33, label %assert_failed54
    i32 34, label %assert_failed55
    i32 35, label %assert_failed56
    i32 36, label %assert_failed57
    i32 37, label %assert_failed58
    i32 38, label %assert_failed59
    i32 39, label %assert_failed60
    i32 40, label %assert_failed61
    i32 41, label %assert_failed62
    i32 42, label %assert_failed63
    i32 43, label %assert_failed64
    i32 44, label %assert_failed65
  ], !prof !484

no_errors_bb20:                                   ; preds = %then_bb18
  %486 = sext i32 %130 to i64
  %487 = sext i32 %127 to i64
  %input.total_extent.1 = mul nsw i64 %486, %487
  %488 = sext i32 %133 to i64
  %input.total_extent.2 = mul nsw i64 %input.total_extent.1, %488
  %489 = sext i32 %136 to i64
  %input.total_extent.3 = mul nsw i64 %input.total_extent.2, %489
  %490 = sext i32 %147 to i64
  %491 = sext i32 %144 to i64
  %output.total_extent.1 = mul nsw i64 %490, %491
  %492 = sext i32 %150 to i64
  %output.total_extent.2 = mul nsw i64 %output.total_extent.1, %492
  %493 = sext i32 %153 to i64
  %output.total_extent.3 = mul nsw i64 %output.total_extent.2, %493
  %494 = sext i32 %164 to i64
  %495 = sext i32 %161 to i64
  %weight_1.total_extent.1 = mul nsw i64 %494, %495
  %496 = sext i32 %167 to i64
  %weight_1.total_extent.2 = mul nsw i64 %weight_1.total_extent.1, %496
  %497 = sext i32 %170 to i64
  %weight_1.total_extent.3 = mul nsw i64 %weight_1.total_extent.2, %497
  %498 = sext i32 %181 to i64
  %499 = sext i32 %178 to i64
  %weight_2.total_extent.1 = mul nsw i64 %498, %499
  %500 = sext i32 %184 to i64
  %weight_2.total_extent.2 = mul nsw i64 %weight_2.total_extent.1, %500
  %501 = sext i32 %187 to i64
  %weight_2.total_extent.3 = mul nsw i64 %weight_2.total_extent.2, %501
  %bias.extent.0.lobit = lshr i32 %119, 31
  %502 = lshr i32 %127, 30
  %503 = and i32 %502, 2
  %504 = or i32 %503, %bias.extent.0.lobit
  %505 = zext i32 %504 to i64
  %506 = sext i32 %131 to i64
  %x0 = mul nsw i64 %506, %486
  %507 = call i64 @llvm.abs.i64(i64 %x0, i1 true)
  %508 = icmp ugt i64 %507, 2147483647
  %509 = icmp sgt i64 %input.total_extent.1, 2147483647
  %510 = sext i32 %134 to i64
  %x1 = mul nsw i64 %510, %488
  %511 = call i64 @llvm.abs.i64(i64 %x1, i1 true)
  %512 = icmp ugt i64 %511, 2147483647
  %513 = icmp sgt i64 %input.total_extent.2, 2147483647
  %514 = sext i32 %137 to i64
  %x2 = mul nsw i64 %514, %489
  %515 = call i64 @llvm.abs.i64(i64 %x2, i1 true)
  %516 = icmp ugt i64 %515, 2147483647
  %517 = icmp sgt i64 %input.total_extent.3, 2147483647
  %518 = lshr i32 %144, 23
  %519 = and i32 %518, 256
  %520 = zext i32 %519 to i64
  %521 = sext i32 %148 to i64
  %x3 = mul nsw i64 %521, %490
  %522 = call i64 @llvm.abs.i64(i64 %x3, i1 true)
  %523 = icmp ugt i64 %522, 2147483647
  %524 = icmp sgt i64 %output.total_extent.1, 2147483647
  %525 = sext i32 %151 to i64
  %x4 = mul nsw i64 %525, %492
  %526 = call i64 @llvm.abs.i64(i64 %x4, i1 true)
  %527 = icmp ugt i64 %526, 2147483647
  %528 = icmp sgt i64 %output.total_extent.2, 2147483647
  %529 = sext i32 %154 to i64
  %x5 = mul nsw i64 %529, %493
  %530 = call i64 @llvm.abs.i64(i64 %x5, i1 true)
  %531 = icmp ugt i64 %530, 2147483647
  %532 = icmp sgt i64 %output.total_extent.3, 2147483647
  %533 = lshr i32 %161, 16
  %534 = and i32 %533, 32768
  %535 = zext i32 %534 to i64
  %536 = sext i32 %165 to i64
  %x6 = mul nsw i64 %536, %494
  %537 = call i64 @llvm.abs.i64(i64 %x6, i1 true)
  %538 = icmp ugt i64 %537, 2147483647
  %539 = icmp sgt i64 %weight_1.total_extent.1, 2147483647
  %540 = sext i32 %168 to i64
  %x7 = mul nsw i64 %540, %496
  %541 = call i64 @llvm.abs.i64(i64 %x7, i1 true)
  %542 = icmp ugt i64 %541, 2147483647
  %543 = icmp sgt i64 %weight_1.total_extent.2, 2147483647
  %544 = insertelement <16 x i1> poison, i1 %509, i32 0
  %545 = insertelement <16 x i1> %544, i1 %508, i32 1
  %546 = insertelement <16 x i1> %545, i1 %513, i32 2
  %547 = insertelement <16 x i1> %546, i1 %512, i32 3
  %548 = insertelement <16 x i1> %547, i1 %517, i32 4
  %549 = insertelement <16 x i1> %548, i1 %516, i32 5
  %550 = insertelement <16 x i1> %549, i1 %524, i32 6
  %551 = insertelement <16 x i1> %550, i1 %523, i32 7
  %552 = insertelement <16 x i1> %551, i1 %528, i32 8
  %553 = insertelement <16 x i1> %552, i1 %527, i32 9
  %554 = insertelement <16 x i1> %553, i1 %532, i32 10
  %555 = insertelement <16 x i1> %554, i1 %531, i32 11
  %556 = insertelement <16 x i1> %555, i1 %539, i32 12
  %557 = insertelement <16 x i1> %556, i1 %538, i32 13
  %558 = insertelement <16 x i1> %557, i1 %543, i32 14
  %559 = insertelement <16 x i1> %558, i1 %542, i32 15
  %560 = select <16 x i1> %559, <16 x i64> <i64 8, i64 4, i64 32, i64 16, i64 128, i64 64, i64 1024, i64 512, i64 4096, i64 2048, i64 16384, i64 8192, i64 131072, i64 65536, i64 524288, i64 262144>, <16 x i64> zeroinitializer
  %561 = sext i32 %171 to i64
  %x8 = mul nsw i64 %561, %497
  %562 = call i64 @llvm.abs.i64(i64 %x8, i1 true)
  %563 = icmp ugt i64 %562, 2147483647
  %564 = select i1 %563, i64 1048576, i64 0
  %565 = icmp sgt i64 %weight_1.total_extent.3, 2147483647
  %566 = select i1 %565, i64 2097152, i64 0
  %567 = lshr i32 %178, 9
  %568 = and i32 %567, 4194304
  %569 = zext i32 %568 to i64
  %570 = sext i32 %182 to i64
  %x9 = mul nsw i64 %570, %498
  %571 = call i64 @llvm.abs.i64(i64 %x9, i1 true)
  %572 = icmp ugt i64 %571, 2147483647
  %573 = select i1 %572, i64 8388608, i64 0
  %574 = icmp sgt i64 %weight_2.total_extent.1, 2147483647
  %575 = select i1 %574, i64 16777216, i64 0
  %576 = sext i32 %185 to i64
  %x10 = mul nsw i64 %576, %500
  %577 = call i64 @llvm.abs.i64(i64 %x10, i1 true)
  %578 = icmp ugt i64 %577, 2147483647
  %579 = select i1 %578, i64 33554432, i64 0
  %580 = icmp sgt i64 %weight_2.total_extent.2, 2147483647
  %581 = select i1 %580, i64 67108864, i64 0
  %582 = sext i32 %188 to i64
  %x11 = mul nsw i64 %582, %501
  %583 = call i64 @llvm.abs.i64(i64 %x11, i1 true)
  %584 = icmp ugt i64 %583, 2147483647
  %585 = select i1 %584, i64 134217728, i64 0
  %586 = icmp sgt i64 %weight_2.total_extent.3, 2147483647
  %587 = select i1 %586, i64 268435456, i64 0
  %588 = call i64 @llvm.vector.reduce.or.v16i64(<16 x i64> %560)
  %589 = or i64 %588, %566
  %590 = or i64 %589, %564
  %591 = or i64 %590, %575
  %592 = or i64 %591, %573
  %593 = or i64 %592, %581
  %594 = or i64 %593, %579
  %595 = or i64 %594, %587
  %596 = or i64 %595, %585
  %op.extra = or i64 %596, %505
  %op.extra602 = or i64 %op.extra, %520
  %op.extra603 = or i64 %op.extra602, %535
  %op.extra604 = or i64 %op.extra603, %569
  %op.extra605 = or i64 %op.extra604, -9223372036854775808
  %597 = call i64 @llvm.cttz.i64(i64 %op.extra605, i1 true), !range !476
  %598 = trunc i64 %597 to i32
  switch i32 %598, label %no_errors_bb66 [
    i32 0, label %assert_failed67
    i32 1, label %assert_failed68
    i32 2, label %assert_failed69
    i32 3, label %assert_failed70
    i32 4, label %assert_failed71
    i32 5, label %assert_failed72
    i32 6, label %assert_failed73
    i32 7, label %assert_failed74
    i32 8, label %assert_failed75
    i32 9, label %assert_failed76
    i32 10, label %assert_failed77
    i32 11, label %assert_failed78
    i32 12, label %assert_failed79
    i32 13, label %assert_failed80
    i32 14, label %assert_failed81
    i32 15, label %assert_failed82
    i32 16, label %assert_failed83
    i32 17, label %assert_failed84
    i32 18, label %assert_failed85
    i32 19, label %assert_failed86
    i32 20, label %assert_failed87
    i32 21, label %assert_failed88
    i32 22, label %assert_failed89
    i32 23, label %assert_failed90
    i32 24, label %assert_failed91
    i32 25, label %assert_failed92
    i32 26, label %assert_failed93
    i32 27, label %assert_failed94
    i32 28, label %assert_failed95
  ], !prof !485

assert_failed21:                                  ; preds = %then_bb18
  %599 = call i32 @halide_error_bad_type(i8* null, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @str.273, i64 0, i64 0), i32 %or6.i.i, i32 73730) #11
  br label %common.ret

assert_failed22:                                  ; preds = %then_bb18
  %600 = call i32 @halide_error_bad_dimensions(i8* null, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @str.273, i64 0, i64 0), i32 %116, i32 1) #11
  br label %common.ret

assert_failed23:                                  ; preds = %then_bb18
  %601 = call i32 @halide_error_bad_type(i8* null, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @str.274, i64 0, i64 0), i32 %or6.i.i180, i32 73730) #11
  br label %common.ret

assert_failed24:                                  ; preds = %then_bb18
  %602 = call i32 @halide_error_bad_dimensions(i8* null, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @str.274, i64 0, i64 0), i32 %124, i32 4) #11
  br label %common.ret

assert_failed25:                                  ; preds = %then_bb18
  %603 = call i32 @halide_error_bad_type(i8* null, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @str.275, i64 0, i64 0), i32 %or6.i.i216, i32 73730) #11
  br label %common.ret

assert_failed26:                                  ; preds = %then_bb18
  %604 = call i32 @halide_error_bad_dimensions(i8* null, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @str.275, i64 0, i64 0), i32 %141, i32 4) #11
  br label %common.ret

assert_failed27:                                  ; preds = %then_bb18
  %605 = call i32 @halide_error_bad_type(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.276, i64 0, i64 0), i32 %or6.i.i252, i32 73730) #11
  br label %common.ret

assert_failed28:                                  ; preds = %then_bb18
  %606 = call i32 @halide_error_bad_dimensions(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.276, i64 0, i64 0), i32 %158, i32 4) #11
  br label %common.ret

assert_failed29:                                  ; preds = %then_bb18
  %607 = call i32 @halide_error_bad_type(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.277, i64 0, i64 0), i32 %or6.i.i288, i32 73730) #11
  br label %common.ret

assert_failed30:                                  ; preds = %then_bb18
  %608 = call i32 @halide_error_bad_dimensions(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.277, i64 0, i64 0), i32 %175, i32 4) #11
  br label %common.ret

assert_failed31:                                  ; preds = %then_bb18
  %609 = add nsw i32 %190, -1
  %610 = add nsw i32 %360, -1
  %611 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @str.273, i64 0, i64 0), i32 0, i32 %192, i32 %609, i32 %118, i32 %610) #11
  br label %common.ret

assert_failed32:                                  ; preds = %then_bb18
  %612 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @str.273, i64 0, i64 0), i32 0, i32 %119) #11
  br label %common.ret

assert_failed33:                                  ; preds = %then_bb18
  %613 = add nsw i32 %195, -1
  %614 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @str.274, i64 0, i64 0), i32 0, i32 %197, i32 %613, i32 %126, i32 %a5) #11
  br label %common.ret

assert_failed34:                                  ; preds = %then_bb18
  %615 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @str.274, i64 0, i64 0), i32 0, i32 %127) #11
  br label %common.ret

assert_failed35:                                  ; preds = %then_bb18
  %616 = add nsw i32 %203, -1
  %617 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @str.274, i64 0, i64 0), i32 1, i32 %205, i32 %616, i32 %129, i32 %a11) #11
  br label %common.ret

assert_failed36:                                  ; preds = %then_bb18
  %618 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @str.274, i64 0, i64 0), i32 1, i32 %130) #11
  br label %common.ret

assert_failed37:                                  ; preds = %then_bb18
  %619 = add nsw i32 %211, -1
  %620 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @str.274, i64 0, i64 0), i32 2, i32 %213, i32 %619, i32 %132, i32 %a17) #11
  br label %common.ret

assert_failed38:                                  ; preds = %then_bb18
  %621 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @str.274, i64 0, i64 0), i32 2, i32 %133) #11
  br label %common.ret

assert_failed39:                                  ; preds = %then_bb18
  %622 = add nsw i32 %380, -1
  %623 = add nsw i32 %a22, -1
  %624 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @str.274, i64 0, i64 0), i32 3, i32 %219, i32 %622, i32 %135, i32 %623) #11
  br label %common.ret

assert_failed40:                                  ; preds = %then_bb18
  %625 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([19 x i8], [19 x i8]* @str.274, i64 0, i64 0), i32 3, i32 %136) #11
  br label %common.ret

assert_failed41:                                  ; preds = %then_bb18
  %626 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @str.275, i64 0, i64 0), i32 0, i32 %144) #11
  br label %common.ret

assert_failed42:                                  ; preds = %then_bb18
  %627 = select i1 %388, i32 %147, i32 16
  %628 = add i32 %146, -16
  %629 = add i32 %628, %627
  %t323 = add i32 %147, -1
  %630 = add i32 %t323, %146
  %631 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @str.275, i64 0, i64 0), i32 1, i32 %629, i32 %630, i32 %146, i32 %630) #11
  br label %common.ret

assert_failed43:                                  ; preds = %then_bb18
  %632 = select i1 %389, i32 %150, i32 8
  %633 = add i32 %149, -8
  %634 = add i32 %633, %632
  %t324 = add i32 %150, -1
  %635 = add i32 %t324, %149
  %636 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @str.275, i64 0, i64 0), i32 2, i32 %634, i32 %635, i32 %149, i32 %635) #11
  br label %common.ret

assert_failed44:                                  ; preds = %then_bb18
  %637 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([21 x i8], [21 x i8]* @str.275, i64 0, i64 0), i32 3, i32 %153) #11
  br label %common.ret

assert_failed45:                                  ; preds = %then_bb18
  %638 = add nsw i32 %394, -1
  %639 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.276, i64 0, i64 0), i32 0, i32 0, i32 2, i32 %160, i32 %638) #11
  br label %common.ret

assert_failed46:                                  ; preds = %then_bb18
  %640 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.276, i64 0, i64 0), i32 0, i32 %161) #11
  br label %common.ret

assert_failed47:                                  ; preds = %then_bb18
  %641 = add nsw i32 %402, -1
  %642 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.276, i64 0, i64 0), i32 1, i32 0, i32 6, i32 %163, i32 %641) #11
  br label %common.ret

assert_failed48:                                  ; preds = %then_bb18
  %643 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.276, i64 0, i64 0), i32 1, i32 %164) #11
  br label %common.ret

assert_failed49:                                  ; preds = %then_bb18
  %644 = add nsw i32 %410, -1
  %645 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.276, i64 0, i64 0), i32 2, i32 0, i32 6, i32 %166, i32 %644) #11
  br label %common.ret

assert_failed50:                                  ; preds = %then_bb18
  %646 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.276, i64 0, i64 0), i32 2, i32 %167) #11
  br label %common.ret

assert_failed51:                                  ; preds = %then_bb18
  %647 = add nsw i32 %418, -1
  %648 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.276, i64 0, i64 0), i32 3, i32 0, i32 63, i32 %169, i32 %647) #11
  br label %common.ret

assert_failed52:                                  ; preds = %then_bb18
  %649 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.276, i64 0, i64 0), i32 3, i32 %170) #11
  br label %common.ret

assert_failed53:                                  ; preds = %then_bb18
  %650 = add nsw i32 %424, -1
  %651 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.277, i64 0, i64 0), i32 0, i32 0, i32 63, i32 %177, i32 %650) #11
  br label %common.ret

assert_failed54:                                  ; preds = %then_bb18
  %652 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.277, i64 0, i64 0), i32 0, i32 %178) #11
  br label %common.ret

assert_failed55:                                  ; preds = %then_bb18
  %653 = add nsw i32 %431, -1
  %654 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.277, i64 0, i64 0), i32 1, i32 0, i32 2, i32 %180, i32 %653) #11
  br label %common.ret

assert_failed56:                                  ; preds = %then_bb18
  %655 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.277, i64 0, i64 0), i32 1, i32 %181) #11
  br label %common.ret

assert_failed57:                                  ; preds = %then_bb18
  %656 = add nsw i32 %438, -1
  %657 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.277, i64 0, i64 0), i32 2, i32 0, i32 2, i32 %183, i32 %656) #11
  br label %common.ret

assert_failed58:                                  ; preds = %then_bb18
  %658 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.277, i64 0, i64 0), i32 2, i32 %184) #11
  br label %common.ret

assert_failed59:                                  ; preds = %then_bb18
  %659 = add nsw i32 %a0, -1
  %660 = add nsw i32 %445, -1
  %661 = call i32 @halide_error_access_out_of_bounds(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.277, i64 0, i64 0), i32 3, i32 %152, i32 %659, i32 %186, i32 %660) #11
  br label %common.ret

assert_failed60:                                  ; preds = %then_bb18
  %662 = call i32 @halide_error_buffer_extents_negative(i8* null, i8* getelementptr inbounds ([22 x i8], [22 x i8]* @str.277, i64 0, i64 0), i32 3, i32 %187) #11
  br label %common.ret

assert_failed61:                                  ; preds = %then_bb18
  %663 = call i32 @halide_error_constraint_violated(i8* null, i8* getelementptr inbounds ([14 x i8], [14 x i8]* @str.278, i64 0, i64 0), i32 %120, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @str.279, i64 0, i64 0), i32 1) #11
  br label %common.ret

assert_failed62:                                  ; preds = %then_bb18
  %664 = call i32 @halide_error_constraint_violated(i8* null, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @str.280, i64 0, i64 0), i32 %128, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @str.279, i64 0, i64 0), i32 1) #11
  br label %common.ret

assert_failed63:                                  ; preds = %then_bb18
  %665 = call i32 @halide_error_constraint_violated(i8* null, i8* getelementptr inbounds ([16 x i8], [16 x i8]* @str.281, i64 0, i64 0), i32 %145, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @str.279, i64 0, i64 0), i32 1) #11
  br label %common.ret

assert_failed64:                                  ; preds = %then_bb18
  %666 = call i32 @halide_error_constraint_violated(i8* null, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @str.282, i64 0, i64 0), i32 %162, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @str.279, i64 0, i64 0), i32 1) #11
  br label %common.ret

assert_failed65:                                  ; preds = %then_bb18
  %667 = call i32 @halide_error_constraint_violated(i8* null, i8* getelementptr inbounds ([18 x i8], [18 x i8]* @str.283, i64 0, i64 0), i32 %179, i8* getelementptr inbounds ([2 x i8], [2 x i8]* @str.279, i64 0, i64 0), i32 1) #11
  br label %common.ret

no_errors_bb66:                                   ; preds = %no_errors_bb20
  %668 = add nsw i32 %150, -1
  %669 = and i32 %668, -8
  %b41 = or i32 %669, 2
  %670 = icmp sgt i32 %207, %b41
  %a43 = select i1 %670, i32 %207, i32 %b41
  %671 = add nsw i32 %147, -1
  %672 = and i32 %671, -16
  %b42 = or i32 %672, 2
  %673 = icmp sgt i32 %199, %b42
  %a42 = select i1 %673, i32 %199, i32 %b42
  %674 = add nsw i32 %a42, 16
  %675 = mul nsw i32 %674, %144
  %676 = add nsw i32 %a43, 8
  %conv1.stride.3 = mul nsw i32 %676, %675
  %677 = call i8* @halide_malloc(i8* null, i64 0)
  %678 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 0
  store i32 %143, i32* %678, align 4
  %679 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 1
  store i32 %144, i32* %679, align 4
  %680 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 2
  store i32 1, i32* %680, align 4
  %681 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 3
  store i32 0, i32* %681, align 4
  %682 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 4
  store i32 %146, i32* %682, align 4
  %683 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 5
  store i32 %674, i32* %683, align 4
  %684 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 6
  store i32 %144, i32* %684, align 4
  %685 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 7
  store i32 0, i32* %685, align 4
  %686 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 8
  store i32 %149, i32* %686, align 4
  %687 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 9
  store i32 %676, i32* %687, align 4
  %688 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 10
  store i32 %675, i32* %688, align 4
  %689 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 11
  store i32 0, i32* %689, align 4
  %690 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 12
  store i32 0, i32* %690, align 4
  %691 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 13
  store i32 64, i32* %691, align 4
  %692 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 14
  store i32 %conv1.stride.3, i32* %692, align 4
  %693 = getelementptr inbounds [16 x i32], [16 x i32]* %t325, i64 0, i64 15
  store i32 0, i32* %693, align 4
  %code.i447 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %87, i64 0, i32 4, i32 0
  %694 = bitcast %struct.halide_buffer_t* %87 to i8*
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(24) %694, i8 0, i64 24, i1 false)
  store i8 2, i8* %code.i447, align 8, !tbaa !478
  %bits.i448 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %87, i64 0, i32 4, i32 1
  store i8 32, i8* %bits.i448, align 1, !tbaa !479
  %lanes.i449 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %87, i64 0, i32 4, i32 2
  store i16 1, i16* %lanes.i449, align 2, !tbaa !480
  %dimensions7.i450 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %87, i64 0, i32 5
  store i32 4, i32* %dimensions7.i450, align 4, !tbaa !180
  %dim.i451 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %87, i64 0, i32 6
  %695 = bitcast %struct.halide_dimension_t** %dim.i451 to [16 x i32]**
  store [16 x i32]* %t325, [16 x i32]** %695, align 8, !tbaa !181
  %flags13.i452 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %87, i64 0, i32 3
  store i64 0, i64* %flags13.i452, align 8, !tbaa !311
  %696 = bitcast %struct.halide_buffer_t* %87 to i8*
  %697 = call %struct.halide_device_interface_t* @halide_opencl_device_interface() #11
  %"halide_device_malloc_result$1" = call i32 @halide_device_malloc(i8* null, %struct.halide_buffer_t* nonnull %87, %struct.halide_device_interface_t* %697) #11
  %698 = icmp eq i32 %"halide_device_malloc_result$1", 0
  br i1 %698, label %"assert succeeded99", label %call_destructor.exit159, !prof !461

assert_failed67:                                  ; preds = %no_errors_bb20
  %699 = sext i32 %119 to i64
  %700 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([5 x i8], [5 x i8]* @str.267, i64 0, i64 0), i64 %699, i64 2147483647) #11
  br label %common.ret

assert_failed68:                                  ; preds = %no_errors_bb20
  %701 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([6 x i8], [6 x i8]* @str, i64 0, i64 0), i64 %487, i64 2147483647) #11
  br label %common.ret

assert_failed69:                                  ; preds = %no_errors_bb20
  %702 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([6 x i8], [6 x i8]* @str, i64 0, i64 0), i64 %507, i64 2147483647) #11
  br label %common.ret

assert_failed70:                                  ; preds = %no_errors_bb20
  %703 = call i32 @halide_error_buffer_extents_too_large(i8* null, i8* getelementptr inbounds ([6 x i8], [6 x i8]* @str, i64 0, i64 0), i64 %input.total_extent.1, i64 2147483647) #11
  br label %common.ret

assert_failed71:                                  ; preds = %no_errors_bb20
  %704 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([6 x i8], [6 x i8]* @str, i64 0, i64 0), i64 %511, i64 2147483647) #11
  br label %common.ret

assert_failed72:                                  ; preds = %no_errors_bb20
  %705 = call i32 @halide_error_buffer_extents_too_large(i8* null, i8* getelementptr inbounds ([6 x i8], [6 x i8]* @str, i64 0, i64 0), i64 %input.total_extent.2, i64 2147483647) #11
  br label %common.ret

assert_failed73:                                  ; preds = %no_errors_bb20
  %706 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([6 x i8], [6 x i8]* @str, i64 0, i64 0), i64 %515, i64 2147483647) #11
  br label %common.ret

assert_failed74:                                  ; preds = %no_errors_bb20
  %707 = call i32 @halide_error_buffer_extents_too_large(i8* null, i8* getelementptr inbounds ([6 x i8], [6 x i8]* @str, i64 0, i64 0), i64 %input.total_extent.3, i64 2147483647) #11
  br label %common.ret

assert_failed75:                                  ; preds = %no_errors_bb20
  %708 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([7 x i8], [7 x i8]* @str.270, i64 0, i64 0), i64 %491, i64 2147483647) #11
  br label %common.ret

assert_failed76:                                  ; preds = %no_errors_bb20
  %709 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([7 x i8], [7 x i8]* @str.270, i64 0, i64 0), i64 %522, i64 2147483647) #11
  br label %common.ret

assert_failed77:                                  ; preds = %no_errors_bb20
  %710 = call i32 @halide_error_buffer_extents_too_large(i8* null, i8* getelementptr inbounds ([7 x i8], [7 x i8]* @str.270, i64 0, i64 0), i64 %output.total_extent.1, i64 2147483647) #11
  br label %common.ret

assert_failed78:                                  ; preds = %no_errors_bb20
  %711 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([7 x i8], [7 x i8]* @str.270, i64 0, i64 0), i64 %526, i64 2147483647) #11
  br label %common.ret

assert_failed79:                                  ; preds = %no_errors_bb20
  %712 = call i32 @halide_error_buffer_extents_too_large(i8* null, i8* getelementptr inbounds ([7 x i8], [7 x i8]* @str.270, i64 0, i64 0), i64 %output.total_extent.2, i64 2147483647) #11
  br label %common.ret

assert_failed80:                                  ; preds = %no_errors_bb20
  %713 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([7 x i8], [7 x i8]* @str.270, i64 0, i64 0), i64 %530, i64 2147483647) #11
  br label %common.ret

assert_failed81:                                  ; preds = %no_errors_bb20
  %714 = call i32 @halide_error_buffer_extents_too_large(i8* null, i8* getelementptr inbounds ([7 x i8], [7 x i8]* @str.270, i64 0, i64 0), i64 %output.total_extent.3, i64 2147483647) #11
  br label %common.ret

assert_failed82:                                  ; preds = %no_errors_bb20
  %715 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.268, i64 0, i64 0), i64 %495, i64 2147483647) #11
  br label %common.ret

assert_failed83:                                  ; preds = %no_errors_bb20
  %716 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.268, i64 0, i64 0), i64 %537, i64 2147483647) #11
  br label %common.ret

assert_failed84:                                  ; preds = %no_errors_bb20
  %717 = call i32 @halide_error_buffer_extents_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.268, i64 0, i64 0), i64 %weight_1.total_extent.1, i64 2147483647) #11
  br label %common.ret

assert_failed85:                                  ; preds = %no_errors_bb20
  %718 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.268, i64 0, i64 0), i64 %541, i64 2147483647) #11
  br label %common.ret

assert_failed86:                                  ; preds = %no_errors_bb20
  %719 = call i32 @halide_error_buffer_extents_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.268, i64 0, i64 0), i64 %weight_1.total_extent.2, i64 2147483647) #11
  br label %common.ret

assert_failed87:                                  ; preds = %no_errors_bb20
  %720 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.268, i64 0, i64 0), i64 %562, i64 2147483647) #11
  br label %common.ret

assert_failed88:                                  ; preds = %no_errors_bb20
  %721 = call i32 @halide_error_buffer_extents_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.268, i64 0, i64 0), i64 %weight_1.total_extent.3, i64 2147483647) #11
  br label %common.ret

assert_failed89:                                  ; preds = %no_errors_bb20
  %722 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.269, i64 0, i64 0), i64 %499, i64 2147483647) #11
  br label %common.ret

assert_failed90:                                  ; preds = %no_errors_bb20
  %723 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.269, i64 0, i64 0), i64 %571, i64 2147483647) #11
  br label %common.ret

assert_failed91:                                  ; preds = %no_errors_bb20
  %724 = call i32 @halide_error_buffer_extents_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.269, i64 0, i64 0), i64 %weight_2.total_extent.1, i64 2147483647) #11
  br label %common.ret

assert_failed92:                                  ; preds = %no_errors_bb20
  %725 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.269, i64 0, i64 0), i64 %577, i64 2147483647) #11
  br label %common.ret

assert_failed93:                                  ; preds = %no_errors_bb20
  %726 = call i32 @halide_error_buffer_extents_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.269, i64 0, i64 0), i64 %weight_2.total_extent.2, i64 2147483647) #11
  br label %common.ret

assert_failed94:                                  ; preds = %no_errors_bb20
  %727 = call i32 @halide_error_buffer_allocation_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.269, i64 0, i64 0), i64 %583, i64 2147483647) #11
  br label %common.ret

assert_failed95:                                  ; preds = %no_errors_bb20
  %728 = call i32 @halide_error_buffer_extents_too_large(i8* null, i8* getelementptr inbounds ([9 x i8], [9 x i8]* @str.269, i64 0, i64 0), i64 %weight_2.total_extent.3, i64 2147483647) #11
  br label %common.ret

"assert succeeded99":                             ; preds = %no_errors_bb66
  %729 = call %struct.halide_device_interface_t* @halide_opencl_device_interface() #11
  %halide_copy_to_device_result = call i32 @halide_copy_to_device(i8* null, %struct.halide_buffer_t* nonnull %bias.buffer, %struct.halide_device_interface_t* %729) #11
  %730 = icmp eq i32 %halide_copy_to_device_result, 0
  br i1 %730, label %"assert succeeded101", label %call_destructor.exit159, !prof !461

"assert succeeded101":                            ; preds = %"assert succeeded99"
  %731 = add nsw i32 %150, 9
  %t151 = ashr i32 %731, 3
  %732 = add nsw i32 %147, 17
  %t152 = ashr i32 %732, 4
  %733 = getelementptr inbounds [9 x i64], [9 x i64]* %86, i64 0, i64 0
  %734 = getelementptr inbounds [9 x i64], [9 x i64]* %86, i64 0, i64 4
  %735 = getelementptr inbounds [9 x i64], [9 x i64]* %86, i64 0, i64 8
  %736 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %79, i64 0, i32 0
  %737 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %79, i64 0, i32 1
  %738 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %79, i64 0, i32 2
  %739 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %79, i64 0, i32 3
  %740 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %79, i64 0, i32 4
  %741 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %79, i64 0, i32 5
  %742 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %79, i64 0, i32 6
  %743 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %79, i64 0, i32 7
  %744 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %79, i64 0, i32 8
  %745 = getelementptr inbounds [9 x i8], [9 x i8]* %78, i64 0, i64 0
  %746 = getelementptr inbounds [9 x i8], [9 x i8]* %78, i64 0, i64 1
  %747 = getelementptr inbounds [9 x i8], [9 x i8]* %78, i64 0, i64 2
  %748 = bitcast { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %79 to i8**
  %749 = bitcast [9 x i64]* %86 to <4 x i64>*
  %750 = bitcast i64* %734 to <4 x i64>*
  br label %"for conv1.s0.z"

"for conv1.s0.z":                                 ; preds = %"assert succeeded101", %"assert succeeded103"
  %conv1.s0.z = phi i32 [ 0, %"assert succeeded101" ], [ %757, %"assert succeeded103" ]
  %t155 = mul nsw i32 %conv1.s0.z, %conv1.stride.3
  %t154 = sub nsw i32 %conv1.s0.z, %118
  %751 = load i64, i64* bitcast ([8 x i8]* @opencl_buf.data to i64*), align 32, !tbaa !462
  %752 = inttoptr i64 %751 to i8*
  store <4 x i64> <i64 8, i64 8, i64 4, i64 4>, <4 x i64>* %749, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %750, align 8
  store i64 0, i64* %735, align 8
  store i32 %144, i32* %85, align 4
  store i32 %147, i32* %84, align 4
  store i32 %150, i32* %83, align 4
  store i32 %675, i32* %82, align 4
  store i32 %t154, i32* %81, align 4
  store i32 %t155, i32* %80, align 4
  store %struct.halide_buffer_t* %bias.buffer, %struct.halide_buffer_t** %736, align 8
  store %struct.halide_buffer_t* %87, %struct.halide_buffer_t** %737, align 8
  store i32* %85, i32** %738, align 8
  store i32* %84, i32** %739, align 8
  store i32* %83, i32** %740, align 8
  store i32* %82, i32** %741, align 8
  store i32* %81, i32** %742, align 8
  store i32* %80, i32** %743, align 8
  store i8* null, i8** %744, align 8
  store i8 1, i8* %745, align 1
  store i8 1, i8* %746, align 1
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 1 dereferenceable(7) %747, i8 0, i64 7, i1 false)
  %halide_opencl_run_result = call i32 @halide_opencl_run(i8* null, i8* %752, i8* getelementptr inbounds ([35 x i8], [35 x i8]* @str.284, i64 0, i64 0), i32 %t152, i32 %t151, i32 1, i32 16, i32 8, i32 1, i32 0, i64* nonnull %733, i8** nonnull %748, i8* nonnull %745) #11
  %753 = icmp eq i32 %halide_opencl_run_result, 0
  br i1 %753, label %"assert succeeded103", label %call_destructor.exit159, !prof !461

"end for conv1.s0.z":                             ; preds = %"assert succeeded103"
  %754 = load i64, i64* %flags13.i452, align 8, !tbaa !311
  %or.i.sink.i.i = or i64 %754, 2
  store i64 %or.i.sink.i.i, i64* %flags13.i452, align 8, !tbaa !311
  %755 = call %struct.halide_device_interface_t* @halide_opencl_device_interface() #11
  %"halide_copy_to_device_result$1" = call i32 @halide_copy_to_device(i8* null, %struct.halide_buffer_t* %input.buffer, %struct.halide_device_interface_t* %755) #11
  %756 = icmp eq i32 %"halide_copy_to_device_result$1", 0
  br i1 %756, label %"assert succeeded105", label %call_destructor.exit159, !prof !461

"assert succeeded103":                            ; preds = %"for conv1.s0.z"
  %757 = add nuw nsw i32 %conv1.s0.z, 1
  %.not149 = icmp eq i32 %757, 64
  br i1 %.not149, label %"end for conv1.s0.z", label %"for conv1.s0.z"

"assert succeeded105":                            ; preds = %"end for conv1.s0.z"
  %758 = call %struct.halide_device_interface_t* @halide_opencl_device_interface() #11
  %"halide_copy_to_device_result$3" = call i32 @halide_copy_to_device(i8* null, %struct.halide_buffer_t* %weight_1.buffer, %struct.halide_device_interface_t* %758) #11
  %759 = icmp eq i32 %"halide_copy_to_device_result$3", 0
  br i1 %759, label %"assert succeeded107", label %call_destructor.exit159, !prof !461

"assert succeeded107":                            ; preds = %"assert succeeded105"
  %t187 = mul nsw i32 %131, %129
  %t188 = mul nsw i32 %137, %135
  %t189 = mul nsw i32 %134, %132
  %t190 = mul nsw i32 %165, %163
  %t191 = mul nsw i32 %171, %169
  %t192 = mul nsw i32 %168, %166
  %760 = icmp sgt i32 %215, 0
  %t193 = select i1 %760, i32 %215, i32 0
  %761 = icmp slt i32 %135, 3
  %a46 = select i1 %761, i32 %135, i32 3
  %762 = icmp sgt i32 %a46, 0
  %t194 = select i1 %762, i32 %a46, i32 0
  %763 = icmp sgt i32 %126, %143
  %b61 = select i1 %763, i32 %126, i32 %143
  %764 = add i32 %129, 15
  %765 = sub i32 %764, %146
  %a50 = ashr i32 %765, 4
  %766 = icmp sgt i32 %a50, 0
  %a49 = select i1 %766, i32 %a50, i32 0
  %767 = icmp sgt i32 %t152, %a49
  %b57 = select i1 %767, i32 %a49, i32 %t152
  %768 = add i32 %132, 7
  %769 = sub i32 %768, %149
  %a52 = ashr i32 %769, 3
  %770 = icmp sgt i32 %a52, 0
  %a51 = select i1 %770, i32 %a52, i32 0
  %771 = icmp sgt i32 %t151, %a51
  %b55 = select i1 %771, i32 %a51, i32 %t151
  %a54 = sub nsw i32 %b17, %149
  %b56 = add nsw i32 %150, 15
  %772 = icmp sgt i32 %b56, %a54
  %773 = select i1 %772, i32 %a54, i32 %b56
  %774 = add nsw i32 %773, -6
  %a53 = ashr i32 %774, 3
  %775 = icmp sgt i32 %a53, %b55
  %t158 = select i1 %775, i32 %a53, i32 %b55
  %a56 = sub nsw i32 %b11, %146
  %b58 = add nsw i32 %147, 23
  %776 = icmp sgt i32 %b58, %a56
  %777 = select i1 %776, i32 %a56, i32 %b58
  %778 = add nsw i32 %777, -6
  %a55 = ashr i32 %778, 4
  %779 = icmp sgt i32 %a55, %b57
  %t160 = select i1 %779, i32 %a55, i32 %b57
  %780 = icmp sgt i32 %b5, %b61
  %a57 = select i1 %780, i32 %b5, i32 %b61
  %781 = icmp sgt i32 %a3, %a57
  %t162 = select i1 %781, i32 %a57, i32 %a3
  %782 = icmp sgt i32 %b61, %a3
  %t161 = select i1 %782, i32 %a3, i32 %b61
  %t174 = sub nsw i32 %t193, %t194
  %t178 = sub nsw i32 3, %t193
  %783 = add i32 %t190, %160
  %784 = add i32 %783, %t192
  %t169 = add i32 %784, %t191
  %785 = add i32 %t187, %126
  %786 = add i32 %785, %t189
  %t167 = add i32 %786, %t188
  %t212 = sub nsw i32 %t161, %143
  %t205 = sub i32 %t161, %t167
  %t209 = sub nsw i32 %a3, %t162
  %t203 = sub nsw i32 %t162, %t161
  %787 = sub i32 %t194, %t169
  %788 = sub i32 %t162, %143
  %789 = getelementptr inbounds [45 x i64], [45 x i64]* %77, i64 0, i64 0
  %790 = getelementptr inbounds [45 x i64], [45 x i64]* %77, i64 0, i64 4
  %791 = getelementptr inbounds [45 x i64], [45 x i64]* %77, i64 0, i64 8
  %792 = getelementptr inbounds [45 x i64], [45 x i64]* %77, i64 0, i64 12
  %793 = getelementptr inbounds [45 x i64], [45 x i64]* %77, i64 0, i64 16
  %794 = getelementptr inbounds [45 x i64], [45 x i64]* %77, i64 0, i64 20
  %795 = getelementptr inbounds [45 x i64], [45 x i64]* %77, i64 0, i64 24
  %796 = getelementptr inbounds [45 x i64], [45 x i64]* %77, i64 0, i64 28
  %797 = getelementptr inbounds [45 x i64], [45 x i64]* %77, i64 0, i64 32
  %798 = getelementptr inbounds [45 x i64], [45 x i64]* %77, i64 0, i64 36
  %799 = getelementptr inbounds [45 x i64], [45 x i64]* %77, i64 0, i64 40
  %800 = getelementptr inbounds [45 x i64], [45 x i64]* %77, i64 0, i64 44
  %801 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 0
  %802 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 1
  %803 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 2
  %804 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 3
  %805 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 4
  %806 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 5
  %807 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 6
  %808 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 7
  %809 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 8
  %810 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 9
  %811 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 10
  %812 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 11
  %813 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 12
  %814 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 13
  %815 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 14
  %816 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 15
  %817 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 16
  %818 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 17
  %819 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 18
  %820 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 19
  %821 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 20
  %822 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 21
  %823 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 22
  %824 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 23
  %825 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 24
  %826 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 25
  %827 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 26
  %828 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 27
  %829 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 28
  %830 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 29
  %831 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 30
  %832 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 31
  %833 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 32
  %834 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 33
  %835 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 34
  %836 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 35
  %837 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 36
  %838 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 37
  %839 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 38
  %840 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 39
  %841 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 40
  %842 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 41
  %843 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 42
  %844 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 43
  %845 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35, i64 0, i32 44
  %846 = getelementptr inbounds [45 x i8], [45 x i8]* %34, i64 0, i64 0
  %847 = getelementptr inbounds [45 x i8], [45 x i8]* %34, i64 0, i64 1
  %848 = getelementptr inbounds [45 x i8], [45 x i8]* %34, i64 0, i64 2
  %849 = getelementptr inbounds [45 x i8], [45 x i8]* %34, i64 0, i64 3
  %850 = bitcast { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %35 to i8**
  %851 = bitcast [45 x i64]* %77 to <4 x i64>*
  %852 = bitcast i64* %790 to <4 x i64>*
  %853 = bitcast i64* %791 to <4 x i64>*
  %854 = bitcast i64* %792 to <4 x i64>*
  %855 = bitcast i64* %793 to <4 x i64>*
  %856 = bitcast i64* %794 to <4 x i64>*
  %857 = bitcast i64* %795 to <4 x i64>*
  %858 = bitcast i64* %796 to <4 x i64>*
  %859 = bitcast i64* %797 to <4 x i64>*
  %860 = bitcast i64* %798 to <4 x i64>*
  %861 = bitcast i64* %799 to <4 x i64>*
  br label %"for conv1.s1.z"

"for conv1.s1.z":                                 ; preds = %"assert succeeded107", %"assert succeeded109"
  %conv1.s1.z = phi i32 [ 0, %"assert succeeded107" ], [ %891, %"assert succeeded109" ]
  %t211 = mul nsw i32 %conv1.s1.z, %conv1.stride.3
  %t213 = mul nsw i32 %conv1.s1.z, %171
  %t202 = sub nsw i32 %t213, %t169
  %t206 = add nsw i32 %787, %t213
  %t210 = add nsw i32 %788, %t211
  %862 = load i64, i64* bitcast ([8 x i8]* @opencl_buf.data to i64*), align 32, !tbaa !462
  %863 = inttoptr i64 %862 to i8*
  store <4 x i64> <i64 8, i64 8, i64 8, i64 4>, <4 x i64>* %851, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %852, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %853, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %854, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %855, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %856, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %857, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %858, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %859, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %860, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %861, align 8
  store i64 0, i64* %800, align 8
  store i32 %t191, i32* %76, align 4
  store i32 %t190, i32* %75, align 4
  store i32 %t192, i32* %74, align 4
  store i32 %t194, i32* %73, align 4
  store i32 %b57, i32* %72, align 4
  store i32 %b55, i32* %71, align 4
  store i32 %t202, i32* %70, align 4
  store i32 %t203, i32* %69, align 4
  store i32 %t205, i32* %68, align 4
  store i32 %t206, i32* %67, align 4
  store i32 %t193, i32* %66, align 4
  store i32 %t209, i32* %65, align 4
  store i32 %t210, i32* %64, align 4
  store i32 %t211, i32* %63, align 4
  store i32 %t212, i32* %62, align 4
  store i32 %t213, i32* %61, align 4
  store i32 %160, i32* %60, align 4
  store i32 %165, i32* %59, align 4
  store i32 %168, i32* %58, align 4
  store i32 %t158, i32* %57, align 4
  store i32 %129, i32* %56, align 4
  store i32 %132, i32* %55, align 4
  store i32 %135, i32* %54, align 4
  store i32 %131, i32* %53, align 4
  store i32 %134, i32* %52, align 4
  store i32 %137, i32* %51, align 4
  store i32 %144, i32* %50, align 4
  store i32 %143, i32* %49, align 4
  store i32 %146, i32* %48, align 4
  store i32 %149, i32* %47, align 4
  store i32 %126, i32* %46, align 4
  store i32 %t160, i32* %45, align 4
  store i32 %t162, i32* %44, align 4
  store i32 %675, i32* %43, align 4
  store i32 %t167, i32* %42, align 4
  store i32 %t174, i32* %41, align 4
  store i32 %t178, i32* %40, align 4
  store i32 %b5, i32* %39, align 4
  store i32 %b11, i32* %38, align 4
  store i32 %b17, i32* %37, align 4
  store i32 %a22, i32* %36, align 4
  store %struct.halide_buffer_t* %weight_1.buffer, %struct.halide_buffer_t** %801, align 8
  store %struct.halide_buffer_t* %input.buffer, %struct.halide_buffer_t** %802, align 8
  store %struct.halide_buffer_t* %87, %struct.halide_buffer_t** %803, align 8
  store i32* %76, i32** %804, align 8
  store i32* %75, i32** %805, align 8
  store i32* %74, i32** %806, align 8
  store i32* %73, i32** %807, align 8
  store i32* %72, i32** %808, align 8
  store i32* %71, i32** %809, align 8
  store i32* %70, i32** %810, align 8
  store i32* %69, i32** %811, align 8
  store i32* %68, i32** %812, align 8
  store i32* %67, i32** %813, align 8
  store i32* %66, i32** %814, align 8
  store i32* %65, i32** %815, align 8
  store i32* %64, i32** %816, align 8
  store i32* %63, i32** %817, align 8
  store i32* %62, i32** %818, align 8
  store i32* %61, i32** %819, align 8
  store i32* %60, i32** %820, align 8
  store i32* %59, i32** %821, align 8
  store i32* %58, i32** %822, align 8
  store i32* %57, i32** %823, align 8
  store i32* %56, i32** %824, align 8
  store i32* %55, i32** %825, align 8
  store i32* %54, i32** %826, align 8
  store i32* %53, i32** %827, align 8
  store i32* %52, i32** %828, align 8
  store i32* %51, i32** %829, align 8
  store i32* %50, i32** %830, align 8
  store i32* %49, i32** %831, align 8
  store i32* %48, i32** %832, align 8
  store i32* %47, i32** %833, align 8
  store i32* %46, i32** %834, align 8
  store i32* %45, i32** %835, align 8
  store i32* %44, i32** %836, align 8
  store i32* %43, i32** %837, align 8
  store i32* %42, i32** %838, align 8
  store i32* %41, i32** %839, align 8
  store i32* %40, i32** %840, align 8
  store i32* %39, i32** %841, align 8
  store i32* %38, i32** %842, align 8
  store i32* %37, i32** %843, align 8
  store i32* %36, i32** %844, align 8
  store i8* null, i8** %845, align 8
  store i8 1, i8* %846, align 1
  store i8 1, i8* %847, align 1
  store i8 1, i8* %848, align 1
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 1 dereferenceable(42) %849, i8 0, i64 42, i1 false)
  %"halide_opencl_run_result$1" = call i32 @halide_opencl_run(i8* null, i8* %863, i8* getelementptr inbounds ([35 x i8], [35 x i8]* @str.285, i64 0, i64 0), i32 %t152, i32 %t151, i32 1, i32 16, i32 8, i32 1, i32 0, i64* nonnull %789, i8** nonnull %850, i8* nonnull %846) #11
  %864 = icmp eq i32 %"halide_opencl_run_result$1", 0
  br i1 %864, label %"assert succeeded109", label %call_destructor.exit159, !prof !461

"end for conv1.s1.z":                             ; preds = %"assert succeeded109"
  %865 = add nsw i32 %672, 16
  %866 = mul nsw i32 %865, %144
  %867 = add nsw i32 %669, 8
  %conv2.stride.3 = mul nsw i32 %867, %866
  %868 = icmp sgt i32 %153, 0
  %869 = call i8* @halide_malloc(i8* null, i64 0)
  %870 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 0
  store i32 %143, i32* %870, align 4
  %871 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 1
  store i32 %144, i32* %871, align 4
  %872 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 2
  store i32 1, i32* %872, align 4
  %873 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 3
  store i32 0, i32* %873, align 4
  %874 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 4
  store i32 %146, i32* %874, align 4
  %875 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 5
  store i32 %865, i32* %875, align 4
  %876 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 6
  store i32 %144, i32* %876, align 4
  %877 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 7
  store i32 0, i32* %877, align 4
  %878 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 8
  store i32 %149, i32* %878, align 4
  %879 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 9
  store i32 %867, i32* %879, align 4
  %880 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 10
  store i32 %866, i32* %880, align 4
  %881 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 11
  store i32 0, i32* %881, align 4
  %882 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 12
  store i32 %152, i32* %882, align 4
  %883 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 13
  store i32 %153, i32* %883, align 4
  %884 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 14
  store i32 %conv2.stride.3, i32* %884, align 4
  %885 = getelementptr inbounds [16 x i32], [16 x i32]* %t326, i64 0, i64 15
  store i32 0, i32* %885, align 4
  %code.i456 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %33, i64 0, i32 4, i32 0
  %886 = bitcast %struct.halide_buffer_t* %33 to i8*
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 8 dereferenceable(24) %886, i8 0, i64 24, i1 false)
  store i8 2, i8* %code.i456, align 8, !tbaa !478
  %bits.i457 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %33, i64 0, i32 4, i32 1
  store i8 32, i8* %bits.i457, align 1, !tbaa !479
  %lanes.i458 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %33, i64 0, i32 4, i32 2
  store i16 1, i16* %lanes.i458, align 2, !tbaa !480
  %dimensions7.i459 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %33, i64 0, i32 5
  store i32 4, i32* %dimensions7.i459, align 4, !tbaa !180
  %dim.i460 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %33, i64 0, i32 6
  %887 = bitcast %struct.halide_dimension_t** %dim.i460 to [16 x i32]**
  store [16 x i32]* %t326, [16 x i32]** %887, align 8, !tbaa !181
  %flags13.i461 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %33, i64 0, i32 3
  store i64 0, i64* %flags13.i461, align 8, !tbaa !311
  %888 = bitcast %struct.halide_buffer_t* %33 to i8*
  %889 = call %struct.halide_device_interface_t* @halide_opencl_device_interface() #11
  %halide_device_malloc_result = call i32 @halide_device_malloc(i8* null, %struct.halide_buffer_t* nonnull %33, %struct.halide_device_interface_t* %889) #11
  %890 = icmp eq i32 %halide_device_malloc_result, 0
  br i1 %890, label %"assert succeeded113", label %call_destructor.exit, !prof !461

"assert succeeded109":                            ; preds = %"for conv1.s1.z"
  %891 = add nuw nsw i32 %conv1.s1.z, 1
  %.not150 = icmp eq i32 %891, 64
  br i1 %.not150, label %"end for conv1.s1.z", label %"for conv1.s1.z"

"assert succeeded113":                            ; preds = %"end for conv1.s1.z"
  %892 = add nsw i32 %150, 7
  %t282 = ashr i32 %892, 3
  %893 = add nsw i32 %147, 15
  %t283 = ashr i32 %893, 4
  %t284 = sub i32 %152, %118
  br i1 %868, label %"for conv2.s0.z.rebased.preheader", label %"end for conv2.s0.z.rebased", !prof !461

"for conv2.s0.z.rebased.preheader":               ; preds = %"assert succeeded113"
  %894 = getelementptr inbounds [9 x i64], [9 x i64]* %32, i64 0, i64 0
  %895 = getelementptr inbounds [9 x i64], [9 x i64]* %32, i64 0, i64 4
  %896 = getelementptr inbounds [9 x i64], [9 x i64]* %32, i64 0, i64 8
  %897 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %25, i64 0, i32 0
  %898 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %25, i64 0, i32 1
  %899 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %25, i64 0, i32 2
  %900 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %25, i64 0, i32 3
  %901 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %25, i64 0, i32 4
  %902 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %25, i64 0, i32 5
  %903 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %25, i64 0, i32 6
  %904 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %25, i64 0, i32 7
  %905 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %25, i64 0, i32 8
  %906 = getelementptr inbounds [9 x i8], [9 x i8]* %24, i64 0, i64 0
  %907 = getelementptr inbounds [9 x i8], [9 x i8]* %24, i64 0, i64 1
  %908 = getelementptr inbounds [9 x i8], [9 x i8]* %24, i64 0, i64 2
  %909 = bitcast { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %25 to i8**
  %910 = bitcast [9 x i64]* %32 to <4 x i64>*
  %911 = bitcast i64* %895 to <4 x i64>*
  br label %"for conv2.s0.z.rebased"

"for conv2.s0.z.rebased":                         ; preds = %"for conv2.s0.z.rebased.preheader", %"assert succeeded115"
  %conv2.s0.z.rebased = phi i32 [ %918, %"assert succeeded115" ], [ 0, %"for conv2.s0.z.rebased.preheader" ]
  %t287 = mul nsw i32 %conv2.s0.z.rebased, %conv2.stride.3
  %t286 = add nsw i32 %t284, %conv2.s0.z.rebased
  %912 = load i64, i64* bitcast ([8 x i8]* @opencl_buf.data to i64*), align 32, !tbaa !462
  %913 = inttoptr i64 %912 to i8*
  store <4 x i64> <i64 8, i64 8, i64 4, i64 4>, <4 x i64>* %910, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %911, align 8
  store i64 0, i64* %896, align 8
  store i32 %144, i32* %31, align 4
  store i32 %147, i32* %30, align 4
  store i32 %150, i32* %29, align 4
  store i32 %866, i32* %28, align 4
  store i32 %t286, i32* %27, align 4
  store i32 %t287, i32* %26, align 4
  store %struct.halide_buffer_t* %bias.buffer, %struct.halide_buffer_t** %897, align 8
  store %struct.halide_buffer_t* %33, %struct.halide_buffer_t** %898, align 8
  store i32* %31, i32** %899, align 8
  store i32* %30, i32** %900, align 8
  store i32* %29, i32** %901, align 8
  store i32* %28, i32** %902, align 8
  store i32* %27, i32** %903, align 8
  store i32* %26, i32** %904, align 8
  store i8* null, i8** %905, align 8
  store i8 1, i8* %906, align 1
  store i8 1, i8* %907, align 1
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 1 dereferenceable(7) %908, i8 0, i64 7, i1 false)
  %"halide_opencl_run_result$2" = call i32 @halide_opencl_run(i8* null, i8* %913, i8* getelementptr inbounds ([35 x i8], [35 x i8]* @str.286, i64 0, i64 0), i32 %t283, i32 %t282, i32 1, i32 16, i32 8, i32 1, i32 0, i64* nonnull %894, i8** nonnull %909, i8* nonnull %906) #11
  %914 = icmp eq i32 %"halide_opencl_run_result$2", 0
  br i1 %914, label %"assert succeeded115", label %call_destructor.exit, !prof !461

"end for conv2.s0.z.rebased":                     ; preds = %"assert succeeded115", %"assert succeeded113"
  %915 = load i64, i64* %flags13.i461, align 8, !tbaa !311
  %or.i.sink.i.i464 = or i64 %915, 2
  store i64 %or.i.sink.i.i464, i64* %flags13.i461, align 8, !tbaa !311
  %916 = call %struct.halide_device_interface_t* @halide_opencl_device_interface() #11
  %"halide_copy_to_device_result$4" = call i32 @halide_copy_to_device(i8* null, %struct.halide_buffer_t* %weight_2.buffer, %struct.halide_device_interface_t* %916) #11
  %917 = icmp eq i32 %"halide_copy_to_device_result$4", 0
  br i1 %917, label %"assert succeeded117", label %call_destructor.exit, !prof !461

"assert succeeded115":                            ; preds = %"for conv2.s0.z.rebased"
  %918 = add nuw nsw i32 %conv2.s0.z.rebased, 1
  %.not153 = icmp eq i32 %918, %153
  br i1 %.not153, label %"end for conv2.s0.z.rebased", label %"for conv2.s0.z.rebased"

"assert succeeded117":                            ; preds = %"end for conv2.s0.z.rebased"
  br i1 %868, label %"for conv2.s1.z.rebased.preheader", label %"end for conv2.s1.z.rebased", !prof !461

"for conv2.s1.z.rebased.preheader":               ; preds = %"assert succeeded117"
  %.neg545 = mul i32 %182, %180
  %.neg546 = mul i32 %185, %183
  %.neg547 = mul i32 %188, %186
  %reass.add = add i32 %.neg546, %.neg545
  %reass.add550 = add i32 %reass.add, %.neg547
  %919 = getelementptr inbounds [12 x i64], [12 x i64]* %23, i64 0, i64 0
  %920 = getelementptr inbounds [12 x i64], [12 x i64]* %23, i64 0, i64 4
  %921 = getelementptr inbounds [12 x i64], [12 x i64]* %23, i64 0, i64 8
  %922 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14, i64 0, i32 0
  %923 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14, i64 0, i32 1
  %924 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14, i64 0, i32 2
  %925 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14, i64 0, i32 3
  %926 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14, i64 0, i32 4
  %927 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14, i64 0, i32 5
  %928 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14, i64 0, i32 6
  %929 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14, i64 0, i32 7
  %930 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14, i64 0, i32 8
  %931 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14, i64 0, i32 9
  %932 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14, i64 0, i32 10
  %933 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14, i64 0, i32 11
  %934 = getelementptr inbounds [12 x i8], [12 x i8]* %13, i64 0, i64 0
  %935 = getelementptr inbounds [12 x i8], [12 x i8]* %13, i64 0, i64 1
  %936 = getelementptr inbounds [12 x i8], [12 x i8]* %13, i64 0, i64 2
  %937 = getelementptr inbounds [12 x i8], [12 x i8]* %13, i64 0, i64 3
  %938 = bitcast { %struct.halide_buffer_t*, %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %14 to i8**
  %939 = add i32 %177, %reass.add550
  %940 = bitcast [12 x i64]* %23 to <4 x i64>*
  %941 = bitcast i64* %920 to <4 x i64>*
  %942 = bitcast i64* %921 to <4 x i64>*
  br label %"for conv2.s1.z.rebased"

"for conv2.s1.z.rebased":                         ; preds = %"for conv2.s1.z.rebased.preheader", %"assert succeeded119"
  %conv2.s1.z.rebased = phi i32 [ %949, %"assert succeeded119" ], [ 0, %"for conv2.s1.z.rebased.preheader" ]
  %t295 = mul nsw i32 %conv2.s1.z.rebased, %conv2.stride.3
  %943 = add nsw i32 %conv2.s1.z.rebased, %152
  %944 = mul nsw i32 %943, %188
  %t296 = sub i32 %944, %939
  %945 = load i64, i64* bitcast ([8 x i8]* @opencl_buf.data to i64*), align 32, !tbaa !462
  %946 = inttoptr i64 %945 to i8*
  store <4 x i64> <i64 8, i64 8, i64 8, i64 4>, <4 x i64>* %940, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %941, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 0>, <4 x i64>* %942, align 8
  store i32 %conv1.stride.3, i32* %22, align 4
  store i32 %144, i32* %21, align 4
  store i32 %866, i32* %20, align 4
  store i32 %675, i32* %19, align 4
  store i32 %t295, i32* %18, align 4
  store i32 %t296, i32* %17, align 4
  store i32 %182, i32* %16, align 4
  store i32 %185, i32* %15, align 4
  store %struct.halide_buffer_t* %87, %struct.halide_buffer_t** %922, align 8
  store %struct.halide_buffer_t* %33, %struct.halide_buffer_t** %923, align 8
  store %struct.halide_buffer_t* %weight_2.buffer, %struct.halide_buffer_t** %924, align 8
  store i32* %22, i32** %925, align 8
  store i32* %21, i32** %926, align 8
  store i32* %20, i32** %927, align 8
  store i32* %19, i32** %928, align 8
  store i32* %18, i32** %929, align 8
  store i32* %17, i32** %930, align 8
  store i32* %16, i32** %931, align 8
  store i32* %15, i32** %932, align 8
  store i8* null, i8** %933, align 8
  store i8 1, i8* %934, align 1
  store i8 1, i8* %935, align 1
  store i8 1, i8* %936, align 1
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 1 dereferenceable(9) %937, i8 0, i64 9, i1 false)
  %"halide_opencl_run_result$3" = call i32 @halide_opencl_run(i8* null, i8* %946, i8* getelementptr inbounds ([35 x i8], [35 x i8]* @str.287, i64 0, i64 0), i32 %t283, i32 %t282, i32 1, i32 16, i32 8, i32 1, i32 0, i64* nonnull %919, i8** nonnull %938, i8* nonnull %934) #11
  %947 = icmp eq i32 %"halide_opencl_run_result$3", 0
  br i1 %947, label %"assert succeeded119", label %call_destructor.exit, !prof !461

"end for conv2.s1.z.rebased":                     ; preds = %"assert succeeded119", %"assert succeeded117"
  %"halide_device_free_result$1" = call i32 @halide_device_free(i8* null, %struct.halide_buffer_t* nonnull %87) #11
  %948 = icmp eq i32 %"halide_device_free_result$1", 0
  br i1 %948, label %"assert succeeded121", label %call_destructor.exit, !prof !461

"assert succeeded119":                            ; preds = %"for conv2.s1.z.rebased"
  %949 = add nuw nsw i32 %conv2.s1.z.rebased, 1
  %.not152 = icmp eq i32 %949, %153
  br i1 %.not152, label %"end for conv2.s1.z.rebased", label %"for conv2.s1.z.rebased"

"assert succeeded121":                            ; preds = %"end for conv2.s1.z.rebased"
  %tobool.not.i465 = icmp eq i8* %677, null
  br i1 %tobool.not.i465, label %call_destructor.exit467, label %if.then.i466

if.then.i466:                                     ; preds = %"assert succeeded121"
  call void @halide_free(i8* null, i8* nonnull %677) #16
  br label %call_destructor.exit467

call_destructor.exit467:                          ; preds = %"assert succeeded121", %if.then.i466
  %950 = call %struct.halide_device_interface_t* @halide_opencl_device_interface() #11
  %"halide_copy_to_device_result$2" = call i32 @halide_copy_to_device(i8* null, %struct.halide_buffer_t* %output.buffer, %struct.halide_device_interface_t* %950) #11
  %951 = icmp eq i32 %"halide_copy_to_device_result$2", 0
  br i1 %951, label %"assert succeeded123", label %call_destructor.exit, !prof !461

"assert succeeded123":                            ; preds = %call_destructor.exit467
  br i1 %868, label %"for output.s0.z.rebased.preheader", label %"end for output.s0.z.rebased", !prof !461

"for output.s0.z.rebased.preheader":              ; preds = %"assert succeeded123"
  %.neg551 = mul i32 %148, %146
  %.neg552 = mul i32 %151, %149
  %.neg553 = mul i32 %154, %152
  %reass.add556 = add i32 %.neg552, %.neg551
  %reass.add557 = add i32 %reass.add556, %.neg553
  %952 = getelementptr inbounds [13 x i64], [13 x i64]* %12, i64 0, i64 0
  %953 = getelementptr inbounds [13 x i64], [13 x i64]* %12, i64 0, i64 4
  %954 = getelementptr inbounds [13 x i64], [13 x i64]* %12, i64 0, i64 8
  %955 = getelementptr inbounds [13 x i64], [13 x i64]* %12, i64 0, i64 12
  %956 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 0
  %957 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 1
  %958 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 2
  %959 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 3
  %960 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 4
  %961 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 5
  %962 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 6
  %963 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 7
  %964 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 8
  %965 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 9
  %966 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 10
  %967 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 11
  %968 = getelementptr inbounds { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }, { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1, i64 0, i32 12
  %969 = getelementptr inbounds [13 x i8], [13 x i8]* %0, i64 0, i64 0
  %970 = getelementptr inbounds [13 x i8], [13 x i8]* %0, i64 0, i64 1
  %971 = getelementptr inbounds [13 x i8], [13 x i8]* %0, i64 0, i64 2
  %972 = bitcast { %struct.halide_buffer_t*, %struct.halide_buffer_t*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i32*, i8* }* %1 to i8**
  %973 = bitcast [13 x i64]* %12 to <4 x i64>*
  %974 = bitcast i64* %953 to <4 x i64>*
  %975 = bitcast i64* %954 to <4 x i64>*
  br label %"for output.s0.z.rebased"

"for output.s0.z.rebased":                        ; preds = %"for output.s0.z.rebased.preheader", %"assert succeeded125"
  %output.s0.z.rebased = phi i32 [ %983, %"assert succeeded125" ], [ 0, %"for output.s0.z.rebased.preheader" ]
  %t311 = mul nsw i32 %output.s0.z.rebased, %conv2.stride.3
  %976 = add nsw i32 %output.s0.z.rebased, %152
  %977 = mul nsw i32 %976, %154
  %t312 = sub i32 %977, %reass.add557
  %978 = load i64, i64* bitcast ([8 x i8]* @opencl_buf.data to i64*), align 32, !tbaa !462
  %979 = inttoptr i64 %978 to i8*
  store <4 x i64> <i64 8, i64 8, i64 4, i64 4>, <4 x i64>* %973, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %974, align 8
  store <4 x i64> <i64 4, i64 4, i64 4, i64 4>, <4 x i64>* %975, align 8
  store i64 0, i64* %955, align 8
  store i32 %144, i32* %11, align 4
  store i32 %147, i32* %10, align 4
  store i32 %150, i32* %9, align 4
  store i32 %146, i32* %8, align 4
  store i32 %149, i32* %7, align 4
  store i32 %148, i32* %6, align 4
  store i32 %151, i32* %5, align 4
  store i32 %866, i32* %4, align 4
  store i32 %t311, i32* %3, align 4
  store i32 %t312, i32* %2, align 4
  store %struct.halide_buffer_t* %33, %struct.halide_buffer_t** %956, align 8
  store %struct.halide_buffer_t* %output.buffer, %struct.halide_buffer_t** %957, align 8
  store i32* %11, i32** %958, align 8
  store i32* %10, i32** %959, align 8
  store i32* %9, i32** %960, align 8
  store i32* %8, i32** %961, align 8
  store i32* %7, i32** %962, align 8
  store i32* %6, i32** %963, align 8
  store i32* %5, i32** %964, align 8
  store i32* %4, i32** %965, align 8
  store i32* %3, i32** %966, align 8
  store i32* %2, i32** %967, align 8
  store i8* null, i8** %968, align 8
  store i8 1, i8* %969, align 1
  store i8 1, i8* %970, align 1
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 1 dereferenceable(11) %971, i8 0, i64 11, i1 false)
  %"halide_opencl_run_result$4" = call i32 @halide_opencl_run(i8* null, i8* %979, i8* getelementptr inbounds ([36 x i8], [36 x i8]* @str.288, i64 0, i64 0), i32 %t283, i32 %t282, i32 1, i32 16, i32 8, i32 1, i32 0, i64* nonnull %952, i8** nonnull %972, i8* nonnull %969) #11
  %980 = icmp eq i32 %"halide_opencl_run_result$4", 0
  br i1 %980, label %"assert succeeded125", label %call_destructor.exit, !prof !461

"end for output.s0.z.rebased":                    ; preds = %"assert succeeded125", %"assert succeeded123"
  %flags.i.i.i468 = getelementptr inbounds %struct.halide_buffer_t, %struct.halide_buffer_t* %output.buffer, i64 0, i32 3
  %981 = load i64, i64* %flags.i.i.i468, align 8, !tbaa !311
  %or.i.sink.i.i470 = or i64 %981, 2
  store i64 %or.i.sink.i.i470, i64* %flags.i.i.i468, align 8, !tbaa !311
  %halide_device_free_result = call i32 @halide_device_free(i8* null, %struct.halide_buffer_t* nonnull %33) #11
  %982 = icmp eq i32 %halide_device_free_result, 0
  br i1 %982, label %"assert succeeded127", label %call_destructor.exit, !prof !461

"assert succeeded125":                            ; preds = %"for output.s0.z.rebased"
  %983 = add nuw nsw i32 %output.s0.z.rebased, 1
  %.not151 = icmp eq i32 %983, %153
  br i1 %.not151, label %"end for output.s0.z.rebased", label %"for output.s0.z.rebased"

"assert succeeded127":                            ; preds = %"end for output.s0.z.rebased"
  %tobool.not.i471 = icmp eq i8* %869, null
  br i1 %tobool.not.i471, label %call_destructor.exit, label %if.then.i472

if.then.i472:                                     ; preds = %"assert succeeded127"
  call void @halide_free(i8* null, i8* nonnull %869) #16
  br label %call_destructor.exit
}

; Function Attrs: nounwind
define i32 @simple_ex_argv(i8** nocapture readonly %0) local_unnamed_addr #11 {
entry:
  %1 = bitcast i8** %0 to %struct.halide_buffer_t**
  %2 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %1, align 8
  %3 = getelementptr i8*, i8** %0, i64 1
  %4 = bitcast i8** %3 to %struct.halide_buffer_t**
  %5 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %4, align 8
  %6 = getelementptr i8*, i8** %0, i64 2
  %7 = bitcast i8** %6 to %struct.halide_buffer_t**
  %8 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %7, align 8
  %9 = getelementptr i8*, i8** %0, i64 3
  %10 = bitcast i8** %9 to %struct.halide_buffer_t**
  %11 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %10, align 8
  %12 = getelementptr i8*, i8** %0, i64 4
  %13 = bitcast i8** %12 to %struct.halide_buffer_t**
  %14 = load %struct.halide_buffer_t*, %struct.halide_buffer_t** %13, align 8
  %15 = tail call i32 @simple_ex(%struct.halide_buffer_t* %2, %struct.halide_buffer_t* %5, %struct.halide_buffer_t* %8, %struct.halide_buffer_t* %11, %struct.halide_buffer_t* %14) #18
  ret i32 %15
}

; Function Attrs: mustprogress nofree norecurse nosync nounwind readnone willreturn
define nonnull %struct.halide_filter_metadata_t* @simple_ex_metadata() local_unnamed_addr #12 {
entry:
  ret %struct.halide_filter_metadata_t* @simple_ex_metadata_storage
}

; Function Attrs: mustprogress nofree nosync nounwind readnone speculatable willreturn
declare i64 @llvm.cttz.i64(i64, i1 immarg) #5

; Function Attrs: nofree nosync nounwind readnone speculatable willreturn
declare i64 @llvm.abs.i64(i64, i1 immarg) #13

; Function Attrs: nofree nosync nounwind readnone willreturn
declare i64 @llvm.vector.reduce.or.v16i64(<16 x i64>) #14

; Function Attrs: argmemonly nofree nosync nounwind readonly willreturn
declare i8* @llvm.load.relative.i64(i8*, i64) #15

attributes #0 = { mustprogress nounwind "frame-pointer"="all" "min-legal-vector-width"="0" "no-builtins" "no-trapping-math"="true" "stack-protector-buffer-size"="8" }
attributes #1 = { "frame-pointer"="all" "no-builtins" "no-trapping-math"="true" "stack-protector-buffer-size"="8" }
attributes #2 = { argmemonly mustprogress nofree nosync nounwind willreturn }
attributes #3 = { nounwind "frame-pointer"="all" "min-legal-vector-width"="0" "no-builtins" "no-trapping-math"="true" "stack-protector-buffer-size"="8" }
attributes #4 = { argmemonly mustprogress nofree nounwind willreturn }
attributes #5 = { mustprogress nofree nosync nounwind readnone speculatable willreturn }
attributes #6 = { argmemonly mustprogress nofree nounwind willreturn writeonly }
attributes #7 = { alwaysinline mustprogress nounwind "frame-pointer"="all" "min-legal-vector-width"="0" "no-builtins" "no-trapping-math"="true" "stack-protector-buffer-size"="8" }
attributes #8 = { nounwind "frame-pointer"="all" "no-builtins" "no-trapping-math"="true" "stack-protector-buffer-size"="8" }
attributes #9 = { mustprogress nofree norecurse nosync nounwind willreturn "frame-pointer"="all" "min-legal-vector-width"="0" "no-builtins" "no-trapping-math"="true" "stack-protector-buffer-size"="8" }
attributes #10 = { nounwind "reciprocal-estimates"="none" }
attributes #11 = { nounwind }
attributes #12 = { mustprogress nofree norecurse nosync nounwind readnone willreturn }
attributes #13 = { nofree nosync nounwind readnone speculatable willreturn }
attributes #14 = { nofree nosync nounwind readnone willreturn }
attributes #15 = { argmemonly nofree nosync nounwind readonly willreturn }
attributes #16 = { nobuiltin nounwind "no-builtins" }
attributes #17 = { nobuiltin "no-builtins" }
attributes #18 = { noinline }

!llvm.module.flags = !{!0, !1, !2, !3, !4, !5, !6, !7, !8, !9}
!llvm.ident = !{!10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10, !10}

!0 = !{i32 1, !"wchar_size", i32 4}
!1 = !{i32 7, !"PIC Level", i32 1}
!2 = !{i32 7, !"frame-pointer", i32 2}
!3 = !{i32 2, !"halide_use_soft_float_abi", i32 0}
!4 = !{i32 2, !"halide_mcpu", !"haswell"}
!5 = !{i32 2, !"halide_mattrs", !"+fma,+f16c"}
!6 = !{i32 2, !"halide_mabi", !""}
!7 = !{i32 2, !"halide_use_pic", i32 1}
!8 = !{i32 2, !"halide_use_large_code_model", i32 0}
!9 = !{i32 2, !"halide_per_instruction_fast_math_flags", i32 0}
!10 = !{!"clang version 13.0.0 (https://github.com/llvm/llvm-project.git d7b669b3a30345cfcdb2fde2af6f48aa4b94845d)"}
!11 = !{!12, !12, i64 0}
!12 = !{!"any pointer", !13, i64 0}
!13 = !{!"omnipotent char", !14, i64 0}
!14 = !{!"Simple C++ TBAA"}
!15 = !{!13, !13, i64 0}
!16 = !{!17, !17, i64 0}
!17 = !{!"bool", !13, i64 0}
!18 = !{i8 0, i8 2}
!19 = !{!20, !20, i64 0}
!20 = !{!"long", !13, i64 0}
!21 = !{!22, !12, i64 0}
!22 = !{!"_ZTSN6Halide7Runtime8Internal4workE", !23, i64 0, !12, i64 56, !12, i64 64, !12, i64 72, !24, i64 80, !12, i64 88, !24, i64 96, !12, i64 104, !24, i64 112, !24, i64 116, !24, i64 120, !17, i64 124}
!23 = !{!"_ZTS22halide_parallel_task_t", !12, i64 0, !12, i64 8, !12, i64 16, !12, i64 24, !24, i64 32, !24, i64 36, !24, i64 40, !24, i64 44, !17, i64 48}
!24 = !{!"int", !13, i64 0}
!25 = !{!22, !24, i64 36}
!26 = !{!22, !24, i64 40}
!27 = !{!22, !17, i64 48}
!28 = !{!22, !12, i64 24}
!29 = !{!22, !24, i64 32}
!30 = !{!22, !12, i64 8}
!31 = !{!22, !24, i64 44}
!32 = !{!22, !12, i64 16}
!33 = !{!22, !12, i64 56}
!34 = !{!22, !12, i64 104}
!35 = !{!22, !24, i64 116}
!36 = !{!22, !24, i64 112}
!37 = !{!22, !24, i64 120}
!38 = !{!22, !17, i64 124}
!39 = !{!22, !12, i64 72}
!40 = !{!22, !24, i64 80}
!41 = !{!22, !12, i64 88}
!42 = !{!43, !43, i64 0}
!43 = !{!"vtable pointer", !14, i64 0}
!44 = !{!45, !12, i64 8}
!45 = !{!"_ZTSN6Halide7Runtime8Internal15Synchronization21mutex_parking_controlE", !12, i64 8}
!46 = distinct !{!46, !47}
!47 = !{!"llvm.loop.mustprogress"}
!48 = !{!49, !17, i64 2121}
!49 = !{!"_ZTSN6Halide7Runtime8Internal12work_queue_tE", !50, i64 0, !24, i64 8, !24, i64 12, !12, i64 16, !24, i64 24, !24, i64 28, !24, i64 32, !51, i64 40, !51, i64 48, !51, i64 56, !24, i64 64, !24, i64 68, !13, i64 72, !17, i64 2120, !17, i64 2121, !24, i64 2124}
!50 = !{!"_ZTS12halide_mutex", !13, i64 0}
!51 = !{!"_ZTS11halide_cond", !13, i64 0}
!52 = !{!49, !24, i64 8}
!53 = !{!49, !24, i64 24}
!54 = !{!49, !24, i64 2124}
!55 = !{!49, !24, i64 28}
!56 = distinct !{!56, !47}
!57 = !{!22, !24, i64 96}
!58 = !{!49, !12, i64 16}
!59 = !{!22, !12, i64 64}
!60 = !{!49, !24, i64 68}
!61 = !{!49, !24, i64 32}
!62 = distinct !{!62, !47}
!63 = distinct !{!63, !47}
!64 = distinct !{!64, !47}
!65 = !{!49, !17, i64 2120}
!66 = distinct !{!66, !47}
!67 = !{!68, !12, i64 0}
!68 = !{!"_ZTS26halide_semaphore_acquire_t", !12, i64 0, !24, i64 8}
!69 = !{!68, !24, i64 8}
!70 = distinct !{!70, !47}
!71 = distinct !{!71, !47}
!72 = !{!49, !24, i64 64}
!73 = distinct !{!73, !47}
!74 = distinct !{!74, !47}
!75 = !{i64 0, i64 8, !11, i64 8, i64 8, !11, i64 16, i64 8, !11, i64 24, i64 8, !11, i64 32, i64 4, !76, i64 36, i64 4, !76, i64 40, i64 4, !76, i64 44, i64 4, !76, i64 48, i64 1, !16, i64 56, i64 8, !11, i64 64, i64 8, !11, i64 72, i64 8, !11, i64 80, i64 4, !76, i64 88, i64 8, !11, i64 96, i64 4, !76, i64 104, i64 8, !11, i64 112, i64 4, !76, i64 116, i64 4, !76, i64 120, i64 4, !76, i64 124, i64 1, !16}
!76 = !{!24, !24, i64 0}
!77 = !{i64 0, i64 8, !11, i64 8, i64 8, !11, i64 16, i64 8, !11, i64 24, i64 4, !76, i64 28, i64 4, !76, i64 32, i64 4, !76, i64 36, i64 4, !76, i64 40, i64 1, !16, i64 48, i64 8, !11, i64 56, i64 8, !11, i64 64, i64 8, !11, i64 72, i64 4, !76, i64 80, i64 8, !11, i64 88, i64 4, !76, i64 96, i64 8, !11, i64 104, i64 4, !76, i64 108, i64 4, !76, i64 112, i64 4, !76, i64 116, i64 1, !16}
!78 = !{i64 0, i64 8, !11, i64 8, i64 8, !11, i64 16, i64 8, !11, i64 24, i64 4, !76, i64 32, i64 8, !11, i64 40, i64 4, !76, i64 48, i64 8, !11, i64 56, i64 4, !76, i64 60, i64 4, !76, i64 64, i64 4, !76, i64 68, i64 1, !16}
!79 = !{i64 0, i64 8, !11, i64 8, i64 4, !76, i64 12, i64 4, !76, i64 16, i64 4, !76, i64 20, i64 1, !16}
!80 = distinct !{!80, !47}
!81 = distinct !{!81, !47}
!82 = !{!83, !12, i64 144}
!83 = !{!"_ZTSN6Halide7Runtime8Internal15Synchronization10queue_dataE", !84, i64 0, !87, i64 136, !12, i64 144, !87, i64 152}
!84 = !{!"_ZTSN6Halide7Runtime8Internal15Synchronization13thread_parkerE", !85, i64 0, !86, i64 64, !17, i64 128}
!85 = !{!"_ZTS15pthread_mutex_t", !13, i64 0}
!86 = !{!"_ZTS14pthread_cond_t", !13, i64 0}
!87 = !{!"long long", !13, i64 0}
!88 = !{!89, !12, i64 16}
!89 = !{!"_ZTSN6Halide7Runtime8Internal15Synchronization11hash_bucketE", !90, i64 0, !12, i64 8, !12, i64 16}
!90 = !{!"_ZTSN6Halide7Runtime8Internal15Synchronization9word_lockE", !87, i64 0}
!91 = distinct !{!91, !47}
!92 = !{!83, !87, i64 152}
!93 = !{!84, !17, i64 128}
!94 = distinct !{!94, !47}
!95 = !{!96, !12, i64 152}
!96 = !{!"_ZTSN6Halide7Runtime8Internal15Synchronization20word_lock_queue_dataE", !84, i64 0, !12, i64 136, !12, i64 144, !12, i64 152}
!97 = !{!96, !12, i64 136}
!98 = !{!96, !12, i64 144}
!99 = distinct !{!99, !47}
!100 = distinct !{!100, !47}
!101 = distinct !{!101, !47}
!102 = distinct !{!102, !47}
!103 = distinct !{!103, !47}
!104 = !{!105, !12, i64 8}
!105 = !{!"_ZTSN6Halide7Runtime8Internal15Synchronization25broadcast_parking_controlE", !12, i64 8, !12, i64 16}
!106 = !{!105, !12, i64 16}
!107 = !{!108, !12, i64 8}
!108 = !{!"_ZTSN6Halide7Runtime8Internal15Synchronization20wait_parking_controlE", !12, i64 8, !12, i64 16}
!109 = !{!108, !12, i64 16}
!110 = !{!83, !87, i64 136}
!111 = !{!112, !17, i64 0}
!112 = !{!"_ZTSN6Halide7Runtime8Internal15Synchronization15validate_actionE", !17, i64 0, !87, i64 8}
!113 = !{!112, !87, i64 8}
!114 = !{!89, !12, i64 8}
!115 = !{!87, !87, i64 0}
!116 = !{!117, !12, i64 0}
!117 = !{!"_ZTSN6Halide7Runtime8Internal15Synchronization11bucket_pairE", !12, i64 0, !12, i64 8}
!118 = distinct !{!118, !47}
!119 = !{!117, !12, i64 8}
!120 = !{!121, !12, i64 0}
!121 = !{!"_ZTSN6Halide7Runtime8Internal14spawned_threadE", !12, i64 0, !12, i64 8, !20, i64 16}
!122 = !{!121, !12, i64 8}
!123 = !{!121, !20, i64 16}
!124 = !{!23, !24, i64 40}
!125 = !{i64 0, i64 8, !11, i64 8, i64 8, !11, i64 16, i64 8, !11, i64 24, i64 8, !11, i64 32, i64 4, !76, i64 36, i64 4, !76, i64 40, i64 4, !76, i64 44, i64 4, !76, i64 48, i64 1, !16}
!126 = distinct !{!126, !47}
!127 = distinct !{!127, !47}
!128 = distinct !{!128, !47}
!129 = !{!130, !12, i64 8}
!130 = !{!"_ZTSN6Halide7Runtime8Internal15Synchronization22signal_parking_controlE", !12, i64 8, !12, i64 16}
!131 = !{!130, !12, i64 16}
!132 = !{!133, !12, i64 0}
!133 = !{!"_ZTS18halide_mutex_array", !12, i64 0}
!134 = distinct !{!134, !47}
!135 = !{!136, !139, i64 34}
!136 = !{!"_ZTS20halide_trace_event_t", !12, i64 0, !12, i64 8, !12, i64 16, !12, i64 24, !137, i64 32, !140, i64 36, !24, i64 40, !24, i64 44, !24, i64 48}
!137 = !{!"_ZTS13halide_type_t", !138, i64 0, !13, i64 1, !139, i64 2}
!138 = !{!"_ZTS18halide_type_code_t", !13, i64 0}
!139 = !{!"short", !13, i64 0}
!140 = !{!"_ZTS25halide_trace_event_code_t", !13, i64 0}
!141 = !{!137, !13, i64 1}
!142 = !{!136, !24, i64 48}
!143 = !{!136, !12, i64 0}
!144 = !{!136, !12, i64 24}
!145 = !{!146, !24, i64 0}
!146 = !{!"_ZTSN6Halide7Runtime8Internal23SharedExclusiveSpinLockE", !24, i64 0}
!147 = distinct !{!147, !47}
!148 = !{!149, !24, i64 4}
!149 = !{!"_ZTSN6Halide7Runtime8Internal11TraceBufferE", !146, i64 0, !24, i64 4, !24, i64 8, !13, i64 12}
!150 = !{!149, !24, i64 8}
!151 = distinct !{!151, !47}
!152 = !{!153, !24, i64 0}
!153 = !{!"_ZTS21halide_trace_packet_t", !24, i64 0, !24, i64 4, !137, i64 8, !140, i64 12, !24, i64 16, !24, i64 20, !24, i64 24}
!154 = !{!153, !24, i64 4}
!155 = !{!136, !12, i64 16}
!156 = !{!136, !12, i64 8}
!157 = !{!153, !24, i64 24}
!158 = !{!153, !139, i64 10}
!159 = distinct !{!159, !47}
!160 = !{!136, !140, i64 36}
!161 = !{!136, !13, i64 33}
!162 = distinct !{!162, !47}
!163 = !{!136, !24, i64 44}
!164 = distinct !{!164, !47, !165}
!165 = !{!"llvm.loop.peeled.count", i32 1}
!166 = !{!136, !138, i64 32}
!167 = !{!139, !139, i64 0}
!168 = !{!169, !169, i64 0}
!169 = !{!"float", !13, i64 0}
!170 = !{!171, !171, i64 0}
!171 = !{!"double", !13, i64 0}
!172 = distinct !{!172, !47, !165}
!173 = distinct !{!173, !47}
!174 = !{!136, !24, i64 40}
!175 = distinct !{!175, !47}
!176 = distinct !{!176, !47}
!177 = distinct !{!177, !47}
!178 = !{!179, !12, i64 16}
!179 = !{!"_ZTS15halide_buffer_t", !87, i64 0, !12, i64 8, !12, i64 16, !87, i64 24, !137, i64 32, !24, i64 36, !12, i64 40, !12, i64 48}
!180 = !{!179, !24, i64 36}
!181 = !{!179, !12, i64 40}
!182 = !{i64 0, i64 4, !76, i64 4, i64 4, !76, i64 8, i64 4, !76, i64 12, i64 4, !76}
!183 = !{!184, !24, i64 4}
!184 = !{!"_ZTS18halide_dimension_t", !24, i64 0, !24, i64 4, !24, i64 8, !24, i64 12}
!185 = distinct !{!185, !47}
!186 = !{!184, !24, i64 0}
!187 = !{!184, !24, i64 8}
!188 = distinct !{!188, !189}
!189 = !{!"llvm.loop.unroll.disable"}
!190 = distinct !{!190, !47}
!191 = !{!192, !139, i64 0}
!192 = !{!"_ZTSN6Halide7Runtime8Internal18halide_tiff_headerE", !139, i64 0, !139, i64 2, !24, i64 4, !139, i64 8, !13, i64 10, !24, i64 190, !13, i64 194, !13, i64 202}
!193 = !{!192, !139, i64 2}
!194 = !{!192, !24, i64 4}
!195 = !{!192, !139, i64 8}
!196 = !{!197, !139, i64 0}
!197 = !{!"_ZTSN6Halide7Runtime8Internal8tiff_tagE", !139, i64 0, !139, i64 2, !24, i64 4, !13, i64 8}
!198 = !{!197, !139, i64 2}
!199 = !{!197, !24, i64 4}
!200 = distinct !{!200, !47}
!201 = distinct !{!201, !47}
!202 = distinct !{!202, !47}
!203 = distinct !{!203, !47}
!204 = distinct !{!204, !47}
!205 = !{!206}
!206 = distinct !{!206, !207}
!207 = distinct !{!207, !"LVerDomain"}
!208 = !{!209}
!209 = distinct !{!209, !207}
!210 = distinct !{!210, !47, !211}
!211 = !{!"llvm.loop.isvectorized", i32 1}
!212 = distinct !{!212, !189}
!213 = distinct !{!213, !189}
!214 = distinct !{!214, !47, !211}
!215 = distinct !{!215, !189}
!216 = distinct !{!216, !47, !211}
!217 = distinct !{!217, !47, !211}
!218 = distinct !{!218, !47, !219, !211}
!219 = !{!"llvm.loop.unroll.runtime.disable"}
!220 = distinct !{!220, !189}
!221 = distinct !{!221, !189}
!222 = distinct !{!222, !47}
!223 = distinct !{!223, !189}
!224 = distinct !{!224, !47}
!225 = distinct !{!225, !47, !226}
!226 = !{!"llvm.loop.unswitch.partial.disable"}
!227 = distinct !{!227, !47}
!228 = distinct !{!228, !47}
!229 = distinct !{!229, !47}
!230 = distinct !{!230, !47}
!231 = !{!232, !12, i64 0}
!232 = !{!"_ZTSN6Halide7Runtime8Internal10CacheEntryE", !12, i64 0, !12, i64 8, !12, i64 16, !12, i64 24, !20, i64 32, !12, i64 40, !24, i64 48, !24, i64 52, !24, i64 56, !24, i64 60, !12, i64 64, !12, i64 72, !87, i64 80, !17, i64 88}
!233 = distinct !{!233, !47}
!234 = !{!232, !24, i64 56}
!235 = !{!232, !12, i64 24}
!236 = !{!232, !12, i64 72}
!237 = distinct !{!237, !47}
!238 = distinct !{!238, !47}
!239 = !{!240, !87, i64 0}
!240 = !{!"_ZTSN6Halide7Runtime8Internal11device_copyE", !87, i64 0, !87, i64 8, !87, i64 16, !13, i64 24, !13, i64 152, !13, i64 280, !87, i64 408}
!241 = !{!240, !87, i64 8}
!242 = !{!240, !87, i64 408}
!243 = distinct !{!243, !47}
!244 = !{!240, !87, i64 16}
!245 = !{!179, !87, i64 0}
!246 = distinct !{!246, !189}
!247 = distinct !{!247, !47}
!248 = distinct !{!248, !47}
!249 = distinct !{!249, !189}
!250 = distinct !{!250, !47}
!251 = distinct !{!251, !47}
!252 = distinct !{!252, !47}
!253 = !{i64 0, i64 8, !115, i64 8, i64 8, !115, i64 16, i64 8, !115, i64 24, i64 128, !15, i64 152, i64 128, !15, i64 280, i64 128, !15, i64 408, i64 8, !115}
!254 = distinct !{!254, !47}
!255 = !{!184, !24, i64 12}
!256 = !{!232, !12, i64 16}
!257 = !{!232, !20, i64 32}
!258 = !{!232, !24, i64 48}
!259 = !{!232, !24, i64 52}
!260 = !{!232, !24, i64 60}
!261 = !{!232, !12, i64 64}
!262 = !{!232, !12, i64 40}
!263 = distinct !{!263, !47}
!264 = distinct !{!264, !47}
!265 = distinct !{!265, !47}
!266 = !{!232, !17, i64 88}
!267 = !{!232, !87, i64 80}
!268 = !{i64 0, i64 8, !115, i64 8, i64 8, !11, i64 16, i64 8, !11, i64 24, i64 8, !115, i64 32, i64 1, !269, i64 33, i64 1, !15, i64 34, i64 2, !167, i64 36, i64 4, !76, i64 40, i64 8, !11, i64 48, i64 8, !11}
!269 = !{!138, !138, i64 0}
!270 = distinct !{!270, !47}
!271 = distinct !{!271, !189}
!272 = distinct !{!272, !47}
!273 = !{!232, !12, i64 8}
!274 = distinct !{!274, !47}
!275 = distinct !{!275, !189}
!276 = distinct !{!276, !189}
!277 = distinct !{!277, !47}
!278 = distinct !{!278, !47}
!279 = distinct !{!279, !47}
!280 = distinct !{!280, !47}
!281 = distinct !{!281, !47}
!282 = distinct !{!282, !47}
!283 = distinct !{!283, !47}
!284 = distinct !{!284, !189}
!285 = distinct !{!285, !189}
!286 = distinct !{!286, !47}
!287 = !{!288, !24, i64 8}
!288 = !{!"_ZTSN6Halide7Runtime8Internal16CacheBlockHeaderE", !12, i64 0, !24, i64 8}
!289 = !{!288, !12, i64 0}
!290 = distinct !{!290, !47}
!291 = distinct !{!291, !189}
!292 = distinct !{!292, !47}
!293 = distinct !{!293, !47}
!294 = distinct !{!294, !47}
!295 = distinct !{!295, !189}
!296 = distinct !{!296, !189}
!297 = distinct !{!297, !47}
!298 = distinct !{!298, !47}
!299 = distinct !{!299, !47}
!300 = distinct !{!300, !47}
!301 = distinct !{!301, !47}
!302 = distinct !{!302, !47}
!303 = distinct !{!303, !47}
!304 = distinct !{!304, !47}
!305 = distinct !{!305, !189}
!306 = distinct !{!306, !47}
!307 = distinct !{!307, !47}
!308 = !{!137, !138, i64 0}
!309 = !{!137, !139, i64 2}
!310 = !{!179, !12, i64 8}
!311 = !{!179, !87, i64 24}
!312 = distinct !{!312, !47}
!313 = !{!314, !12, i64 0}
!314 = !{!"_ZTS29halide_device_allocation_pool", !12, i64 0, !12, i64 8}
!315 = distinct !{!315, !47}
!316 = !{!314, !12, i64 8}
!317 = !{!318, !12, i64 120}
!318 = !{!"_ZTS25halide_device_interface_t", !12, i64 0, !12, i64 8, !12, i64 16, !12, i64 24, !12, i64 32, !12, i64 40, !12, i64 48, !12, i64 56, !12, i64 64, !12, i64 72, !12, i64 80, !12, i64 88, !12, i64 96, !12, i64 104, !12, i64 112, !12, i64 120}
!319 = !{!320, !12, i64 48}
!320 = !{!"_ZTS30halide_device_interface_impl_t", !12, i64 0, !12, i64 8, !12, i64 16, !12, i64 24, !12, i64 32, !12, i64 40, !12, i64 48, !12, i64 56, !12, i64 64, !12, i64 72, !12, i64 80, !12, i64 88, !12, i64 96, !12, i64 104, !12, i64 112, !12, i64 120}
!321 = !{!320, !12, i64 40}
!322 = !{!320, !12, i64 56}
!323 = !{!320, !12, i64 0}
!324 = !{!320, !12, i64 16}
!325 = !{!320, !12, i64 8}
!326 = !{!320, !12, i64 32}
!327 = !{!320, !12, i64 24}
!328 = !{!320, !12, i64 64}
!329 = !{!320, !12, i64 72}
!330 = distinct !{!330, !189}
!331 = distinct !{!331, !189}
!332 = distinct !{!332, !47}
!333 = distinct !{!333, !47}
!334 = !{!320, !12, i64 112}
!335 = !{!320, !12, i64 120}
!336 = !{!320, !12, i64 80}
!337 = !{!320, !12, i64 88}
!338 = !{!320, !12, i64 96}
!339 = !{!320, !12, i64 104}
!340 = !{i32 22, i32 33}
!341 = !{!342, !12, i64 40}
!342 = !{!"_ZTS21halide_profiler_state", !50, i64 0, !24, i64 8, !24, i64 12, !24, i64 16, !24, i64 20, !12, i64 24, !12, i64 32, !12, i64 40}
!343 = !{!342, !24, i64 16}
!344 = !{!345, !87, i64 0}
!345 = !{!"_ZTS30halide_profiler_pipeline_stats", !87, i64 0, !87, i64 8, !87, i64 16, !87, i64 24, !87, i64 32, !87, i64 40, !12, i64 48, !12, i64 56, !12, i64 64, !24, i64 72, !24, i64 76, !24, i64 80, !24, i64 84, !24, i64 88}
!346 = !{!345, !24, i64 80}
!347 = !{!345, !87, i64 32}
!348 = !{!345, !87, i64 40}
!349 = !{!345, !12, i64 48}
!350 = !{!345, !24, i64 84}
!351 = !{!345, !24, i64 88}
!352 = !{!345, !87, i64 16}
!353 = !{!345, !87, i64 24}
!354 = !{!345, !24, i64 72}
!355 = !{!345, !12, i64 56}
!356 = distinct !{!356, !47}
!357 = !{!358, !87, i64 32}
!358 = !{!"_ZTS26halide_profiler_func_stats", !87, i64 0, !87, i64 8, !87, i64 16, !87, i64 24, !87, i64 32, !87, i64 40, !87, i64 48, !12, i64 56, !24, i64 64}
!359 = !{!358, !87, i64 0}
!360 = !{!358, !12, i64 56}
!361 = distinct !{!361, !47}
!362 = distinct !{!362, !47}
!363 = distinct !{!363, !47}
!364 = !{!358, !87, i64 40}
!365 = !{!358, !87, i64 48}
!366 = distinct !{!366, !47}
!367 = !{!358, !87, i64 16}
!368 = distinct !{!368, !47}
!369 = !{!358, !24, i64 64}
!370 = distinct !{!370, !47}
!371 = !{!358, !87, i64 24}
!372 = distinct !{!372, !47}
!373 = distinct !{!373, !47}
!374 = !{!342, !12, i64 24}
!375 = !{!345, !12, i64 64}
!376 = distinct !{!376, !47}
!377 = !{!342, !24, i64 12}
!378 = distinct !{!378, !47}
!379 = !{!345, !24, i64 76}
!380 = distinct !{!380, !47}
!381 = distinct !{!381, !47}
!382 = !{!342, !12, i64 32}
!383 = !{!342, !24, i64 20}
!384 = !{!342, !24, i64 8}
!385 = distinct !{!385, !47}
!386 = distinct !{!386, !47}
!387 = distinct !{!387, !47}
!388 = distinct !{!388, !47}
!389 = distinct !{!389, !47}
!390 = !{!391, !12, i64 0}
!391 = !{!"_ZTSN6Halide7Runtime8Internal6OpenCL9ClContextE", !12, i64 0, !12, i64 8, !12, i64 16, !24, i64 24}
!392 = !{!391, !12, i64 8}
!393 = !{!391, !12, i64 16}
!394 = !{!391, !24, i64 24}
!395 = distinct !{!395, !189}
!396 = distinct !{!396, !189}
!397 = distinct !{!397, !47}
!398 = !{!399, !12, i64 8}
!399 = !{!"_ZTSN6Halide7Runtime8Internal6OpenCL13device_handleE", !87, i64 0, !12, i64 8}
!400 = !{!399, !87, i64 0}
!401 = distinct !{!401, !47}
!402 = distinct !{!402, !47}
!403 = !{!404, !24, i64 24}
!404 = !{!"_ZTSN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programEE", !50, i64 0, !24, i64 8, !12, i64 16, !24, i64 24, !24, i64 28}
!405 = !{!404, !24, i64 8}
!406 = !{!404, !12, i64 16}
!407 = !{!408, !24, i64 16}
!408 = !{!"_ZTSN6Halide8Internal19GPUCompilationCacheIP11_cl_contextP11_cl_programE17CachedCompilationE", !12, i64 0, !12, i64 8, !24, i64 16, !24, i64 20}
!409 = !{!408, !12, i64 0}
!410 = !{!408, !24, i64 20}
!411 = !{!408, !12, i64 8}
!412 = distinct !{!412, !47}
!413 = distinct !{!413, !47}
!414 = distinct !{!414, !189}
!415 = distinct !{!415, !189}
!416 = distinct !{!416, !189}
!417 = distinct !{!417, !47}
!418 = !{!419, !24, i64 4}
!419 = !{!"_ZTS16_cl_image_format", !24, i64 0, !24, i64 4}
!420 = !{!419, !24, i64 0}
!421 = !{!422, !24, i64 0}
!422 = !{!"_ZTS14_cl_image_desc", !24, i64 0, !20, i64 8, !20, i64 16, !20, i64 24, !20, i64 32, !20, i64 40, !20, i64 48, !24, i64 56, !24, i64 60, !12, i64 64}
!423 = !{!422, !20, i64 8}
!424 = !{!425, !12, i64 24}
!425 = !{!"_ZTSN6Halide7Runtime8Internal12_GLOBAL__N_17PrinterILNS1_11PrinterTypeE1ELy1024EEE", !12, i64 0, !12, i64 8, !12, i64 16, !12, i64 24, !17, i64 32}
!426 = !{!425, !17, i64 32}
!427 = !{!425, !12, i64 0}
!428 = !{!425, !12, i64 8}
!429 = !{!422, !20, i64 16}
!430 = !{!422, !20, i64 24}
!431 = !{!422, !20, i64 48}
!432 = !{!422, !24, i64 56}
!433 = !{!422, !24, i64 60}
!434 = !{!422, !12, i64 64}
!435 = distinct !{!435, !189}
!436 = distinct !{!436, !189}
!437 = distinct !{!437, !189}
!438 = distinct !{!438, !189}
!439 = distinct !{!439, !189}
!440 = distinct !{!440, !189}
!441 = distinct !{!441, !47}
!442 = distinct !{!442, !47}
!443 = distinct !{!443, !47}
!444 = distinct !{!444, !47}
!445 = distinct !{!445, !47}
!446 = distinct !{!446, !47}
!447 = !{!404, !24, i64 28}
!448 = distinct !{!448, !47}
!449 = distinct !{!449, !47}
!450 = distinct !{!450, !47}
!451 = !{i64 0, i64 8, !11, i64 8, i64 8, !11, i64 16, i64 4, !76, i64 20, i64 4, !76}
!452 = distinct !{!452, !47}
!453 = !{!454, !20, i64 0}
!454 = !{!"_ZTS17_cl_buffer_region", !20, i64 0, !20, i64 8}
!455 = distinct !{!455, !189}
!456 = distinct !{!456, !189}
!457 = !{!454, !20, i64 8}
!458 = distinct !{!458, !47}
!459 = distinct !{!459, !47}
!460 = distinct !{!460, !47}
!461 = !{!"branch_weights", i32 1073741824, i32 0}
!462 = !{!463, !463, i64 0}
!463 = !{!"opencl.width1.base0", !464, i64 0}
!464 = !{!"opencl.width2.base0", !465, i64 0}
!465 = !{!"opencl.width4.base0", !466, i64 0}
!466 = !{!"opencl.width8.base0", !467, i64 0}
!467 = !{!"opencl.width16.base0", !468, i64 0}
!468 = !{!"opencl.width32.base0", !469, i64 0}
!469 = !{!"opencl.width64.base0", !470, i64 0}
!470 = !{!"opencl.width128.base0", !471, i64 0}
!471 = !{!"opencl.width256.base0", !472, i64 0}
!472 = !{!"opencl.width512.base0", !473, i64 0}
!473 = !{!"opencl.width1024.base0", !474, i64 0}
!474 = !{!"opencl", !475, i64 0}
!475 = !{!"Halide buffer"}
!476 = !{i64 0, i64 64}
!477 = !{!"branch_weights", i32 1073741824, i32 0, i32 0, i32 0, i32 0, i32 0}
!478 = !{!179, !138, i64 32}
!479 = !{!179, !13, i64 33}
!480 = !{!179, !139, i64 34}
!481 = !{i64 0, i64 4, !76, i64 4, i64 4, !76, i64 8, i64 4, !76}
!482 = !{i64 0, i64 4, !76, i64 4, i64 4, !76}
!483 = !{i64 0, i64 4, !76}
!484 = !{!"branch_weights", i32 1073741824, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0}
!485 = !{!"branch_weights", i32 1073741824, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0}
